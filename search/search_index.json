{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stemmer"]},"docs":[{"location":"","title":"matt blog","text":"<p>11</p> <p>3xxxx \u200b\u4f7f\u7528\u200b\u65b9\u5f0f\u200b\u4e0d\u200b\u5bf9\u200b (\u200b\u53c2\u6570\u200b\u4e0d\u200b\u5408\u6cd5\u200b)</p> <pre><code>// url\n31001\n// header\n31002\n// body\n31003\n\n\n// \u200b\u9650\u6d41\u200b\n34300\n// \u200b\u964d\u7ea7\u200b\n34400\n</code></pre> <p>4xxxx \u200b\u4f9d\u8d56\u200b\u670d\u52a1\u200b</p> <pre><code>// db\n41000\n\n\n// \u200b\u7ec4\u4ef6\u200b\n43001\n43002\n43003\n\n// \u200b\u7f51\u7edc\u200b\n44000\n\n\n\n// \u200b\u4f9d\u8d56\u200b\u670d\u52a1\u200b\n45000\n</code></pre> <p>5xxxx \u200b\u670d\u52a1\u200b\u5185\u90e8\u200b\u51fa\u9519\u200b</p> <pre><code>50000\n</code></pre>"},{"location":"%E6%9C%AA%E5%91%BD%E5%90%8D/","title":"\u672a\u547d\u540d","text":"<p>\u200b\u5e76\u53d1\u200b\u7f16\u7a0b\u200b</p> <p>\u200b\u4f2f\u514b\u5229\u200b \u200b\u672c\u79d1\u200b\uff1acs194  \u200b\u7814\u7a76\u751f\u200b\uff1acs267</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/","title":"\u57fa\u7840\u200b\u7b97\u6cd5","text":""},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_1","title":"\u5feb\u6392","text":""},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_2","title":"\u6a21\u677f","text":"<p>algorithm</p> <p>x j, j+1</p> <p>l j,j+1</p> <p>r i-1,i</p> <pre><code>void quick_sort(int q[], int l, int r)\n{\n    if (l &gt;= r) return;\n\n    int i = l - 1, j = r + 1, x = q[l + r &gt;&gt; 1];\n    while (i &lt; j)\n    {\n        // \u200b\u6709\u200b\u4e2d\u95f4\u200b\u7684\u200b\u503c\u200b\u505a\u200b\u62c5\u4fdd\u200b \u200b\u6240\u4ee5\u200bwhile \u200b\u4e0d\u7528\u200b\u52a0\u200b i &lt;= r\n        do i ++ ; while (q[i] &lt; x);\n        do j -- ; while (q[j] &gt; x);\n        if (i &lt; j) swap(q[i], q[j]);\n    }\n    quick_sort(q, l, j), quick_sort(q, j + 1, r);\n}\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_3","title":"\u5feb\u901f\u200b\u6392\u5e8f","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4f60\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b n \u200b\u7684\u200b\u6574\u6570\u200b\u6570\u5217\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u4f7f\u7528\u200b\u5feb\u901f\u200b\u6392\u5e8f\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u6570\u5217\u200b\u6309\u7167\u200b\u4ece\u5c0f\u5230\u5927\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5e76\u200b\u5c06\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u6570\u5217\u200b\u6309\u200b\u987a\u5e8f\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_4","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5171\u200b\u4e24\u884c\u200b\uff0c\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b n\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b n \u200b\u4e2a\u200b\u6574\u6570\u200b\uff08\u200b\u6240\u6709\u200b\u6574\u6570\u200b\u5747\u200b\u5728\u200b 1\u223c1091\u223c109 \u200b\u8303\u56f4\u200b\u5185\u200b\uff09\uff0c\u200b\u8868\u793a\u200b\u6574\u4e2a\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_5","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b nn \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_6","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264100000</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_7","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5\n3 1 2 4 5\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_8","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1 2 3 4 5\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#code","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\n\nconst int N = 1e5+10;\n\nvoid quick_sort(int q[], int l, int r) {\n    if (l &gt;= r) return;\n    int i = l - 1, j = r + 1, x = q[l + r &gt;&gt; 1];\n    while (i &lt; j) {\n        do i++; while (q[i] &lt; x);\n        do j--; while (q[j] &gt; x);\n        if (i &lt; j) swap(q[i], q[j]);\n    }\n    quick_sort(q, l, j);\n    quick_sort(q, j + 1, r);\n}\n\nint main() {\n    int n, q[N];\n    scanf(\"%d\", &amp;n);\n    for (int i = 0; i &lt; n; i++) scanf(\"%d\", &amp;q[i]);\n    quick_sort(q, 0, n - 1);\n    for (int i = 0; i &lt; n; i++) printf(\"%d \", q[i]);\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#k","title":"\u7b2c\u200bk\u200b\u4e2a\u6570","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b nn \u200b\u7684\u200b\u6574\u6570\u200b\u6570\u5217\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b kk\uff0c\u200b\u8bf7\u200b\u7528\u200b\u5feb\u901f\u200b\u9009\u62e9\u200b\u7b97\u6cd5\u200b\u6c42\u200b\u51fa\u200b\u6570\u5217\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u7b2c\u200b kk \u200b\u4e2a\u6570\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_9","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b nn \u200b\u548c\u200b kk\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b n\u200b\u4e2a\u200b\u6574\u6570\u200b\uff08\u200b\u6240\u6709\u200b\u6574\u6570\u200b\u5747\u200b\u5728\u200b 1\u223c1e9 \u200b\u8303\u56f4\u200b\u5185\u200b\uff09\uff0c\u200b\u8868\u793a\u200b\u6574\u6570\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_10","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6570\u5217\u200b\u7684\u200b\u7b2c\u200b k \u200b\u5c0f\u6570\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_11","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264100000, 1\u2264k\u2264n</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_12","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5 3\n2 4 1 5 3\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_13","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#code_1","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 1e5+10;\nint q[N];\n\nint quick_sort(int l, int r, int k) {\n    if (l == r) return q[l];\n    int i = l - 1, j = r + 1, x = q[l + r &gt;&gt; 1];\n    while (i &lt; j) {\n        do i++; while (q[i] &lt; x);\n        do j--; while (q[j] &gt; x);\n        if (i &lt; j) swap(q[i], q[j]);\n    }\n    int sl = j - l + 1;\n    if (k &lt;= sl) return quick_sort(l, j, k);\n    return quick_sort(j + 1, r, k - sl);\n\n}\n\n\nint main() {\n    int n, k;\n    scanf(\"%d %d\", &amp;n, &amp;k);\n    for (int i = 0; i &lt; n; i++) scanf(\"%d\", &amp;q[i]);\n    quick_sort(0, n - 1, k);\n    printf(\"%d\", quick_sort(0, n - 1, k));\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_14","title":"\u5f52\u5e76\u200b\u6392\u5e8f","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4f60\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b nn \u200b\u7684\u200b\u6574\u6570\u200b\u6570\u5217\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u4f7f\u7528\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u6570\u5217\u200b\u6309\u7167\u200b\u4ece\u5c0f\u5230\u5927\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5e76\u200b\u5c06\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u6570\u5217\u200b\u6309\u200b\u987a\u5e8f\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_15","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5171\u200b\u4e24\u884c\u200b\uff0c\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b nn\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b nn \u200b\u4e2a\u200b\u6574\u6570\u200b\uff08\u200b\u6240\u6709\u200b\u6574\u6570\u200b\u5747\u200b\u5728\u200b 1\u223c1091\u223c109 \u200b\u8303\u56f4\u200b\u5185\u200b\uff09\uff0c\u200b\u8868\u793a\u200b\u6574\u4e2a\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_16","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b nn \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_17","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u22641000001\u2264n\u2264100000</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_18","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5\n3 1 2 4 5\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_19","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1 2 3 4 5\n</code></pre> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10;\nint q[N];\n\nvoid merge_sort(int l, int r) {\n    if (l &gt;= r) return;\n    int mid = (l + r) &gt;&gt; 1;\n    merge_sort(l, mid), merge_sort(mid + 1, r);\n    int i = l, j = mid + 1, k = 0, tmp[N];\n    while (i &lt;= mid &amp;&amp; j &lt;= r) {\n        if (q[i] &lt;= q[j]) tmp[k++] = q[i++];\n        else tmp[k++] = q[j++];\n    }\n    while (i &lt;= mid) tmp[k++] = q[i++];\n    while (j &lt;= r) tmp[k++] = q[j++];\n    for (int i = l, j = 0;  i &lt;= r; i++, j++) q[i] = tmp[j];\n}\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++) cin &gt;&gt; q[i];\n    merge_sort(0, n - 1);\n    for (int i = 0; i &lt; n; i++) cout &lt;&lt; q[i] &lt;&lt; ' ';\n    return 0;\n\n}\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_20","title":"\u9006\u5e8f\u200b\u5bf9\u200b\u6570\u91cf","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b nn \u200b\u7684\u200b\u6574\u6570\u200b\u6570\u5217\u200b\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u8ba1\u7b97\u200b\u6570\u5217\u200b\u4e2d\u200b\u7684\u200b\u9006\u5e8f\u200b\u5bf9\u200b\u7684\u200b\u6570\u91cf\u200b\u3002</p> <p>\u200b\u9006\u5e8f\u200b\u5bf9\u200b\u7684\u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b\uff1a\u200b\u5bf9\u4e8e\u200b\u6570\u5217\u200b\u7684\u200b\u7b2c\u200b ii \u200b\u4e2a\u200b\u548c\u200b\u7b2c\u200b jj \u200b\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u5982\u679c\u200b\u6ee1\u8db3\u200b ia[j]a[i]&gt;a[j]\uff0c\u200b\u5219\u200b\u5176\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u9006\u5e8f\u200b\u5bf9\u200b\uff1b\u200b\u5426\u5219\u200b\u4e0d\u662f\u200b\u3002"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_21","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b nn\uff0c\u200b\u8868\u793a\u200b\u6570\u5217\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b nn \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6574\u4e2a\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_22","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u9006\u5e8f\u200b\u5bf9\u200b\u7684\u200b\u4e2a\u6570\u200b\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_23","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u22641000001\u2264n\u2264100000\uff0c \u200b\u6570\u5217\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\u7684\u200b\u53d6\u503c\u200b\u8303\u56f4\u200b [1,109][1,109]\u3002</p>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_24","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>6\n2 3 4 5 6 1\n</code></pre>"},{"location":"algo/base/0%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/#_25","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\ntypedef long long LL;\nconst int N = 1e5 + 10;\nint q[N];\n\nLL merge_sort(int l, int r) {\n    if (l &gt;= r) return 0;\n    int mid = l + r &gt;&gt; 1;\n    LL res = merge_sort(l, mid) + merge_sort(mid + 1, r);\n    int i = l, j = mid + 1, k = 0, tmp[N];\n    while (i &lt;= mid &amp;&amp; j &lt;= r) {\n        if (q[i] &lt;= q[j]) tmp[k++] = q[i++];\n        else {\n            res += (mid - i + 1);\n            tmp[k++] = q[j++];\n        }\n    }\n    while (i &lt;= mid) tmp[k++] = q[i++];\n    while (j &lt;= r) tmp[k++] = q[j++];\n    for (int i = l, j = 0; i &lt;= r; i++, j++) q[i] = tmp[j];\n    return res;\n}\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++) scanf(\"%d\", &amp;q[i]);\n    cout &lt;&lt; merge_sort(0, n - 1);\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","title":"\u6570\u636e\u7ed3\u6784","text":""},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_1","title":"\u94fe\u8868","text":""},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_2","title":"\u5355\u94fe\u200b\u8868","text":"<p>\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u5355\u94fe\u200b\u8868\u200b\uff0c\u200b\u94fe\u8868\u200b\u521d\u59cb\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u652f\u6301\u200b\u4e09\u79cd\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li>\u200b\u5411\u200b\u94fe\u8868\u200b\u5934\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff1b</li> <li>\u200b\u5220\u9664\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u540e\u9762\u200b\u7684\u200b\u6570\u200b\uff1b</li> <li>\u200b\u5728\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u540e\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\u3002</li> </ol> <p>\u200b\u73b0\u5728\u200b\u8981\u200b\u5bf9\u200b\u8be5\u200b\u94fe\u8868\u200b\u8fdb\u884c\u200b MM \u200b\u6b21\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fdb\u884c\u200b\u5b8c\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u540e\u200b\uff0c\u200b\u4ece\u5934\u5230\u5c3e\u200b\u8f93\u51fa\u200b\u6574\u4e2a\u200b\u94fe\u8868\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b:\u200b\u9898\u76ee\u200b\u4e2d\u200b\u7b2c\u200b k \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6307\u200b\u5f53\u524d\u200b\u94fe\u8868\u200b\u7684\u200b\u7b2c\u200b k \u200b\u4e2a\u6570\u200b\u3002\u200b\u4f8b\u5982\u200b\u64cd\u4f5c\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e00\u5171\u200b\u63d2\u5165\u200b\u4e86\u200b n \u200b\u4e2a\u6570\u200b\uff0c\u200b\u5219\u200b\u6309\u7167\u200b\u63d2\u5165\u200b\u7684\u200b\u65f6\u95f4\u200b\u987a\u5e8f\u200b\uff0c\u200b\u8fd9\u200b n \u200b\u4e2a\u6570\u200b\u4f9d\u6b21\u200b\u4e3a\u200b\uff1a\u200b\u7b2c\u200b 11 \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\uff0c\u200b\u7b2c\u200b 22 \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\uff0c\u2026\u200b\u7b2c\u200b nn \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_3","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b M\uff0c\u200b\u8868\u793a\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b M \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\uff0c\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u4ee5\u4e0b\u200b\u51e0\u79cd\u200b\uff1a</p> <ol> <li><code>H x</code>\uff0c\u200b\u8868\u793a\u200b\u5411\u200b\u94fe\u8868\u200b\u5934\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b xx\u3002</li> <li><code>D k</code>\uff0c\u200b\u8868\u793a\u200b\u5220\u9664\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u540e\u9762\u200b\u7684\u200b\u6570\u200b\uff08\u200b\u5f53\u200b kk \u200b\u4e3a\u200b 00 \u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b\u5220\u9664\u200b\u5934\u200b\u7ed3\u70b9\u200b\uff09\u3002</li> <li><code>I k x</code>\uff0c\u200b\u8868\u793a\u200b\u5728\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u540e\u9762\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b xx\uff08\u200b\u6b64\u200b\u64cd\u4f5c\u200b\u4e2d\u200b kk \u200b\u5747\u200b\u5927\u4e8e\u200b 00\uff09\u3002</li> </ol>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_4","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5c06\u200b\u6574\u4e2a\u200b\u94fe\u8868\u200b\u4ece\u5934\u5230\u5c3e\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_5","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264M\u2264100000 \u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u4fdd\u8bc1\u200b\u5408\u6cd5\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_6","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\nH 9\nI 1 1\nD 1\nD 0\nH 6\nI 3 6\nI 4 5\nI 4 5\nI 3 4\nD 6\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_7","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>6 4 6 5\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#code","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\nint head, e[N], ne[N], idx;\n\nvoid init() {\n    head = -1;\n}\n\nvoid add_to_head(int x) {\n    e[idx] = x;\n    ne[idx] = head;\n    head = idx++;\n}\n\nvoid add(int k, int x) {\n    e[idx] = x;\n    ne[idx] = ne[k];\n    ne[k] = idx++;\n}\n\nvoid remove(int k) {\n    ne[k] = ne[ne[k]];\n}\n\nint main() {\n    init();\n    int m;\n    cin &gt;&gt; m;\n    while (m--) {\n        char ch;\n        int k, x;\n        cin &gt;&gt; ch;\n        if (ch == 'H') {\n            cin &gt;&gt; x;\n            add_to_head(x);\n        } else if (ch == 'I') {\n            cin &gt;&gt; k &gt;&gt; x;\n            add(k - 1, x);\n        } else if(ch == 'D') {\n            cin &gt;&gt; k;\n            if (k == 0) head = ne[head];\n            else remove(k - 1);\n        }\n\n    }\n    int t = head;\n    while (t != -1) {\n        cout &lt;&lt; e[t] &lt;&lt; ' ';\n        t = ne[t];\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_8","title":"\u53cc\u94fe\u200b\u8868","text":"<p>\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u53cc\u94fe\u200b\u8868\u200b\uff0c\u200b\u53cc\u94fe\u200b\u8868\u200b\u521d\u59cb\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u652f\u6301\u200b 55 \u200b\u79cd\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li>\u200b\u5728\u200b\u6700\u200b\u5de6\u4fa7\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff1b</li> <li>\u200b\u5728\u200b\u6700\u200b\u53f3\u4fa7\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff1b</li> <li>\u200b\u5c06\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u5220\u9664\u200b\uff1b</li> <li>\u200b\u5728\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u5de6\u4fa7\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff1b</li> <li>\u200b\u5728\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u53f3\u4fa7\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b</li> </ol> <p>\u200b\u73b0\u5728\u200b\u8981\u200b\u5bf9\u200b\u8be5\u200b\u94fe\u8868\u200b\u8fdb\u884c\u200b MM \u200b\u6b21\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fdb\u884c\u200b\u5b8c\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u540e\u200b\uff0c\u200b\u4ece\u5de6\u5230\u53f3\u200b\u8f93\u51fa\u200b\u6574\u4e2a\u200b\u94fe\u8868\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b:\u200b\u9898\u76ee\u200b\u4e2d\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6307\u200b\u5f53\u524d\u200b\u94fe\u8868\u200b\u7684\u200b\u7b2c\u200b kk \u200b\u4e2a\u6570\u200b\u3002\u200b\u4f8b\u5982\u200b\u64cd\u4f5c\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e00\u5171\u200b\u63d2\u5165\u200b\u4e86\u200b nn \u200b\u4e2a\u6570\u200b\uff0c\u200b\u5219\u200b\u6309\u7167\u200b\u63d2\u5165\u200b\u7684\u200b\u65f6\u95f4\u200b\u987a\u5e8f\u200b\uff0c\u200b\u8fd9\u200b nn \u200b\u4e2a\u6570\u200b\u4f9d\u6b21\u200b\u4e3a\u200b\uff1a\u200b\u7b2c\u200b 11 \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\uff0c\u200b\u7b2c\u200b 22 \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\uff0c\u2026\u200b\u7b2c\u200b nn \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_9","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b MM\uff0c\u200b\u8868\u793a\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b MM \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\uff0c\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u4ee5\u4e0b\u200b\u51e0\u79cd\u200b\uff1a</p> <ol> <li><code>L x</code>\uff0c\u200b\u8868\u793a\u200b\u5728\u200b\u94fe\u8868\u200b\u7684\u200b\u6700\u200b\u5de6\u7aef\u200b\u63d2\u5165\u200b\u6570\u200b xx\u3002</li> <li><code>R x</code>\uff0c\u200b\u8868\u793a\u200b\u5728\u200b\u94fe\u8868\u200b\u7684\u200b\u6700\u200b\u53f3\u7aef\u200b\u63d2\u5165\u200b\u6570\u200b xx\u3002</li> <li><code>D k</code>\uff0c\u200b\u8868\u793a\u200b\u5c06\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u5220\u9664\u200b\u3002</li> <li><code>IL k x</code>\uff0c\u200b\u8868\u793a\u200b\u5728\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u5de6\u4fa7\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\u3002</li> <li><code>IR k x</code>\uff0c\u200b\u8868\u793a\u200b\u5728\u200b\u7b2c\u200b kk \u200b\u4e2a\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u200b\u53f3\u4fa7\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\u3002</li> </ol>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_10","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5c06\u200b\u6574\u4e2a\u200b\u94fe\u8868\u200b\u4ece\u5de6\u5230\u53f3\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_11","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264M\u22641000001\u2264M\u2264100000 \u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u4fdd\u8bc1\u200b\u5408\u6cd5\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_12","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\nR 7\nD 1\nL 3\nIL 2 10\nD 3\nIL 2 7\nL 8\nR 9\nIL 4 7\nIR 2 2\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_13","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>8 7 7 3 2 9\n</code></pre> <p>\u200b\u5de6\u200b -&gt; \u200b\u53f3\u200b</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#code_1","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\nint e[N], l[N], r[N], idx;\n\nvoid init() {\n    r[0] = 1;\n    l[1] = 0;\n    idx = 2;\n}\n\nvoid add(int k, int x) {\n    e[idx] = x;\n    l[idx] = k;\n    r[idx] = r[k];\n    l[r[k]] = idx;\n    r[k] = idx++;\n}\n\nvoid remove(int k) {\n    r[l[k]] = r[k];\n    l[r[k]] = l[k];\n}\n\nint main() {\n    init();\n    int m;\n    cin &gt;&gt; m;\n    while (m--) {\n        string s;\n        int k, x;\n        cin &gt;&gt; s;\n        if (s == \"L\") {\n            cin &gt;&gt; x;\n            add(0, x);\n        } else if (s == \"R\") {\n            cin &gt;&gt; x;\n            add(l[1], x);\n        } else if (s == \"D\") {\n            cin &gt;&gt; k;\n            remove(k + 1);\n        } else if (s == \"IL\") {\n            cin &gt;&gt; k &gt;&gt; x;\n            add(l[k + 1], x);\n        } else {\n            cin &gt;&gt; k &gt;&gt; x;\n            add(k + 1, x);\n        }\n    }\n\n    int t = r[0];\n    while (t != 1) {\n        cout &lt;&lt; e[t] &lt;&lt; ' ';\n        t = r[t];\n    }\n\n    return 0;\n\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_14","title":"\u6808","text":""},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_15","title":"\u6808","text":"<p>\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u6808\u200b\uff0c\u200b\u6808\u200b\u521d\u59cb\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u652f\u6301\u200b\u56db\u79cd\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li><code>push x</code> \u2013 \u200b\u5411\u6808\u200b\u9876\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b xx\uff1b</li> <li><code>pop</code> \u2013 \u200b\u4ece\u6808\u200b\u9876\u5f39\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff1b</li> <li><code>empty</code> \u2013 \u200b\u5224\u65ad\u200b\u6808\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\uff1b</li> <li><code>query</code> \u2013 \u200b\u67e5\u8be2\u200b\u6808\u9876\u200b\u5143\u7d20\u200b\u3002</li> </ol> <p>\u200b\u73b0\u5728\u200b\u8981\u200b\u5bf9\u200b\u6808\u200b\u8fdb\u884c\u200b MM \u200b\u4e2a\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u64cd\u4f5c\u200b 33 \u200b\u548c\u200b\u64cd\u4f5c\u200b 44 \u200b\u90fd\u200b\u8981\u200b\u8f93\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_16","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b MM\uff0c\u200b\u8868\u793a\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b MM \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\uff0c\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\u4e3a\u200b <code>push x</code>\uff0c<code>pop</code>\uff0c<code>empty</code>\uff0c<code>query</code> \u200b\u4e2d\u200b\u7684\u200b\u4e00\u79cd\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_17","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b <code>empty</code> \u200b\u548c\u200b <code>query</code> \u200b\u64cd\u4f5c\u200b\u90fd\u200b\u8981\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7ed3\u679c\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>empty</code> \u200b\u64cd\u4f5c\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u4e3a\u200b <code>YES</code> \u200b\u6216\u200b <code>NO</code>\uff0c<code>query</code> \u200b\u64cd\u4f5c\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6808\u9876\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_18","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264M\u22641000001\u2264M\u2264100000, 1\u2264x\u22641091\u2264x\u2264109 \u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u4fdd\u8bc1\u200b\u5408\u6cd5\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_19","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\npush 5\nquery\npush 6\npop\nquery\npop\nempty\npush 4\nquery\nempty\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_20","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5\n5\nYES\n4\nNO\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#code_2","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10;\nint stk[N], tt;\n\nint main() {\n    int m;\n    cin &gt;&gt; m;\n    string op;\n    int x;\n    while (m--) {\n        cin &gt;&gt; op;\n        if (op == \"push\") {\n            scanf(\"%d\", &amp;x);\n            stk[++tt] = x;\n        } else if (op == \"pop\") tt--;\n        else if (op == \"query\") printf(\"%d\\n\", stk[tt]);\n        else if (op == \"empty\") {\n            if (tt) cout &lt;&lt; \"NO\\n\";\n            else cout &lt;&lt; \"YES\\n\";\n        }\n    }\n\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_21","title":"\u8868\u8fbe\u5f0f\u200b\u6c42\u503c","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8fd0\u7b97\u7b26\u200b\u4ec5\u200b\u5305\u542b\u200b <code>+,-,*,/</code>\uff08\u200b\u52a0\u200b \u200b\u51cf\u200b \u200b\u4e58\u200b \u200b\u6574\u9664\u200b\uff09\uff0c\u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u62ec\u53f7\u200b\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u6700\u7ec8\u200b\u503c\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <ul> <li>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u5408\u6cd5\u200b\u3002</li> <li>\u200b\u9898\u76ee\u200b\u4fdd\u8bc1\u200b\u7b26\u53f7\u200b <code>-</code> \u200b\u53ea\u200b\u4f5c\u4e3a\u200b\u51cf\u53f7\u200b\u51fa\u73b0\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u4f5c\u4e3a\u200b\u8d1f\u53f7\u200b\u51fa\u73b0\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c<code>-1+2</code>,<code>(2+2)*(-(1+1)+2)</code> \u200b\u4e4b\u7c7b\u200b\u8868\u8fbe\u5f0f\u200b\u5747\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u3002</li> <li>\u200b\u9898\u76ee\u200b\u4fdd\u8bc1\u200b\u8868\u8fbe\u5f0f\u200b\u4e2d\u200b\u6240\u6709\u200b\u6570\u5b57\u200b\u5747\u200b\u4e3a\u200b\u6b63\u6574\u6570\u200b\u3002</li> <li>\u200b\u9898\u76ee\u200b\u4fdd\u8bc1\u200b\u8868\u8fbe\u5f0f\u200b\u5728\u200b\u4e2d\u95f4\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\u4ee5\u53ca\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 231\u22121231\u22121\u3002</li> <li>\u200b\u9898\u76ee\u200b\u4e2d\u200b\u7684\u200b\u6574\u9664\u200b\u662f\u200b\u6307\u5411\u200b 00 \u200b\u53d6\u6574\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u5bf9\u4e8e\u200b\u5927\u4e8e\u200b 00 \u200b\u7684\u200b\u7ed3\u679c\u200b\u5411\u4e0b\u200b\u53d6\u6574\u200b\uff0c\u200b\u4f8b\u5982\u200b 5/3=15/3=1\uff0c\u200b\u5bf9\u4e8e\u200b\u5c0f\u4e8e\u200b 00 \u200b\u7684\u200b\u7ed3\u679c\u200b\u5411\u4e0a\u200b\u53d6\u6574\u200b\uff0c\u200b\u4f8b\u5982\u200b 5/(1\u22124)=\u221215/(1\u22124)=\u22121\u3002</li> <li>C++\u200b\u548c\u200bJava\u200b\u4e2d\u200b\u7684\u200b\u6574\u9664\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5411\u200b\u96f6\u200b\u53d6\u6574\u200b\uff1bPython\u200b\u4e2d\u200b\u7684\u200b\u6574\u9664\u200b<code>//</code>\u200b\u9ed8\u8ba4\u200b\u5411\u4e0b\u200b\u53d6\u6574\u200b\uff0c\u200b\u56e0\u6b64\u200bPython\u200b\u7684\u200b<code>eval()</code>\u200b\u51fd\u6570\u200b\u4e2d\u200b\u7684\u200b\u6574\u9664\u200b\u4e5f\u200b\u662f\u200b\u5411\u4e0b\u200b\u53d6\u6574\u200b\uff0c\u200b\u5728\u200b\u672c\u9898\u200b\u4e2d\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u3002</li> </ul>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_22","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u4e3a\u200b\u7ed9\u5b9a\u200b\u8868\u8fbe\u5f0f\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_23","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u4e3a\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_24","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 105105\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_25","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>(2+2)*(1+1)\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_26","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>8\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#code_3","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\n#include &lt;unordered_map&gt;\n\nusing namespace std;\nstack&lt;char&gt; op;\nstack&lt;int&gt; num;\n\nunordered_map&lt;char, int&gt; pr{\n{'+', 1}, {'-', 1}, {'*', 2}, {'/', 2}\n\n};\n\nvoid eval() {\n    int b = num.top(); num.pop();\n    int a = num.top(); num.pop();\n    int x = 0;\n    char c = op.top(); op.pop();\n    if (c == '+') x = a + b;\n    else if (c == '-') x = a - b;\n    else if (c == '*') x = a * b;\n    else x = a / b;\n    num.push(x);\n}\n\nint main() {\n    string str;\n    cin &gt;&gt; str;\n    for (int i = 0; i &lt; str.size(); i++) {\n        if (isdigit(str[i])) {\n            int x = 0, j = i;\n            while (j &lt; str.size() &amp;&amp; isdigit(str[j])) {\n                x = x * 10 + str[j++] - '0';\n            }\n            num.push(x);\n           i = j-1;\n        } else if (str[i] == '(') op.push(str[i]);\n        else if (str[i] == ')') {\n            while (op.top() != '(') eval();\n            op.pop();\n        } else {\n            while (op.size() &amp;&amp; pr[op.top()] &gt;= pr[str[i]]) eval();\n            op.push(str[i]);\n        }\n    }\n\n    while (op.size()) eval();\n    cout &lt;&lt; num.top();\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_27","title":"\u961f\u5217","text":""},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_28","title":"\u6a21\u62df\u200b\u961f\u5217","text":"<p>\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u961f\u5217\u200b\uff0c\u200b\u961f\u5217\u200b\u521d\u59cb\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u652f\u6301\u200b\u56db\u79cd\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li><code>push x</code> \u2013 \u200b\u5411\u961f\u200b\u5c3e\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b xx\uff1b</li> <li><code>pop</code> \u2013 \u200b\u4ece\u961f\u200b\u5934\u5f39\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff1b</li> <li><code>empty</code> \u2013 \u200b\u5224\u65ad\u200b\u961f\u5217\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\uff1b</li> <li><code>query</code> \u2013 \u200b\u67e5\u8be2\u200b\u961f\u5934\u200b\u5143\u7d20\u200b\u3002</li> </ol> <p>\u200b\u73b0\u5728\u200b\u8981\u200b\u5bf9\u200b\u961f\u5217\u200b\u8fdb\u884c\u200b MM \u200b\u4e2a\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u64cd\u4f5c\u200b 33 \u200b\u548c\u200b\u64cd\u4f5c\u200b 44 \u200b\u90fd\u200b\u8981\u200b\u8f93\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_29","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b MM\uff0c\u200b\u8868\u793a\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b MM \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\uff0c\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\u4e3a\u200b <code>push x</code>\uff0c<code>pop</code>\uff0c<code>empty</code>\uff0c<code>query</code> \u200b\u4e2d\u200b\u7684\u200b\u4e00\u79cd\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_30","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b <code>empty</code> \u200b\u548c\u200b <code>query</code> \u200b\u64cd\u4f5c\u200b\u90fd\u200b\u8981\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7ed3\u679c\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b\uff0c<code>empty</code> \u200b\u64cd\u4f5c\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u4e3a\u200b <code>YES</code> \u200b\u6216\u200b <code>NO</code>\uff0c<code>query</code> \u200b\u64cd\u4f5c\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u961f\u5934\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_31","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264M\u22641000001\u2264M\u2264100000, 1\u2264x\u22641091\u2264x\u2264109, \u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\u4fdd\u8bc1\u200b\u5408\u6cd5\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_32","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\npush 6\nempty\nquery\npop\nempty\npush 3\npush 4\npop\nquery\npush 6\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_33","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>NO\n6\nYES\n4\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#code_4","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10;\nint q[N], hh, tt = -1;\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    string op;\n    int x;\n    while (n--) {\n        cin &gt;&gt; op;\n        if (op == \"push\") {\n            cin &gt;&gt; x;\n            q[++tt] = x;\n        } else if (op == \"pop\") hh++;\n        else if (op == \"query\") printf(\"%d\\n\", q[hh]);\n        else {\n            if (hh &lt;= tt) printf(\"%s\\n\", \"NO\");\n            else printf(\"%s\\n\", \"YES\");\n        }\n\n\n    }\n\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_34","title":"\u5faa\u73af\u200b\u961f\u5217","text":"<pre><code>// hh \u200b\u8868\u793a\u200b\u961f\u5934\u200b\uff0ctt\u200b\u8868\u793a\u200b\u961f\u5c3e\u200b\u7684\u200b\u540e\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\nint q[N], hh = 0, tt = 0;\n\n// \u200b\u5411\u961f\u200b\u5c3e\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6570\u200b\nq[tt ++ ] = x;\nif (tt == N) tt = 0;\n\n// \u200b\u4ece\u961f\u200b\u5934\u5f39\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u6570\u200b\nhh ++ ;\nif (hh == N) hh = 0;\n\n// \u200b\u961f\u5934\u200b\u7684\u200b\u503c\u200b\nq[hh];\n\n// \u200b\u5224\u65ad\u200b\u961f\u5217\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\nif (hh != tt)\n{\n\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_35","title":"\u5355\u8c03\u200b\u6808","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b N \u200b\u7684\u200b\u6574\u6570\u200b\u6570\u5217\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6bcf\u4e2a\u200b\u6570\u200b\u5de6\u8fb9\u200b\u7b2c\u4e00\u4e2a\u200b\u6bd4\u200b\u5b83\u200b\u5c0f\u200b\u7684\u200b\u6570\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_36","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b N\uff0c\u200b\u8868\u793a\u200b\u6570\u5217\u200b\u957f\u5ea6\u200b\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b N \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6574\u6570\u200b\u6570\u5217\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_37","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b N \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7b2c\u200b i \u200b\u4e2a\u6570\u200b\u8868\u793a\u200b\u7b2c\u200b i \u200b\u4e2a\u6570\u200b\u7684\u200b\u5de6\u8fb9\u200b\u7b2c\u4e00\u4e2a\u200b\u6bd4\u200b\u5b83\u200b\u5c0f\u200b\u7684\u200b\u6570\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_38","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264N\u2264105 1\u2264\u200b\u6570\u5217\u200b\u4e2d\u200b\u5143\u7d20\u200b\u2264109</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_39","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5\n3 4 2 7 5\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_40","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>-1 3 -1 2 2\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\nint a[N], stk[N], tt;\n\nint main() {\n    int n;\n    scanf(\"%d\", &amp;n);\n    for (int i = 0; i &lt; n; i++) {\n            scanf(\"%d\", &amp;a[i]);\n            while (tt &amp;&amp; stk[tt] &gt;= a[i]) tt--;\n            if (tt) printf(\"%d \", stk[tt]);\n            else printf(\"-1 \");\n            stk[++tt] = a[i];\n    }\n}\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_41","title":"\u5355\u8c03\u200b\u961f\u5217","text":""},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_42","title":"\u6ed1\u52a8\u200b\u7a97\u53e3","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u5927\u5c0f\u200b\u4e3a\u200b n\u226410^6 \u200b\u7684\u200b\u6570\u7ec4\u200b\u3002</p> <p>\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5927\u5c0f\u200b\u4e3a\u200b k \u200b\u7684\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5b83\u200b\u4ece\u200b\u6570\u7ec4\u200b\u7684\u200b\u6700\u200b\u5de6\u8fb9\u200b\u79fb\u52a8\u200b\u5230\u200b\u6700\u200b\u53f3\u8fb9\u200b\u3002</p> <p>\u200b\u4f60\u200b\u53ea\u80fd\u200b\u5728\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u770b\u5230\u200b k \u200b\u4e2a\u200b\u6570\u5b57\u200b\u3002</p> <p>\u200b\u6bcf\u6b21\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5411\u200b\u53f3\u200b\u79fb\u52a8\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4f8b\u5b50\u200b\uff1a</p> <p>\u200b\u8be5\u200b\u6570\u7ec4\u200b\u4e3a\u200b <code>[1 3 -1 -3 5 3 6 7]</code>\uff0ck \u200b\u4e3a\u200b 3\u3002</p> \u200b\u7a97\u53e3\u200b\u4f4d\u7f6e\u200b \u200b\u6700\u5c0f\u503c\u200b \u200b\u6700\u5927\u503c\u200b [1 3 -1] -3 5 3 6 7 -1 3 1 [3 -1 -3] 5 3 6 7 -3 3 1 3 [-1 -3 5] 3 6 7 -3 5 1 3 -1 [-3 5 3] 6 7 -3 5 1 3 -1 -3 [5 3 6] 7 3 6 1 3 -1 -3 5 [3 6 7] 3 7 <p>\u200b\u4f60\u200b\u7684\u200b\u4efb\u52a1\u200b\u662f\u200b\u786e\u5b9a\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u4f4d\u4e8e\u200b\u6bcf\u4e2a\u200b\u4f4d\u7f6e\u200b\u65f6\u200b\uff0c\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u548c\u200b\u6700\u5c0f\u503c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_43","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5305\u542b\u200b\u4e24\u884c\u200b\u3002</p> <p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b k\uff0c\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u6570\u7ec4\u200b\u957f\u5ea6\u200b\u548c\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u6709\u200b n \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u4ee3\u8868\u200b\u6570\u7ec4\u200b\u7684\u200b\u5177\u4f53\u200b\u6570\u503c\u200b\u3002</p> <p>\u200b\u540c\u884c\u200b\u6570\u636e\u200b\u4e4b\u95f4\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_44","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u3002</p> <p>\u200b\u7b2c\u4e00\u884c\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4ece\u200b\u5de6\u200b\u81f3\u200b\u53f3\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u4f4d\u7f6e\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4ece\u200b\u5de6\u200b\u81f3\u200b\u53f3\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u4f4d\u7f6e\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u3002</p>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_45","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>8 3\n1 3 -1 -3 5 3 6 7\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#_46","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>-1 -3 -3 -3 3 3\n3 3 5 5 6 7\n</code></pre>"},{"location":"algo/base/1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/#code_5","title":"code","text":"<pre><code>#include &lt;cstdio&gt;\n\nusing namespace std;\n\nconst int N = 1e6 + 10;\nint a[N], q[N], hh = 0, tt = -1;\n\nint main() {\n\n    int n, k;\n    scanf(\"%d %d\", &amp;n, &amp;k);\n    for (int i = 0; i &lt; n; i++) scanf(\"%d\", &amp;a[i]);\n\n    for (int i = 0; i &lt; n; i++) {\n        if (hh &lt;= tt &amp;&amp; i - k + 1 &gt; q[hh]) hh++;\n        while (hh &lt;= tt &amp;&amp; a[q[tt]] &gt;= a[i]) tt--;\n        q[++tt] = i;\n        if (i - k + 1 &gt;= 0) printf(\"%d \", a[q[hh]]);\n    }\n    puts(\"\");\n    hh = 0, tt = -1;\n    for (int i = 0; i &lt; n; i++) {\n        if (hh &lt;= tt &amp;&amp; i - k + 1 &gt; q[hh]) hh++;\n        while (hh &lt;= tt &amp;&amp; a[q[tt]] &lt;= a[i]) tt--;\n        q[++tt] = i;\n        if (i - k + 1 &gt;= 0) printf(\"%d \", a[q[hh]]);\n    }\n    puts(\"\");\n    return 0;\n\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/","title":"\u641c\u7d22\u200b\u4e0e\u200b\u56fe\u8bba","text":""},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#dfs","title":"dfs","text":""},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_1","title":"\u6392\u5217\u200b\u6570\u5b57","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b n\uff0c\u200b\u5c06\u200b\u6570\u5b57\u200b 1\u223cn\u200b\u6392\u6210\u200b\u4e00\u6392\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u6709\u200b\u5f88\u200b\u591a\u79cd\u200b\u6392\u5217\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6309\u7167\u200b\u5b57\u5178\u200b\u5e8f\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b\u6392\u5217\u200b\u65b9\u6cd5\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_2","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b n\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_3","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u6309\u200b\u5b57\u5178\u200b\u5e8f\u200b\u8f93\u51fa\u200b\u6240\u6709\u200b\u6392\u5217\u200b\u65b9\u6848\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u65b9\u6848\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_4","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u22647</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_5","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_6","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1 2 3\n1 3 2\n2 1 3\n2 3 1\n3 1 2\n3 2 1\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 10;\nint path[N];\nbool st[N];\nint n;\n\nvoid dfs(int u) {\n    if (u == n) {\n        for (int i = 0; i &lt; n; i++) cout &lt;&lt; path[i] &lt;&lt; ' ';\n        puts(\"\");\n    }\n\n    for (int i = 1; i &lt;= n; i++) {\n        if (!st[i]) {\n            st[i] = true;\n            path[u] = i;\n            dfs(u + 1);\n            st[i] = false;\n        }\n    }\n}\n\nint main() {\n    cin &gt;&gt; n;\n    dfs(0);\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#n-","title":"n-\u200b\u7687\u540e\u200b\u95ee\u9898","text":"<p>n\u2212n\u2212\u200b\u7687\u540e\u200b\u95ee\u9898\u200b\u662f\u200b\u6307\u200b\u5c06\u200b n \u200b\u4e2a\u200b\u7687\u540e\u200b\u653e\u5728\u200b n\u00d7n \u200b\u7684\u200b\u56fd\u9645\u8c61\u68cb\u200b\u68cb\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u7687\u540e\u200b\u4e0d\u80fd\u200b\u76f8\u4e92\u200b\u653b\u51fb\u200b\u5230\u200b\uff0c\u200b\u5373\u200b\u4efb\u610f\u200b\u4e24\u4e2a\u200b\u7687\u540e\u200b\u90fd\u200b\u4e0d\u80fd\u200b\u5904\u4e8e\u200b\u540c\u4e00\u200b\u884c\u200b\u3001\u200b\u540c\u4e00\u200b\u5217\u200b\u6216\u200b\u540c\u4e00\u200b\u659c\u7ebf\u200b\u4e0a\u200b\u3002</p> <p></p> <p>\u200b\u73b0\u5728\u200b\u7ed9\u5b9a\u200b\u6574\u6570\u200b nn\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u8f93\u51fa\u200b\u6240\u6709\u200b\u7684\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b\u68cb\u5b50\u200b\u6446\u6cd5\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_7","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u6574\u6570\u200b n\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_8","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u6bcf\u4e2a\u200b\u89e3\u51b3\u65b9\u6848\u200b\u5360\u200b n \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b n \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5b8c\u6574\u200b\u7684\u200b\u68cb\u76d8\u200b\u72b6\u6001\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b <code>.</code> \u200b\u8868\u793a\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u65b9\u683c\u200b\u72b6\u6001\u200b\u4e3a\u7a7a\u200b\uff0c<code>Q</code> \u200b\u8868\u793a\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u65b9\u683c\u200b\u4e0a\u200b\u6446\u200b\u7740\u200b\u7687\u540e\u200b\u3002</p> <p>\u200b\u6bcf\u4e2a\u200b\u65b9\u6848\u200b\u8f93\u51fa\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u884c\u672b\u200b\u4e0d\u80fd\u200b\u6709\u200b\u591a\u4f59\u200b\u7a7a\u683c\u200b\u3002</p> <p>\u200b\u8f93\u51fa\u200b\u65b9\u6848\u200b\u7684\u200b\u987a\u5e8f\u200b\u4efb\u610f\u200b\uff0c\u200b\u53ea\u8981\u200b\u4e0d\u200b\u91cd\u590d\u200b\u4e14\u200b\u6ca1\u6709\u200b\u9057\u6f0f\u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_9","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u22649</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_10","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_11","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>.Q..\n...Q\nQ...\n..Q.\n\n..Q.\nQ...\n...Q\n.Q..\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_1","title":"code","text":"<p>2^(n^2)</p> <p>\u200b\u6bcf\u4e2a\u200b\u70b9\u200b\u90fd\u200b\u9700\u8981\u200b\u8bbf\u95ee\u200b\u4fe9\u6b21\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 13;\nchar g[N][N];\nint n;\nbool row[N], col[N], dg[2 * N], udg[2 * N];\n\nvoid dfs(int x, int y, int s) {\n    if (y == n) {\n        x++, y = 0;\n    }\n\n    if (x == n) {\n        if (s == n) {\n            for (int i = 0; i &lt; n; i++) cout &lt;&lt; g[i] &lt;&lt; endl;\n            puts(\"\");\n        }\n\n        return;\n    }\n\n    if (!row[x] &amp;&amp; !col[y] &amp;&amp; !dg[y - x + n] &amp;&amp; !udg[y + x]) {\n        row[x] = col[y] = dg[y - x + n] = udg[y + x] = true;\n        g[x][y] = 'Q';\n        dfs(x, y + 1, s + 1);\n        row[x] = col[y] = dg[y - x + n] = udg[y + x] = false;\n        g[x][y] = '.';\n    }\n\n    dfs(x, y + 1, s);\n\n\n}\n\nint main() {\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) g[i][j] = '.';\n    }\n    dfs(0, 0, 0);\n    return 0;\n}\n</code></pre> <p>o(n^2)</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 13;\nchar g[N][N];\nbool col[N], dg[2 * N], udg[2 * N];\nint n;\n\nvoid dfs(int u) {\n    if (u == n) {\n        for (int i = 0; i &lt; n; i++) {\n            cout &lt;&lt; g[i];\n            puts(\"\");\n        }\n        puts(\"\");\n        return;\n    }\n\n    for (int i = 0; i &lt; n; i++) {\n        if (!col[i] &amp;&amp; !dg[i - u + n] &amp;&amp; !udg[u + i]) {\n            col[i] = dg[i - u + n] = udg[u + i] = true;\n            g[u][i] = 'Q';\n            dfs(u + 1);\n            col[i] = dg[i - u + n] = udg[u + i] = false;\n            g[u][i] = '.';\n        }\n    }\n}\n\n\nint main() {\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++) for (int j = 0; j &lt; n; j++) g[i][j] = '.';\n    dfs(0);\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#bfs","title":"bfs","text":""},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_12","title":"\u8d70\u200b\u8ff7\u5bab","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n\u00d7m \u200b\u7684\u200b\u4e8c\u7ef4\u200b\u6574\u6570\u200b\u6570\u7ec4\u200b\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u8ff7\u5bab\u200b\uff0c\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u53ea\u200b\u5305\u542b\u200b 0 \u200b\u6216\u200b 1\uff0c\u200b\u5176\u4e2d\u200b 0 \u200b\u8868\u793a\u200b\u53ef\u4ee5\u200b\u8d70\u200b\u7684\u200b\u8def\u200b\uff0c1 \u200b\u8868\u793a\u200b\u4e0d\u53ef\u200b\u901a\u8fc7\u200b\u7684\u200b\u5899\u58c1\u200b\u3002</p> <p>\u200b\u6700\u521d\u200b\uff0c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4eba\u200b\u4f4d\u4e8e\u200b\u5de6\u4e0a\u89d2\u200b (1,1) \u200b\u5904\u200b\uff0c\u200b\u5df2\u77e5\u200b\u8be5\u200b\u4eba\u200b\u6bcf\u6b21\u200b\u53ef\u4ee5\u200b\u5411\u4e0a\u200b\u3001\u200b\u4e0b\u200b\u3001\u200b\u5de6\u200b\u3001\u200b\u53f3\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u65b9\u5411\u200b\u79fb\u52a8\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u3002</p> <p>\u200b\u8bf7\u95ee\u200b\uff0c\u200b\u8be5\u200b\u4eba\u200b\u4ece\u200b\u5de6\u4e0a\u89d2\u200b\u79fb\u52a8\u200b\u81f3\u200b\u53f3\u4e0b\u89d2\u200b (n,m) \u200b\u5904\u200b\uff0c\u200b\u81f3\u5c11\u200b\u9700\u8981\u200b\u79fb\u52a8\u200b\u591a\u5c11\u200b\u6b21\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b (1,1) \u200b\u5904\u200b\u548c\u200b (n,m) \u200b\u5904\u200b\u7684\u200b\u6570\u5b57\u200b\u4e3a\u200b 0\uff0c\u200b\u4e14\u200b\u4e00\u5b9a\u200b\u81f3\u5c11\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u901a\u8def\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_13","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b n \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b m \u200b\u4e2a\u200b\u6574\u6570\u200b\uff080 \u200b\u6216\u200b 1\uff09\uff0c\u200b\u8868\u793a\u200b\u5b8c\u6574\u200b\u7684\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\u8ff7\u5bab\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_14","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u4ece\u200b\u5de6\u4e0a\u89d2\u200b\u79fb\u52a8\u200b\u81f3\u200b\u53f3\u4e0b\u89d2\u200b\u7684\u200b\u6700\u5c11\u200b\u79fb\u52a8\u200b\u6b21\u6570\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_15","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,m\u2264100</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_16","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5 5\n0 1 0 0 0\n0 1 0 1 0\n0 0 0 0 0\n0 1 1 1 0\n0 0 0 1 0\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_17","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>8\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_2","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;queue&gt;\n\nusing namespace std;\ntypedef pair&lt;int, int&gt; PII;\nconst int N = 110;\nint g[N][N], d[N][N];\nint n, m;\n\nvoid bfs() {\n    queue&lt;PII&gt; q;\n    memset(d, -1, sizeof d);\n    d[0][0] = 0;\n    q.push({0, 0});\n    int dx[4] = {-1, 0, 1, 0}, dy[4] = {0, 1, 0, -1};\n    while (!q.empty()) {\n        auto t = q.front();\n        q.pop();\n        for (int i = 0; i &lt; 4; i++) {\n            int x = t.first + dx[i], y = t.second + dy[i];\n            if (x &gt;= 0 &amp;&amp; x &lt; n &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; m &amp;&amp; g[x][y] == 0 &amp;&amp; d[x][y] == -1) {\n                d[x][y] = d[t.first][t.second] + 1;\n                q.push({x, y});\n            }\n        }\n    }\n    cout &lt;&lt; d[n - 1][m - 1];\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; m; j++) cin &gt;&gt; g[i][j];\n    }\n    bfs();\n    return 0;\n\n\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_18","title":"\u516b\u200b\u6570\u7801","text":"<p>\u200b\u5728\u200b\u4e00\u4e2a\u200b 3\u00d733\u00d73 \u200b\u7684\u200b\u7f51\u683c\u200b\u4e2d\u200b\uff0c1\u223c81\u223c8 \u200b\u8fd9\u200b 88 \u200b\u4e2a\u200b\u6570\u5b57\u200b\u548c\u200b\u4e00\u4e2a\u200b <code>x</code> \u200b\u6070\u597d\u200b\u4e0d\u91cd\u200b\u4e0d\u6f0f\u200b\u5730\u200b\u5206\u5e03\u200b\u5728\u200b\u8fd9\u200b 3\u00d733\u00d73 \u200b\u7684\u200b\u7f51\u683c\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff1a</p> <pre><code>1 2 3\nx 4 6\n7 5 8\n</code></pre> <p>\u200b\u5728\u200b\u6e38\u620f\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u628a\u200b <code>x</code> \u200b\u4e0e\u5176\u200b\u4e0a\u200b\u3001\u200b\u4e0b\u200b\u3001\u200b\u5de6\u200b\u3001\u200b\u53f3\u200b\u56db\u4e2a\u200b\u65b9\u5411\u200b\u4e4b\u4e00\u200b\u7684\u200b\u6570\u5b57\u200b\u4ea4\u6362\u200b\uff08\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\uff09\u3002</p> <p>\u200b\u6211\u4eec\u200b\u7684\u200b\u76ee\u7684\u200b\u662f\u200b\u901a\u8fc7\u200b\u4ea4\u6362\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u7f51\u683c\u200b\u53d8\u4e3a\u200b\u5982\u4e0b\u200b\u6392\u5217\u200b\uff08\u200b\u79f0\u4e3a\u200b\u6b63\u786e\u200b\u6392\u5217\u200b\uff09\uff1a</p> <pre><code>1 2 3\n4 5 6\n7 8 x\n</code></pre> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u793a\u4f8b\u200b\u4e2d\u200b\u56fe\u5f62\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8ba9\u200b <code>x</code> \u200b\u5148\u540e\u200b\u4e0e\u200b\u53f3\u200b\u3001\u200b\u4e0b\u200b\u3001\u200b\u53f3\u200b\u4e09\u4e2a\u200b\u65b9\u5411\u200b\u7684\u200b\u6570\u5b57\u200b\u4ea4\u6362\u200b\u6210\u529f\u200b\u5f97\u5230\u200b\u6b63\u786e\u200b\u6392\u5217\u200b\u3002</p> <p>\u200b\u4ea4\u6362\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>1 2 3   1 2 3   1 2 3   1 2 3\nx 4 6   4 x 6   4 5 6   4 5 6\n7 5 8   7 5 8   7 x 8   7 8 x\n</code></pre> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u7ed9\u200b\u4f60\u200b\u4e00\u4e2a\u200b\u521d\u59cb\u200b\u7f51\u683c\u200b\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b\u5f97\u5230\u200b\u6b63\u786e\u200b\u6392\u5217\u200b\u81f3\u5c11\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u591a\u5c11\u200b\u6b21\u200b\u4ea4\u6362\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_19","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5360\u200b\u4e00\u884c\u200b\uff0c\u200b\u5c06\u200b 3\u00d733\u00d73 \u200b\u7684\u200b\u521d\u59cb\u200b\u7f51\u683c\u200b\u63cf\u7ed8\u51fa\u6765\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u521d\u59cb\u200b\u7f51\u683c\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> <pre><code>1 2 3 \nx 4 6 \n7 5 8 \n</code></pre> <p>\u200b\u5219\u200b\u8f93\u5165\u200b\u4e3a\u200b\uff1a<code>1 2 3 x 4 6 7 5 8</code></p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_20","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u5360\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5c11\u200b\u4ea4\u6362\u200b\u6b21\u6570\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_21","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2  3  4  1  5  x  7  6  8\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_22","title":"\u8f93\u51fa\u200b\u6837\u4f8b","text":"<pre><code>19\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_3","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;queue&gt;\n#include &lt;unordered_map&gt;\n\nusing namespace std;\n\nint bfs(string start) {\n    int dx[4] = {-1, 0, 1, 0}, dy[4] = {0, 1, 0 , -1};\n    string end = \"12345678x\";\n    queue&lt;string&gt; q;\n    q.push(start);\n    unordered_map&lt;string, int&gt; dist;\n    dist[start] = 0;\n    while (!q.empty()) {\n        auto t = q.front();\n        q.pop();\n        int distance = dist[t];\n        if (t == end) return distance;\n        int k = t.find('x');\n        int x = k / 3, y = k % 3;\n        for (int i = 0; i &lt; 4; i++) {\n            int a = x + dx[i], b = y + dy[i];\n            if (a &gt;= 0 &amp;&amp; a &lt; 3 &amp;&amp; b &gt;= 0 &amp;&amp; b &lt; 3) {\n                swap(t[k], t[a * 3 + b]);\n                if (!dist[t]) {\n                    dist[t] = distance + 1;\n                    q.push(t);\n                }\n                swap(t[k], t[a * 3 + b]);\n            }\n        }\n    }\n    return -1;\n}\n\nint main() {\n    string start = \"\";\n    for (int i = 0; i &lt; 9; i++) {\n        char c;\n        cin &gt;&gt; c;\n        start += c;\n    }\n    cout &lt;&lt; bfs(start);\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_23","title":"\u56fe\u200b\u7684\u200b\u6df1\u5ea6\u200b\u4f18\u5148\u200b\u904d\u5386","text":""},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_24","title":"\u6811\u200b\u7684\u200b\u91cd\u5fc3","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u9897\u200b\u6811\u200b\uff0c\u200b\u6811\u4e2d\u200b\u5305\u542b\u200b n \u200b\u4e2a\u200b\u7ed3\u70b9\u200b\uff08\u200b\u7f16\u53f7\u200b 1\u223cn\uff09\u200b\u548c\u200b n\u22121 \u200b\u6761\u65e0\u5411\u200b\u8fb9\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u627e\u5230\u200b\u6811\u200b\u7684\u200b\u91cd\u5fc3\u200b\uff0c\u200b\u5e76\u200b\u8f93\u51fa\u200b\u5c06\u200b\u91cd\u5fc3\u200b\u5220\u9664\u200b\u540e\u200b\uff0c\u200b\u5269\u4f59\u200b\u5404\u4e2a\u200b\u8fde\u901a\u200b\u5757\u200b\u4e2d\u200b\u70b9\u6570\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u3002</p> <p>\u200b\u91cd\u5fc3\u200b\u5b9a\u4e49\u200b\uff1a\u200b\u91cd\u5fc3\u200b\u662f\u200b\u6307\u6811\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u5982\u679c\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u70b9\u200b\u5220\u9664\u200b\u540e\u200b\uff0c\u200b\u5269\u4f59\u200b\u5404\u4e2a\u200b\u8fde\u901a\u200b\u5757\u200b\u4e2d\u200b\u70b9\u6570\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u6700\u5c0f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u8282\u70b9\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u6811\u200b\u7684\u200b\u91cd\u5fc3\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_25","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b n\uff0c\u200b\u8868\u793a\u200b\u6811\u200b\u7684\u200b\u7ed3\u70b9\u200b\u6570\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b n\u22121 \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b a \u200b\u548c\u200b b\uff0c\u200b\u8868\u793a\u200b\u70b9\u200b a \u200b\u548c\u200b\u70b9\u200b b \u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u8fb9\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_26","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b m\uff0c\u200b\u8868\u793a\u200b\u5c06\u200b\u91cd\u5fc3\u200b\u5220\u9664\u200b\u540e\u200b\uff0c\u200b\u5269\u4f59\u200b\u5404\u4e2a\u200b\u8fde\u901a\u200b\u5757\u200b\u4e2d\u200b\u70b9\u6570\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_27","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u226410^5</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_28","title":"\u8f93\u5165\u200b\u6837\u4f8b","text":"<pre><code>9\n1 2\n1 7\n1 4\n2 8\n2 5\n4 3\n3 9\n4 6\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_29","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10, M = 2 * N;\nint h[N], e[M], ne[M], idx;\nbool st[N];\nint ans = N, n;\n\nvoid add(int a, int b) {\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nint dfs(int u) {\n    int sum = 1, res = 0;\n    st[u] = true;\n    for (int i = h[u]; i != -1; i = ne[i]) {\n        int j = e[i];\n        if (!st[j]) {\n            int s = dfs(j);\n            res = max(res, s);\n            sum += s;\n        }\n    }\n    res = max(res, n - sum);\n    ans = min(ans, res);\n    return sum;\n}\n\nint main() {\n    cin &gt;&gt; n;\n    memset(h, -1, sizeof h);\n    for (int i = 0; i &lt; n - 1; i++) {\n        int a, b;\n        scanf(\"%d %d\", &amp;a, &amp;b);\n        add(a, b), add(b, a);\n    }\n    dfs(1);\n    cout &lt;&lt; ans;\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_30","title":"\u56fe\u200b\u7684\u200b\u5e7f\u5ea6\u200b\u4f18\u5148\u200b\u904d\u5386","text":""},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_31","title":"\u56fe\u4e2d\u70b9\u200b\u7684\u200b\u5c42\u6b21","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u6709\u5411\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\u3002</p> <p>\u200b\u6240\u6709\u200b\u8fb9\u200b\u7684\u200b\u957f\u5ea6\u200b\u90fd\u200b\u662f\u200b 1\uff0c\u200b\u70b9\u200b\u7684\u200b\u7f16\u53f7\u200b\u4e3a\u200b 1\u223cn\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff0c\u200b\u5982\u679c\u200b\u4ece\u200b 1 \u200b\u53f7\u70b9\u200b\u65e0\u6cd5\u200b\u8d70\u200b\u5230\u200b n\u200b\u53f7\u70b9\u200b\uff0c\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_32","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b mm \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b a \u200b\u548c\u200b b\uff0c\u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u4ece\u200b a \u200b\u8d70\u200b\u5230\u200b b \u200b\u7684\u200b\u957f\u5ea6\u200b\u4e3a\u200b 1 \u200b\u7684\u200b\u8fb9\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_33","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_34","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,m\u226410^5</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_35","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4 5\n1 2\n2 3\n3 4\n1 3\n1 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_36","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10;\nint h[N], e[N], ne[N], idx;\nint d[N], hh, tt, q[N], n, m;\n\nvoid add(int a, int b) {\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nint bfs() {\n    memset(d, -1, sizeof d);\n    q[0] = 1;\n    d[1] = 0;\n    while (hh &lt;= tt) {\n        auto t = q[hh++];\n        for (int i = h[t]; i != -1; i = ne[i]) {\n            int j = e[i];\n            if (d[j] == -1) {\n                d[j] = d[t] + 1;\n                q[++tt] = j;\n            }\n        }\n    }\n    return d[n];\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    memset(h, -1, sizeof h);\n    while (m--) {\n        int a, b;\n        scanf(\"%d %d\", &amp;a, &amp;b);\n        add(a, b);\n    }\n    cout &lt;&lt; bfs();\n    return 0;\n\n}\n</code></pre> <p>n\u200b\u7687\u540e\u200b</p> <p>\u200b\u622a\u8ddd\u200b</p> <p>1111</p> <p>\u200b\u56fe\u200b\uff1a</p> <p>1.\u200b\u90bb\u95f4\u200b\u77e9\u9635\u200b</p> <p>\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b</p> <pre><code># a -&gt; b\ng[a][b]\n</code></pre> <p>2.\u200b\u90bb\u95f4\u200b\u8868\u200b</p> <p>\u200b\u5f88\u591a\u200b\u4e2a\u200b\u5355\u94fe\u200b\u8868\u200b</p> <pre><code>1 -&gt; 3 -&gt; 4\n2 -&gt; 3 -&gt; 4\n5 -&gt; 4 -&gt; 3\n</code></pre> <p>e :\u200b\u503c\u200b</p> <p>h \u200b\u5934\u200b</p> <p>ne next</p> <p>idx \u200b\u8fb9\u200b</p> <p>ans = answer res = result vis = visited dx, dy \u200b\u65b9\u5411\u200b\u5411\u91cf\u200b stk = stack q = queue dummy \u200b\u94fe\u8868\u200b\u865a\u62df\u200b\u5934\u200b\u8282\u70b9\u200b</p> <p>st state</p> <p>\u200b\u6709\u5411\u56fe\u200b\u624d\u200b\u6709\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b</p> <p>\u200b\u6709\u200b\u5411\u200b\u65e0\u200b\u73af\u56fe\u200b\uff1a\u200b\u62d3\u6251\u56fe\u200b</p> <p>1-&gt;2</p> <p>1-&gt;3</p> <p>2-&gt;3</p> <p>1 2 3</p> <p>\u200b\u8d77\u70b9\u200b\u5728\u200b\u7ec8\u70b9\u200b\u524d\u9762\u200b</p> <p>1</p> <p>\u200b\u5165\u5ea6\u200b \u200b\u6709\u200b\u51e0\u70b9\u200b\u8fb9\u200b\u6307\u5411\u200b\u4ed6\u200b 0</p> <p>\u200b\u51fa\u200b\u5ea6\u200b \u200b\u6709\u200b\u51e0\u70b9\u200b\u8fb9\u200b\u6307\u51fa\u200b\u53bb\u200b 2</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_37","title":"\u6709\u5411\u56fe\u200b\u7684\u200b\u62d3\u6251\u200b\u5e8f\u5217","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u6709\u5411\u56fe\u200b\uff0c\u200b\u70b9\u200b\u7684\u200b\u7f16\u53f7\u200b\u662f\u200b 1 \u200b\u5230\u200b n\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u8f93\u51fa\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u8be5\u200b\u6709\u5411\u56fe\u200b\u7684\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b\uff0c\u200b\u5982\u679c\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p> <p>\u200b\u82e5\u200b\u4e00\u4e2a\u200b\u7531\u56fe\u200b\u4e2d\u200b\u6240\u6709\u200b\u70b9\u200b\u6784\u6210\u200b\u7684\u200b\u5e8f\u5217\u200b A \u200b\u6ee1\u8db3\u200b\uff1a\u200b\u5bf9\u4e8e\u200b\u56fe\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u6761\u8fb9\u200b (x,y)\uff0cx \u200b\u5728\u200b A \u200b\u4e2d\u200b\u90fd\u200b\u51fa\u73b0\u200b\u5728\u200b y \u200b\u4e4b\u524d\u200b\uff0c\u200b\u5219\u200b\u79f0\u200b A \u200b\u662f\u200b\u8be5\u200b\u56fe\u200b\u7684\u200b\u4e00\u4e2a\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_38","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b x \u200b\u548c\u200b y\uff0c\u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u4ece\u70b9\u200b x \u200b\u5230\u200b\u70b9\u200b y \u200b\u7684\u200b\u6709\u200b\u5411\u200b\u8fb9\u200b (x,y)\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_39","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u5408\u6cd5\u200b\u7684\u200b\u62d3\u6251\u200b\u5e8f\u5217\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u5426\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_40","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,m\u226410^5</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_41","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3 3\n1 2\n2 3\n1 3\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_42","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1 2 3\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nconst int N = 1e5 + 10;\nint h[N], e[N], ne[N], idx;\nint q[N], hh, tt = -1, d[N], n, m;\n\nvoid add(int a, int b) {\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nbool tup_sort() {\n    for (int i = 1; i &lt;= n; i++) {\n        if (!d[i]) q[++tt] = i;\n    }\n    while (hh &lt;= tt) {\n        auto t = q[hh++];\n        for (int i = h[t]; i != -1; i = ne[i]) {\n            int j = e[i];\n            d[j]--;\n            if (!d[j]) q[++tt] = j;\n        }\n    }\n\n    return tt == n - 1;\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    memset(h, -1, sizeof h);\n    while (m--) {\n        int a, b;\n        scanf(\"%d %d\", &amp;a, &amp;b);\n        add(a, b), d[b]++;\n    }\n    if (tup_sort()) {\n        for (int i = 0; i &lt; n; i++) printf(\"%d \", q[i]);\n    } else cout &lt;&lt; -1;\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_43","title":"\u6700\u200b\u77ed\u8def","text":"<p>\u200b\u6700\u200b\u77ed\u8def\u200b</p> <p>1\u200b\u5355\u6e90\u200b\u6700\u200b\u77ed\u8def\u200b \u200b\u4e00\u4e2a\u70b9\u200b\u5230\u200b\u5176\u4ed6\u200b\u6240\u6709\u200b\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8def\u200b</p> <p>1.1</p> <p>n:\u200b\u70b9\u200b\u7684\u200b\u6570\u91cf\u200b m \u200b\u8fb9\u200b\u7684\u200b\u6570\u91cf\u200b</p> <p>\u200b\u6240\u6709\u200b\u8fb9\u6743\u200b\u90fd\u200b\u662f\u200b\u6b63\u6570\u200b\uff08\u200b\u6734\u7d20\u200bDijkstra\u200b\u7b97\u6cd5\u200b n*n \u200b\u7a20\u5bc6\u200b\u56fe\u200b\u3001\u200b\u5806\u200b\u4f18\u5316\u200b\u7248\u200b\u7684\u200bDijkstra\u200b\u7b97\u6cd5\u200b mlogn \uff09</p> <p>1.2</p> <p>\u200b\u5b58\u5728\u200b\u8d1f\u6743\u200b\u8fb9\u200b \uff08Bellman-Ford nm, SPFA m \u200b\u6700\u574f\u200b nm\uff09</p> <p>2\u200b\u591a\u6e90\u6c47\u200b\u6700\u200b\u77ed\u8def\u200b\uff1a \u200b\u8d77\u70b9\u200b \u200b\u7ec8\u70b9\u200b \u200b\u4e0d\u200b\u786e\u5b9a\u200b</p> <p>Floyd n^3</p> <p>\u200b\u7a20\u5bc6\u200b\u56fe\u200b \u200b\u9886\u63a5\u200b\u77e9\u9635\u200b</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#dijkstra-dijkstra-i","title":"\u6734\u7d20\u200bdijkstra-Dijkstra\u200b\u6c42\u200b\u6700\u200b\u77ed\u8def\u200b I","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u6709\u5411\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\uff0c\u200b\u6240\u6709\u200b\u8fb9\u6743\u200b\u5747\u200b\u4e3a\u200b\u6b63\u503c\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u4ece\u200b 1 \u200b\u53f7\u70b9\u200b\u8d70\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_44","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b x,y,z \u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u4ece\u70b9\u200b x \u200b\u5230\u200b\u70b9\u200b y \u200b\u7684\u200b\u6709\u200b\u5411\u200b\u8fb9\u200b\uff0c\u200b\u8fb9\u957f\u200b\u4e3a\u200b z\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_45","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_46","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264500, 1\u2264m\u226410^5, \u200b\u56fe\u4e2d\u200b\u6d89\u53ca\u200b\u8fb9\u957f\u200b\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b10000\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_47","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3 3\n1 2 2\n2 3 1\n1 3 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_48","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre> <p>o(n^2 + m)</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 510, INF = 0x3f3f3f3f;\nint g[N][N], d[N], n, m;\nbool st[N];\n\nint dijkstra() {\n    memset(d, 0x3f, sizeof d);\n    d[1] = 0;\n    for (int i = 0; i &lt; n; i++) {\n        int t = -1;\n        for (int j = 1; j &lt;= n; j++) {\n            if (!st[j] &amp;&amp; (t == -1 || d[j] &lt; d[t])) t = j;\n        }\n        st[t] = true;\n        for (int j = 1; j &lt;= n; j++) d[j] = min(d[j], d[t] + g[t][j]);\n    }\n    if (d[n] == INF) return -1;\n    return d[n];\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    int a, b, w;\n    memset(g, 0x3f, sizeof g);\n    while (m--) {\n        scanf(\"%d%d%d\", &amp;a, &amp;b, &amp;w);\n        g[a][b] = min(g[a][b], w);\n    }\n    cout &lt;&lt; dijkstra();\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#-dijkstra-ii","title":"\u5806\u200b\u4f18\u5316\u200b-Dijkstra\u200b\u6c42\u200b\u6700\u200b\u77ed\u8def\u200b II","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u6709\u5411\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\uff0c\u200b\u6240\u6709\u200b\u8fb9\u6743\u200b\u5747\u200b\u4e3a\u200b\u975e\u8d1f\u503c\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u4ece\u200b 1 \u200b\u53f7\u70b9\u200b\u8d70\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_49","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b x,y,z\uff0c\u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u4ece\u70b9\u200b x \u200b\u5230\u200b\u70b9\u200b y \u200b\u7684\u200b\u6709\u200b\u5411\u200b\u8fb9\u200b\uff0c\u200b\u8fb9\u957f\u200b\u4e3a\u200b z\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_50","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_51","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,m\u22641.5\u00d71e5, \u200b\u56fe\u4e2d\u200b\u6d89\u53ca\u200b\u8fb9\u957f\u200b\u5747\u200b\u4e0d\u200b\u5c0f\u4e8e\u200b 0\uff0c\u200b\u4e14\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 10000\u3002 \u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\uff1a\u200b\u5982\u679c\u200b\u6700\u200b\u77ed\u8def\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u6700\u200b\u77ed\u8def\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 1e9\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_52","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3 3\n1 2 2\n2 3 1\n1 3 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_53","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre> <p>mlogn</p> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\nconst int N = 150010, INF = 0x3f3f3f3f;\ntypedef pair&lt;int, int&gt; PII;\nint h[N], e[N], ne[N], w[N], idx, d[N], n, m;\nbool st[N];\n\nvoid add(int a, int b, int c) {\n    w[idx] = c, e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nint dijkstra() {\n    memset(d, 0x3f, sizeof d);\n    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; q;\n    q.push({0, 1});\n    d[1] = 0;\n    while (!q.empty()) {\n        auto t = q.top();\n        q.pop();\n        int distance = t.first, ver = t.second;\n        if (st[ver]) continue;\n        st[ver] = true;\n        for (int i = h[ver]; i != -1; i = ne[i]) {\n            int j = e[i];\n            if (distance + w[i] &lt; d[j]) {\n                d[j] = distance + w[i];\n                q.push({d[j], j});\n            }\n        }\n    }\n    if (d[n] == INF) return -1;\n    return d[n];\n\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    int a, b, c;\n    memset(h, -1, sizeof h);\n    while (m--) {\n        scanf(\"%d%d%d\", &amp;a, &amp;b, &amp;c);\n        add(a, b, c);\n    }\n    cout &lt;&lt; dijkstra();\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#bellman-ford-","title":"Bellman-ford \u200b\u7b97\u6cd5\u200b-\u200b\u6709\u200b\u8fb9\u6570\u200b\u9650\u5236\u200b\u7684\u200b\u6700\u200b\u77ed\u8def","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u6709\u5411\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\uff0c \u200b\u8fb9\u6743\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u8d1f\u6570\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b\u4ece\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u591a\u200b\u7ecf\u8fc7\u200b k \u200b\u6761\u8fb9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u4ece\u200b 1 \u200b\u53f7\u70b9\u200b\u8d70\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\uff0c\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b \u200b\u5b58\u5728\u200b\u8d1f\u6743\u200b\u56de\u8def\u200b \u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_54","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b n,m,k\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b x,y,z\uff0c\u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u4ece\u70b9\u200b x \u200b\u5230\u200b\u70b9\u200b y \u200b\u7684\u200b\u6709\u200b\u5411\u200b\u8fb9\u200b\uff0c\u200b\u8fb9\u957f\u200b\u4e3a\u200b z\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_55","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u4ece\u200b 1 \u200b\u53f7\u70b9\u200b\u5230\u200b n \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u591a\u200b\u7ecf\u8fc7\u200b k \u200b\u6761\u8fb9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_56","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,k\u2264500, 1\u2264m\u226410000, \u200b\u4efb\u610f\u200b\u8fb9\u957f\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 10000\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_57","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3 3 1\n1 2 1\n2 3 1\n1 3 3\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_58","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre> <p>bellman_ford</p> <p>**o(nm) **</p> <p></p> <p>\u200b\u5141\u8bb8\u200b\u6709\u200b\u8d1f\u6743\u200b\u8fb9\u200b</p> <p>\u200b\u7ecf\u8fc7\u200b1\u200b\u6761\u8fb9\u200b\u6700\u200b\u77ed\u200b</p> <p>\u200b\u7ecf\u8fc7\u200b2\u200b\u6761\u8fb9\u200b\u6700\u200b\u77ed\u200b</p> <p>....</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 510, M = 1e5 + 10;\nstruct Edge {\n    int a, b, w;\n} e[M];\nint dist[N], back[N];\nint n, m, k;\n\nvoid bellman_ford() {\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n    for (int i = 0; i &lt; k; i++) {\n        memcpy(back, dist, sizeof dist);\n        for (int j = 0; j &lt; m; j++) {\n            int a = e[j].a,  b = e[j].b,  w = e[j].w;\n            dist[b] = min(dist[b], back[a] + w);\n        }\n\n    }\n\n    if (dist[n] &gt; 0x3f3f3f / 2) puts(\"impossible\");\n    else printf(\"%d\", dist[n]);\n}\n\nint main() {\n    scanf(\"%d%d%d\", &amp;n, &amp;m, &amp;k);\n    for (int i = 0; i &lt; m; i++) {\n        int a, b, w;\n        scanf(\"%d%d%d\", &amp;a, &amp;b, &amp;w);\n        e[i] = {a, b, w};\n    }\n    bellman_ford();\n    return 0;\n}\n</code></pre> <p></p> <p>dijkstra \u200b\u4e0d\u80fd\u200b\u8d1f\u8fb9\u200b</p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u5982\u4e0b\u200b\u7684\u200b\u4e32\u8054\u200b\u60c5\u51b5\u200b\uff0c \u200b\u5728\u200b\u8fb9\u6570\u200b\u9650\u5236\u200b\u4e3a\u200b\u4e00\u6761\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u8282\u70b9\u200b3\u200b\u7684\u200b\u8ddd\u79bb\u200b\u5e94\u8be5\u200b\u662f\u200b3\uff0c\u200b\u4f46\u662f\u200b\u7531\u4e8e\u200b\u4e32\u8054\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5229\u7528\u200b\u672c\u8f6e\u200b\u66f4\u65b0\u200b\u7684\u200b\u8282\u70b9\u200b2\u200b\u66f4\u65b0\u200b\u4e86\u200b\u8282\u70b9\u200b3\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u6240\u4ee5\u200b\u73b0\u5728\u200b\u8282\u70b9\u200b3\u200b\u7684\u200b\u8ddd\u79bb\u200b\u662f\u200b2\u3002</p> <p>1 2 1</p> <p>2 3 1</p> <p>1 3 3</p> <p>Bellman-Ford\uff1a\u200b\u4e0d\u80fd\u200b\u6709\u200b\u8d1f\u73af\u200b</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#spfa-bellman_ford","title":"spfa \u200b\u6700\u200b\u77ed\u8def\u200b -&gt; bellman_ford\u200b\u7684\u200b\u961f\u5217\u200b\u4f18\u5316","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b nn \u200b\u4e2a\u70b9\u200b mm \u200b\u6761\u8fb9\u200b\u7684\u200b\u6709\u5411\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\uff0c \u200b\u8fb9\u6743\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u8d1f\u6570\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b 11 \u200b\u53f7\u70b9\u200b\u5230\u200b nn \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u4ece\u200b 11 \u200b\u53f7\u70b9\u200b\u8d70\u200b\u5230\u200b nn \u200b\u53f7\u70b9\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8d1f\u6743\u200b\u56de\u8def\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_59","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b nn \u200b\u548c\u200b mm\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b mm \u200b\u884c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b x,y,zx,y,z\uff0c\u200b\u8868\u793a\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u4ece\u70b9\u200b xx \u200b\u5230\u200b\u70b9\u200b yy \u200b\u7684\u200b\u6709\u200b\u5411\u200b\u8fb9\u200b\uff0c\u200b\u8fb9\u957f\u200b\u4e3a\u200b zz\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_60","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b 11 \u200b\u53f7\u70b9\u200b\u5230\u200b nn \u200b\u53f7\u70b9\u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u8def\u5f84\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_61","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,m\u22641051\u2264n,m\u2264105, \u200b\u56fe\u4e2d\u200b\u6d89\u53ca\u200b\u8fb9\u957f\u200b\u7edd\u5bf9\u503c\u200b\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 10000</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_62","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3 3\n1 2 5\n2 3 -3\n1 3 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_63","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2\n</code></pre> <p>st:\u200b\u662f\u5426\u200b\u5728\u200b\u961f\u5217\u200b\u4e2d\u200b</p> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10;\nint h[N], e[N], ne[N], w[N], idx, n, m, d[N];\nbool st[N];\n\nvoid add(int a, int b, int c) {\n    w[idx] = c, e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nvoid spfa() {\n    memset(d, 0x3f, sizeof d);\n    queue&lt;int&gt; q;\n    q.push(1);\n    d[1] = 0;\n    st[1] = true;\n    while (q.size()) {\n        auto t = q.front();\n        q.pop();\n        st[t] = false;\n        for (int i = h[t]; i != -1; i = ne[i]) {\n            int j = e[i];\n            if (d[t] + w[i] &lt; d[j]) {\n                d[j] = d[t] + w[i];\n                if (!st[j]) {\n                    st[j] = true;\n                    q.push(j);\n                }\n\n            }\n        }\n    }\n    if (d[n] == 0x3f3f3f3f) puts(\"impossible\");\n    else cout &lt;&lt; d[n];\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    memset(h, -1, sizeof h);\n    int a, b, c;\n    while (m--) {\n        scanf(\"%d%d%d\", &amp;a, &amp;b, &amp;c);\n        add(a, b, c);\n    }\n    spfa();\n    return 0;\n\n}\n</code></pre> <p>3f3f3f3f</p> <p>\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b</p> <p>1\u200b\u666e\u5229\u200b\u59c6\u200b\u7b97\u6cd5\u200bprim</p> <p>\u200b\u7a20\u5bc6\u200b \u200b\u6734\u7d20\u200b n^2</p> <p>\u200b\u7a00\u758f\u200b \u200b\u5806\u200b\u4f18\u5316\u200b mlogn</p> <p>2\u200b\u514b\u9c81\u65af\u200b\u5361\u5c14\u200b\u7b97\u6cd5\u200b Kruskal</p> <p>\u200b\u7a00\u758f\u200b</p> <p>mlogm</p> <p>\u200b\u4e8c\u5206\u200b\u56fe\u200b</p> <p>\u200b\u67d3\u8272\u6cd5\u200b</p> <p>n + m</p> <p>\u200b\u5308\u7259\u5229\u200b\u7b97\u6cd5\u200b</p> <p>\u200b\u6700\u574f\u200b mn \u200b\u4e00\u822c\u200b\u8fdc\u200b\u5c0f\u4e8e\u200bo(mn)</p> <p>\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\uff1an\u200b\u4e2a\u200b\u57ce\u5e02\u200b\u5efa\u200b\u516c\u8def\u200b \u200b\u6700\u77ed\u200b</p> <p>\u200b\u4e8c\u5206\u200b\u56fe\u200b\uff1a\u200b\u5f53\u4e14\u200b\u4ec5\u200b\u5f53\u56fe\u200b\u4e2d\u200b\u4e0d\u200b\u5947\u6570\u200b\u73af\u200b\uff08\u200b\u73af\u6709\u200b\u5947\u6570\u200b\u6761\u8fb9\u200b\uff09</p> <p>\u200b\u4e8c\u5206\u200b\u56fe\u200b\uff1a\u200b\u96c6\u5408\u200b\u96c6\u5408\u200b\u4e4b\u95f4\u200b\u6709\u200b\u8fb9\u200b \u200b\u96c6\u5408\u200b\u5185\u90e8\u200b\u6ca1\u6709\u200b\u8fb9\u200b</p> <p>\u200b\u7b97\u6cd5\u200b\u5bfc\u8bba\u200b\uff1a\u200b\u7b97\u6cd5\u200b\u8bc1\u660e\u200b</p> <p>prim\u200b\u7b97\u6cd5\u200b\uff1a\u200b\u66f4\u65b0\u200b\u6bcf\u4e2a\u200b\u503c\u200b</p> <p>\u200b\u5148\u200b\u66f4\u65b0\u200b\u540e\u9762\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u66f4\u65b0\u200b\u4e86\u200b</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_64","title":"\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811","text":"<p>\u200b\u4e00\u4e2a\u200b\u8fde\u901a\u200b\u56fe\u200b\u53ef\u80fd\u200b\u6709\u200b\u591a\u4e2a\u200b\u751f\u6210\u200b\u6811\u200b\u3002\u200b\u5f53\u56fe\u200b\u4e2d\u200b\u7684\u200b\u8fb9\u200b\u5177\u6709\u200b\u6743\u503c\u200b\u65f6\u200b\uff0c\u200b\u603b\u4f1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u751f\u6210\u200b\u6811\u200b\u7684\u200b\u8fb9\u200b\u7684\u200b\u6743\u503c\u200b\u4e4b\u200b\u548c\u200b\u5c0f\u4e8e\u200b\u6216\u8005\u200b\u7b49\u4e8e\u200b\u5176\u5b83\u200b\u751f\u6210\u200b\u6811\u200b\u7684\u200b\u8fb9\u200b\u7684\u200b\u6743\u503c\u200b\u4e4b\u200b\u548c\u200b</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#prim","title":"Prim\u200b\u7b97\u6cd5\u200b\u6c42\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\uff0c\u200b\u8fb9\u6743\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u8d1f\u6570\u200b\u3002</p> <p>\u200b\u6c42\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u7684\u200b\u6811\u8fb9\u200b\u6743\u91cd\u200b\u4e4b\u200b\u548c\u200b\uff0c\u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p> <p>\u200b\u7ed9\u5b9a\u200b\u4e00\u5f20\u200b\u8fb9\u5e26\u200b\u6743\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b G=(V,E)\uff0c\u200b\u5176\u4e2d\u200b V \u200b\u8868\u793a\u200b\u56fe\u4e2d\u70b9\u200b\u7684\u200b\u96c6\u5408\u200b\uff0cE \u200b\u8868\u793a\u200b\u56fe\u4e2d\u8fb9\u200b\u7684\u200b\u96c6\u5408\u200b\uff0cn=|V|\uff0cm=|E|\u3002</p> <p>\u200b\u7531\u200b V \u200b\u4e2d\u200b\u7684\u200b\u5168\u90e8\u200b n \u200b\u4e2a\u200b\u9876\u70b9\u200b\u548c\u200b E \u200b\u4e2d\u200b n\u22121 \u200b\u6761\u8fb9\u200b\u6784\u6210\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u8fde\u901a\u200b\u5b50\u56fe\u200b\u88ab\u200b\u79f0\u4e3a\u200b G \u200b\u7684\u200b\u4e00\u68f5\u200b\u751f\u6210\u200b\u6811\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8fb9\u200b\u7684\u200b\u6743\u503c\u200b\u4e4b\u200b\u548c\u200b\u6700\u5c0f\u200b\u7684\u200b\u751f\u6210\u200b\u6811\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u65e0\u5411\u200b\u56fe\u200b G \u200b\u7684\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_65","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b u,v,w\u200b\u8868\u793a\u200b\u70b9\u200b u\u200b\u548c\u200b\u70b9\u200b v \u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u6743\u503c\u200b\u4e3a\u200b w \u200b\u7684\u200b\u8fb9\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_66","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u82e5\u200b\u5b58\u5728\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u7684\u200b\u6811\u8fb9\u200b\u6743\u91cd\u200b\u4e4b\u200b\u548c\u200b\uff0c\u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_67","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264500, 1\u2264m\u226410^5, \u200b\u56fe\u4e2d\u200b\u6d89\u53ca\u200b\u8fb9\u200b\u7684\u200b\u8fb9\u6743\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 10000\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_68","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4 5\n1 2 1\n1 3 2\n1 4 3\n2 3 2\n3 4 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_69","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>6\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_4","title":"code","text":"<p>o(n*n + m)</p> <p>\u200b\u7a20\u5bc6\u200b\u56fe\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\nconst int N = 510, INF = 0x3f3f3f3f;\nint g[N][N], dist[N], n, m, a, b, w;\nbool st[N];\n\nint prim() {\n    int res = 0;\n    memset(dist, 0x3f, sizeof dist);\n    for (int i = 0; i &lt; n; i++) {\n        int t = -1;\n        // \u200b\u627e\u5230\u200b\u8ddd\u79bb\u200b\u96c6\u5408\u200b\u6700\u8fd1\u200b\u7684\u200b\u4e00\u4e2a\u200b\u4e14\u200b\u6ca1\u6709\u200b\u8bbf\u95ee\u200b\u8fc7\u200b\u7684\u200b\u70b9\u200b\n        for (int j = 1; j &lt;= n; j++) {\n            if (!st[j] &amp;&amp; (t == -1 || dist[j] &lt; dist[t])) t = j;\n        }\n\n        if (i &amp;&amp; dist[t] == INF) return INF;\n        if (i) res += dist[t];\n        st[t] = true;\n        // a -&gt; b -&gt; c c\u200b\u662f\u200bb\u200b\u7684\u200b\u57fa\u7840\u200b\u6765\u200b\u7684\u200b\uff0c \u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u66f4\u65b0\u200b\u503c\u200b\n        // \u200b\u4e3a\u200b\u4e0b\u6b21\u200b\u627e\u200b\u6700\u8fd1\u200b\u7684\u200b\u70b9\u200b\u505a\u200b\u51c6\u5907\u200b\uff1a\u200b\u66f4\u65b0\u200b\u6240\u6709\u200b\u70b9\u5230\u200b\u96c6\u5408\u200b\u7684\u200b\u8ddd\u79bb\u200b\n        for (int j = 1; j &lt;= n; j++) dist[j] = min(dist[j], g[t][j]);\n    }\n\n    return res;\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 1; j &lt;= n; j++) if (i != j) g[i][j] = INF;\n    }\n    while (m--) {\n        cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;\n        g[a][b] = g[b][a] = min(g[a][b], w);\n    }\n    int res = prim();\n    if (res == INF) puts(\"impossible\");\n    else cout &lt;&lt; res;\n    return 0;\n}\n</code></pre> <p>st[t] = true;</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#kruskal","title":"Kruskal\u200b\u7b97\u6cd5\u200b\u6c42\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\uff0c\u200b\u8fb9\u6743\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u8d1f\u6570\u200b\u3002</p> <p>\u200b\u6c42\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u7684\u200b\u6811\u8fb9\u200b\u6743\u91cd\u200b\u4e4b\u200b\u548c\u200b\uff0c\u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p> <p>\u200b\u7ed9\u5b9a\u200b\u4e00\u5f20\u200b\u8fb9\u5e26\u200b\u6743\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b G=(V,E)\uff0c\u200b\u5176\u4e2d\u200b V \u200b\u8868\u793a\u200b\u56fe\u4e2d\u70b9\u200b\u7684\u200b\u96c6\u5408\u200b\uff0cE \u200b\u8868\u793a\u200b\u56fe\u4e2d\u8fb9\u200b\u7684\u200b\u96c6\u5408\u200b\uff0cn=|V|\uff0cm=|E|\u3002</p> <p>\u200b\u7531\u200b V \u200b\u4e2d\u200b\u7684\u200b\u5168\u90e8\u200b n \u200b\u4e2a\u200b\u9876\u70b9\u200b\u548c\u200b EE \u200b\u4e2d\u200b n\u22121 \u200b\u6761\u8fb9\u200b\u6784\u6210\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u8fde\u901a\u200b\u5b50\u56fe\u200b\u88ab\u200b\u79f0\u4e3a\u200b G \u200b\u7684\u200b\u4e00\u68f5\u200b\u751f\u6210\u200b\u6811\u200b\uff0c\u200b\u5176\u4e2d\u200b\u8fb9\u200b\u7684\u200b\u6743\u503c\u200b\u4e4b\u200b\u548c\u200b\u6700\u5c0f\u200b\u7684\u200b\u751f\u6210\u200b\u6811\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u65e0\u5411\u200b\u56fe\u200b G \u200b\u7684\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_70","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b u,v,w\uff0c\u200b\u8868\u793a\u200b\u70b9\u200b u \u200b\u548c\u200b\u70b9\u200b v \u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u6743\u503c\u200b\u4e3a\u200b w \u200b\u7684\u200b\u8fb9\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_71","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u82e5\u200b\u5b58\u5728\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u7684\u200b\u6811\u8fb9\u200b\u6743\u91cd\u200b\u4e4b\u200b\u548c\u200b\uff0c\u200b\u5982\u679c\u200b\u6700\u5c0f\u200b\u751f\u6210\u200b\u6811\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u8f93\u51fa\u200b <code>impossible</code>\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_72","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u22641e5, 1\u2264m\u22642\u22171e5, \u200b\u56fe\u4e2d\u200b\u6d89\u53ca\u200b\u8fb9\u200b\u7684\u200b\u8fb9\u6743\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 1000\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_73","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4 5\n1 2 1\n1 3 2\n1 4 3\n2 3 2\n3 4 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_74","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>6\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_5","title":"code","text":"<p>mlogm</p> <p>\u200b\u7a00\u758f\u200b\u56fe\u200b</p> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10, M = 2 * N, INF = 0x3f3f3f3f;\nstruct Edge {\n    int a, b, w;\n    bool operator&lt;(const Edge &amp;E) const {\n        return w &lt; E.w;\n    }\n}e[M];\nint n, m, p[N];\n\nint find(int x) {\n    if (p[x] != x) p[x] = find(p[x]);\n    return p[x];\n}\n\nint kurskal() {\n    int cnt = 0, res = 0;\n    for (int i = 0; i &lt; m; i++) {\n        int a = e[i].a, b = e[i].b, w = e[i].w;\n        if (find(a) != find(b)) {\n            p[find(a)] = p[find(b)];\n            cnt++;\n            res += w;\n        }\n    }\n    if (cnt &lt; n - 1) return INF;\n    return res;\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) p[i] = i;\n    int a, b, c;\n    for (int i = 0; i &lt; m; i++) {\n        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n        e[i] = {a, b, c};\n    }\n    sort(e, e + m);\n    int res = kurskal();\n    if (res == INF) puts(\"impossible\");\n    else cout &lt;&lt; res;\n\n    return 0;\n}\n</code></pre> <p>m</p> <p>for (int i = 0; i &lt; m; i++) {         cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;         e[i] = {a, b, c}; }</p> <p>if (find(a) != find(b)) {</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_75","title":"\u4e8c\u5206\u200b\u56fe","text":""},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_76","title":"\u67d3\u8272\u6cd5\u200b\u5224\u5b9a\u200b\u4e8c\u5206\u200b\u56fe","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b n \u200b\u4e2a\u70b9\u200b m \u200b\u6761\u8fb9\u200b\u7684\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\uff0c\u200b\u56fe\u4e2d\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u91cd\u8fb9\u200b\u548c\u200b\u81ea\u73af\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u5224\u65ad\u200b\u8fd9\u4e2a\u200b\u56fe\u200b\u662f\u5426\u662f\u200b\u4e8c\u5206\u200b\u56fe\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_77","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b n \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b u \u200b\u548c\u200b v\uff0c\u200b\u8868\u793a\u200b\u70b9\u200b u \u200b\u548c\u200b\u70b9\u200b v \u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u8fb9\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_78","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5982\u679c\u200b\u7ed9\u5b9a\u200b\u56fe\u662f\u200b\u4e8c\u5206\u200b\u56fe\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>Yes</code>\uff0c\u200b\u5426\u5219\u200b\u8f93\u51fa\u200b <code>No</code>\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_79","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n,m\u226410^5</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_80","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4 4\n1 3\n1 4\n2 3\n2 4\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_81","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Yes\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_6","title":"code","text":"<p>i - j</p> <p>i j\u200b\u5c5e\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u96c6\u5408\u200b</p> <p>o(n+m)</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\nconst int N = 1e5 + 10, M = 2 * N;\nint h[N], e[M], ne[M], idx;\nint color[N], n, m;\n\nvoid add(int a, int b) {\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nbool dfs(int u, int c) {\n    color[u] = c;\n    for (int i = h[u]; i != -1; i = ne[i]) {\n        int j = e[i];\n        if (!color[j] &amp;&amp; !dfs(j, 3 - c)) return false;\n        else if (color[j] == c) return false;\n    }    \n    return true;\n}\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    memset(h, -1, sizeof h);\n    while (m--) {\n        int a, b;\n        cin &gt;&gt; a &gt;&gt; b;\n        add(a, b), add(b, a);\n    }\n    bool flag = true;\n    for (int i = 1; i &lt;= n; i++) {\n        if (!color[i] &amp;&amp; !dfs(i, 1)) {\n            flag = false;\n            break;\n        }\n    }\n    if (!flag) puts(\"No\");\n    else puts(\"Yes\");\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_82","title":"\u4e8c\u5206\u200b\u56fe\u200b\u6700\u5927\u200b\u5339\u914d","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u4e8c\u5206\u200b\u56fe\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5de6\u200b\u534a\u90e8\u200b\u5305\u542b\u200b n1 \u200b\u4e2a\u70b9\u200b\uff08\u200b\u7f16\u53f7\u200b 1\u223cn1\uff09\uff0c\u200b\u53f3\u534a\u90e8\u200b\u5305\u542b\u200b n2 \u200b\u4e2a\u70b9\u200b\uff08\u200b\u7f16\u53f7\u200b 1\u223cn2\uff09\uff0c\u200b\u4e8c\u5206\u200b\u56fe\u5171\u200b\u5305\u542b\u200b m \u200b\u6761\u8fb9\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u4efb\u610f\u200b\u4e00\u6761\u200b\u8fb9\u200b\u7684\u200b\u4e24\u4e2a\u200b\u7aef\u70b9\u200b\u90fd\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u5728\u200b\u540c\u200b\u4e00\u90e8\u5206\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u6700\u5927\u200b\u5339\u914d\u200b\u6570\u200b\u3002</p> <p>\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u5339\u914d\u200b\uff1a\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u4e8c\u5206\u200b\u56fe\u200b G\uff0c\u200b\u5728\u200b G \u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b50\u56fe\u200b M \u200b\u4e2d\u200b\uff0cM \u200b\u7684\u200b\u8fb9\u96c6\u200b {E}\u200b\u4e2d\u200b\u7684\u200b\u4efb\u610f\u200b\u4e24\u6761\u200b\u8fb9\u200b\u90fd\u200b\u4e0d\u200b\u4f9d\u9644\u4e8e\u200b\u540c\u4e00\u4e2a\u200b\u9876\u70b9\u200b\uff0c\u200b\u5219\u200b\u79f0\u200b M \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5339\u914d\u200b\u3002</p> <p>\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u6700\u5927\u200b\u5339\u914d\u200b\uff1a\u200b\u6240\u6709\u200b\u5339\u914d\u200b\u4e2d\u200b\u5305\u542b\u200b\u8fb9\u200b\u6570\u6700\u591a\u200b\u7684\u200b\u4e00\u7ec4\u200b\u5339\u914d\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u6700\u5927\u200b\u5339\u914d\u200b\uff0c\u200b\u5176\u8fb9\u200b\u6570\u5373\u200b\u4e3a\u200b\u6700\u5927\u200b\u5339\u914d\u200b\u6570\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_83","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b n1\u3001 n2 \u200b\u548c\u200b m\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b m \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b u \u200b\u548c\u200b v\uff0c\u200b\u8868\u793a\u200b\u5de6\u200b\u534a\u90e8\u200b\u70b9\u200b\u96c6\u4e2d\u200b\u7684\u200b\u70b9\u200b u \u200b\u548c\u200b\u53f3\u534a\u90e8\u200b\u70b9\u200b\u96c6\u4e2d\u200b\u7684\u200b\u70b9\u200b v \u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u8fb9\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_84","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u4e8c\u5206\u200b\u56fe\u200b\u7684\u200b\u6700\u5927\u200b\u5339\u914d\u200b\u6570\u200b\u3002</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_85","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n1,n2\u2264500, 1\u2264u\u2264n1, 1\u2264v\u2264n2, 1\u2264m\u226410^5</p>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_86","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2 2 4\n1 1\n1 2\n2 1\n2 2\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#_87","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2\n</code></pre>"},{"location":"algo/base/2%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%BE%E8%AE%BA/#code_7","title":"code","text":"<p>o(nm)</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\nconst int N = 510, M = 1e5 + 10;\nint h[N], e[M], ne[M], idx;\nint match[N];\nbool st[N];\nint n1, n2, m;\n\nvoid add(int a, int b) {\n    e[idx] = b, ne[idx] = h[a], h[a] = idx++;\n}\n\nbool find(int u) {\n    for (int i = h[u]; i != -1; i = ne[i]) {\n        int j = e[i];\n        if (!st[j]) {\n            st[j] = true;\n            if (match[j] == 0 || find(match[j])) {\n                match[j] = u;\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nint main() {\n    cin &gt;&gt; n1 &gt;&gt; n2 &gt;&gt; m;\n    memset(h, -1, sizeof h);\n    while (m--) {\n        int a, b;\n        scanf(\"%d%d\", &amp;a, &amp;b);\n        add(a, b);\n    }\n    int res = 0;\n    for (int i = 1; i &lt;= n1; i++) {\n        memset(st, false, sizeof st);\n        if (find(i)) res++;\n    }\n    cout &lt;&lt; res;\n    return 0;\n}\n</code></pre> <p>if (!match[j] || find(match[j])) </p> <p>match[j]\u200b\u653e\u5f03\u200b</p> <p>test</p> <p>1</p> <p>bfs1: n m</p> <p>bfs2 unordered_map</p> <p>2</p> <p>bellman_ford:</p> <p>\u200b\u5fd8\u8bb0\u200b\u521d\u59cb\u5316\u200bd</p> <p>3</p> <p>prim:</p> <p>st[t] = true</p> <p>kruskal:</p> <p>for (int i = 0; i &lt;m ;i ++)</p> <p>3.4</p> <p>if (match[j] || find(match[j])) {}</p> <p></p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/","title":"\u6570\u5b66","text":""},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_1","title":"\u8d28\u6570","text":""},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_2","title":"\u8bd5\u200b\u9664\u6cd5\u200b\u5224\u5b9a\u200b\u8d28\u6570","text":"<p>\u200b\u7ed9\u5b9a\u200b\u00a0n\u00a0\u200b\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0ai\uff0c\u200b\u5224\u5b9a\u200b\u6bcf\u4e2a\u200b\u6570\u200b\u662f\u5426\u662f\u200b\u8d28\u6570\u200b\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_3","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b\u00a0n\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u00a0n\u00a0\u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0ai\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_4","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u00a0n\u00a0\u200b\u884c\u200b\uff0c\u200b\u5176\u4e2d\u200b\u7b2c\u200b\u00a0i\u00a0\u200b\u884c\u200b\u8f93\u51fa\u200b\u7b2c\u200b\u00a0i\u00a0\u200b\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0ai\u00a0\u200b\u662f\u5426\u200b\u4e3a\u200b\u8d28\u6570\u200b\uff0c\u200b\u662f\u200b\u5219\u200b\u8f93\u51fa\u200b\u00a0<code>Yes</code>\uff0c\u200b\u5426\u5219\u200b\u8f93\u51fa\u200b\u00a0<code>No</code>\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_5","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264100, 1\u2264ai\u2264231\u22121</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_6","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2\n2\n6\n</code></pre>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_7","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Yes\nNo\n</code></pre> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nbool is_prime(int a) {\n    if (a &lt; 2) return false;\n    for (int i = 2; i &lt;= a / i; i++) {\n        if (a % i == 0) return false;\n    }\n    return true;\n}\n\nint main() {\n    int n, a;\n    cin &gt;&gt; n;\n    while (n--) {\n        cin &gt;&gt; a;\n        if (is_prime(a)) puts(\"Yes\");\n        else puts(\"No\");\n    }\n\n\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_8","title":"\u5206\u89e3\u200b\u8d28\u56e0\u6570","text":"<p>\u200b\u7ed9\u5b9a\u200b\u00a0n\u00a0\u200b\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0ai\uff0c\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u6570\u200b\u5206\u89e3\u200b\u8d28\u56e0\u6570\u200b\uff0c\u200b\u5e76\u200b\u6309\u7167\u200b\u8d28\u56e0\u6570\u200b\u4ece\u5c0f\u5230\u5927\u200b\u7684\u200b\u987a\u5e8f\u200b\u8f93\u51fa\u200b\u6bcf\u4e2a\u200b\u8d28\u56e0\u6570\u200b\u7684\u200b\u5e95\u6570\u200b\u548c\u200b\u6307\u6570\u200b\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_9","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b\u00a0n\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u00a0n\u00a0\u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0ai\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_10","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0ai\uff0c\u200b\u6309\u7167\u200b\u4ece\u5c0f\u5230\u5927\u200b\u7684\u200b\u987a\u5e8f\u200b\u8f93\u51fa\u200b\u5176\u200b\u5206\u89e3\u200b\u8d28\u56e0\u6570\u200b\u540e\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u8d28\u56e0\u6570\u200b\u7684\u200b\u5e95\u6570\u200b\u548c\u200b\u6307\u6570\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5e95\u6570\u200b\u548c\u200b\u6307\u6570\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u6bcf\u4e2a\u200b\u6b63\u6574\u6570\u200b\u7684\u200b\u8d28\u56e0\u6570\u200b\u5168\u90e8\u200b\u8f93\u51fa\u200b\u5b8c\u6bd5\u200b\u540e\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_11","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264100, 2\u2264ai\u22642\u00d7109</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_12","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2\n6\n8\n</code></pre>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_13","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2 1\n3 1\n\n2 3\n</code></pre> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nvoid divide(int x) {\n    for (int i = 2; i &lt;= x / i; i++) {\n        if (x % i == 0) {\n            int s = 0;\n            while (x % i == 0) {\n                x /= i;\n                s++;\n            }\n            cout &lt;&lt; i &lt;&lt; ' ' &lt;&lt; s &lt;&lt; endl;\n        }\n    }\n    if (x &gt; 1) cout &lt;&lt; x &lt;&lt; ' ' &lt;&lt; 1 &lt;&lt; endl;\n    cout &lt;&lt; endl;\n}\n\nint main() {\n    int n, x;\n    cin &gt;&gt; n;\n    while (n--) {\n        cin &gt;&gt; x;\n        // cout &lt;&lt; x &lt;&lt; endl;\n        divide(x);\n    }\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_14","title":"\u7b5b\u200b\u8d28\u6570","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u6b63\u6574\u6570\u200b\u00a0n\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b\u00a01\u223cn\u00a0\u200b\u4e2d\u200b\u8d28\u6570\u200b\u7684\u200b\u4e2a\u6570\u200b\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_15","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u6574\u6570\u200b\u00a0n\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_16","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u00a01\u223cn\u00a0\u200b\u4e2d\u200b\u8d28\u6570\u200b\u7684\u200b\u4e2a\u6570\u200b\u3002</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_17","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u2264106</p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_18","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>8\n</code></pre>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#_19","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4\n</code></pre>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#code","title":"code","text":"<p>nloglogn</p> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\nconst int N = 1e6 + 10;\nint primes[N], cnt;\nbool st[N];\n\nvoid get_primes(int n) {\n    for (int i = 2; i &lt;= n; i++) {\n        if (st[i]) continue;\n        primes[cnt++] = i;\n        for (int j = i + i; j &lt;= n; j += i) {\n            st[j] = true;\n        }\n    }\n    cout &lt;&lt; cnt;\n\n}\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    get_primes(n);\n    return 0;\n}\n</code></pre> <p>o(n)</p> <p>pj \u200b\u662f\u200bx\u200b\u7684\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b \uff0c\u200b\u6240\u4ee5\u200b\u5224\u65ad\u200b\u5230\u200b\u6839\u53f7\u200bn\u200b\u5373\u53ef\u200b</p> <p>pj &lt;= i\u200b\u7684\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b</p> <pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\nconst int N = 1e6 + 10;\nint primes[N], cnt;\nbool st[N];\n\nvoid get_primes(int n) {\n    for (int i = 2; i &lt;= n; i++) {\n        if (!st[i]) primes[cnt++] = i;\n        for (int j = 0; primes[j] &lt;= n / i; j++) {\n            st[primes[j] * i] = true;\n            if (i % primes[j] == 0) break;\n        }\n    }\n}\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    get_primes(n);\n    cout &lt;&lt; cnt;\n    return 0;\n}\n</code></pre> <p>\u200b\u8d28\u6570\u200b\uff1a \u200b\u5927\u4e8e\u200b 1 \u200b\u7684\u200b\u6574\u6570\u200b\u4e2d\u200b \uff0c\u200b\u5982\u679c\u200b\u53ea\u200b\u5305\u542b\u200b1\u200b\u548c\u200b\u672c\u8eab\u200b\u8fd9\u200b\u4fe9\u4e2a\u200b\u7ea6\u6570\u200b</p> <p>\u200b\u8d28\u6570\u200b\u7684\u200b\u5224\u5b9a\u200b1.\u200b\u8bd5\u200b\u9664\u6cd5\u200b</p> <p>\u200b\u5206\u89e3\u200b\u8d28\u56e0\u6570\u200b \u200b\u8bd5\u200b\u9664\u6cd5\u200b</p> <p>\u200b\u4efb\u4f55\u200b\u6570\u90fd\u200b\u53ef\u4ee5\u200b\u8868\u793a\u200b\u6210\u200b\u8d28\u6570\u200b\u7684\u200b\u4e58\u79ef\u200b\u3002</p> <p>N\u200b\u53ea\u4f1a\u200b\u88ab\u200b \u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b</p> <p>i%pj == 0</p> <p>pj \u200b\u662f\u200b I\u200b\u7684\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b \u200b\u4e5f\u200b\u662f\u200bpj * i\u200b\u7684\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b</p> <p>i%pj != 0</p> <p>pj   \u200b\u662f\u200b  pj * i\u200b\u7684\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u5408\u6570\u200bx,\u200b\u4e00\u5b9a\u200b\u5b58\u5728\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b</p> <p>\u200b\u5047\u8bbe\u200bpj \u200b\u662f\u200bx\u200b\u7684\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b\uff0c \u200b\u5f53\u200bi \u200b\u7f8e\u5267\u5bfc\u200b x/pj </p> <p>\u200b\u6bcf\u4e2a\u200b\u6570\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b </p> <p>i\u200b\u662f\u200b \u200b\u5408\u6570\u200b \u200b\u6700\u5c0f\u200b\u8d28\u200b\u56e0\u5b50\u200b\u5c31\u200b\u4f1a\u200b\u505c\u4e0b\u6765\u200b</p> <p>i\u200b\u662f\u200b\u8d28\u6570\u200b pj == i \u200b\u4e5f\u200b\u4f1a\u200b\u505c\u4e0b\u6765\u200b</p> <p>n + n/2 + n/3 + ... 1</p> <p>1\u200b\u7684\u200b\u500d\u6570\u200b 2\u200b\u7684\u200b\u500d\u6570\u200b 3\u200b\u7684\u200b\u500d\u6570\u200b</p> <p>1\u200b\u7684\u200b\u7ea6\u6570\u200b 2\u200b\u7684\u200b\u7ea6\u675f\u200b</p> <p>nlogn</p> <p>1\u200b\u662f\u200b\u6240\u6709\u200b\u500d\u6570\u200b\u7684\u200b\u7ea6\u6570\u200b</p> <p>int \u200b\u8303\u56f4\u200b\u5185\u200b\u67d0\u4e2a\u200b\u6570\u200b1500\u200b\u4e2a\u200b\u7ea6\u200b\u6570\u5b57\u200b </p>"},{"location":"algo/base/3%E6%95%B0%E5%AD%A6/#222","title":"222","text":"<p>\u200b\u6b27\u62c9\u200b\u51fd\u6570\u200b</p> <p>1-n \u200b\u4e2d\u200b\u548c\u200bn\u200b\u4e92\u8d28\u200b\u7684\u200b\u4e2a\u6570\u200b</p> <p></p> <p></p> <p>\u200b\u5bb9\u8d28\u200b\u539f\u7406\u200b\uff1a</p> <p></p> <p>\u200b\u7b49\u4ef7\u200b</p> <p></p> <p>n\u200b\u66f4\u597d\u200bi</p> <p>400w - 500w</p> <p>34</p>"},{"location":"algo/base/4dp/","title":"dp","text":""},{"location":"algo/base/4dp/#1","title":"1\u200b\u80cc\u5305\u200b\u95ee\u9898","text":""},{"location":"algo/base/4dp/#01","title":"01\u200b\u80cc\u5305\u200b\u95ee\u9898","text":"<p>\u200b\u6709\u200b N \u200b\u4ef6\u7269\u54c1\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5bb9\u91cf\u200b\u662f\u200b V \u200b\u7684\u200b\u80cc\u5305\u200b\u3002\u200b\u6bcf\u200b\u4ef6\u7269\u54c1\u200b\u53ea\u80fd\u200b\u4f7f\u7528\u200b\u4e00\u6b21\u200b\u3002</p> <p>\u200b\u7b2c\u200b i \u200b\u4ef6\u7269\u54c1\u200b\u7684\u200b\u4f53\u79ef\u200b\u662f\u200b vi\uff0c\u200b\u4ef7\u503c\u200b\u662f\u200b wi\u3002</p> <p>\u200b\u6c42\u89e3\u200b\u5c06\u200b\u54ea\u4e9b\u200b\u7269\u54c1\u200b\u88c5\u5165\u200b\u80cc\u5305\u200b\uff0c\u200b\u53ef\u200b\u4f7f\u200b\u8fd9\u4e9b\u200b\u7269\u54c1\u200b\u7684\u200b\u603b\u200b\u4f53\u79ef\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u4e14\u200b\u603b\u4ef7\u503c\u200b\u6700\u5927\u200b\u3002 \u200b\u8f93\u51fa\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_1","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b\uff0cN\uff0cV\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7269\u54c1\u200b\u6570\u91cf\u200b\u548c\u200b\u80cc\u5305\u200b\u5bb9\u79ef\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u6709\u200b N \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b vi,wi\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7b2c\u200b i \u200b\u4ef6\u7269\u54c1\u200b\u7684\u200b\u4f53\u79ef\u200b\u548c\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_2","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_3","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0&lt;N,V\u22641000 0&lt;vi,wi\u22641000</p>"},{"location":"algo/base/4dp/#_4","title":"\u8f93\u5165\u200b\u6837\u4f8b","text":"<pre><code>4 5\n1 2\n2 4\n3 4\n4 5\n</code></pre>"},{"location":"algo/base/4dp/#_5","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>8\n</code></pre>"},{"location":"algo/base/4dp/#code","title":"code","text":""},{"location":"algo/base/4dp/#_6","title":"\u672a\u200b\u4f18\u5316","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 1010;\nint v[N], w[N], n, m, f[N][N];\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];\n\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 0; j &lt;= m; j++) {\n            f[i][j] = max(f[i][j], f[i - 1][j]);\n            if (j &gt;= v[i]) {\n                f[i][j] = max(f[i][j], f[i - 1][j - v[i]] + w[i]);\n            }\n\n        }\n    }\n\n    cout &lt;&lt; f[n][m];\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#_7","title":"\u4f18\u5316","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 1010;\nint v[N], w[N], n, m, f[N];\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];\n\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = m; j &gt;= v[i]; j--) {\n            f[j] = max(f[j], f[j - v[i]] + w[i]);\n        }\n    }\n\n    cout &lt;&lt; f[m];\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#_8","title":"\u5b8c\u5168\u200b\u80cc\u5305","text":"<p>\u200b\u6709\u200b N \u200b\u79cd\u200b\u7269\u54c1\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5bb9\u91cf\u200b\u662f\u200b V \u200b\u7684\u200b\u80cc\u5305\u200b\uff0c\u200b\u6bcf\u79cd\u200b\u7269\u54c1\u200b\u90fd\u200b\u6709\u200b\u65e0\u9650\u200b\u4ef6\u200b\u53ef\u7528\u200b\u3002</p> <p>\u200b\u7b2c\u200b ii \u200b\u79cd\u200b\u7269\u54c1\u200b\u7684\u200b\u4f53\u79ef\u200b\u662f\u200b vi\uff0c\u200b\u4ef7\u503c\u200b\u662f\u200b wi\u3002</p> <p>\u200b\u6c42\u89e3\u200b\u5c06\u200b\u54ea\u4e9b\u200b\u7269\u54c1\u200b\u88c5\u5165\u200b\u80cc\u5305\u200b\uff0c\u200b\u53ef\u200b\u4f7f\u200b\u8fd9\u4e9b\u200b\u7269\u54c1\u200b\u7684\u200b\u603b\u200b\u4f53\u79ef\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u4e14\u200b\u603b\u4ef7\u503c\u200b\u6700\u5927\u200b\u3002 \u200b\u8f93\u51fa\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_9","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b\uff0cN\uff0cV\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7269\u54c1\u200b\u79cd\u6570\u200b\u548c\u200b\u80cc\u5305\u200b\u5bb9\u79ef\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u6709\u200b N \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b vi,wi\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7b2c\u200b i \u200b\u79cd\u200b\u7269\u54c1\u200b\u7684\u200b\u4f53\u79ef\u200b\u548c\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_10","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_11","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0&lt;N,V\u22641000 0&lt;vi,wi\u22641000</p>"},{"location":"algo/base/4dp/#_12","title":"\u8f93\u5165\u200b\u6837\u4f8b","text":"<pre><code>4 5\n1 2\n2 4\n3 4\n4 5\n</code></pre>"},{"location":"algo/base/4dp/#_13","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\n</code></pre>"},{"location":"algo/base/4dp/#code_1","title":"code","text":""},{"location":"algo/base/4dp/#_14","title":"\u672a\u200b\u4f18\u5316","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 1010;\nint v[N], w[N], n, m, f[N][N];\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];\n\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 0; j &lt;= m; j++) {\n            for (int k = 0; k * v[i] &lt;= j; k++) {\n                f[i][j] = max(f[i][j], f[i - 1][j - k * v[i]] + k * w[i]);\n            }\n        }\n    }\n\n    cout &lt;&lt; f[n][m];\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#_15","title":"\u4f18\u5316","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 1010;\nint v[N], w[N], n, m, f[N];\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];\n\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = v[i]; j &lt;= m; j++) {\n            f[j] = max(f[j], f[j - v[i]] + w[i]);\n        }\n    }\n\n    cout &lt;&lt; f[m];\n    return 0;\n}\n</code></pre> <pre><code>f[i][j] = i-1j, i-1j-v + w, i-1j-2v + 2w, ...\n\nfij-v = i-1j-v, i-1j-2v+w, ... \n\nij = max(i-1j, ij-v + w)\n</code></pre>"},{"location":"algo/base/4dp/#1_1","title":"\u591a\u91cd\u200b\u80cc\u5305\u200b1","text":"<p>\u200b\u6709\u200b N \u200b\u79cd\u200b\u7269\u54c1\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5bb9\u91cf\u200b\u662f\u200b V \u200b\u7684\u200b\u80cc\u5305\u200b\u3002</p> <p>\u200b\u7b2c\u200b i \u200b\u79cd\u200b\u7269\u54c1\u200b\u6700\u591a\u200b\u6709\u200b si \u200b\u4ef6\u200b\uff0c\u200b\u6bcf\u4ef6\u200b\u4f53\u79ef\u200b\u662f\u200b vi\uff0c\u200b\u4ef7\u503c\u200b\u662f\u200b wi\u3002</p> <p>\u200b\u6c42\u89e3\u200b\u5c06\u200b\u54ea\u4e9b\u200b\u7269\u54c1\u200b\u88c5\u5165\u200b\u80cc\u5305\u200b\uff0c\u200b\u53ef\u200b\u4f7f\u200b\u7269\u54c1\u200b\u4f53\u79ef\u200b\u603b\u548c\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u4e14\u200b\u4ef7\u503c\u200b\u603b\u548c\u200b\u6700\u5927\u200b\u3002 \u200b\u8f93\u51fa\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_16","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b\uff0cN\uff0cV\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7269\u54c1\u200b\u79cd\u6570\u200b\u548c\u200b\u80cc\u5305\u200b\u5bb9\u79ef\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u6709\u200b N \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b vi,wi,si\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7b2c\u200b i \u200b\u79cd\u200b\u7269\u54c1\u200b\u7684\u200b\u4f53\u79ef\u200b\u3001\u200b\u4ef7\u503c\u200b\u548c\u200b\u6570\u91cf\u200b\u3002</p>"},{"location":"algo/base/4dp/#_17","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_18","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0&lt;N,V\u2264100 0&lt;vi,wi,si\u2264100</p>"},{"location":"algo/base/4dp/#_19","title":"\u8f93\u5165\u200b\u6837\u4f8b","text":"<pre><code>4 5\n1 2 3\n2 4 1\n3 4 3\n4 5 2\n</code></pre>"},{"location":"algo/base/4dp/#_20","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 110;\nint n, m, v[N], w[N], s[N];\nint f[N][N];\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 1; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i];\n\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 0; j &lt;= m; j++) {\n            for (int k = 0; k * v[i] &lt;= j &amp;&amp; k &lt;= s[i]; k++) {\n                f[i][j] = max(f[i][j], f[i - 1][j - k * v[i]] + k * w[i]);\n            }\n        }\n    }\n\n    cout &lt;&lt; f[n][m];\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#ii","title":"\u591a\u91cd\u200b\u80cc\u5305\u200bII","text":"<p>\u200b\u6709\u200b NN \u200b\u79cd\u200b\u7269\u54c1\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5bb9\u91cf\u200b\u662f\u200b VV \u200b\u7684\u200b\u80cc\u5305\u200b\u3002</p> <p>\u200b\u7b2c\u200b ii \u200b\u79cd\u200b\u7269\u54c1\u200b\u6700\u591a\u200b\u6709\u200b sisi \u200b\u4ef6\u200b\uff0c\u200b\u6bcf\u4ef6\u200b\u4f53\u79ef\u200b\u662f\u200b vivi\uff0c\u200b\u4ef7\u503c\u200b\u662f\u200b wiwi\u3002</p> <p>\u200b\u6c42\u89e3\u200b\u5c06\u200b\u54ea\u4e9b\u200b\u7269\u54c1\u200b\u88c5\u5165\u200b\u80cc\u5305\u200b\uff0c\u200b\u53ef\u200b\u4f7f\u200b\u7269\u54c1\u200b\u4f53\u79ef\u200b\u603b\u548c\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u80cc\u5305\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u4e14\u200b\u4ef7\u503c\u200b\u603b\u548c\u200b\u6700\u5927\u200b\u3002 \u200b\u8f93\u51fa\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_21","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b\uff0cN\uff0cV\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7269\u54c1\u200b\u79cd\u6570\u200b\u548c\u200b\u80cc\u5305\u200b\u5bb9\u79ef\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u6709\u200b NN \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b vi,wi,sivi,wi,si\uff0c\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u7b2c\u200b ii \u200b\u79cd\u200b\u7269\u54c1\u200b\u7684\u200b\u4f53\u79ef\u200b\u3001\u200b\u4ef7\u503c\u200b\u548c\u200b\u6570\u91cf\u200b\u3002</p>"},{"location":"algo/base/4dp/#_22","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5927\u200b\u4ef7\u503c\u200b\u3002</p>"},{"location":"algo/base/4dp/#_23","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0&lt;N\u226410000&lt;N\u22641000 0&lt;V\u226420000&lt;V\u22642000 0&lt;vi,wi,si\u226420000&lt;vi,wi,si\u22642000</p>"},{"location":"algo/base/4dp/#_24","title":"\u63d0\u793a\u200b\uff1a","text":"<p>\u200b\u672c\u9898\u200b\u8003\u67e5\u200b\u591a\u91cd\u200b\u80cc\u5305\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u4f18\u5316\u200b\u65b9\u6cd5\u200b\u3002</p>"},{"location":"algo/base/4dp/#_25","title":"\u8f93\u5165\u200b\u6837\u4f8b","text":"<pre><code>4 5\n1 2 3\n2 4 1\n3 4 3\n4 5 2\n</code></pre>"},{"location":"algo/base/4dp/#_26","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>10\n</code></pre> <p>0 1023</p> <p>1 2 4 8 ... 512</p> <p>0 - 512</p> <p>\u200b\u53ef\u4ee5\u200b\u51d1\u51fa\u200b 0 1023\u200b\u4efb\u610f\u200b\u6570\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 11 * 2000 + 10, M = 2010;\nint n, m, v[N], w[N], f[N];\n\nint main() {\n    cin &gt;&gt; n &gt;&gt; m;\n    int cnt = 0;\n    for (int i = 1; i &lt;= n; i++) {\n        int a, b, c, k = 1;\n        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n        while (k &lt;= c) {\n            cnt++;\n            v[cnt] = k * a;\n            w[cnt] = k * b;\n            c -= k;\n            k *= 2;\n        }\n        if (c &gt; 0) {\n            cnt++, v[cnt] = c * a, w[cnt] = c * b;\n\n        }\n    }\n\n    for (int i = 1; i &lt;= cnt; i++) {\n        for (int j = m; j &gt;= v[i]; j--) {\n            f[j] = max(f[j], f[j - v[i]] + w[i]);\n        }\n    }\n\n    cout &lt;&lt; f[m];\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#42","title":"4.2","text":"<p>\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\uff1a</p> <p>\u200b\u72b6\u6001\u200b\u6570\u91cf\u200b * \u200b\u8f6c\u79fb\u200b\u8ba1\u7b97\u200b\u91cf\u200b</p> <pre><code>f[i][j] = max(f[i - 1][j], f[i - 1][j]) + a[i][j];\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u521d\u59cb\u5316\u200b\u6bcf\u884c\u200b\u591a\u200b\u4e00\u4e2a\u70b9\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 510, INF = 0x3f3f3f3f;\nint n, f[N][N], a[N][N];\n\nint main() {\n    cin &gt;&gt; n;\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 1; j &lt;= i; j++) {\n            cin &gt;&gt; a[i][j];\n        }\n    }\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 0; j &lt;= i + 1; j++) {\n            f[i][j] = -INF;\n        }\n    }\n\n\n    f[1][1] = a[1][1];\n    for (int i = 2; i &lt;= n; i++) {\n        for (int j = 1; j &lt;= i; j++) {\n            f[i][j] = max(f[i -1][j - 1], f[i - 1][j]) + a[i][j];\n        }\n    }\n    int res = -INF;\n    for (int i = 1; i &lt;= n; i++) {\n        res = max(res, f[n][i]);\n    }\n    cout &lt;&lt; res;\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#_27","title":"\u6700\u957f\u200b\u516c\u5171\u200b\u5b50\u200b\u5e8f\u5217","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e24\u4e2a\u200b\u957f\u5ea6\u200b\u5206\u522b\u200b\u4e3a\u200b N \u200b\u548c\u200b M \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b A \u200b\u548c\u200b B\uff0c\u200b\u6c42\u200b\u65e2\u200b\u662f\u200b A \u200b\u7684\u200b\u5b50\u200b\u5e8f\u5217\u200b\u53c8\u200b\u662f\u200b B \u200b\u7684\u200b\u5b50\u200b\u5e8f\u5217\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\u6700\u957f\u200b\u662f\u200b\u591a\u5c11\u200b\u3002</p>"},{"location":"algo/base/4dp/#_28","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b N \u200b\u548c\u200b M\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b N \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u8868\u793a\u200b\u5b57\u7b26\u4e32\u200b A\u3002</p> <p>\u200b\u7b2c\u4e09\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b M \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u8868\u793a\u200b\u5b57\u7b26\u4e32\u200b B\u3002</p> <p>\u200b\u5b57\u7b26\u4e32\u200b\u5747\u200b\u7531\u200b\u5c0f\u5199\u5b57\u6bcd\u200b\u6784\u6210\u200b\u3002</p>"},{"location":"algo/base/4dp/#_29","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\u3002</p>"},{"location":"algo/base/4dp/#_30","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264N,M\u22641000</p>"},{"location":"algo/base/4dp/#_31","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4 5\nacbd\nabedc\n</code></pre>"},{"location":"algo/base/4dp/#_32","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 1010;\nint f[N][N], n, m;\nstring a, b;\n\nint main() {\n    scanf(\"%d %d\", &amp;n, &amp;m);\n    cin &gt;&gt; a &gt;&gt; b;\n    for (int i = 1; i &lt;= n; i++) {\n        for (int j = 1; j &lt;= m; j++) {\n            f[i][j] = max(f[i -1][j], f[i][j - 1]);\n            if (a[i - 1] == b[j - 1]){\n                f[i][j] = max(f[i][j], f[i - 1][j - 1] + 1);\n            }\n        }\n    }\n\n    cout &lt;&lt; f[n][m];\n    return 0;\n}\n</code></pre>"},{"location":"algo/base/4dp/#_33","title":"\u77f3\u5b50\u200b\u5408\u5e76","text":"<p>\u200b\u8bbe\u6709\u200b NN \u200b\u5806\u200b\u77f3\u5b50\u200b\u6392\u6210\u200b\u4e00\u6392\u200b\uff0c\u200b\u5176\u200b\u7f16\u53f7\u200b\u4e3a\u200b 1\uff0c2\uff0c3\uff0c\u2026\uff0cN\u3002</p> <p>\u200b\u6bcf\u5806\u200b\u77f3\u5b50\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u8d28\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\u6765\u200b\u63cf\u8ff0\u200b\uff0c\u200b\u73b0\u5728\u200b\u8981\u200b\u5c06\u200b\u8fd9\u200b N \u200b\u5806\u200b\u77f3\u5b50\u200b\u5408\u5e76\u200b\u6210\u4e3a\u200b\u4e00\u5806\u200b\u3002</p> <p>\u200b\u6bcf\u6b21\u200b\u53ea\u80fd\u200b\u5408\u5e76\u200b\u76f8\u90bb\u200b\u7684\u200b\u4e24\u5806\u200b\uff0c\u200b\u5408\u5e76\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b\u8fd9\u200b\u4e24\u5806\u200b\u77f3\u5b50\u200b\u7684\u200b\u8d28\u91cf\u200b\u4e4b\u200b\u548c\u200b\uff0c\u200b\u5408\u5e76\u200b\u540e\u200b\u4e0e\u200b\u8fd9\u200b\u4e24\u5806\u200b\u77f3\u5b50\u200b\u76f8\u90bb\u200b\u7684\u200b\u77f3\u5b50\u200b\u5c06\u200b\u548c\u200b\u65b0\u5806\u200b\u76f8\u90bb\u200b\uff0c\u200b\u5408\u5e76\u200b\u65f6\u200b\u7531\u4e8e\u200b\u9009\u62e9\u200b\u7684\u200b\u987a\u5e8f\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5408\u5e76\u200b\u7684\u200b\u603b\u200b\u4ee3\u4ef7\u200b\u4e5f\u200b\u4e0d\u200b\u76f8\u540c\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\u6709\u200b 4 \u200b\u5806\u200b\u77f3\u5b50\u200b\u5206\u522b\u200b\u4e3a\u200b <code>1 3 5 2</code>\uff0c \u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5148\u200b\u5408\u5e76\u200b 1\u30012 \u200b\u5806\u200b\uff0c\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b 4\uff0c\u200b\u5f97\u5230\u200b <code>4 5 2</code>\uff0c \u200b\u53c8\u200b\u5408\u5e76\u200b 1\uff0c2\u200b\u5806\u200b\uff0c\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b 9\uff0c\u200b\u5f97\u5230\u200b <code>9 2</code> \uff0c\u200b\u518d\u200b\u5408\u5e76\u200b\u5f97\u5230\u200b 11\uff0c\u200b\u603b\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b 4+9+11=24\uff1b</p> <p>\u200b\u5982\u679c\u200b\u7b2c\u4e8c\u6b65\u200b\u662f\u200b\u5148\u200b\u5408\u5e76\u200b 2\uff0c3\u200b\u5806\u200b\uff0c\u200b\u5219\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b 7\uff0c\u200b\u5f97\u5230\u200b <code>4 7</code>\uff0c\u200b\u6700\u540e\u200b\u4e00\u6b21\u200b\u5408\u5e76\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b 11\uff0c\u200b\u603b\u200b\u4ee3\u4ef7\u200b\u4e3a\u200b 4+7+11=22\u3002</p> <p>\u200b\u95ee\u9898\u200b\u662f\u200b\uff1a\u200b\u627e\u51fa\u200b\u4e00\u79cd\u200b\u5408\u7406\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f7f\u200b\u603b\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u6700\u5c0f\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6700\u5c0f\u200b\u4ee3\u4ef7\u200b\u3002</p>"},{"location":"algo/base/4dp/#_34","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u4e00\u4e2a\u200b\u6570\u200b N \u200b\u8868\u793a\u200b\u77f3\u5b50\u200b\u7684\u200b\u5806\u6570\u200b N\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b N \u200b\u4e2a\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6bcf\u5806\u200b\u77f3\u5b50\u200b\u7684\u200b\u8d28\u91cf\u200b(\u200b\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 1000)\u3002</p>"},{"location":"algo/base/4dp/#_35","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5c0f\u200b\u4ee3\u4ef7\u200b\u3002</p>"},{"location":"algo/base/4dp/#_36","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264N\u2264300</p>"},{"location":"algo/base/4dp/#_37","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4\n1 3 5 2\n</code></pre>"},{"location":"algo/base/4dp/#_38","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>22\n</code></pre> <pre><code>min{f[i][k] + f[k+1][j] + s[j] - s[i - 1]}\nk= i -&gt; j-1\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nconst int N = 310;\nint s[N], f[N][N];\n\nint main() {\n    int n;\n    scanf(\"%d\", &amp;n);\n    for (int i = 1; i &lt;= n; i++) {\n        scanf(\"%d\", &amp;s[i]);\n        s[i] += s[i - 1];\n    }\n\n    for (int len = 2; len &lt;= n; len++) {\n        for (int i = 1; i + len - 1 &lt;= n; i++) {\n            int j = i + len - 1;\n            f[i][j] = 1e8;\n            for (int k = i; k &lt; j; k++) {\n                f[i][j] = min(f[i][j], f[i][k] + f[k + 1][j] + s[j] - s[i - 1]);\n            }\n        }\n    }\n    cout &lt;&lt; f[1][n];\n    return 0;\n}\n</code></pre> <pre><code>1 &lt;= xxx1yyy &lt;= abcdefg\n\n\n1.xxx=000 ~ abc-1, yyy=000~999  abc * 1000\n\n2.xxx = abc\n\n2.1 d &lt; 1 abc1yyy &gt; abc0efg 0\n2.2 d = 1 yyy = 000 ~ efg efg+1\n2.3 d &gt; 1 yyy = 000 ~ 999 1000\n</code></pre> <pre><code>f[i,j] i\u200b\u5217\u200b\nj:\u200b\u884c\u200b\u6570\u200b\u4e8c\u8fdb\u5236\u200b 10010\n</code></pre> <pre><code>1 &lt;= xxx1yyy &lt;= abcdefg\n\n\n1. xxx=000~abc yyy=(000~999) -&gt; abc*1000\n2. xxx=abc\n    d&lt;1 abc1yyy yyy=0\n    d=1 yyy=(000~efg) -&gt; efg+1\n    d&gt;1 yyy=(000~999) -&gt; 1000\n</code></pre> <pre><code>f[ij]\n\ni\u200b\u5217\u200b\nj \u200b\u884c\u200b\u6570\u200b\u4e8c\u8fdb\u5236\u200b\n\n\n1.j&amp;k == 0\n2.j|k \u200b\u4e0d\u200b\u5b58\u5728\u200b\u8fde\u7eed\u200b\u5947\u6570\u200b\u4e2a\u200b0\n</code></pre> <pre><code>f[ij] \u200b\u4ece\u200b0\u200b\u8d70\u200b\u5230\u200bj,\u200b\u8d70\u8fc7\u200b\u6240\u6709\u200b\u7684\u200b\u70b9\u200b\u662f\u200bi\u200b\u7684\u200b\u6240\u6709\u200b\u8def\u5f84\u200b\ni:\u200b\u4e8c\u8fdb\u5236\u200b 1\u200b\u8d70\u8fc7\u200b 0\u200b\u6ca1\u6709\u200b\u8d70\u8fc7\u200b\n</code></pre>"},{"location":"algo/base/%E8%B4%AA%E5%BF%83/","title":"\u8d2a\u5fc3","text":"<p>\u200b\u533a\u95f4\u200b\u9009\u70b9\u200b</p> <p>1.\u200b\u533a\u95f4\u200b\u53f3\u200b\u7aef\u70b9\u200b \u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b</p> <p>2.\u200b\u4ece\u524d\u200b\u5f80\u540e\u200b\u4f9d\u6b21\u200b\u679a\u4e3e\u200b\u6bcf\u4e2a\u200b\u533a\u95f4\u200b(\u200b\u5982\u679c\u200b\u5305\u542b\u200b\u5219\u200bpass \u200b\u5426\u5219\u200b\u9009\u62e9\u200b\u5f53\u524d\u200b\u533a\u95f4\u200b\u7684\u200b\u53f3\u200b\u7aef\u70b9\u200b)</p> <p>\u200b\u4e00\u79cd\u200b\u53ef\u884c\u200b\u89e3\u200b</p> <p>ans &lt;= cnt</p> <p>ans \u200b\u6700\u5c0f\u503c\u200b</p> <p>ans &gt;= cnt</p> <p>\u200b\u6ca1\u6709\u200b\u4ea4\u96c6\u200b \u200b\u81f3\u5c11\u200b\u9700\u8981\u200bcnt</p> <p>\u200b\u65b9\u4fbf\u200b\u67e5\u770b\u200bzookeeper</p> <p>prettyzoo</p> <p>\u200b\u6c34\u5e73\u200b\u6269\u5bb9\u200b</p> <p>100\u200b\u6761\u200b\u6570\u636e\u200b\u5206\u5f00\u200b\u5b58\u200b\u5230\u200b</p> <p>\u200b\u8c03\u6574\u6cd5\u200b+\u200b\u53cd\u8bc1\u6cd5\u200b</p> <p>\u200b\u5047\u8bbe\u200b\u6700\u4f18\u200b\u89e3\u200b\u4e0d\u662f\u200b\u6392\u5e8f\u200b \u200b\u5b58\u5728\u200b\u76f8\u90bb\u200b$t_i$, $t_{i+1}$</p> <p>\u200b\u524d\u9762\u200b</p> <p>$t_i \\times (n - i) + t_{i+1} \\times (n-i-1)$  </p> <p>\u200b\u540e\u9762\u200b</p> <p>$t_i \\times (n - i-1) +  t_{i+1} \\times (n-i)$</p> <p>$t_i$ - $t_{i+1}$ &gt; 0</p> <p>\u200b\u77db\u76fe\u200b \u200b\u4e0d\u662f\u200b\u6700\u4f18\u200b\u89e3\u200b</p> <pre><code>-- n-1\u200b\u770b\u6210\u200b\u6743\u91cd\u200b\nt = t1*(n-1) + t2*(n-2) + ...\n</code></pre> <p>\u200b\u4ece\u5c0f\u5230\u5927\u200b\u6392\u5e8f\u200b\uff0c \u200b\u603b\u200b\u65f6\u95f4\u200b\u6700\u5c0f\u200b</p> <p>$f(x) =  |x_1 - x| + |x_2 - x| + ...$ </p> <p>$ = (|x_1 - x| + |x_{n} - x|) + (|x_2 - x| + |x_{n-1} - x|)$</p> <p>\u200b\u4e2d\u4f4d\u6570\u200b a b \u200b\u4e4b\u95f4\u200b \u200b\u624d\u200b\u53ef\u4ee5\u200b  $&gt;=(x_n - x_1) + .... $</p> <p>\u200b\u5206\u7ec4\u200b 1 ,n &amp; 2 ,n-1</p> <p>$w_i + s_i$  \u200b\u4ece\u5c0f\u5230\u5927\u200b\u6700\u5927\u200b\u5371\u9669\u200b\u7cfb\u6570\u200b\u4e00\u5b9a\u200b\u662f\u200b\u6700\u5c0f\u200b\u7684\u200b</p> <p>\u200b\u8d2a\u5fc3\u200b\u5f97\u5230\u200b\u7684\u200b\u7b54\u6848\u200b &gt;= \u200b\u6700\u4f18\u200b\u89e3\u200b</p> <p>&lt;= \u200b\u6700\u4f18\u200b\u89e3\u200b</p> <pre><code>wi + si &gt; w(i+1) + s(i+1)\n</code></pre> <p>\u200b\u4ea4\u6362\u200b\u524d\u200b w1 + w2 + ... w(i-1)-si    w1+ w2 + wi - s(i+1)</p> <p>\u200b\u4ea4\u6362\u200b\u540e\u200b w1 + w2 + ... w(i-1)-s(i+1)    w1+ w2 + w(i-1)+w(i+1) - s(i)</p> <p>\u200b\u90fd\u200b si + s(i+1)</p> <p>-si                 wi - s(i+1)</p> <p>-s(i+1)             w(i+1) - s(i)</p> <p>s(i+1)              wi +s(i)</p> <p>s(i)            w(i+1) +s(i+1)</p> <p>\u200b\u6700\u5927\u200b\u5371\u9669\u200b\u7cfb\u6570\u200b \u200b\u5c3d\u53ef\u80fd\u200b\u5c0f\u200b</p> <p>max(s(i) ,w(i+1) +s(i+1)) &lt; wi + si  \u200b\u4ea4\u6362\u200b\u540e\u200b \u200b\u53d1\u751f\u200b\u9006\u8f6c\u200b</p>"},{"location":"bigdata/clickhouse/advanced/","title":"advanced","text":""},{"location":"bigdata/clickhouse/advanced/#explain","title":"Explain \u200b\u6267\u884c\u200b\u8ba1\u5212","text":"<p>version &gt;= 21.7.3.14</p>"},{"location":"bigdata/clickhouse/advanced/#_1","title":"\u57fa\u672c\u200b\u8bed\u6cd5","text":"<pre><code>EXPLAIN [AST | SYNTAX | PLAN | PIPELINE] [setting = value, ...]\nSELECT ... [FORMAT ...]\n</code></pre> <ul> <li>PLAN:\u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b\u6267\u884c\u200b\u8ba1\u5212\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u3002<ul> <li>header \u200b\u6253\u5370\u200b\u8ba1\u5212\u200b\u4e2d\u200b\u5404\u4e2a\u200b\u6b65\u9aa4\u200b\u7684\u200b head \u200b\u8bf4\u660e\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b 0</li> <li>description \u200b\u6253\u5370\u200b\u8ba1\u5212\u200b\u4e2d\u200b\u5404\u4e2a\u200b\u6b65\u9aa4\u200b\u7684\u200b\u6982\u8ff0\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5f00\u542f\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b 1</li> <li>actions \u200b\u6253\u5370\u200b\u8ba1\u5212\u200b\u4e2d\u200b\u5404\u4e2a\u200b\u6b65\u9aa4\u200b\u7684\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b0</li> </ul> </li> <li>AST \u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b\u8bed\u6cd5\u200b\u6811\u200b</li> <li>SYNTAX:\u200b\u7528\u4e8e\u200b\u4f18\u5316\u200b\u8bed\u6cd5\u200b</li> <li>PIPELINE:\u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b PIPELINE \u200b\u8ba1\u5212\u200b<ul> <li>header \u200b\u6253\u5370\u200b\u8ba1\u5212\u200b\u4e2d\u200b\u5404\u4e2a\u200b\u6b65\u9aa4\u200b\u7684\u200b head \u200b\u8bf4\u660e\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b</li> <li>graph \u200b\u7528\u200bDOT\u200b\u56fe\u5f62\u200b\u8bed\u8a00\u200b\u63cf\u8ff0\u200b\u7ba1\u9053\u200b\u56fe\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5173\u95ed\u200b\uff0c\u200b\u9700\u8981\u200b\u67e5\u770b\u200b\u76f8\u5173\u200b\u7684\u200b\u56fe\u5f62\u200b\u9700\u8981\u200b\u914d\u5408\u200bgraphviz \u200b\u67e5\u770b\u200b</li> <li>actions \u200b\u5982\u679c\u200b\u5f00\u542f\u200b\u4e86\u200b graph\uff0c\u200b\u7d27\u51d1\u200b\u6253\u5370\u200b\u6253\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5f00\u542f\u200b</li> </ul> </li> </ul>"},{"location":"bigdata/clickhouse/advanced/#usage","title":"usage","text":""},{"location":"bigdata/clickhouse/advanced/#plan","title":"\u67e5\u770b\u200bplan","text":"<p>\u200b\u7b80\u5355\u200b\u67e5\u8be2\u200b</p> <pre><code>explain plan \nselect arrayJoin([1,2,3,null,null]);\n</code></pre> <p>\u200b\u590d\u6742\u200b SQL \u200b\u7684\u200b\u6267\u884c\u200b\u8ba1\u5212\u200b</p> <pre><code>explain select database,table,count(1) cnt from system.parts where\ndatabase in ('datasets','system') group by database,table order by\ndatabase,cnt desc limit 2 by database;\n</code></pre> <p>\u200b\u6253\u5f00\u200b\u5168\u90e8\u200b\u7684\u200b\u53c2\u6570\u200b\u7684\u200b\u6267\u884c\u200b\u8ba1\u5212\u200b</p> <pre><code>EXPLAIN header=1, actions=1,description=1 SELECT number from\nsystem.numbers limit 10;\n</code></pre> <pre><code>explain\nselect\n    database,\n    table,\n    count(1) cnt\nfrom\n    system.parts\nwhere\n    database in ('datasets', 'system')\ngroup by\n    database,\n    table\norder by\n    database,\n    cnt desc\nlimit 2 by database;\n</code></pre> <p></p> <p></p>"},{"location":"bigdata/clickhouse/advanced/#ast","title":"AST \u200b\u8bed\u6cd5\u200b\u6811","text":"<pre><code>EXPLAIN AST SELECT number from system.numbers limit 10;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#syntax","title":"SYNTAX \u200b\u8bed\u6cd5\u200b\u4f18\u5316","text":"<pre><code>//\u200b\u5148\u200b\u505a\u200b\u4e00\u6b21\u200b\u67e5\u8be2\u200b\nSELECT number = 1 ? 'hello' : (number = 2 ? 'world' : 'atguigu') FROM numbers(10);\n//\u200b\u67e5\u770b\u200b\u8bed\u6cd5\u200b\u4f18\u5316\u200b\nEXPLAIN SYNTAX SELECT number = 1 ? 'hello' : (number = 2 ? 'world' : 'atguigu') FROM numbers(10);\n//\u200b\u5f00\u542f\u200b\u4e09\u5143\u200b\u8fd0\u7b97\u7b26\u200b\u4f18\u5316\u200b\nSET optimize_if_chain_to_multiif = 1; //\u200b\u518d\u6b21\u200b\u67e5\u770b\u200b\u8bed\u6cd5\u200b\u4f18\u5316\u200b\nEXPLAIN SYNTAX SELECT number = 1 ? 'hello' : (number = 2 ? 'world' :\n'atguigu') FROM numbers(10);\n//\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b\nSELECT multiIf(number = 1, \\'hello\\', number = 2, \\'world\\', \\'xyz\\') FROM numbers(10)\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#pipeline","title":"\u67e5\u770b\u200b PIPELINE","text":"<pre><code>EXPLAIN PIPELINE SELECT sum(number) FROM numbers_mt(100000) GROUP BY\nnumber % 20;\n//\u200b\u6253\u5f00\u200b\u5176\u4ed6\u200b\u53c2\u6570\u200b\nEXPLAIN PIPELINE header=1,graph=1 SELECT sum(number) FROM numbers_mt(10000) GROUP BY number%20;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_2","title":"\u5efa\u8868\u200b\u4f18\u5316","text":""},{"location":"bigdata/clickhouse/advanced/#data-type","title":"data type \u200b\u6570\u636e\u7c7b\u578b","text":""},{"location":"bigdata/clickhouse/advanced/#_3","title":"\u65f6\u95f4\u200b\u5b57\u200b\u6bb5","text":"<p>\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\u5b57\u200b\u6bb5\u200b\u4f7f\u7528\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u5b57\u7b26\u4e32\u200b\uff08\u200b\u5b57\u7b26\u4e32\u200b\u8fd8\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b\uff09</p> <pre><code>create table t_type2(\n  id UInt32, \n  sku_id String, \n  total_amount Decimal(16, 2), \n  create_time Int32\n) engine = ReplacingMergeTree(create_time) partition by toYYYYMMDD(\n  toDate(create_time)\n) \u2013 - \u200b\u9700\u8981\u200b\u8f6c\u6362\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5426\u5219\u200b\u62a5\u9519\u200b primary key (id) \norder by \n  (id, sku_id);\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_4","title":"\u7a7a\u503c\u200b\u5b58\u50a8\u200b\u7c7b\u578b","text":"<p>Nullable\uff1a \u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u989d\u5916\u200b\u7684\u200b\u6587\u4ef6\u200b\u6765\u200b\u5b58\u50a8\u200b NULL \u200b\u7684\u200b\u6807\u8bb0\u200b\uff0c\u200b\u5e76\u4e14\u200b Nullable \u200b\u5217\u200b\u65e0\u6cd5\u200b\u88ab\u200b\u7d22\u5f15\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u5b57\u200b\u6bb5\u200b\u9ed8\u8ba4\u503c\u200b\u8868\u793a\u200b\u7a7a\u200b\uff0c\u200b\u6216\u8005\u200b\u81ea\u884c\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u5728\u200b\u4e1a\u52a1\u200b\u4e2d\u200b\u65e0\u200b\u610f\u4e49\u200b\u7684\u200b\u503c\u200b</p> <pre><code>CREATE TABLE t_null(x Int8, y Nullable(Int8)) ENGINE TinyLog;\nINSERT INTO t_null VALUES (1, NULL), (2, 3);\nSELECT x + y FROM t_null;\n</code></pre> <p></p>"},{"location":"bigdata/clickhouse/advanced/#_5","title":"\u5206\u533a\u200b\u7d22\u5f15","text":"<ul> <li>\u200b\u5206\u533a\u200b\u4e0d\u5b9c\u200b\u592a\u7c97\u200b\u6216\u200b\u592a\u7ec6\u200b\uff0c \u200b\u4e00\u200b\u4ebf\u6761\u200b\u6570\u636e\u200b\u63a8\u8350\u200b(10-30\u200b\u4e2a\u200b)</li> <li>order by\u200b\u5b57\u6bb5\u200b\u5373\u200b\u4e3a\u200b\u7d22\u5f15\u200b\uff1a\u200b\u67e5\u8be2\u200b\u9891\u7387\u200b\u5927\u200b\u7684\u200b\u5728\u200b\u524d\u200b\u539f\u5219\u200b\uff1b\u200b\u57fa\u6570\u200b\u7279\u522b\u200b\u5927\u200b\u7684\u200b\u4e0d\u200b\u9002\u5408\u200b\u505a\u200b\u7d22\u5f15\u200b</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#_6","title":"\u8868\u200b\u53c2\u6570","text":"<ul> <li>Index_granularity \u200b\u662f\u200b\u7528\u6765\u200b\u63a7\u5236\u200b\u7d22\u5f15\u200b\u7c92\u5ea6\u200b\u7684\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b 8192\uff0c\u200b\u5982\u975e\u200b\u5fc5\u987b\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u8c03\u6574\u200b</li> <li>\u200b\u9700\u8981\u200b\u6307\u5b9a\u200bttl</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#_7","title":"\u5199\u5165\u200b\u5220\u9664\u200b\u4f18\u5316","text":"<ul> <li>\u200b\u5c3d\u91cf\u200b\u4e0d\u8981\u200b\u6267\u884c\u200b\u5355\u6761\u200b\u6216\u200b\u5c0f\u6279\u91cf\u200b\u5220\u9664\u200b\u548c\u200b\u63d2\u5165\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u5c0f\u200b\u5206\u533a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7ed9\u200b\u540e\u53f0\u200b Merge \u200b\u4efb\u52a1\u200b\u5e26\u6765\u200b\u5de8\u5927\u200b\u538b\u529b\u200b</li> <li>\u200b\u4e0d\u8981\u200b\u4e00\u6b21\u200b\u5199\u5165\u200b\u592a\u200b\u591a\u200b\u5206\u533a\u200b\uff0c\u200b\u6216\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u592a\u5feb\u200b\uff0c\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u592a\u5feb\u200b\u4f1a\u200b\u5bfc\u81f4\u200b Merge \u200b\u901f\u5ea6\u200b\u8ddf\u4e0d\u4e0a\u200b\u800c\u200b\u62a5\u9519\u200b\uff0c\u200b\u4e00\u822c\u200b\u5efa\u8bae\u200b\u6bcf\u79d2\u949f\u200b\u53d1\u8d77\u200b 2-3 \u200b\u6b21\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u64cd\u4f5c\u200b\u5199\u5165\u200b 2w~5w \u200b\u6761\u200b\u6570\u636e\u200b(\u200b\u4f9d\u200b\u670d\u52a1\u5668\u200b \u200b\u6027\u80fd\u200b\u800c\u5b9a\u200b)</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#_8","title":"\u5e38\u89c1\u200b\u914d\u7f6e","text":"<p>config.xml \u200b\u6216\u200b users.xml</p>"},{"location":"bigdata/clickhouse/advanced/#cpu-conf","title":"cpu conf","text":"conf desc background_pool_size \u200b\u540e\u53f0\u200b\u7ebf\u7a0b\u200b\u6c60\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0cmerge \u200b\u7ebf\u7a0b\u200b\u5c31\u662f\u200b\u5728\u200b\u8be5\u200b\u7ebf\u7a0b\u200b\u6c60\u4e2d\u200b\u6267\u884c\u200b\uff0c\u200b\u8be5\u200b\u7ebf\u7a0b\u200b\u6c60\u200b \u200b\u4e0d\u4ec5\u4ec5\u200b\u662f\u200b\u7ed9\u200b merge \u200b\u7ebf\u7a0b\u200b\u7528\u200b\u7684\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b 16\uff0c\u200b\u5141\u8bb8\u200b\u7684\u200b\u524d\u63d0\u200b\u4e0b\u200b\u5efa\u8bae\u200b\u6539\u6210\u200b c pu \u200b\u4e2a\u6570\u200b\u7684\u200b 2 \u200b\u500d\u200b(\u200b\u7ebf\u7a0b\u200b\u6570\u200b)\u3002 background_schedule_pool_size \u200b\u6267\u884c\u200b\u540e\u53f0\u4efb\u52a1\u200b(\u200b\u590d\u5236\u200b\u8868\u200b\u3001Kafka \u200b\u6d41\u200b\u3001DNS \u200b\u7f13\u5b58\u200b\u66f4\u65b0\u200b)\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u6570\u200b\u3002\u200b\u9ed8\u200b \u200b\u8ba4\u200b 128\uff0c\u200b\u5efa\u8bae\u200b\u6539\u6210\u200b cpu \u200b\u4e2a\u6570\u200b\u7684\u200b 2 \u200b\u500d\u200b(\u200b\u7ebf\u7a0b\u200b\u6570\u200b)\u3002 background_distributed_schedule_ pool_size \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u5206\u5e03\u5f0f\u200b\u53d1\u9001\u200b\u6267\u884c\u200b\u540e\u53f0\u4efb\u52a1\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 16\uff0c\u200b\u5efa\u8bae\u200b\u6539\u6210\u200b cpu \u200b\u4e2a\u6570\u200b\u7684\u200b 2 \u200b\u500d\u200b(\u200b\u7ebf\u7a0b\u200b\u6570\u200b)\u3002 max_concurrent_queries \u200b\u6700\u5927\u200b\u5e76\u53d1\u200b\u5904\u7406\u200b\u7684\u200b\u8bf7\u6c42\u200b\u6570\u200b(\u200b\u5305\u542b\u200b select,insert \u200b\u7b49\u200b)\uff0c\u200b\u9ed8\u8ba4\u503c\u200b 100\uff0c\u200b\u63a8\u8350\u200b 1 50(\u200b\u4e0d\u591f\u200b\u518d\u200b\u52a0\u200b)~300\u3002 max_threads \u200b\u8bbe\u7f6e\u200b\u5355\u4e2a\u200b\u67e5\u8be2\u200b\u6240\u200b\u80fd\u200b\u4f7f\u7528\u200b\u7684\u200b\u6700\u5927\u200b cpu \u200b\u4e2a\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b cpu \u200b\u6838\u6570"},{"location":"bigdata/clickhouse/advanced/#mem-conf","title":"mem conf","text":"conf desc max_memory_usage \u200b\u6b64\u53c2\u6570\u200b\u5728\u200b users.xml \u200b\u4e2d\u200b,\u200b\u8868\u793a\u200b\u5355\u6b21\u200b Query \u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u6700\u5927\u503c\u200b\uff0c\u200b\u8be5\u503c\u200b\u53ef\u200b \u200b\u4ee5\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6bd4\u8f83\u200b\u5927\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u63d0\u5347\u200b\u96c6\u7fa4\u200b\u67e5\u8be2\u200b\u7684\u200b\u4e0a\u9650\u200b\u3002 max_bytes_before_external_group_ by \u200b\u4e00\u822c\u200b\u6309\u7167\u200b max_memory_usage \u200b\u7684\u200b\u4e00\u534a\u200b\u8bbe\u7f6e\u200b\u5185\u5b58\u200b\uff0c\u200b\u5f53\u200b group \u200b\u4f7f\u7528\u200b\u5185\u5b58\u200b\u8d85\u8fc7\u200b\u9608\u503c\u200b\u540e\u200b\u4f1a\u200b\u5237\u65b0\u200b\u5230\u200b\u78c1\u76d8\u200b\u8fdb\u884c\u200b\u3002 max_bytes_before_external_sort \u200b\u5f53\u200b order by \u200b\u5df2\u200b\u4f7f\u7528\u200b max_bytes_before_external_sort \u200b\u5185\u5b58\u200b\u5c31\u200b\u8fdb\u884c\u200b \u200b\u6ea2\u5199\u200b\u78c1\u76d8\u200b(\u200b\u57fa\u4e8e\u200b\u78c1\u76d8\u200b\u6392\u5e8f\u200b)\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u8be5\u503c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u200b\u5185\u5b58\u200b\u4e0d\u591f\u200b\u65f6\u200b\u76f4\u63a5\u200b \u200b\u629b\u9519\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u8be5\u503c\u200b order by \u200b\u53ef\u4ee5\u200b\u6b63\u5e38\u200b\u5b8c\u6210\u200b\uff0c\u200b\u4f46\u662f\u200b\u901f\u5ea6\u200b\u76f8\u5bf9\u200b\u5b58\u200b\u5185\u5b58\u200b\u6765\u200b \u200b\u8bf4\u200b\u80af\u5b9a\u200b\u8981\u200b\u6162\u70b9\u200b(\u200b\u5b9e\u6d4b\u200b\u6162\u200b\u7684\u200b\u975e\u5e38\u200b\u591a\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u63a5\u53d7\u200b)\u3002 max_table_size_to_drop \u200b\u6b64\u53c2\u6570\u200b\u5728\u200b config.xml \u200b\u4e2d\u200b\uff0c\u200b\u5e94\u7528\u200b\u4e8e\u200b\u9700\u8981\u200b\u5220\u9664\u200b\u8868\u200b\u6216\u200b\u5206\u533a\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b 50GB\uff0c\u200b\u610f\u601d\u200b\u662f\u200b\u5982\u679c\u200b\u5220\u9664\u200b 50GB \u200b\u4ee5\u4e0a\u200b\u7684\u200b\u5206\u533a\u8868\u200b\u4f1a\u200b\u5931\u8d25\u200b\u3002\u200b\u5efa\u8bae\u200b\u4fee\u6539\u200b\u4e3a\u200b 0\uff0c \u200b\u8fd9\u6837\u200b\u4e0d\u7ba1\u200b\u591a\u5927\u200b\u7684\u200b\u5206\u533a\u8868\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5220\u9664\u200b\u3002"},{"location":"bigdata/clickhouse/advanced/#_9","title":"\u5b58\u50a8","text":"<p>ClickHouse \u200b\u4e0d\u200b\u652f\u6301\u200b\u8bbe\u7f6e\u200b\u591a\u200b\u6570\u636e\u200b\u76ee\u5f55\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u63d0\u5347\u200b\u6570\u636e\u200b io \u200b\u6027\u80fd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6302\u8f7d\u200b\u865a\u62df\u200b\u5238\u7ec4\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u5238\u7ec4\u200b\u7ed1\u5b9a\u200b\u591a\u5757\u200b\u7269\u7406\u200b\u78c1\u76d8\u200b\u63d0\u5347\u200b\u8bfb\u5199\u200b\u6027\u80fd\u200b\uff0c\u200b\u591a\u200b\u6570\u636e\u200b\u67e5\u8be2\u200b\u573a\u666f\u200b SSD \u200b\u4f1a\u200b\u6bd4\u200b\u666e\u901a\u200b\u673a\u68b0\u200b\u786c\u76d8\u200b\u5feb\u200b 2-3 \u200b\u500d\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_10","title":"\u8bed\u6cd5\u200b\u4f18\u5316\u200b\u89c4\u5219","text":""},{"location":"bigdata/clickhouse/advanced/#count","title":"count \u200b\u4f18\u5316","text":"<p>count() \u200b\u6216\u8005\u200b count(*)\uff0c\u200b\u4e14\u200b\u6ca1\u6709\u200b where \u200b\u6761\u4ef6\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b system.tables \u200b\u7684\u200b total_rows</p> <pre><code>EXPLAIN SELECT count()FROM datasets.hits_v1;\nUnion\n  Expression (Projection)\n   Expression (Before ORDER BY and SELECT)\n     MergingAggregated\n       ReadNothing (Optimized trivial count)\n</code></pre> <pre><code>EXPLAIN SELECT count(CounterID) FROM datasets.hits_v1;\nUnion\n  Expression (Projection)\n   Expression (Before ORDER BY and SELECT)\n     Aggregating\n       Expression (Before GROUP BY)\n        ReadFromStorage (Read from MergeTree)\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_11","title":"\u6d88\u9664\u200b\u5b50\u200b\u67e5\u8be2\u200b\u91cd\u590d\u200b\u5b57\u200b\u6bb5","text":"<pre><code>EXPLAIN SYNTAXSELECT a.UserID,\n         b.VisitID,\n         a.URL,\n         b.UserID\nFROM hits_v1 AS a\nLEFT JOIN \n    (SELECT UserID,\n         UserID AS HaHa,\n         VisitID\n    FROM visits_v1) AS b\nUSING (UserID) limit 3;\n</code></pre> <pre><code>SELECT UserID,\n         VisitID,\n         URL,\n         b.UserID\nFROM hits_v1 AS a ALL\nLEFT JOIN \n    (SELECT UserID,\n         VisitID\n    FROM visits_v1 ) AS b\nUSING (UserID) LIMIT 3\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_12","title":"\u8c13\u8bcd\u200b\u4e0b\u63a8","text":"<p>group by \u200b\u6709\u200bhaving \u200b\u5b50\u53e5\u200b\uff0c \u200b\u4f46\u662f\u200b\u6ca1\u6709\u200bwith cube\u3001with rollup \u200b\u6216\u8005\u200b with totals \u200b\u4fee\u9970\u200b\u7684\u200b\u65f6\u200b \u200b\u5019\u200b\uff0chaving \u200b\u8fc7\u6ee4\u200b\u4f1a\u200b\u4e0b\u63a8\u200b\u5230\u200b where \u200b\u524d\u200b\u8fc7\u6ee4\u200b</p> <pre><code>EXPLAIN SYNTAX SELECT UserID FROM hits_v1 GROUP BY UserID HAVING UserID =\n'8585742290196126178';\n//\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u8bed\u53e5\u200b\nSELECT UserID\nFROM hits_v1\nWHERE UserID = \\'8585742290196126178\\' GROUP BY UserID\n</code></pre> <pre><code>EXPLAIN SYNTAX\nSELECT *\nFROM\n(\n   SELECT UserID\n   FROM visits_v1\n)\nWHERE UserID = '8585742290196126178'\n//\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b \nSELECT UserID FROM\n(\n   SELECT UserID\n   FROM visits_v1\n        WHERE UserID = \\'8585742290196126178\\'\n)\nWHERE UserID = \\'8585742290196126178\\'\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_13","title":"\u805a\u5408\u200b\u8ba1\u7b97\u200b\u5916\u200b\u63a8","text":"<pre><code>EXPLAIN SYNTAX\nSELECT sum(UserID * 2)\nFROM visits_v1\n\n//\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b \nSELECT sum(UserID) * 2\nFROM visits_v1\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_14","title":"\u805a\u5408\u200b\u51fd\u6570\u200b\u6d88\u9664","text":"<p>group by \u200b\u5b57\u200b\u6bb5\u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\uff0c\u200b\u5219\u200b\u51fd\u6570\u200b\u4f1a\u200b\u6d88\u9664\u200b</p> <pre><code>EXPLAIN SYNTAX\nSELECT\n   sum(UserID * 2),\n   max(VisitID),\n   max(UserID)\nFROM visits_v1\nGROUP BY UserID\n</code></pre> <p>\u200b\u4f18\u5316\u200b\u540e\u200b</p> <pre><code>SELECT\n   sum(UserID) * 2,\n   max(VisitID),\nUserID\nFROM visits_v1\nGROUP BY UserID\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#order-by","title":"\u5220\u9664\u200b\u91cd\u590d\u200b\u7684\u200border by \u200b\u5b57\u200b\u6bb5","text":"<pre><code>EXPLAIN SYNTAX\nSELECT *\nFROM visits_v1\nORDER BY\n   UserID ASC,\n   UserID ASC,\n   VisitID ASC,\n   VisitID ASC\n//\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b: select\n    ......\nFROM visits_v1\nORDER BY\n   UserID ASC,\n   VisitID ASC\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#limit-by","title":"\u5220\u9664\u200b\u91cd\u590d\u200b\u7684\u200blimit by","text":"<p>limit by \u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u9009\u524d\u200b\u51e0\u4e2a\u200b</p> <pre><code>EXPLAIN SYNTAX\nSELECT *\nFROM visits_v1\nLIMIT 3 BY\nVisitID,\n   VisitID\nLIMIT 10\n\n//\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b:\nselect ......\nFROM visits_v1\nLIMIT 3 BY VisitID\nLIMIT 10\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#using-key","title":"\u5220\u9664\u200b\u91cd\u590d\u200b\u7684\u200busing key","text":"<pre><code>EXPLAIN SYNTAX\nSELECT\n   a.UserID,\n   a.UserID,\n   b.VisitID,\n   a.URL,\n   b.UserID\n   FROM hits_v1 AS a\n     LEFT JOIN visits_v1 AS b USING (UserID, UserID)\n\n  //\u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b: \n  SELECT\n   UserID,\n   UserID,\n   VisitID,\n   URL,\n   b.UserID\nFROM hits_v1 AS a\nALL LEFT JOIN visits_v1 AS b USING (UserID)\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_15","title":"\u6807\u91cf\u200b\u66ff\u6362","text":"<p>\u200b\u5982\u679c\u200b\u5b50\u200b\u67e5\u8be2\u200b\u53ea\u200b\u8fd4\u56de\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u5728\u200b\u88ab\u200b\u5f15\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\u7528\u200b\u6807\u91cf\u200b\u66ff\u6362\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4e0b\u9762\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200btotal_disk_usage \u200b\u5b57\u200b\u6bb5\u200b:</p> <pre><code>EXPLAIN SYNTAX\nWITH\n   (\n       SELECT sum(bytes)\n       FROM system.parts\n       WHERE active\n   ) AS total_disk_usage\nSELECT\n   (sum(bytes) / total_disk_usage) * 100 AS table_disk_usage,\n   table\nFROM system.parts\nGROUP BY table\nORDER BY table_disk_usage DESC\nLIMIT 10;\n\n-- \u200b\u8fd4\u56de\u200b\u4f18\u5316\u200b\u540e\u200b\u7684\u200b\u8bed\u53e5\u200b:\nWITH CAST(0, \\'UInt64\\') AS total_disk_usage SELECT\n   (sum(bytes) / total_disk_usage) * 100 AS table_disk_usage,\n   table\nFROM system.parts\nGROUP BY table\nORDER BY table_disk_usage DESC\nLIMIT 10\n</code></pre> <p>\u200b\u4e09\u5143\u200b\u8fd0\u7b97\u7b26\u200b\u4f18\u5316\u200b</p> <p>\u200b\u5982\u679c\u200b\u5f00\u542f\u200b\u4e86\u200b optimize_if_chain_to_multiif \u200b\u53c2\u6570\u200b\uff0c\u200b\u4e09\u5143\u200b\u8fd0\u7b97\u7b26\u200b\u4f1a\u200b\u88ab\u200b\u66ff\u6362\u6210\u200b multiIf \u200b\u51fd\u6570\u200b</p> <pre><code>EXPLAIN SYNTAX\nSELECT number = 1 ? 'hello' : (number = 2 ? 'world' : 'atguigu') FROM numbers(10)\nsettings optimize_if_chain_to_multiif = 1;\n\n\n-- optmize\nSELECT multiIf(number = 1, \\'hello\\', number = 2, \\'world\\', \\'atguigu\\') FROM numbers(10)\nSETTINGS optimize_if_chain_to_multiif = 1\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_16","title":"\u67e5\u8be2\u200b\u4f18\u5316","text":""},{"location":"bigdata/clickhouse/advanced/#_17","title":"\u5355\u8868\u200b\u67e5\u8be2","text":""},{"location":"bigdata/clickhouse/advanced/#prewherewhere","title":"prewhere\u200b\u66ff\u4ee3\u200bwhere","text":"<p>prewhere \u200b\u53ea\u200b\u652f\u6301\u200b *MergeTree \u200b\u65cf\u200b\u7cfb\u5217\u200b\u5f15\u64ce\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u9996\u5148\u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u6307\u5b9a\u200b\u7684\u200b\u5217\u200b\u6570\u636e\u200b\uff0c\u200b\u6765\u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u8fc7\u6ee4\u200b\uff0c\u200b\u7b49\u5f85\u200b\u6570\u636e\u200b\u8fc7\u6ee4\u200b\u4e4b\u540e\u200b\u518d\u200b\u8bfb\u53d6\u200b select \u200b\u58f0\u660e\u200b\u7684\u200b\u5217\u5b57\u200b\u6bb5\u200b\u6765\u200b\u8865\u5168\u200b\u5176\u4f59\u200b\u5c5e\u6027\u200b</p> <pre><code>-- \u200b\u5173\u95ed\u200b where \u200b\u81ea\u52a8\u200b\u8f6c\u200b prewhere(\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c where \u200b\u6761\u4ef6\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u4f18\u5316\u200b\u6210\u200b prewhere) \nset optimize_move_to_prewhere=0;\n</code></pre> <p>where \u200b\u4e0d\u4f1a\u200b\u8f6c\u6362\u200b\u4f4d\u200bprewhere\u200b\u573a\u666f\u200b</p> <p>\u26ab \u200b\u4f7f\u7528\u200b\u5e38\u91cf\u200b\u8868\u8fbe\u5f0f\u200b</p> <p>\u26ab \u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200balias\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b</p> <p>\u26ab \u200b\u5305\u542b\u200b\u4e86\u200barrayJOIN\uff0cglobalIn\uff0cglobalNotIn\u200b\u6216\u8005\u200bindexHint\u200b\u7684\u200b\u67e5\u8be2\u200b </p> <p>\u26ab select\u200b\u67e5\u8be2\u200b\u7684\u200b\u5217\u5b57\u200b\u6bb5\u200b\u548c\u200bwhere\u200b\u7684\u200b\u8c13\u8bcd\u200b\u76f8\u540c\u200b</p> <p>\u26ab \u200b\u4f7f\u7528\u200b\u4e86\u200b\u4e3b\u952e\u200b\u5b57\u200b\u6bb5\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_18","title":"\u6570\u636e\u200b\u91c7\u6837","text":"<p>\u200b\u91c7\u6837\u200b\u4fee\u9970\u7b26\u200b\u53ea\u6709\u200b\u5728\u200b MergeTree engine \u200b\u8868\u4e2d\u200b\u624d\u200b\u6709\u6548\u200b\uff0c\u200b\u4e14\u200b\u5728\u200b\u521b\u5efa\u200b\u8868\u65f6\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u91c7\u6837\u200b\u7b56\u7565\u200b\u3002</p> <pre><code>SELECT Title,count(*) AS PageViews\nFROM hits_v1\nSAMPLE 0.1 #\u200b\u4ee3\u8868\u200b\u91c7\u6837\u200b 10%\u200b\u7684\u200b\u6570\u636e\u200b,\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5177\u4f53\u200b\u7684\u200b\u6761\u6570\u200b WHERE CounterID =57\nGROUP BY Title\nORDER BY PageViews DESC LIMIT 1000\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_19","title":"\u5217\u200b\u88c1\u526a\u200b\u548c\u200b\u5206\u533a\u200b\u88c1\u526a","text":"<p>\u200b\u6570\u636e\u91cf\u200b\u592a\u5927\u65f6\u200b\u5e94\u200b\u907f\u514d\u200b\u4f7f\u7528\u200b select * \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u67e5\u8be2\u200b\u7684\u200b\u6027\u80fd\u200b\u4f1a\u200b\u4e0e\u200b\u67e5\u8be2\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5927\u5c0f\u200b\u548c\u200b\u6570\u91cf\u200b\u6210\u200b\u7ebf\u6027\u200b</p> <p>\u200b\u8868\u6362\u200b\uff0c\u200b\u5b57\u6bb5\u200b\u8d8a\u5c11\u200b\uff0c\u200b\u6d88\u8017\u200b\u7684\u200b io \u200b\u8d44\u6e90\u200b\u8d8a\u200b\u5c11\u200b\uff0c\u200b\u6027\u80fd\u200b\u5c31\u200b\u4f1a\u200b\u8d8a\u200b\u9ad8\u200b\u3002</p> <pre><code>\u200b\u53cd\u4f8b\u200b:\nselect * from datasets.hits_v1;\n\u200b\u6b63\u4f8b\u200b:\nselect WatchID,\n   JavaEnable,\n   Title,\n   GoodEvent,\nEventTime,\n   EventDate,\n   CounterID,\n   ClientIP,\n   ClientIP6,\n   RegionID,\n   UserID\nfrom datasets.hits_v1;\n</code></pre> <pre><code>select WatchID,\n   JavaEnable,\n   Title,\n   GoodEvent,\n   EventTime,\n   EventDate,\n   CounterID,\n   ClientIP,\n   ClientIP6,\n   RegionID,\n   UserID\nfrom datasets.hits_v1\nwhere EventDate='2014-03-23';\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#order-by-where-limit","title":"order by \u200b\u7ed3\u5408\u200bwhere limit","text":"<pre><code>#\u200b\u6b63\u4f8b\u200b:\nSELECT UserID,Age\nFROM hits_v1\nWHERE CounterID=57\nORDER BY Age DESC LIMIT 1000\n\n#\u200b\u53cd\u4f8b\u200b:\nSELECT UserID,Age FROM hits_v1 ORDER BY Age DESC\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_20","title":"\u907f\u514d\u200b\u6784\u5efa\u200b\u865a\u62df\u200b\u5217","text":"<p>\u200b\u5982\u975e\u200b\u5fc5\u987b\u200b\uff0c\u200b\u4e0d\u8981\u200b\u5728\u200b\u7ed3\u679c\u200b\u96c6\u4e0a\u200b\u6784\u5efa\u200b\u865a\u62df\u200b\u5217\u200b\uff0c\u200b\u865a\u62df\u200b\u5217\u200b\u975e\u5e38\u200b\u6d88\u8017\u200b\u8d44\u6e90\u200b\u6d6a\u8d39\u200b\u6027\u80fd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u5728\u200b\u524d\u7aef\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff0c\u200b\u6216\u8005\u200b\u5728\u200b\u8868\u4e2d\u200b\u6784\u9020\u200b\u5b9e\u9645\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u989d\u5916\u200b\u5b58\u50a8\u200b\u3002</p> <pre><code>-- \u200b\u6b63\u4f8b\u200b\nSELECT Income,Age,Income/Age as IncRate FROM datasets.hits_v1;\n-- \u200b\u6b63\u4f8b\u200b:\u200b\u62ff\u5230\u200b Income \u200b\u548c\u200b Age \u200b\u540e\u200b\uff0c\u200b\u8003\u8651\u200b\u5728\u200b\u524d\u7aef\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff0c\u200b\u6216\u8005\u200b\u5728\u200b\u8868\u4e2d\u200b\u6784\u9020\u200b\u5b9e\u9645\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u989d\u5916\u200b\u5b58\u50a8\u200b \nSELECT Income,Age FROM datasets.hits_v1;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#uniqcombined-distinct","title":"uniqCombined \u200b\u66ff\u4ee3\u200b distinct","text":"<p>\u200b\u6027\u80fd\u200b\u53ef\u200b\u63d0\u5347\u200b 10 \u200b\u500d\u200b\u4ee5\u4e0a\u200b\uff0cuniqCombined \u200b\u5e95\u5c42\u200b\u91c7\u7528\u200b\u7c7b\u4f3c\u200b HyperLogLog \u200b\u7b97\u6cd5\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u80fd\u200b\u63a5\u6536\u200b 2% \u200b\u5de6\u53f3\u200b\u7684\u200b\u6570\u636e\u8bef\u5dee\u200b\uff0c\u200b\u53ef\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u53bb\u200b\u91cd\u200b\u65b9\u5f0f\u200b\u63d0\u5347\u200b\u67e5\u8be2\u200b\u6027\u80fd\u200b\u3002Count(distinct )\u200b\u4f1a\u200b\u4f7f\u7528\u200b uniqExact \u200b\u7cbe\u786e\u200b\u53bb\u200b\u91cd\u200b\u3002</p> <pre><code>\u200b\u53cd\u4f8b\u200b:\nselect count(distinct rand()) from hits_v1;\n\u200b\u6b63\u4f8b\u200b:\nSELECT uniqCombined(rand()) from datasets.hits_v1\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_21","title":"\u5176\u4ed6","text":""},{"location":"bigdata/clickhouse/advanced/#_22","title":"\u67e5\u8be2\u200b\u7194\u65ad","text":"<p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u56e0\u200b\u4e2a\u522b\u200b\u6162\u200b\u67e5\u8be2\u200b\u5f15\u8d77\u200b\u7684\u200b\u670d\u52a1\u200b\u96ea\u5d29\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u9664\u4e86\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u5355\u4e2a\u200b\u67e5\u8be2\u200b\u8bbe\u7f6e\u200b\u8d85\u65f6\u200b\u4ee5\u5916\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u914d\u7f6e\u200b\u5468\u671f\u200b\u7194\u65ad\u200b\uff0c\u200b\u5728\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u5468\u671f\u200b\u5185\u200b\uff0c\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u9891\u7e41\u200b\u8fdb\u884c\u200b\u6162\u200b\u67e5\u8be2\u200b\u64cd\u4f5c\u200b\u8d85\u51fa\u200b\u89c4\u5b9a\u200b\u9608\u503c\u200b\u540e\u200b\u5c06\u200b\u65e0\u200b \u200b\u6cd5\u200b\u7ee7\u7eed\u200b\u8fdb\u884c\u200b\u67e5\u8be2\u200b\u64cd\u4f5c\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_23","title":"\u5173\u95ed\u200b\u865a\u62df\u5185\u5b58","text":"<p>\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u548c\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u6570\u636e\u4ea4\u6362\u200b\uff0c\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u67e5\u8be2\u200b\u53d8\u6162\u200b\uff0c\u200b\u8d44\u6e90\u200b\u5141\u8bb8\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5173\u95ed\u200b\u865a\u62df\u5185\u5b58\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#join_use_nulls","title":"\u914d\u7f6e\u200b join_use_nulls","text":"<p>\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8d26\u6237\u200b\u6dfb\u52a0\u200b join_use_nulls \u200b\u914d\u7f6e\u200b\uff0c\u200b\u5de6\u8868\u4e2d\u200b\u7684\u200b\u4e00\u6761\u200b\u8bb0\u5f55\u200b\u5728\u200b\u53f3\u8868\u4e2d\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u53f3\u8868\u200b\u7684\u200b\u76f8\u5e94\u200b\u5b57\u6bb5\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u8be5\u5b57\u6bb5\u200b\u76f8\u5e94\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6807\u51c6\u200b SQL \u200b\u4e2d\u200b\u7684\u200b Null \u200b\u503c\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_24","title":"\u6279\u91cf\u200b\u5199\u5165\u200b\u65f6\u5148\u200b\u6392\u5e8f","text":"<p>\u200b\u6279\u91cf\u200b\u5199\u5165\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u5fc5\u987b\u200b\u63a7\u5236\u200b\u6bcf\u4e2a\u200b\u6279\u6b21\u200b\u7684\u200b\u6570\u636e\u200b\u4e2d\u200b\u6d89\u53ca\u200b\u5230\u200b\u7684\u200b\u5206\u533a\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u5728\u200b\u5199\u5165\u200b\u4e4b\u524d\u200b\u6700\u597d\u200b\u5bf9\u200b\u9700\u8981\u200b\u5bfc\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u65e0\u5e8f\u200b\u7684\u200b\u6570\u636e\u200b\u6216\u8005\u200b\u6d89\u53ca\u200b\u7684\u200b\u5206\u533a\u200b\u592a\u200b\u591a\u200b\uff0c\u200b\u4f1a\u200b\u5bfc\u81f4\u200b ClickHouse \u200b\u65e0\u6cd5\u200b\u53ca\u65f6\u200b\u5bf9\u200b \u200b\u65b0\u200b\u5bfc\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\uff0c\u200b\u4ece\u800c\u200b\u5f71\u54cd\u200b\u67e5\u8be2\u200b\u6027\u80fd\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#cpu","title":"cpu","text":"<p>cpu \u200b\u4e00\u822c\u200b\u5728\u200b 50%\u200b\u5de6\u53f3\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u67e5\u8be2\u200b\u6ce2\u52a8\u200b\uff0c\u200b\u8fbe\u5230\u200b 70%\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u5927\u200b\u8303\u56f4\u200b\u7684\u200b\u67e5\u8be2\u200b\u8d85\u65f6\u200b\uff0ccpu \u200b\u662f\u200b\u6700\u200b\u5173\u952e\u200b\u7684\u200b\u6307\u6807\u200b\uff0c\u200b\u8981\u200b\u975e\u5e38\u200b\u5173\u6ce8\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_25","title":"\u591a\u8868\u200b\u5173\u8054","text":""},{"location":"bigdata/clickhouse/advanced/#premise","title":"premise","text":"<p>\u200b\u521b\u5efa\u200b\u8868\u200b</p> <pre><code>#\u200b\u521b\u5efa\u200b\u5c0f\u8868\u200b\nCREATE TABLE visits_v2\nENGINE = CollapsingMergeTree(Sign)\nPARTITION BY toYYYYMM(StartDate)\nORDER BY (CounterID, StartDate, intHash32(UserID), VisitID) SAMPLE BY intHash32(UserID)\nSETTINGS index_granularity = 8192\nas select * from visits_v1 limit 10000;\n#\u200b\u521b\u5efa\u200b join \u200b\u7ed3\u679c\u200b\u8868\u200b:\u200b\u907f\u514d\u200b\u63a7\u5236\u53f0\u200b\u75af\u72c2\u200b\u6253\u5370\u200b\u6570\u636e\u200b\nCREATE TABLE hits_v2\nENGINE = MergeTree()\nPARTITION BY toYYYYMM(EventDate)\nORDER BY (CounterID, EventDate, intHash32(UserID)) SAMPLE BY intHash32(UserID)\nSETTINGS index_granularity = 8192\nas select * from hits_v1 where 1=0;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#in-join","title":"\u7528\u200b in \u200b\u4ee3\u66ff\u200b join","text":"<pre><code>insert into hits_v2\nselect a.* from hits_v1 a where a. CounterID in (select CounterID from\nvisits_v1);\n\n-- \u200b\u53cd\u4f8b\u200b:\u200b\u4f7f\u7528\u200b join\ninsert into table hits_v2\nselect a.* from hits_v1 a left join visits_v1 b on a. CounterID=b. CounterID;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#join","title":"\u5927\u5c0f\u200b\u8868\u200bjoin","text":"<p>\u200b\u591a\u8868\u200b join \u200b\u65f6\u8981\u200b\u6ee1\u8db3\u200b\u5c0f\u8868\u200b\u5728\u200b\u53f3\u200b\u7684\u200b\u539f\u5219\u200b\uff0c\u200b\u53f3\u8868\u200b\u5173\u8054\u200b\u65f6\u200b\u88ab\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\u4e0e\u200b\u5de6\u8868\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\uff0c </p> <p>ClickHouse \u200b\u4e2d\u200b\u65e0\u8bba\u662f\u200b Left join \u3001Right join \u200b\u8fd8\u662f\u200b Inner join \u200b\u6c38\u8fdc\u90fd\u662f\u200b\u62ff\u200b\u7740\u200b\u53f3\u8868\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u6761\u200b\u8bb0\u5f55\u200b \u200b\u5230\u200b\u5de6\u8868\u4e2d\u200b\u67e5\u627e\u200b\u8be5\u200b\u8bb0\u5f55\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53f3\u8868\u200b\u5fc5\u987b\u200b\u662f\u200b\u5c0f\u8868\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_26","title":"\u6ce8\u610f\u200b\u8c13\u8bcd\u200b\u4e0b\u63a8","text":"<pre><code>Explain syntax\nselect a.* from hits_v1 a left join visits_v2 b on a. CounterID=b.\nCounterID\nhaving a.EventDate = '2014-03-17';\n\nExplain syntax\nselect a.* from hits_v1 a left join visits_v2 b on a. CounterID=b.\nCounterID\nhaving b.StartDate = '2014-03-17';\n\ninsert into hits_v2\nselect a.* from hits_v1 a left join visits_v2 b on a. CounterID=b.\nCounterID\nwhere a.EventDate = '2014-03-17';\n\ninsert into hits_v2\nselect a.* from (\n   select * from\n   hits_v1\n   where EventDate = '2014-03-17'\n) a left join visits_v2 b on a. CounterID=b. CounterID;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#global","title":"\u5206\u5e03\u5f0f\u200b\u8868\u200b\u4f7f\u7528\u200b GLOBAL","text":"<p>\u200b\u4e24\u5f20\u200b\u5206\u5e03\u5f0f\u200b\u8868\u4e0a\u200b\u7684\u200b IN \u200b\u548c\u200b JOIN \u200b\u4e4b\u524d\u200b\u5fc5\u987b\u200b\u52a0\u4e0a\u200b GLOBAL \u200b\u5173\u952e\u5b57\u200b\uff0c</p> <p>\u200b\u4f7f\u7528\u200bglobal \u200b\u53f3\u8868\u200b\u53ea\u4f1a\u200b\u5728\u200b\u63a5\u6536\u200b\u5230\u200b\u67e5\u8be2\u200b\u8bf7\u6c42\u200b\u7684\u200b\u8282\u70b9\u200b\u67e5\u8be2\u200b\uff0c \u200b\u5426\u5219\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u90fd\u200b\u9700\u8981\u200b\u67e5\u8be2\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_27","title":"\u4f7f\u7528\u200b\u5b57\u5178\u200b\u8868","text":"<p>\u200b\u5c06\u200b\u4e00\u4e9b\u200b\u9700\u8981\u200b\u5173\u8054\u200b\u5206\u6790\u200b\u7684\u200b\u4e1a\u52a1\u200b\u521b\u5efa\u200b\u6210\u200b\u5b57\u5178\u200b\u8868\u200b\u8fdb\u884c\u200b join \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u524d\u63d0\u200b\u662f\u200b\u5b57\u5178\u200b\u8868\u200b\u4e0d\u5b9c\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b57\u5178\u200b\u8868\u4f1a\u200b\u5e38\u9a7b\u200b\u5185\u5b58\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_28","title":"\u63d0\u524d\u200b\u8fc7\u6ee4","text":"<p>\u200b\u901a\u8fc7\u200b\u589e\u52a0\u200b\u903b\u8f91\u200b\u8fc7\u6ee4\u200b\u53ef\u4ee5\u200b\u51cf\u5c11\u200b\u6570\u636e\u200b\u626b\u63cf\u200b\uff0c\u200b\u8fbe\u5230\u200b\u63d0\u9ad8\u200b\u6267\u884c\u200b\u901f\u5ea6\u200b\u53ca\u200b\u964d\u4f4e\u200b\u5185\u5b58\u200b\u6d88\u8017\u200b\u7684\u200b\u76ee\u7684\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_29","title":"\u6570\u636e\u200b\u4e00\u81f4\u6027","text":""},{"location":"bigdata/clickhouse/advanced/#overview","title":"overview","text":"<p>ReplacingMergeTree \u200b\u548c\u200b MergeTree \u200b\u4e0d\u540c\u4e4b\u5904\u200b\u5728\u4e8e\u200b\u5b83\u4f1a\u200b\u5220\u9664\u200b\u6392\u5e8f\u200b\u952e\u503c\u200b\u76f8\u540c\u200b\u7684\u200b\u91cd\u590d\u200b\u9879\u200b</p> <p>\u200b\u6570\u636e\u200b\u53bb\u200b\u91cd\u200b\u53ea\u4f1a\u200b\u5728\u200b\u6570\u636e\u200b\u5408\u5e76\u200b\u671f\u95f4\u200b\u8fdb\u884c\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b OPTIMZE \u200b\u8bed\u53e5\u200b\u53d1\u8d77\u200b\u8ba1\u5212\u5916\u200b\u7684\u200b\u5408\u5e76\u200b\u3002\u200b\u4f46\u662f\u200b\u4f1a\u200b\u5f15\u53d1\u200b\u5927\u91cf\u200b\u8bfb\u5199\u200b</p> <p>\u200b\u4e0b\u9762\u200b\u7ed9\u51fa\u200b\u89e3\u51b3\u200b\u4e00\u81f4\u6027\u200b\u7684\u200b\u89e3\u51b3\u65b9\u6848\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#premise_1","title":"premise \u200b\u524d\u63d0","text":""},{"location":"bigdata/clickhouse/advanced/#_30","title":"\u521b\u5efa\u200b\u8868","text":"<pre><code>CREATE TABLE test_a( user_id UInt64, score String, deleted UInt8 DEFAULT 0, create_time DateTime DEFAULT toDateTime(0) ) ENGINE = ReplacingMergeTree(create_time) \nORDER BY\n   user_id;\n</code></pre> <ul> <li>user_id \u200b\u662f\u200b\u6570\u636e\u200b\u53bb\u200b\u91cd\u200b\u66f4\u65b0\u200b\u7684\u200b\u6807\u8bc6\u200b;</li> <li>create_time \u200b\u662f\u200b\u7248\u672c\u53f7\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u6bcf\u7ec4\u200b\u6570\u636e\u200b\u4e2d\u200b create_time \u200b\u6700\u5927\u200b\u7684\u200b\u4e00\u884c\u200b\u8868\u793a\u200b\u6700\u65b0\u200b\u7684\u200b\u6570\u636e\u200b; </li> <li>deleted \u200b\u662f\u200b\u81ea\u5b9a\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6807\u8bb0\u200b\u4f4d\u200b\uff0c\u200b\u6bd4\u5982\u200b 0 \u200b\u4ee3\u8868\u200b\u672a\u200b\u5220\u9664\u200b\uff0c1 \u200b\u4ee3\u8868\u200b\u5220\u9664\u200b\u6570\u636e\u200b\u3002</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#100w","title":"\u5199\u5165\u200b100w \u200b\u6761\u200b\u6570\u636e","text":"<pre><code>INSERT INTO\n   TABLE test_a(user_id, score) WITH ( \n   SELECT\n      [ 'A', 'B', 'C', 'D', 'E', 'F', 'G' ] ) AS dictSELECT number AS user_id,\n      dict[number % 7 + 1] \n   FROM\n      numbers(10000000);\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#50w","title":"\u4fee\u6539\u200b\u524d\u200b50w\u200b\u884c\u200b\u6570\u636e","text":"<pre><code>INSERT INTO\n   TABLE test_a(user_id, score, create_time) WITH ( \n   SELECT\n      [ 'AA', 'BB', 'CC', 'DD', 'EE', 'FF', 'GG' ] ) AS dictSELECT number AS user_id,\n      dict[number % 7 + 1],\n      now() AS create_time \n   FROM\n      numbers(500000);\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_31","title":"\u7edf\u8ba1\u200b\u603b\u6570","text":"<pre><code>SELECT COUNT() FROM test_a;\n\n-- output 10500000\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_32","title":"\u5177\u4f53\u200b\u65b9\u6848","text":""},{"location":"bigdata/clickhouse/advanced/#optimize","title":"\u624b\u52a8\u200b OPTIMIZE","text":"<pre><code>OPTIMIZE TABLE test_a FINAL;\n\u200b\u8bed\u6cd5\u200b:OPTIMIZE TABLE [db.]name [ON CLUSTER cluster] [PARTITION partition | PARTITION ID 'partition_id'] [FINAL] [DEDUPLICATE [BY expression]]\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#group-by","title":"GROUP BY \u200b\u53bb\u200b\u91cd","text":"<pre><code>SELECT\nuser_id ,\n  argMax(score, create_time) AS score,\n  argMax(deleted, create_time) AS deleted,\n  max(create_time) AS ctime\nFROM test_a\nGROUP BY user_id\nHAVING deleted = 0;\n</code></pre> <p>argMax(field1\uff0cfield2):\u200b\u6309\u7167\u200b field2 \u200b\u7684\u200b\u6700\u5927\u503c\u200b\u53d6\u200b field1 \u200b\u7684\u200b\u503c\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_33","title":"\u6d4b\u8bd5","text":"<p>\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b</p> <pre><code>CREATE VIEW view_test_a AS\nSELECT\n  user_id ,\n  argMax(score, create_time) AS score,\n  argMax(deleted, create_time) AS deleted,\n  max(create_time) AS ctime\nFROM test_a\nGROUP BY user_id\nHAVING deleted = 0;\n</code></pre> <p>\u200b\u63d2\u5165\u200b\u91cd\u590d\u200b\u6570\u636e\u200b\uff0c\u200b\u518d\u6b21\u200b\u67e5\u8be2\u200b</p> <pre><code>#\u200b\u518d\u6b21\u200b\u63d2\u5165\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\nINSERT INTO TABLE test_a(user_id,score,create_time) VALUES(0,'AAAA',now())\n#\u200b\u518d\u6b21\u200b\u67e5\u8be2\u200b\nSELECT *\nFROM view_test_a WHERE user_id = 0;\n</code></pre> <p>\u200b\u5220\u9664\u200b\u6570\u636e\u6d4b\u8bd5\u200b</p> <pre><code>#\u200b\u518d\u6b21\u200b\u63d2\u5165\u200b\u4e00\u6761\u200b\u6807\u8bb0\u200b\u4e3a\u200b\u5220\u9664\u200b\u7684\u200b\u6570\u636e\u200b\nINSERT INTO TABLE test_a(user_id,score,deleted,create_time) VALUES(0,'AAAA',1,now());\n#\u200b\u518d\u6b21\u200b\u67e5\u8be2\u200b\uff0c\u200b\u521a\u624d\u200b\u90a3\u6761\u200b\u6570\u636e\u200b\u770b\u4e0d\u5230\u200b\u4e86\u200b \nSELECT *\nFROM view_test_a\nWHERE user_id = 0;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#final","title":"FINAL \u200b\u67e5\u8be2","text":"<p>\u200b\u65e9\u671f\u200b\u7248\u672c\u200b FINAL \u200b\u4f1a\u200b\u5c06\u200b\u67e5\u8be2\u200b\u53d8\u4e3a\u200b\u5355\u7ebf\u7a0b\u200b</p> <p>v20.5.2.7-stable \u200b\u7248\u672c\u200b\u4e2d\u200b\uff0cFINAL \u200b\u67e5\u8be2\u200b\u652f\u6301\u200b\u591a\u7ebf\u7a0b\u200b\u6267\u884c\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b max_final_threads \u200b\u53c2\u6570\u200b\u63a7\u5236\u200b\u5355\u4e2a\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u6570\u200b</p> <p>\u200b\u666e\u901a\u200b\u67e5\u8be2\u200b</p> <pre><code>select * from visits_v1 WHERE StartDate = '2014-03-17' limit 100 settings\nmax_threads = 2;\n\n\nexplain pipeline select * from visits_v1 WHERE StartDate = '2014-03-17'\nlimit 100 settings max_threads = 2;\n(Expression)\nExpressionTransform \u00d7 2\n(SettingQuotaAndLimits) (Limit)\nLimit 2 \u2192 2\n     (ReadFromMergeTree)\n     MergeTreeThread \u00d7 2 0 \u2192 1\n</code></pre> <p>FINAL\u200b\u67e5\u8be2\u200b</p> <p>\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u6ca1\u6709\u200b\u666e\u901a\u200b\u7684\u200b\u67e5\u8be2\u200b\u5feb\u200b\uff0c\u200b\u4f46\u662f\u200b\u76f8\u6bd4\u200b\u4e4b\u524d\u200b\u5df2\u7ecf\u200b\u6709\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u63d0\u5347\u200b,\u200b\u67e5\u770b\u200b FINAL \u200b\u67e5\u8be2\u200b\u7684\u200b\u6267\u884c\u200b\u8ba1\u5212\u200b:</p> <p>\u200b\u4ece\u200b CollapsingSortedTransform \u200b\u8fd9\u200b\u4e00\u6b65\u200b\u5f00\u59cb\u200b\u5df2\u7ecf\u200b\u662f\u200b\u591a\u7ebf\u7a0b\u200b\u6267\u884c\u200b\uff0c\u200b\u4f46\u662f\u200b\u8bfb\u53d6\u200b part \u200b\u90e8\u5206\u200b\u7684\u200b\u52a8\u200b \u200b\u4f5c\u200b\u8fd8\u662f\u200b\u4e32\u884c\u200b\u3002</p> <pre><code>explain pipeline select * from visits_v1 final WHERE StartDate = '2014- 03-17' limit 100 settings max_final_threads = 2;\n(Expression)\nExpressionTransform \u00d7 2\n  (SettingQuotaAndLimits) (Limit)\n  Limit 2 \u2192 2\n       (ReadFromMergeTree)\n       ExpressionTransform \u00d7 2\n         CollapsingSortedTransform \u00d7 2\n                    Copy 1 \u2192 2 \n                            AddingSelector\n                  ExpressionTransform\n                   MergeTree 0 \u2192 1\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_34","title":"\u7269\u5316\u200b\u89c6\u56fe","text":""},{"location":"bigdata/clickhouse/advanced/#overview_1","title":"overview","text":"<p>ClickHouse \u200b\u7684\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u662f\u200b\u4e00\u79cd\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u7684\u200b\u6301\u4e45\u200b\u5316\u200b\uff0c\u200b\u5b83\u200b\u786e\u5b9e\u200b\u662f\u200b\u7ed9\u200b\u6211\u4eec\u200b\u5e26\u6765\u200b\u4e86\u200b\u67e5\u8be2\u200b\u6548\u7387\u200b\u7684\u200b\u63d0\u5347\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_35","title":"\u7269\u5316\u200b\u89c6\u56fe\u200b\u548c\u200b\u666e\u901a\u200b\u89c6\u56fe\u200b\u533a\u522b","text":"<p>\u200b\u666e\u901a\u200b\u89c6\u56fe\u200b\u4e0d\u200b\u4fdd\u5b58\u200b\u6570\u636e\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u7684\u200b\u4ec5\u4ec5\u200b\u662f\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b</p> <p>\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u5219\u200b\u662f\u200b\u628a\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ed3\u679c\u200b\u6839\u636e\u200b\u76f8\u5e94\u200b\u7684\u200b\u5f15\u64ce\u200b\u5b58\u5165\u200b\u5230\u200b\u4e86\u200b\u78c1\u76d8\u200b \u200b\u6216\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u5bf9\u200b\u6570\u636e\u200b\u91cd\u65b0\u200b\u8fdb\u884c\u200b\u4e86\u200b\u7ec4\u7ec7\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_36","title":"\u4f18\u7f3a\u70b9","text":"<p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u5feb\u200b\uff0c\u200b\u8981\u662f\u200b\u628a\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u8fd9\u4e9b\u200b\u89c4\u5219\u200b\u5168\u90e8\u200b\u5199\u200b\u597d\u200b\uff0c\u200b\u5b83\u200b\u6bd4\u539f\u200b\u6570\u636e\u200b\u67e5\u8be2\u200b\u5feb\u200b\u4e86\u200b\u5f88\u591a\u200b\uff0c\u200b\u603b\u200b\u7684\u200b\u884c\u6570\u5c11\u200b\u4e86\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u90fd\u200b\u9884\u8ba1\u200b\u7b97\u597d\u200b\u4e86\u200b\u3002</li> </ul> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u5386\u53f2\u6570\u636e\u200b\u505a\u200b\u53bb\u200b\u91cd\u200b\u3001\u200b\u53bb\u6838\u200b\u8fd9\u6837\u200b\u7684\u200b\u5206\u6790\u200b\uff0c\u200b\u5728\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u91cc\u9762\u200b\u662f\u200b\u4e0d\u592a\u597d\u200b\u7528\u200b\u7684\u200b</li> <li>\u200b\u5982\u679c\u200b\u4e00\u5f20\u200b\u8868\u52a0\u200b\u4e86\u200b\u597d\u591a\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\uff0c\u200b\u5728\u200b\u5199\u200b\u8fd9\u200b\u5f20\u8868\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u6d88\u8017\u200b\u5f88\u591a\u200b\u673a\u5668\u200b\u7684\u200b\u8d44\u6e90\u200b</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#usage_1","title":"usage","text":""},{"location":"bigdata/clickhouse/advanced/#_37","title":"\u57fa\u672c\u200b\u8bed\u6cd5","text":"<pre><code>CREATE [MATERIALIZED] VIEW [IF NOT EXISTS] [db.]table_name [TO[db.]name]\n[ENGINE = engine] [POPULATE] AS SELECT ...\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b TO \u200b\u8868\u540d\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u5230\u200b\u4e00\u5f20\u200b\u663e\u5f0f\u200b\u7684\u200b\u8868\u200b\u3002\u200b\u6ca1\u6709\u200b\u52a0\u200b TO \u200b\u8868\u540d\u200b\uff0c\u200b\u8868\u540d\u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200b .inner.\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u540d\u200b</p>"},{"location":"bigdata/clickhouse/advanced/#_38","title":"\u9650\u5236","text":"<ul> <li>\u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u7684\u200b engine \u200b\u7528\u4e8e\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b</li> <li>TO [db].[table]\u200b\u8bed\u6cd5\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4e0d\u5f97\u200b\u4f7f\u7528\u200b POPULATE</li> <li>\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b(select)\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u4e0b\u9762\u200b\u7684\u200b\u5b50\u53e5\u200b: DISTINCT, GROUP BY, ORDER BY, LIMIT... </li> <li>\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u7684\u200b alter \u200b\u64cd\u4f5c\u200b\u6709\u4e9b\u200b\u9650\u5236\u200b\uff0c\u200b\u64cd\u4f5c\u200b\u8d77\u6765\u200b\u4e0d\u200b\u5927\u200b\u65b9\u4fbf\u200b\u3002</li> <li>\u200b\u82e5\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4f7f\u7528\u200b\u4e86\u200b TO [db.]name \u200b\u5b50\u200b\u8bed\u53e5\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u76ee\u6807\u200b\u8868\u200b\u7684\u200b\u89c6\u56fe\u200b \u200b\u5378\u8f7d\u200bDETACH \u200b\u518d\u200b\u88c5\u8f7d\u200b ATTACH</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#_39","title":"\u7269\u5316\u200b\u89c6\u56fe\u200b\u6570\u636e\u200b\u66f4\u65b0","text":"<ul> <li>\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u521b\u5efa\u200b\u597d\u200b\u4e4b\u540e\u200b\uff0c\u200b\u82e5\u6e90\u8868\u200b\u88ab\u200b\u5199\u5165\u200b\u65b0\u200b\u6570\u636e\u200b\u5219\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u4e5f\u200b\u4f1a\u200b\u540c\u6b65\u200b\u66f4\u65b0\u200b</li> <li>POPULATE \u200b\u5173\u952e\u5b57\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u7684\u200b\u66f4\u65b0\u200b\u7b56\u7565\u200b:<ul> <li>\u200b\u82e5\u6709\u200b POPULATE \u200b\u5219\u200b\u5728\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4f1a\u200b\u5c06\u200b\u6e90\u8868\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u7684\u200b\u6570\u636e\u200b\u4e00\u5e76\u200b\u5bfc\u5165\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b create table ... as</li> <li>\u200b\u82e5\u200b\u65e0\u200b POPULATE \u200b\u5219\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u5728\u200b\u521b\u5efa\u200b\u4e4b\u540e\u200b\u6ca1\u6709\u200b\u6570\u636e\u200b\uff0c\u200b\u53ea\u4f1a\u200b\u5728\u200b\u521b\u5efa\u200b\u53ea\u6709\u200b\u540c\u6b65\u200b\u4e4b\u540e\u200b\u5199\u5165\u200b \u200b\u6e90\u8868\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>clickhouse \u200b\u5b98\u65b9\u200b\u5e76\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b POPULATE\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b\u521b\u5efa\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u540c\u65f6\u200b\u5199\u5165\u200b \u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u63d2\u5165\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u3002</li> </ul> </li> <li>\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u4e0d\u200b\u652f\u6301\u200b\u540c\u6b65\u200b\u5220\u9664\u200b\uff0c\u200b\u82e5\u6e90\u8868\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u200b\u5b58\u5728\u200b(\u200b\u5220\u9664\u200b\u4e86\u200b)\u200b\u5219\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u7684\u200b\u6570\u636e\u200b\u4ecd\u7136\u200b\u4fdd\u7559\u200b</li> <li>\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u662f\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7684\u200b\u6570\u636e\u8868\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b show tables \u200b\u67e5\u770b\u200b </li> </ul>"},{"location":"bigdata/clickhouse/advanced/#special","title":"special","text":""},{"location":"bigdata/clickhouse/advanced/#_40","title":"\u51c6\u5907\u200b\u8868\u4e0e\u200b\u6570\u636e","text":"<p>\u200b\u521b\u5efa\u200b\u8868\u200b</p> <pre><code>#\u200b\u5efa\u8868\u200b\u8bed\u53e5\u200b\nCREATE TABLE hits_test (\n   EventDate Date,\n   CounterID UInt32,\n   UserID UInt64,\n   URL String,\n   Income UInt8\n)\nENGINE = MergeTree()\nPARTITION BY toYYYYMM(EventDate)\nORDER BY (CounterID, EventDate, intHash32(UserID))\nSAMPLE BY intHash32(UserID)\nSETTINGS index_granularity = 8192\n</code></pre> <p>\u200b\u5bfc\u5165\u200b\u6570\u636e\u200b</p> <pre><code>INSERT INTO hits_test\n   SELECT\n   EventDate,\n   CounterID,\n   UserID,\n   URL,\n   Income\nFROM hits_v1\nlimit 10000;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_41","title":"\u521b\u5efa\u200b\u7269\u5316\u200b\u89c6\u56fe","text":"<pre><code>#\u200b\u5efa\u8868\u200b\u8bed\u53e5\u200b\nCREATE MATERIALIZED VIEW hits_mv ENGINE = SummingMergeTree PARTITION BY toYYYYMM(EventDate) \nORDER BY \n  (\n    EventDate, \n    intHash32(UserID)\n  ) AS \nSELECT \n  UserID, \n  EventDate, \n  count(URL) as ClickCount, \n  sum(Income) AS IncomeSum \nFROM \n  hits_test \nWHERE \n  EventDate &gt;= '2014-03-20' \n  #\u200b\u8bbe\u7f6e\u200b\u66f4\u65b0\u200b\u70b9\u200b,\u200b\u8be5\u200b\u65f6\u95f4\u200b\u70b9\u200b\u4e4b\u524d\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u4ee5\u200b\u53e6\u5916\u200b\u901a\u8fc7\u200b\n  #insert into select ...... \u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u63d2\u5165\u200b\nGROUP BY \n  UserID, \n  EventDate;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_42","title":"\u5bfc\u5165\u200b\u589e\u91cf\u200b\u6570\u636e","text":"<pre><code>#\u200b\u5bfc\u5165\u200b\u589e\u91cf\u200b\u6570\u636e\u200b\nINSERT INTO hits_test \nSELECT \n  EventDate, \n  CounterID, \n  UserID, \n  URL, \n  Income \nFROM \n  hits_v1 \nWHERE \n  EventDate &gt;= '2014-03-23' \nlimit \n  10;\n\n\n#\u200b\u67e5\u8be2\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\nSELECT \n  * \nFROM \n  hits_mv;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_43","title":"\u5bfc\u5165\u200b\u5386\u53f2\u6570\u636e","text":"<pre><code>-- \u200b\u5bfc\u5165\u200b\u589e\u91cf\u200b\u6570\u636e\u200b\nINSERT INTO hits_mv \nSELECT \n  UserID, \n  EventDate, \n  count(URL) as ClickCount, \n  sum(Income) AS IncomeSum \nFROM \n  hits_test \nWHERE \n  EventDate = '2014-03-20' \nGROUP BY \n  UserID, \n  EventDate \n\n-- \u200b\u67e5\u8be2\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\nSELECT \n  * \nFROM \n  hits_mv;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#materializemysql","title":"MaterializeMySQL \u200b\u5f15\u64ce","text":""},{"location":"bigdata/clickhouse/advanced/#overview_2","title":"overview","text":"<p>ClickHouse 20.8.2.3 \u200b\u7248\u672c\u200b\u65b0\u200b\u589e\u52a0\u200b\u4e86\u200b MaterializeMySQL \u200b\u7684\u200b database \u200b\u5f15\u64ce\u200b\uff0c\u200b\u8be5\u200b database \u200b\u80fd\u200b\u6620\u5c04\u200b\u5230\u200b MySQL \u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b database \uff0c\u200b\u5e76\u200b\u81ea\u52a8\u200bClickHouse \u200b\u4e2d\u200b\u521b\u5efa\u200b\u5bf9\u5e94\u200b\u7684\u200b ReplacingMergeTree\u3002</p> <p>ClickHouse \u200b\u670d\u52a1\u200b\u505a\u200b\u4e3a\u200b MySQL \u200b\u526f\u672c\u200b\uff0c\u200b\u8bfb\u53d6\u200b Binlog \u200b\u5e76\u200b\u6267\u884c\u200b DDL \u200b\u548c\u200b DML \u200b\u8bf7\u6c42\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u57fa\u4e8e\u200b MySQL Binlog \u200b\u673a\u5236\u200b\u7684\u200b\u4e1a\u52a1\u200b\u6570\u636e\u5e93\u200b\u5b9e\u65f6\u200b\u540c\u6b65\u200b\u529f\u80fd\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#feature","title":"feature","text":"<ul> <li>MaterializeMySQL \u200b\u540c\u65f6\u200b\u652f\u6301\u200b\u5168\u91cf\u200b\u548c\u200b\u589e\u91cf\u200b\u540c\u6b65\u200b\uff0c\u200b\u5728\u200b database \u200b\u521b\u5efa\u200b\u4e4b\u200b\u521d\u4f1a\u200b\u5168\u91cf\u200b\u540c\u6b65\u200b MySQL \u200b\u4e2d\u200b\u7684\u200b\u8868\u200b\u548c\u200b\u6570\u636e\u200b\uff0c\u200b\u4e4b\u540e\u200b\u5219\u200b\u4f1a\u200b\u901a\u8fc7\u200b binlog \u200b\u8fdb\u884c\u200b\u589e\u91cf\u200b\u540c\u6b65\u200b\u3002</li> <li>MaterializeMySQL database \u200b\u4e3a\u200b\u5176\u200b\u6240\u200b\u521b\u5efa\u200b\u7684\u200b\u6bcf\u5f20\u200b ReplacingMergeTree \u200b\u81ea\u52a8\u200b\u589e\u52a0\u200b\u4e86\u200b _sign \u200b\u548c\u200b _version \u200b\u5b57\u200b\u6bb5\u200b\u3002</li> </ul> <p>\u200b\u5176\u4e2d\u200b\uff0c_version \u200b\u7528\u4f5c\u200b ReplacingMergeTree \u200b\u7684\u200b ver \u200b\u7248\u672c\u200b\u53c2\u6570\u200b\uff0c\u200b\u6bcf\u5f53\u200b\u76d1\u542c\u200b\u5230\u200b insert\u3001update \u200b\u548c\u200b delete \u200b\u4e8b\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b databse \u200b\u5185\u200b\u5168\u5c40\u200b\u81ea\u589e\u200b\u3002</p> <p>\u200b\u800c\u200b _sign \u200b\u5219\u200b\u7528\u4e8e\u200b\u6807\u8bb0\u200b\u662f\u5426\u200b\u88ab\u200b\u5220\u9664\u200b\uff0c\u200b\u53d6\u503c\u200b 1 \u200b\u6216\u200b \u200b\u8005\u200b -1\u3002</p> <p>\u200b\u652f\u6301\u200b\u5982\u4e0b\u200b\u4e8b\u4ef6\u200b</p> <ul> <li>MYSQL_WRITE_ROWS_EVENT: _sign = 1\uff0c_version ++</li> <li>MYSQL_DELETE_ROWS_EVENT: _sign = -1\uff0c_version ++</li> <li>MYSQL_UPDATE_ROWS_EVENT: \u200b\u65b0\u200b\u6570\u636e\u200b _sign = 1</li> <li>MYSQL_QUERY_EVENT: \u200b\u652f\u6301\u200b CREATE TABLE \u3001DROP TABLE \u3001RENAME TABLE \u200b\u7b49\u200b\u3002</li> </ul>"},{"location":"bigdata/clickhouse/advanced/#_44","title":"\u4f7f\u7528\u200b\u7ec6\u5219","text":""},{"location":"bigdata/clickhouse/advanced/#ddl","title":"DDL\u200b\u67e5\u8be2","text":"<p>MySQL DDL \u200b\u67e5\u8be2\u200b\u88ab\u200b\u8f6c\u6362\u6210\u200b\u76f8\u5e94\u200b\u7684\u200b ClickHouse DDL \u200b\u67e5\u8be2\u200b(ALTER, CREATE, DROP, RENAME)\u3002 \u200b\u5982\u679c\u200b ClickHouse \u200b\u4e0d\u80fd\u200b\u89e3\u6790\u200b\u67d0\u4e9b\u200b DDL \u200b\u67e5\u8be2\u200b\uff0c\u200b\u8be5\u200b\u67e5\u8be2\u200b\u5c06\u200b\u88ab\u200b\u5ffd\u7565\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_45","title":"\u6570\u636e\u200b\u590d\u5236","text":"<p>MaterializeMySQL \u200b\u4e0d\u200b\u652f\u6301\u200b\u76f4\u63a5\u63d2\u5165\u200b\u3001\u200b\u5220\u9664\u200b\u548c\u200b\u66f4\u65b0\u200b\u67e5\u8be2\u200b\uff0c\u200b\u800c\u662f\u200b\u5c06\u200b DDL \u200b\u8bed\u53e5\u200b\u8fdb\u884c\u200b\u76f8\u5e94\u200b\u8f6c\u6362\u200b: MySQL INSERT \u200b\u67e5\u8be2\u200b\u88ab\u200b\u8f6c\u6362\u200b\u4e3a\u200b </p> <p>INSERT with _sign=1\u3002</p> <p>MySQL DELETE \u200b\u67e5\u8be2\u200b\u88ab\u200b\u8f6c\u6362\u200b\u4e3a\u200b INSERT with _sign=-1\u3002</p> <p>MySQL UPDATE \u200b\u67e5\u8be2\u200b\u88ab\u200b\u8f6c\u6362\u6210\u200b INSERT with _sign=1 \u200b\u548c\u200b INSERT with _sign=-1\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#select","title":"SELECT\u200b\u67e5\u8be2","text":"<p>\u200b\u5982\u679c\u200b\u5728\u200b SELECT \u200b\u67e5\u8be2\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b_version\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b FINAL \u200b\u4fee\u9970\u7b26\u200b\uff0c\u200b\u8fd4\u56de\u200b_version \u200b\u7684\u200b\u6700\u5927\u503c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5373\u200b\u6700\u65b0\u200b\u7248\u672c\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5728\u200b SELECT \u200b\u67e5\u8be2\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b_sign\uff0c\u200b\u5219\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b WHERE _sign=1\uff0c\u200b\u5373\u200b\u8fd4\u56de\u200b\u672a\u200b\u5220\u9664\u200b\u72b6\u6001\u200b(_sign=1)\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_46","title":"\u7d22\u5f15\u200b\u8f6c\u6362","text":"<p>ClickHouse \u200b\u6570\u636e\u5e93\u200b\u8868\u4f1a\u200b\u81ea\u52a8\u200b\u5c06\u200b MySQL \u200b\u4e3b\u952e\u200b\u548c\u200b\u7d22\u5f15\u200b\u5b50\u53e5\u200b\u8f6c\u6362\u200b\u4e3a\u200b ORDER BY \u200b\u5143\u7ec4\u200b\u3002</p> <p>ClickHouse \u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u7269\u7406\u200b\u987a\u5e8f\u200b\uff0c\u200b\u7531\u200b ORDER BY \u200b\u5b50\u53e5\u200b\u51b3\u5b9a\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u7269\u7406\u200b\u987a\u5e8f\u200b\uff0c \u200b\u8bf7\u200b\u4f7f\u7528\u200b\u7269\u5316\u200b\u89c6\u56fe\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#usage_2","title":"usage","text":""},{"location":"bigdata/clickhouse/advanced/#mysql-binlog-gtid","title":"MySQL \u200b\u5f00\u542f\u200b binlog \u200b\u548c\u200b GTID \u200b\u6a21\u5f0f","text":"<p>1.\u200b\u786e\u4fdd\u200b MySQL \u200b\u5f00\u542f\u200b\u4e86\u200b binlog \u200b\u529f\u80fd\u200b\uff0c\u200b\u4e14\u200b\u683c\u5f0f\u200b\u4e3a\u200b ROW </p> <p>\u200b\u6253\u5f00\u200b/etc/my.cnf,\u200b\u5728\u200b[mysqld]\u200b\u4e0b\u200b\u6dfb\u52a0\u200b:</p> <pre><code>server-id=1\nlog-bin=mysql-bin\nbinlog_format=ROW\n</code></pre> <p>2.\u200b\u5f00\u542f\u200b GTID \u200b\u6a21\u5f0f\u200b</p> <p>\u200b\u5982\u679c\u200b\u5982\u679c\u200b clickhouse \u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b 20.8 prestable \u200b\u4e4b\u540e\u200b\u53d1\u5e03\u200b\u7684\u200b\u7248\u672c\u200b\uff0c\u200b\u90a3\u4e48\u200b MySQL \u200b\u8fd8\u200b\u9700\u8981\u200b\u914d\u7f6e\u200b \u200b\u5f00\u542f\u200b GTID \u200b\u6a21\u5f0f\u200b, \u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u5728\u200b mysql \u200b\u4e3b\u4ece\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u53ef\u4ee5\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u540c\u6b65\u200b\u7684\u200b\u4e00\u81f4\u6027\u200b(\u200b\u4e3b\u4ece\u200b\u5207\u6362\u200b\u65f6\u200b)\u3002</p> <pre><code>gtid-mode=on\nenforce-gtid-consistency=1 # \u200b\u8bbe\u7f6e\u200b\u4e3a\u4e3b\u200b\u4ece\u5f3a\u200b\u4e00\u81f4\u6027\u200b \nlog-slave-updates=1 #\u200b\u8bb0\u5f55\u200b\u65e5\u5fd7\u200b\n</code></pre> <p>GTID \u200b\u662f\u200b MySQL \u200b\u590d\u5236\u200b\u589e\u5f3a\u7248\u200b\uff0c\u200b\u4ece\u200b MySQL 5.6 \u200b\u7248\u672c\u200b\u5f00\u59cb\u200b\u652f\u6301\u200b\uff0c\u200b\u76ee\u524d\u200b\u5df2\u7ecf\u200b\u662f\u200b MySQL \u200b\u4e3b\u6d41\u200b \u200b\u590d\u5236\u200b\u6a21\u5f0f\u200b\u3002\u200b\u5b83\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b event \u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u5168\u5c40\u200b\u552f\u4e00\u200b ID \u200b\u548c\u200b\u5e8f\u53f7\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u5173\u5fc3\u200b MySQL \u200b\u96c6\u7fa4\u200b \u200b\u4e3b\u4ece\u200b\u62d3\u6251\u200b\u7ed3\u6784\u200b\uff0c\u200b\u76f4\u63a5\u200b\u544a\u77e5\u200b MySQL \u200b\u8fd9\u4e2a\u200b GTID \u200b\u5373\u53ef\u200b\u3002</p> <p>3.\u200b\u91cd\u542f\u200bmysql</p> <pre><code>sudo systemctl restart mysqld\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#mysql","title":"\u51c6\u5907\u200bmysql\u200b\u8868\u200b\u548c\u200b\u6570\u636e","text":"<p>1.\u200b\u5728\u200bmysql\u200b\u521b\u5efa\u200b\u8868\u5e76\u200b\u5199\u5165\u200b\u6570\u636e\u200b</p> <pre><code>CREATE DATABASE testck;\n\nCREATE TABLE `testck`.`t_organization` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `code` int NOT NULL,\n  `name` text DEFAULT NULL,\n  `updatetime` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY (`code`)\n) ENGINE=InnoDB;\n\nINSERT INTO testck.t_organization (code, name,updatetime)\nVALUES(1000,'Realinsight',NOW());\nINSERT INTO testck.t_organization (code, name,updatetime)\nVALUES(1001, 'Realindex',NOW());\nINSERT INTO testck.t_organization (code, name,updatetime)\nVALUES(1002,'EDT',NOW());\n</code></pre> <p>2.\u200b\u521b\u5efa\u200b\u7b2c\u4e8c\u5f20\u200b\u8868\u200b</p> <pre><code>CREATE TABLE `testck`.`t_user` (\n    `id` int(11) NOT NULL AUTO_INCREMENT,\n  `code` int,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB;\nINSERT INTO testck.t_user (code) VALUES(1);\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#clickhouse","title":"\u5f00\u542f\u200bclickhouse \u200b\u7269\u5316\u200b\u5f15\u64ce","text":"<pre><code>set allow_experimental_database_materialize_mysql=1;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_47","title":"\u521b\u5efa\u200b\u590d\u5236\u200b\u7ba1\u9053","text":"<p>1.ClickHouse \u200b\u4e2d\u200b\u521b\u5efa\u200b MaterializeMySQL \u200b\u6570\u636e\u5e93\u200b</p> <pre><code>CREATE DATABASE test_binlog ENGINE =\nMaterializeMySQL('hadoop1:3306','testck','root','000000');\n</code></pre> <p>\u200b\u5176\u4e2d\u200b 4 \u200b\u4e2a\u200b\u53c2\u6570\u200b\u5206\u522b\u200b\u662f\u200b MySQL \u200b\u5730\u5740\u200b\u3001databse\u3001username \u200b\u548c\u200b password\u3002</p> <p>\u200b\u67e5\u770b\u200bclickhouse \u200b\u6570\u636e\u200b</p> <pre><code>use test_binlog;\nshow tables;\nselect * from t_organization;\nselect * from t_user;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_48","title":"\u4fee\u6539\u200b\u6570\u636e","text":"<p>1.mysql\u200b\u4fee\u6539\u200b\u6570\u636e\u200b</p> <pre><code>update t_organization set name = CONCAT(name,'-v1') where id = 1\n</code></pre> <p>2.\u200b\u67e5\u8be2\u200bck</p> <pre><code>select * from t_organization;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_49","title":"\u5220\u9664\u200b\u6570\u636e","text":"<p>1.mysql\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b</p> <pre><code>DELETE FROM t_organization where id = 2;\n</code></pre> <p>2.\u200b\u67e5\u8be2\u200bck</p> <pre><code>select * from t_organization;\n</code></pre> <p>3.\u200b\u5728\u200b\u521a\u624d\u200b\u7684\u200b\u67e5\u8be2\u200b\u4e2d\u200b\u589e\u52a0\u200b _sign \u200b\u548c\u200b _version \u200b\u865a\u62df\u200b\u5b57\u200b\u6bb5\u200b</p> <pre><code>select *,_sign,_version from t_organization order by _sign\ndesc,_version desc;\n</code></pre> <p>\u200b\u5728\u200b\u67e5\u8be2\u200b\u65f6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u5220\u9664\u200b\u7684\u200b\u6570\u636e\u200b\uff0c_sign=-1\uff0cClickHouse \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u91cd\u5199\u200b SQL\uff0c\u200b\u5c06\u200b _sign = -1 \u200b\u7684\u200b\u6570\u636e\u200b\u8fc7\u6ee4\u200b\u6389\u200b;</p> <p></p> <pre><code>select * from t_organization\n\u200b\u7b49\u540c\u4e8e\u200b\nselect * from t_organization final where _sign = 1\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_50","title":"\u5220\u9664\u200b\u8868","text":"<p>1.mysql\u200b\u5220\u9664\u200b\u8868\u200b</p> <pre><code>drop table t_user;\n</code></pre> <p>2.\u200b\u67e5\u8be2\u200bmysql\u200b\u540c\u6b65\u200b\u7684\u200b\u8868\u4f1a\u200b\u62a5\u9519\u200b</p> <pre><code>show tables;\nselect * from t_user;\nDB::Exception: Table scene_mms.scene doesn't exist..\n</code></pre> <p>3.mysql \u200b\u65b0\u5efa\u200b\u8868\u200b\uff0cclickhouse \u200b\u53ef\u4ee5\u200b\u67e5\u8be2\u200b\u5230\u200b</p> <pre><code>CREATE TABLE `testck`.`t_user` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `code` int,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB;\nINSERT INTO testck.t_user (code) VALUES(1);\n#ClickHouse \u200b\u67e5\u8be2\u200b\nshow tables;\nselect * from t_user;\n</code></pre>"},{"location":"bigdata/clickhouse/advanced/#_51","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"bigdata/clickhouse/advanced/#ddl_1","title":"\u5206\u5e03\u5f0f\u200b DDL \u200b\u67d0\u200b\u6570\u636e\u200b\u8282\u70b9\u200b\u7684\u200b\u526f\u672c\u200b\u4e0d\u200b\u6267\u884c","text":"<p>question\uff1a</p> <p>\u200b\u4f7f\u7528\u200b\u5206\u5e03\u5f0f\u200b ddl \u200b\u6267\u884c\u547d\u4ee4\u200b create table on cluster xxxx \u200b\u67d0\u4e2a\u200b\u8282\u70b9\u200b\u4e0a\u200b\u6ca1\u6709\u200b\u521b\u5efa\u200b \u200b\u8868\u200b\uff0c\u200b\u4f46\u662f\u200b client \u200b\u8fd4\u56de\u200b\u6b63\u5e38\u200b\uff0c\u200b\u67e5\u770b\u200b\u65e5\u5fd7\u200b\u6709\u200b\u5982\u4e0b\u200b\u62a5\u9519\u200b</p> <pre><code>&lt;Error&gt; xxx.xxx: Retrying createReplica(), because some other replicas\nwere created at the same time\n</code></pre> <p>answer</p> <p>\u200b\u91cd\u542f\u200b\u8be5\u200b\u4e0d\u200b\u6267\u884c\u200b\u7684\u200b\u8282\u70b9\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_52","title":"\u6570\u636e\u200b\u526f\u672c\u200b\u8868\u200b\u548c\u200b\u6570\u636e\u200b\u4e0d\u200b\u4e00\u81f4","text":"<p>question:</p> <p>\u200b\u7531\u4e8e\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b\u8282\u70b9\u200b\u526f\u672c\u200b\u5f02\u5e38\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u4e24\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u8868\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u7f3a\u5c11\u200b\u8868\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u8c03\u6574\u200b\u4e00\u81f4\u200b\u3002</p> <p>answer:</p> <p>\u200b\u5728\u200b\u7f3a\u5c11\u200b\u8868\u200b\u7684\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u8282\u70b9\u200b\u4e0a\u200b\u521b\u5efa\u200b\u7f3a\u5c11\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u521b\u5efa\u200b\u4e3a\u672c\u200b\u5730\u8868\u200b\uff0c\u200b\u8868\u200b\u7ed3\u6784\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5176\u4ed6\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u901a\u8fc7\u200b show crete table xxxx \u200b\u83b7\u53d6\u200b\u3002</p> <p>\u200b\u8868\u200b\u7ed3\u6784\u200b\u521b\u5efa\u200b\u540e\u200b\uff0cclickhouse \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u4ece\u200b\u5176\u4ed6\u200b\u526f\u672c\u200b\u540c\u6b65\u200b\u8be5\u8868\u200b\u6570\u636e\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u6570\u636e\u91cf\u200b\u662f\u5426\u200b\u4e00\u81f4\u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#_53","title":"\u526f\u672c\u200b\u8282\u70b9\u200b\u5168\u91cf\u200b\u6062\u590d","text":"<p>question:</p> <p>\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u5f02\u5e38\u200b\u65e0\u6cd5\u200b\u542f\u52a8\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u642d\u5efa\u200b\u526f\u672c\u200b\u3002</p> <p>answer:</p> <p>\u200b\u6e05\u7a7a\u200b\u5f02\u5e38\u200b\u526f\u672c\u200b\u8282\u70b9\u200b\u7684\u200b metadata \u200b\u548c\u200b data \u200b\u76ee\u5f55\u200b\u3002</p> <p>\u200b\u4ece\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6b63\u5e38\u200b\u526f\u672c\u200b\u5c06\u200b metadata \u200b\u76ee\u5f55\u200b\u62f7\u8d1d\u200b\u8fc7\u6765\u200b(\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4e4b\u540e\u200b\u53ef\u4ee5\u200b\u542f\u52a8\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u4f46\u662f\u200b\u53ea\u6709\u200b\u8868\u200b\u7ed3\u6784\u200b\u6ca1\u6709\u200b\u6570\u636e\u200b)\u3002</p> <p>\u200b\u6267\u884c\u200b sudo -u clickhouse touch /data/clickhouse/flags/force_restore_data \u200b\u542f\u52a8\u200b\u6570\u636e\u5e93\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#zk","title":"\u6570\u636e\u200b\u526f\u672c\u200b\u542f\u52a8\u200b\u7f3a\u5c11\u200bzk\u200b\u8868","text":"<p>\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b\u526f\u672c\u200b\u8868\u5728\u200b zk \u200b\u4e0a\u200b\u4e22\u5931\u200b\u6570\u636e\u200b\uff0c\u200b\u6216\u8005\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f46\u662f\u200b metadata \u200b\u5143\u200b\u6570\u636e\u200b\u91cc\u200b\u5b58\u5728\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u542f\u52a8\u200b\u5f02\u5e38\u200b\uff0c\u200b\u62a5\u9519\u200b:</p> <pre><code>Can\u2019t get data for node /clickhouse/tables/01-\n02/xxxxx/xxxxxxx/replicas/xxx/metadata: node doesn\u2019t exist (No node): Cannot attach table xxxxxxx\n</code></pre> <p>answer:</p> <p>metadata \u200b\u4e2d\u200b\u79fb\u9664\u200b\u8be5\u8868\u200b\u7684\u200b\u7ed3\u6784\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u591a\u4e2a\u200b\u8868\u62a5\u200b\u9519\u200b\u90fd\u200b\u79fb\u9664\u200b</p> <p>mv metadata/xxxxxx/xxxxxxxx.sql /tmp/</p> <p>\u200b\u542f\u52a8\u200b\u6570\u636e\u5e93\u200b</p> <p>\u200b\u624b\u5de5\u200b\u521b\u5efa\u200b\u7f3a\u5c11\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u8868\u200b\u7ed3\u6784\u200b\u4ece\u200b\u5176\u4ed6\u200b\u8282\u70b9\u200b show create table \u200b\u83b7\u53d6\u200b\u3002 \u200b\u521b\u5efa\u200b\u540e\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u540c\u6b65\u200b\u6570\u636e\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u6570\u636e\u200b\u662f\u5426\u200b\u4e00\u81f4\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#zk-table-replicas","title":"ZK table replicas \u200b\u6570\u636e\u200b\u672a\u200b\u5220\u9664\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u91cd\u5efa\u200b\u8868\u62a5\u200b\u9519","text":"<p>question:</p> <p>\u200b\u91cd\u5efa\u200b\u8868\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5148\u200b\u4f7f\u7528\u200b drop table xxx on cluster xxx ,\u200b\u5404\u200b\u8282\u70b9\u200b\u5728\u200b clickhouse \u200b\u4e0a\u200b table \u200b\u5df2\u200b\u7269\u7406\u200b\u5220\u9664\u200b\uff0c\u200b\u4f46\u662f\u200b zk \u200b\u91cc\u9762\u200b\u9488\u5bf9\u200b\u67d0\u4e2a\u200b clickhouse \u200b\u8282\u70b9\u200b\u7684\u200b table meta \u200b\u4fe1\u606f\u200b\u672a\u200b\u88ab\u200b\u5220\u9664\u200b(\u200b\u4f4e\u200b\u6982\u7387\u200b\u4e8b\u4ef6\u200b)\uff0c\u200b\u56e0\u200b zk \u200b\u91cc\u200b\u4ecd\u200b\u5b58\u5728\u200b\u8be5\u8868\u200b\u7684\u200b meta \u200b\u4fe1\u606f\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u518d\u6b21\u200b\u521b\u5efa\u200b\u8be5\u8868\u200b create table xxx on cluster, \u200b\u8be5\u200b\u8282\u70b9\u200b\u65e0\u6cd5\u200b\u521b\u5efa\u200b\u8868\u200b(\u200b\u5176\u4ed6\u200b\u8282\u70b9\u200b\u521b\u5efa\u200b\u8868\u200b\u6210\u529f\u200b)\uff0c\u200b\u62a5\u9519\u200b:</p> <p>Replica /clickhouse/tables/01-03/xxxxxx/xxx/replicas/xxx already exists..</p> <p>answer:</p> <p>\u200b\u4ece\u200b\u5176\u4ed6\u200b\u6570\u636e\u200b\u526f\u672c\u200b cp \u200b\u8be5\u200b table \u200b\u7684\u200b metadata sql \u200b\u8fc7\u6765\u200b.</p> <p>\u200b\u91cd\u542f\u200b\u8282\u70b9\u200b\u3002</p>"},{"location":"bigdata/clickhouse/advanced/#ck","title":"ck\u200b\u610f\u5916\u200b\u5173\u95ed","text":"<p>question:</p> <p>\u200b\u6a21\u62df\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u610f\u5916\u200b\u5b95\u673a\u200b\uff0c\u200b\u5728\u200b\u5927\u91cf\u200b insert \u200b\u6570\u636e\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5173\u95ed\u200b\u67d0\u4e2a\u200b\u8282\u70b9\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u4e0d\u200b\u53d7\u200b\u5f71\u54cd\u200b\u3001\u200b\u6570\u636e\u200b\u67e5\u8be2\u200b\u4e0d\u200b\u53d7\u200b\u5f71\u54cd\u200b\u3001\u200b\u5efa\u8868\u200b DDL \u200b\u6267\u884c\u200b\u5230\u200b\u5f02\u5e38\u200b\u8282\u70b9\u200b\u4f1a\u200b\u5361\u4f4f\u200b\uff0c \u200b\u62a5\u9519\u200b:</p> <pre><code>Code: 159. DB::Exception: Received from localhost:9000. DB::Exception:\nWatching task /clickhouse/task_queue/ddl/query-0000565925 is executing\nlonger than distributed_ddl_task_timeout (=180) seconds. There are 1\nunfinished hosts (0 of them are currently active), they are going to\nexecute the query in background\n</code></pre> <p>answer:</p> <p>\u200b\u542f\u52a8\u200b\u5f02\u5e38\u200b\u8282\u70b9\u200b\uff0c\u200b\u671f\u95f4\u200b\u5176\u4ed6\u200b\u526f\u672c\u200b\u5199\u5165\u200b\u6570\u636e\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u540c\u6b65\u200b\u8fc7\u6765\u200b\uff0c\u200b\u5176\u4ed6\u200b\u526f\u672c\u200b\u7684\u200b \u200b\u5efa\u8868\u200b DDL \u200b\u4e5f\u200b\u4f1a\u200b\u540c\u6b65\u200b\u3002</p> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>https://help.aliyun.com/document_detail/162815.html?spm=a2c4g.11186623.6.652.312e79bd17U8IO</p>"},{"location":"bigdata/clickhouse/quickstart/","title":"quickstart","text":""},{"location":"bigdata/clickhouse/quickstart/#overview","title":"overview","text":""},{"location":"bigdata/clickhouse/quickstart/#what","title":"what","text":"<p>ClickHouse \u200b\u662f\u200b\u4fc4\u7f57\u65af\u200b\u7684\u200b Yandex \u200b\u4e8e\u200b 2016 \u200b\u5e74\u200b\u5f00\u6e90\u200b\u7684\u200b\u5217\u5f0f\u200b\u5b58\u50a8\u200b\u6570\u636e\u5e93\u200b(DBMS)\uff0c\u200b\u4f7f\u7528\u200b C++ \u200b\u8bed\u8a00\u200b\u7f16\u5199\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5728\u7ebf\u200b\u5206\u6790\u200b\u5904\u7406\u200b\u67e5\u8be2\u200b(OLAP)\uff0c\u200b\u80fd\u591f\u200b\u4f7f\u7528\u200b SQL \u200b\u67e5\u8be2\u200b\u5b9e\u65f6\u200b\u751f\u6210\u200b\u5206\u6790\u200b\u6570\u636e\u200b\u62a5\u544a\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#features","title":"features","text":""},{"location":"bigdata/clickhouse/quickstart/#1","title":"1.\u200b\u5217\u5f0f\u200b\u5b58\u50a8","text":"<p>\u200b\u884c\u5f0f\u200b\u5b58\u50a8\u200b</p> <pre><code>1 \u200b\u5f20\u4e09\u200b 18 2 \u200b\u5f20\u4e8c\u200b 18 3 \u200b\u5f20\u4e00\u200b 20\n</code></pre> <p>\u200b\u5217\u5f0f\u200b\u5b58\u50a8\u200b</p> <pre><code>1 2 3 \u200b\u5f20\u4e09\u200b \u200b\u674e\u56db\u200b \u200b\u738b\u4e94\u200b 18 22 34\n</code></pre> <p>case:</p> <p>\u200b\u5982\u679c\u200b\u60f3\u67e5\u200b\u6240\u6709\u200b\u5e74\u9f84\u200b\uff0c\u200b\u884c\u5f0f\u200b\u9700\u8981\u200b\u904d\u5386\u200b\u6240\u6709\u200b\u6570\u636e\u200b\uff08\u200b\u6709\u200b\u5f88\u591a\u200b\u5b57\u6bb5\u200b\u662f\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u7684\u200b\uff09\uff0c\u200b\u5217\u5f0f\u200b\u5b58\u50a8\u200b\u53ea\u200b\u9700\u8981\u200b\u63d0\u53d6\u200b\u5904\u200b\u7279\u5b9a\u200b\u7684\u200b\u5217\u200b\u5373\u53ef\u200b</p> <p>\u200b\u5217\u5f0f\u200b\u5b58\u50a8\u200b\u597d\u5904\u200b\uff1a</p> <ul> <li>\u200b\u5bf9\u4e8e\u200b\u5217\u200b\u7684\u200b\u805a\u5408\u200b\uff0c\u200b\u8ba1\u6570\u200b\uff0c\u200b\u6c42\u548c\u200b\u7b49\u200b\u7edf\u8ba1\u200b\u64cd\u4f5c\u200b\u539f\u56e0\u200b\u4f18\u4e8e\u200b\u884c\u5f0f\u200b\u5b58\u50a8\u200b\u3002</li> <li>\u200b\u7531\u4e8e\u200b\u67d0\u200b\u4e00\u5217\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u90fd\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\uff0c\u200b\u9488\u5bf9\u200b\u4e8e\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u66f4\u200b\u5bb9\u6613\u200b\u8fdb\u884c\u200b\u6570\u636e\u538b\u7f29\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u5217\u200b \u200b\u9009\u62e9\u200b\u66f4\u4f18\u200b\u7684\u200b\u6570\u636e\u200b\u538b\u7f29\u7b97\u6cd5\u200b\uff0c\u200b\u5927\u5927\u63d0\u9ad8\u200b\u9ad8\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u538b\u7f29\u200b\u6bd4\u91cd\u200b\u3002</li> </ul>"},{"location":"bigdata/clickhouse/quickstart/#2dbms","title":"2.DBMS \u200b\u7684\u200b\u529f\u80fd","text":"<p>\u200b\u51e0\u4e4e\u200b\u8986\u76d6\u200b\u4e86\u200b\u6807\u51c6\u200b SQL \u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u5305\u62ec\u200b DDL \u200b\u548c\u200b DML\uff0c\u200b\u4ee5\u53ca\u200b\u914d\u5957\u200b\u7684\u200b\u5404\u79cd\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u6237\u200b\u7ba1\u7406\u200b\u53ca\u200b\u6743\u9650\u200b\u7ba1\u7406\u200b\uff0c\u200b\u6570\u636e\u200b\u7684\u200b\u5907\u4efd\u200b\u4e0e\u200b\u6062\u590d\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#3","title":"3.\u200b\u591a\u6837\u5316\u200b\u5f15\u64ce","text":"<p>ClickHouse \u200b\u548c\u200b MySQL \u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u628a\u200b\u8868\u7ea7\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u63d2\u4ef6\u200b\u5316\u200b\uff0c\u200b\u6839\u636e\u200b\u8868\u200b\u7684\u200b\u4e0d\u540c\u200b\u9700\u6c42\u200b\u53ef\u4ee5\u200b\u8bbe\u5b9a\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u3002\u200b\u76ee\u524d\u200b\u5305\u62ec\u200b\u5408\u5e76\u200b\u6811\u200b\u3001\u200b\u65e5\u5fd7\u200b\u3001\u200b\u63a5\u53e3\u200b\u548c\u200b\u5176\u4ed6\u200b\u56db\u5927\u200b\u7c7b\u200b 20 \u200b\u591a\u79cd\u200b\u5f15\u64ce\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#4","title":"4.\u200b\u9ad8\u200b\u541e\u5410\u200b\u5199\u5165\u200b\u80fd\u529b","text":"<p>ClickHouse \u200b\u91c7\u7528\u200b\u7c7b\u200b LSM Tree \u200b\u7684\u200b\u7ed3\u6784\u200b\uff0c\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u540e\u200b\u5b9a\u671f\u200b\u5728\u200b\u540e\u53f0\u200b Compaction\uff08\u200b\u538b\u7f29\u200b\uff09\u3002\u200b\u901a\u8fc7\u200b\u7c7b\u200b LSM tree \u200b\u7684\u200b\u7ed3\u6784\u200b\uff0cClickHouse \u200b\u5728\u200b\u6570\u636e\u200b\u5bfc\u5165\u200b\u65f6\u200b\u5168\u90e8\u200b\u662f\u200b\u987a\u5e8f\u200b append \u200b\u5199\u200b\uff0c\u200b\u5199\u5165\u200b\u540e\u200b\u6570\u636e\u200b\u6bb5\u200b\u4e0d\u53ef\u200b\u66f4\u6539\u200b\uff0c\u200b\u5728\u200b\u540e\u53f0\u200b compaction \u200b\u65f6\u200b\u4e5f\u200b\u662f\u200b\u591a\u4e2a\u200b\u6bb5\u200b merge sort \u200b\u540e\u200b\u987a\u5e8f\u200b\u5199\u56de\u200b\u78c1\u76d8\u200b\u3002\u200b\u987a\u5e8f\u200b\u5199\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u5145\u5206\u5229\u7528\u200b\u4e86\u200b\u78c1\u76d8\u200b\u7684\u200b\u541e\u5410\u80fd\u529b\u200b\uff0c\u200b\u5373\u4fbf\u200b\u5728\u200b HDD \u200b\u4e0a\u200b\u4e5f\u200b\u6709\u7740\u200b\u4f18\u5f02\u200b\u7684\u200b\u5199\u5165\u200b\u6027\u80fd\u200b\u3002</p> <p>\u200b\u5b98\u65b9\u200b\u516c\u5f00\u200b benchmark \u200b\u6d4b\u8bd5\u200b\u663e\u793a\u200b\u80fd\u591f\u200b\u8fbe\u5230\u200b 50MB-200MB/s \u200b\u7684\u200b\u5199\u5165\u200b\u541e\u5410\u80fd\u529b\u200b\uff0c\u200b\u6309\u7167\u200b\u6bcf\u884c\u200b 100Byte \u200b\u4f30\u7b97\u200b\uff0c\u200b\u5927\u7ea6\u200b\u76f8\u5f53\u4e8e\u200b 50W-200W \u200b\u6761\u200b/s \u200b\u7684\u200b\u5199\u5165\u200b\u901f\u5ea6\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#5","title":"5.\u200b\u6570\u636e\u200b\u5206\u533a\u200b\u548c\u200b\u7ebf\u7a0b\u200b\u7ea7\u200b\u5e76\u884c","text":"<p>partition index granularity</p> <p>\u200b\u6570\u636e\u200b\u5206\u533a\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u6839\u636e\u200b\u7d22\u5f15\u200b\u7c92\u5ea6\u200b\u5212\u5206\u200b\u4e3a\u200b\u591a\u4e2a\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u591a\u4e2a\u200b CPU \u200b\u6838\u5fc3\u200b\u5206\u522b\u200b\u5904\u7406\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u6765\u200b\u5b9e\u73b0\u200b\u5e76\u884c\u200b\u6570\u636e\u5904\u7406\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5f0a\u7aef\u200b\u5c31\u662f\u200b\u5bf9\u4e8e\u200b\u5355\u6761\u200b\u67e5\u8be2\u200b\u4f7f\u7528\u200b\u591a\u200b cpu\uff0c\u200b\u5c31\u200b\u4e0d\u5229\u4e8e\u200b\u540c\u65f6\u200b\u5e76\u53d1\u200b\u591a\u6761\u200b\u67e5\u8be2\u200b</p> <pre><code>e4c9c994ffc3   centos:centos7   \"/bin/bash\"   2 weeks ago   Exited (255) 37 seconds ago   0.0.0.0:8123-&gt;8123/tcp, 0.0.0.0:9000-&gt;9000/tcp   elegant_williams\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#quick-start","title":"quick start","text":""},{"location":"bigdata/clickhouse/quickstart/#install","title":"install","text":""},{"location":"bigdata/clickhouse/quickstart/#docker-centos","title":"docker - centos","text":""},{"location":"bigdata/clickhouse/quickstart/#1_1","title":"1.\u200b\u53d6\u6d88\u200b\u6587\u4ef6\u200b\u6570\u200b\u9650\u5236","text":"<p>hard: \u200b\u4e0a\u9650\u200b</p> <pre><code>sudo vim /etc/security/limits.conf\n* soft nofile 65536\n* hard nofile 65536\n* soft nproc 131072\n* hard nproc 131072\n</code></pre> <pre><code>sudo vim /etc/security/limits.d/20-nproc.conf\n* soft nofile 65536\n* hard nofile 65536\n* soft nproc 131072\n* hard nproc 131072\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#2-selinux","title":"2.\u200b\u7981\u7528\u200b SELINUX","text":"<pre><code>sudo vim /etc/selinux/config\nSELINUX=disabled\n</code></pre> <p>\u200b\u91cd\u542f\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#3-install","title":"3 install","text":"<pre><code>docker run -p 9000:9000 -p 8123:8123 -it centos:centos7 /bin/bash\n\n\nyum install sudo\nyum install yum\nyum install vim\n\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://packages.clickhouse.com/rpm/clickhouse.repo\nsudo yum install -y clickhouse-server clickhouse-client\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#4-conf","title":"4 conf","text":"<pre><code>sudo vim /etc/clickhouse-server/config.xml\n\n\n&lt;listen_host&gt;0.0.0.0&lt;/listen_host&gt;\n</code></pre> <p>0.0.0.0 \u200b\u6ce8\u91ca\u200b\u6253\u5f00\u200b</p> <p>\u200b\u5141\u8bb8\u200b\u975e\u672c\u673a\u200b\u53ef\u200b\u8bbf\u95ee\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#5use","title":"5.use","text":"<pre><code>sudo /etc/init.d/clickhouse-server start\nclickhouse-client -m  # or \"clickhouse-client --password\" if you set up a password.\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#docker-origin-ubuntu","title":"docker - origin ubuntu","text":"<pre><code>docker run -d -p 8123:8123 -p 9000:9000 --name ck23.2 --ulimit nofile=262144:262144 clickhouse/clickhouse-server:23.2\n</code></pre> <p>\u200b\u8be5\u200b\u955c\u50cf\u200b\u662f\u200bubuntu</p> <pre><code>apt-get update\napt-get install vim -y\napt-get install sudo\n\n\u200b\u4e0d\u200b\u9700\u8981\u200b\u542f\u52a8\u200b\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_1","title":"\u6587\u4ef6","text":"<p>\u200b\u76ee\u5f55\u200b</p> <p>ClickHouse\u200b\u5404\u200b\u6587\u4ef6\u76ee\u5f55\u200b\uff1a     bin/      /usr/bin/      conf/     /etc/clickhouse-server/     lib/     /var/lib/clickhouse      log/    /var/log/clickhouse-server</p> <p>PartitionId_MinBlockNum_MaxBlockNum_Level \u200b\u5206\u533a\u200b\u503c\u200b \u200b\u6700\u5c0f\u200b\u5206\u533a\u200b\u5757\u200b\u7f16\u53f7\u200b \u200b\u6700\u5927\u200b\u5206\u533a\u200b\u5757\u200b\u7f16\u53f7\u200b_\u200b\u5408\u5e76\u200b\u5c42\u7ea7\u200b</p> <p>/var/lib/clickhouse/data/default/t_order_mt/20200602_2_2_0    </p> <p>\u200b\u6570\u636e\u200b\u5206\u533a\u200b\u89c4\u5219\u200b\u7531\u200b\u5206\u533a\u200bID\u200b\u51b3\u5b9a\u200b\uff0c\u200b\u5206\u533a\u200bID\u200b\u7531\u200bPARTITION BY\u200b\u5206\u533a\u200b\u952e\u200b\u51b3\u5b9a\u200b\u3002\u200b\u6839\u636e\u200b\u5206\u533a\u200b\u952e\u5b57\u6bb5\u200b\u7c7b\u578b\u200b\uff0cID\u200b\u751f\u6210\u200b\u89c4\u5219\u200b\u53ef\u200b\u5206\u4e3a\u200b\uff1a</p> <p>\u200b\u672a\u5b9a\u4e49\u200b\u5206\u533a\u200b\u952e\u200b     \u200b\u6ca1\u6709\u200b\u5b9a\u4e49\u200bPARTITION BY\uff0c\u200b\u9ed8\u8ba4\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\u540d\u4e3a\u200ball\u200b\u7684\u200b\u6570\u636e\u200b\u5206\u533a\u200b\uff0c\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u5747\u200b\u5b58\u653e\u200b\u5728\u200ball\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u3002</p> <p>\u200b\u6574\u578b\u200b\u5206\u533a\u200b\u952e\u200b     \u200b\u5206\u533a\u200b\u952e\u4e3a\u200b\u6574\u578b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u76f4\u63a5\u200b\u7528\u8be5\u200b\u6574\u578b\u200b\u503c\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5f62\u5f0f\u200b\u505a\u200b\u4e3a\u200b\u5206\u533a\u200bID\u3002</p> <p>\u200b\u65e5\u671f\u200b\u7c7b\u200b\u5206\u533a\u200b\u952e\u200b     \u200b\u5206\u533a\u200b\u952e\u4e3a\u200b\u65e5\u671f\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6216\u8005\u200b\u53ef\u4ee5\u200b\u8f6c\u5316\u6210\u200b\u65e5\u671f\u200b\u7c7b\u578b\u200b\u3002</p> <p>\u200b\u5176\u4ed6\u200b\u7c7b\u578b\u200b\u5206\u533a\u200b\u952e\u200b     String\u3001Float\u200b\u7c7b\u578b\u200b\u7b49\u200b\uff0c\u200b\u901a\u8fc7\u200b128\u200b\u4f4d\u200b\u7684\u200bHash\u200b\u7b97\u6cd5\u200b\u53d6\u5176\u200bHash\u200b\u503c\u200b\u4f5c\u4e3a\u200b\u5206\u533a\u200bID\u3002</p> <p>\u200b    </p> <p>=\u300bMinBlockNum     \u200b\u6700\u5c0f\u200b\u5206\u533a\u200b\u5757\u200b\u7f16\u53f7\u200b\uff0c\u200b\u81ea\u589e\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4ece\u200b1\u200b\u5f00\u59cb\u200b\u5411\u4e0a\u200b\u9012\u589e\u200b\u3002\u200b\u6bcf\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u76ee\u5f55\u200b\u5206\u533a\u200b\u5c31\u200b\u5411\u4e0a\u200b\u9012\u589e\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\u3002 =\u300bMaxBlockNum     \u200b\u6700\u5927\u200b\u5206\u533a\u200b\u5757\u200b\u7f16\u53f7\u200b\uff0c\u200b\u65b0\u521b\u5efa\u200b\u7684\u200b\u5206\u533a\u200bMinBlockNum\u200b\u7b49\u4e8e\u200bMaxBlockNum\u200b\u7684\u200b\u7f16\u53f7\u200b\u3002 =\u300bLevel     \u200b\u5408\u5e76\u200b\u7684\u200b\u5c42\u7ea7\u200b\uff0c\u200b\u88ab\u200b\u5408\u5e76\u200b\u7684\u200b\u6b21\u6570\u200b\u3002\u200b\u5408\u5e76\u200b\u6b21\u6570\u200b\u8d8a\u200b\u591a\u200b\uff0c\u200b\u5c42\u7ea7\u200b\u503c\u8d8a\u200b\u5927\u200b\u3002</p> <p>\u200b     </p> <p>bin\u200b\u6587\u4ef6\u200b\uff1a\u200b\u6570\u636e\u6587\u4ef6\u200b mrk\u200b\u6587\u4ef6\u200b\uff1a\u200b\u6807\u8bb0\u200b\u6587\u4ef6\u200b     \u200b\u6807\u8bb0\u200b\u6587\u4ef6\u200b\u5728\u200b idx\u200b\u7d22\u5f15\u200b\u6587\u4ef6\u200b \u200b\u548c\u200b bin\u200b\u6570\u636e\u6587\u4ef6\u200b \u200b\u4e4b\u95f4\u200b\u8d77\u5230\u200b\u4e86\u200b\u6865\u6881\u200b\u4f5c\u7528\u200b\u3002     \u200b\u4ee5\u200bmrk2\u200b\u7ed3\u5c3e\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u8868\u793a\u200b\u8be5\u8868\u200b\u542f\u7528\u200b\u4e86\u200b\u81ea\u200b\u9002\u5e94\u200b\u7d22\u5f15\u200b\u95f4\u9694\u200b\u3002 primary.idx\u200b\u6587\u4ef6\u200b\uff1a\u200b\u4e3b\u952e\u200b\u7d22\u5f15\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u52a0\u5feb\u200b\u67e5\u8be2\u200b\u6548\u7387\u200b\u3002 minmax_create_time.idx\uff1a\u200b\u5206\u533a\u200b\u952e\u200b\u7684\u200b\u6700\u5927\u200b\u6700\u5c0f\u503c\u200b\u3002 checksums.txt\uff1a\u200b\u6821\u9a8c\u6587\u4ef6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6821\u9a8c\u200b\u5404\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u6b63\u786e\u6027\u200b\u3002\u200b\u5b58\u653e\u200b\u5404\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200bsize\u200b\u4ee5\u53ca\u200bhash\u200b\u503c\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#data-type","title":"data type \u200b\u6570\u636e\u7c7b\u578b","text":""},{"location":"bigdata/clickhouse/quickstart/#_2","title":"\u6574\u578b","text":"<p>\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\u6574\u578b\u200b\uff0c\u200b\u5305\u62ec\u200b\u6709\u200b\u7b26\u53f7\u200b\u6574\u578b\u200b\u6216\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u578b\u200b\u3002</p> <p>Int8 - [-128 : 127]</p> <p>Int16 - [-32768 : 32767]</p> <p>Int32 - [-2147483648 : 2147483647]</p> <p>Int64 - [-9223372036854775808 : 9223372036854775807] \u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u578b\u200b\u8303\u56f4\u200b(0~2n-1):</p> <p>UInt8 - [0 : 255]</p> <p>UInt16 - [0 : 65535]</p> <p>UInt32 - [0 : 4294967295]</p> <p>UInt64 - [0 : 18446744073709551615]</p>"},{"location":"bigdata/clickhouse/quickstart/#_3","title":"\u6d6e\u70b9\u200b\u578b","text":"<p>Float32 - float</p> <p>Float64 \u2013 double</p> <p>\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b:\u200b\u4e00\u822c\u200b\u6570\u636e\u200b\u503c\u200b\u6bd4\u8f83\u200b\u5c0f\u200b\uff0c\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u5927\u91cf\u200b\u7684\u200b\u7edf\u8ba1\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u4e0d\u9ad8\u200b\u7684\u200b\u65f6\u5019\u200b\u3002\u200b\u6bd4\u5982\u200b\u4fdd\u5b58\u200b\u5546\u54c1\u200b\u7684\u200b\u91cd\u91cf\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#_4","title":"\u5e03\u5c14\u200b\u578b","text":"<p>\u200b\u6ca1\u6709\u200b\u5355\u72ec\u200b\u7684\u200b\u7c7b\u578b\u200b\u6765\u200b\u5b58\u50a8\u200b\u5e03\u5c14\u503c\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b UInt8 \u200b\u7c7b\u578b\u200b\uff0c\u200b\u53d6\u503c\u200b\u9650\u5236\u200b\u4e3a\u200b 0 \u200b\u6216\u200b 1\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#decimal","title":"Decimal","text":"<p>\u200b\u6709\u200b\u7b26\u53f7\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\uff0c\u200b\u53ef\u5728\u52a0\u200b\u3001\u200b\u51cf\u200b\u548c\u200b\u4e58\u6cd5\u200b\u8fd0\u7b97\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4fdd\u6301\u200b\u7cbe\u5ea6\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u9664\u6cd5\u200b\uff0c\u200b\u6700\u4f4e\u200b\u6709\u6548\u6570\u5b57\u200b\u4f1a\u200b \u200b\u88ab\u200b\u4e22\u5f03\u200b(\u200b\u4e0d\u200b\u820d\u5165\u200b)\u3002</p> <p>\u200b\u6709\u200b\u4e09\u79cd\u200b\u58f0\u660e\u200b:</p> <p>Decimal32(s)\uff0c\u200b\u76f8\u5f53\u4e8e\u200bDecimal(9-s,s)\uff0c\u200b\u6709\u6548\u4f4d\u6570\u200b\u4e3a\u200b1~9</p> <p>Decimal64(s)\uff0c\u200b\u76f8\u5f53\u4e8e\u200bDecimal(18-s,s)\uff0c\u200b\u6709\u6548\u4f4d\u6570\u200b\u4e3a\u200b1~18</p> <p>Decimal128(s)\uff0c\u200b\u76f8\u5f53\u4e8e\u200bDecimal(38-s,s)\uff0c\u200b\u6709\u6548\u4f4d\u6570\u200b\u4e3a\u200b1~38</p> <p>s \u200b\u6807\u8bc6\u200b\u5c0f\u6570\u4f4d\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b: \u200b\u4e00\u822c\u200b\u91d1\u989d\u200b\u5b57\u200b\u6bb5\u200b\u3001\u200b\u6c47\u7387\u200b\u3001\u200b\u5229\u7387\u200b\u7b49\u200b\u5b57\u200b\u6bb5\u200b\u4e3a\u4e86\u200b\u4fdd\u8bc1\u200b\u5c0f\u6570\u70b9\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u90fd\u200b\u4f7f\u7528\u200b Decimal</p> <p>\u200b\u8fdb\u884c\u200b\u5b58\u50a8\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#_5","title":"\u5b57\u7b26\u4e32","text":"<p>String </p> <p>\u200b\u5b57\u7b26\u4e32\u200b\u53ef\u4ee5\u200b\u4efb\u610f\u200b\u957f\u5ea6\u200b\u7684\u200b\u3002\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u4efb\u610f\u200b\u7684\u200b\u5b57\u8282\u200b\u96c6\u200b\uff0c\u200b\u5305\u542b\u200b\u7a7a\u200b\u5b57\u8282\u200b\u3002</p> <p>FixedString(N)</p> <p>\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b N \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0cN \u200b\u5fc5\u987b\u200b\u662f\u200b\u4e25\u683c\u200b\u7684\u200b\u6b63\u200b\u81ea\u7136\u6570\u200b\u3002\u200b\u5f53\u200b\u670d\u52a1\u7aef\u200b\u8bfb\u53d6\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b N \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u65f6\u5019\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u672b\u5c3e\u200b\u6dfb\u52a0\u200b\u7a7a\u200b\u5b57\u8282\u200b\u6765\u200b\u8fbe\u5230\u200b N \u200b\u5b57\u8282\u200b\u957f\u5ea6\u200b\u3002 \u200b\u5f53\u200b\u670d\u52a1\u7aef\u200b\u8bfb\u53d6\u200b\u957f\u5ea6\u200b\u5927\u4e8e\u200b N \u200b\u7684\u200b \u200b\u5b57\u7b26\u4e32\u200b\u65f6\u5019\u200b\uff0c\u200b\u5c06\u200b\u8fd4\u56de\u200b\u9519\u8bef\u200b\u6d88\u606f\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#_6","title":"\u679a\u4e3e","text":"<p>\u200b\u5305\u62ec\u200b Enum8 \u200b\u548c\u200b Enum16 \u200b\u7c7b\u578b\u200b\u3002Enum \u200b\u4fdd\u5b58\u200b 'string'= integer \u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u3002 </p> <p>Enum8 \u200b\u7528\u200b 'String'= Int8 \u200b\u5bf9\u200b\u63cf\u8ff0\u200b\u3002</p> <p>Enum16 \u200b\u7528\u200b 'String'= Int16 \u200b\u5bf9\u200b\u63cf\u8ff0\u200b\u3002</p> <pre><code>CREATE TABLE t_enum\n(\n    x Enum8('hello' = 1, 'world' = 2)\n)\nENGINE = TinyLog\n</code></pre> <pre><code>INSERT INTO t_enum VALUES ('hello'), ('world')\n\nSELECT CAST(x, 'Int8') FROM t_enum;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_7","title":"\u65f6\u95f4\u200b\u7c7b\u578b","text":"<p>Date \u200b\u63a5\u53d7\u200b\u5e74\u200b-\u200b\u6708\u200b-\u200b\u65e5\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u5982\u200b\u20182019-12-16\u2019</p> <p>Datetime \u200b\u63a5\u53d7\u200b\u5e74\u200b-\u200b\u6708\u200b-\u200b\u65e5\u200b \u200b\u65f6\u200b:\u200b\u5206\u200b:\u200b\u79d2\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u5982\u200b \u20182019-12-16 20:50:10\u2019</p> <p>Datetime64 \u200b\u63a5\u53d7\u200b\u5e74\u200b-\u200b\u6708\u200b-\u200b\u65e5\u200b \u200b\u65f6\u200b:\u200b\u5206\u200b:\u200b\u79d2\u200b.\u200b\u6beb\u79d2\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u5982\u200b\u20182019-12-16 20:50:10.66'</p>"},{"location":"bigdata/clickhouse/quickstart/#_8","title":"\u8868\u200b\u5f15\u64ce","text":"<p>\u200b\u8868\u200b\u5f15\u64ce\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u5982\u4f55\u200b\u5b58\u50a8\u200b\u8868\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5305\u62ec\u200b\u5982\u4e0b\u200b</p> <ul> <li>\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u65b9\u5f0f\u200b\u548c\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5199\u200b\u5230\u200b\u54ea\u91cc\u200b\u4ee5\u53ca\u200b\u4ece\u200b\u54ea\u91cc\u200b\u8bfb\u53d6\u6570\u636e\u200b\u3002</li> <li>\u200b\u652f\u6301\u200b\u54ea\u4e9b\u200b\u67e5\u8be2\u200b\u4ee5\u53ca\u200b\u5982\u4f55\u200b\u652f\u6301\u200b\u3002</li> <li>\u200b\u5e76\u53d1\u200b\u6570\u636e\u200b\u8bbf\u95ee\u200b</li> <li>\u200b\u7d22\u5f15\u200b\u7684\u200b\u4f7f\u7528\u200b(\u200b\u5982\u679c\u200b\u5b58\u5728\u200b)\u3002</li> <li>\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\u591a\u7ebf\u7a0b\u200b\u8bf7\u6c42\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u590d\u5236\u200b\u53c2\u6570\u200b</li> </ul>"},{"location":"bigdata/clickhouse/quickstart/#tinylog","title":"TinyLog","text":"<p>\u200b\u4ee5\u5217\u200b\u6587\u4ef6\u200b\u7684\u200b\u5f62\u5f0f\u200b\u4fdd\u5b58\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u7d22\u5f15\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u3002\u200b\u4e00\u822c\u200b\u4fdd\u5b58\u200b\u5c11\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u5c0f\u8868\u200b\uff0c \u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u4e0a\u200b\u4f5c\u7528\u200b\u6709\u9650\u200b\u3002\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u5e73\u65f6\u200b\u7ec3\u4e60\u200b\u6d4b\u8bd5\u200b\u7528\u200b\u3002</p> <pre><code>create table t_tinylog ( id String, name String) engine=TinyLog;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#memory","title":"Memory","text":"<p>\u200b\u5185\u5b58\u200b\u5f15\u64ce\u200b\uff0c\u200b\u6570\u636e\u200b\u4ee5\u672a\u200b\u538b\u7f29\u200b\u7684\u200b\u539f\u59cb\u200b\u5f62\u5f0f\u200b\u76f4\u63a5\u200b\u4fdd\u5b58\u200b\u5728\u200b\u5185\u5b58\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u670d\u52a1\u5668\u200b\u91cd\u542f\u200b\u6570\u636e\u200b\u5c31\u200b\u4f1a\u200b\u6d88\u5931\u200b\u3002 \u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u4e0d\u4f1a\u200b\u76f8\u4e92\u200b\u963b\u585e\u200b\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u7d22\u5f15\u200b\u3002\u200b\u7b80\u5355\u200b\u67e5\u8be2\u200b\u4e0b\u200b\u6709\u200b\u975e\u5e38\u200b\u975e\u5e38\u200b\u9ad8\u200b\u7684\u200b\u6027\u80fd\u200b\u8868\u73b0\u200b(\u200b\u8d85\u8fc7\u200b 10G/s)\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#mergetree","title":"MergeTree","text":"<p>\u200b\u652f\u6301\u200b\u7d22\u5f15\u200b\u548c\u200b\u5206\u533a\u200b</p> <pre><code>create table t_order_mt(\n   id UInt32,\n   sku_id String,\n   total_amount Decimal(16,2),\n   create_time Datetime\n) engine = MergeTree\npartition by toYYYYMMDD(create_time) \nprimary key (id)\norder by (id,sku_id);\n</code></pre> <pre><code>insert into t_order_mt \nvalues \n    (101,'sku_001',1000.00,'2020-06-01 12:00:00') , \n    (102,'sku_002',2000.00,'2020-06-01 11:00:00'), \n    (102,'sku_004',2500.00,'2020-06-01 12:00:00'), \n    (102,'sku_002',2000.00,'2020-06-01 13:00:00'), \n    (102,'sku_002',12000.00,'2020-06-01 13:00:00'), \n    (102,'sku_002',600.00,'2020-06-02 12:00:00');\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#partition-by","title":"partition by \u200b\u5206\u533a","text":"<p>\u200b\u5982\u679c\u200b\u4e0d\u5199\u200b \u200b\u5219\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5206\u533a\u200b</p> <p>MergeTree \u200b\u662f\u200b\u4ee5\u5217\u200b\u6587\u4ef6\u200b+\u200b\u7d22\u5f15\u200b\u6587\u4ef6\u200b+\u200b\u8868\u200b\u5b9a\u4e49\u200b\u6587\u4ef6\u200b\u7ec4\u6210\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u8bbe\u5b9a\u200b\u4e86\u200b\u5206\u533a\u200b\u90a3\u4e48\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u5c31\u200b\u4f1a\u200b\u4fdd\u5b58\u200b\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u5206\u533a\u200b\u76ee\u5f55\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5bf9\u200b\u4e0e\u200b\u4e0d\u540c\u200b\u5206\u533a\u200b\u7684\u200b\u6570\u636e\u200b \u200b\u4f1a\u200b\u8fdb\u884c\u200b\u5e76\u884c\u5904\u7406\u200b</p> <p>\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u6279\u6b21\u200b\u7684\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u90fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u4e34\u65f6\u200b\u5206\u533a\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u7eb3\u5165\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u5df2\u6709\u200b\u7684\u200b\u5206\u533a\u200b\u3002\u200b\u5199\u5165\u200b\u540e\u200b\u7684\u200b\u67d0\u4e2a\u200b\u65f6\u523b\u200b(\u200b\u5927\u6982\u200b 10-15 \u200b\u5206\u949f\u200b\u540e\u200b)\uff0cClickHouse \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u6267\u884c\u200b\u5408\u5e76\u200b\u64cd\u4f5c\u200b(\u200b\u7b49\u4e0d\u53ca\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u624b\u52a8\u200b \u200b\u901a\u8fc7\u200b optimize \u200b\u6267\u884c\u200b)\uff0c\u200b\u628a\u200b\u4e34\u65f6\u200b\u5206\u533a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5408\u5e76\u200b\u5230\u200b\u5df2\u6709\u200b\u5206\u533a\u200b\u4e2d\u200b\u3002</p> <p></p> <pre><code>optimize table t_order_mt final;\n</code></pre> <p></p>"},{"location":"bigdata/clickhouse/quickstart/#primary-key","title":"primary key \u200b\u4e3b\u952e","text":"<p>ClickHouse \u200b\u4e2d\u200b\u7684\u200b\u4e3b\u952e\u200b\uff0c\u200b\u548c\u200b\u5176\u4ed6\u200b\u6570\u636e\u5e93\u200b\u4e0d\u592a\u200b\u4e00\u6837\u200b\uff0c\u200b\u5b83\u200b\u53ea\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u7ea7\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4f46\u662f\u200b\u5374\u200b\u4e0d\u662f\u200b\u552f\u4e00\u200b\u7ea6\u675f\u200b</p> <p>index granularity: \u200b\u76f4\u63a5\u200b\u7ffb\u8bd1\u200b\u7684\u8bdd\u200b\u5c31\u662f\u200b\u7d22\u5f15\u200b\u7c92\u5ea6\u200b\uff0c\u200b\u6307\u5728\u200b\u7a00\u758f\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u4e24\u4e2a\u200b\u76f8\u90bb\u200b\u7d22\u5f15\u200b\u5bf9\u5e94\u200b\u6570\u200b \u200b\u636e\u200b\u7684\u200b\u95f4\u9694\u200b\u3002</p> <p>ClickHouse \u200b\u4e2d\u200b\u7684\u200b MergeTree \u200b\u9ed8\u8ba4\u200b\u662f\u200b 8192\u3002\u200b\u5b98\u65b9\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u4fee\u6539\u200b\u8fd9\u4e2a\u200b\u503c\u200b\uff0c\u200b\u9664\u975e\u200b\u8be5\u5217\u200b\u5b58\u5728\u200b\u5927\u91cf\u200b\u91cd\u590d\u200b\u503c\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5206\u533a\u200b\u4e2d\u200b\u51e0\u4e07\u200b\u884c\u624d\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b GRANULARITY N \u200b\u662f\u200b\u8bbe\u5b9a\u200b\u4e8c\u7ea7\u200b\u7d22\u5f15\u200b\u5bf9\u4e8e\u200b\u4e00\u7ea7\u200b\u7d22\u5f15\u200b\u7c92\u5ea6\u200b\u7684\u200b\u7c92\u5ea6\u200b\u3002</p> <p></p>"},{"location":"bigdata/clickhouse/quickstart/#order-by","title":"order by","text":"<p>order by \u200b\u8bbe\u5b9a\u200b\u4e86\u200b\u5206\u200b\u533a\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u6309\u7167\u200b\u54ea\u4e9b\u200b\u5b57\u200b\u6bb5\u200b\u987a\u5e8f\u200b\u8fdb\u884c\u200b\u6709\u5e8f\u200b\u4fdd\u5b58\u200b\u3002</p> <p>\u200b\u8981\u6c42\u200b:\u200b\u4e3b\u952e\u200b\u5fc5\u987b\u200b\u662f\u200b order by \u200b\u5b57\u6bb5\u200b\u7684\u200b\u524d\u7f00\u200b\u5b57\u200b\u6bb5\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#_9","title":"\u4e8c\u7ea7\u200b\u7d22\u5f15","text":"<p>\u200b\u4e8c\u7ea7\u200b\u7d22\u5f15\u200b\u7684\u200b\u529f\u80fd\u200b\u5728\u200b &gt; v20.1.2.4 \u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5f00\u542f\u200b\u7684\u200b\u3002</p> <p>\u200b\u8001\u200b\u7248\u672c\u200b\u5f00\u542f\u200b</p> <pre><code>set allow_experimental_data_skipping_indices=1;\n</code></pre> <pre><code>create table t_order_mt2(\n    id UInt32,\n    sku_id String,\n    total_amount Decimal(16,2), \n    create_time Datetime,\n  INDEX a total_amount TYPE minmax GRANULARITY 5\n ) engine = MergeTree\npartition by toYYYYMMDD(create_time)\nprimary key (id)\norder by (id, sku_id);\n</code></pre> <p>GRANULARITY N \u200b\u8bbe\u5b9a\u200b\u4e8c\u7ea7\u200b\u7d22\u5f15\u200b\u5bf9\u4e8e\u200b\u4e00\u7ea7\u200b\u7d22\u5f15\u200b\u7c92\u5ea6\u200b\u7684\u200b\u7c92\u5ea6\u200b\u3002</p> <p>\u200b\u5206\u5272\u200b\u6210\u5c0f\u5757\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u4e0a\u200b\u8bb0\u200bSQL\u200b\u7684\u200bgranularity_value\u200b\u6570\u91cf\u200b\u7684\u200b\u5c0f\u5757\u200b\u7ec4\u5408\u6210\u200b\u4e00\u4e2a\u200b\u5927\u200b\u7684\u200b\u5757\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#ttl","title":"ttl","text":"<p>TTL \u200b\u5373\u200b Time To Live\uff0cMergeTree \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u53ef\u4ee5\u200b\u7ba1\u7406\u200b\u6570\u636e\u8868\u200b\u6216\u8005\u200b\u5217\u200b\u7684\u200b\u751f\u547d\u5468\u671f\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>ttl \u200b\u5b57\u200b\u6bb5\u200b</p> <ul> <li>SECOND</li> <li>MINUTE</li> <li>HOUR</li> <li>DAY</li> <li>WEEK</li> <li>MONTH</li> <li>QUARTER</li> <li>YEAR</li> </ul>"},{"location":"bigdata/clickhouse/quickstart/#_10","title":"\u5217\u200b\u8bbe\u7f6e","text":"<pre><code>create table t_order_mt3(\n    id UInt32,\n    sku_id String,\n    total_amount Decimal(16,2) TTL create_time+interval 10 SECOND, \n  create_time Datetime\n ) engine =MergeTree\n partition by toYYYYMMDD(create_time)\nprimary key (id)\norder by (id, sku_id);\n\n\ninsert into t_order_mt3 \nvalues (106,'sku_001',1000.00,'2020-06-12 22:52:30'), \n(107,'sku_002',2000.00,'2020-06-12 22:52:30'), \n(110,'sku_003',600.00,'2020-06-13 12:00:00');\n\n\nselect * from t_order_mt3\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#1_2","title":"\u8868\u200b\u8bbe\u7f6e\u200b1","text":"<pre><code>alter table t_order_mt3 MODIFY TTL create_time + INTERVAL 10 SECOND;\n</code></pre> <p>\u200b\u9700\u8981\u200b\u662f\u200b<code>Date</code>or<code>DateTime</code>\u200b\u6570\u636e\u7c7b\u578b\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#2","title":"\u8868\u200b\u8bbe\u7f6e\u200b2","text":"<pre><code>CREATE TABLE customers (\ntimestamp DateTime,\nname String,\nbalance Int32,\naddress String\n)\nENGINE = MergeTree\nORDER BY timestamp\nTTL timestamp + INTERVAL 12 HOUR\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#replacingmergetree","title":"ReplacingMergeTree","text":"<p>ReplacingMergeTree \u200b\u662f\u200b MergeTree \u200b\u7684\u200b\u4e00\u4e2a\u200b\u53d8\u79cd\u200b\uff0c\u200b\u5b83\u200b\u5b58\u50a8\u200b\u7279\u6027\u200b\u5b8c\u5168\u200b\u7ee7\u627f\u200b MergeTree\uff0c\u200b\u53ea\u662f\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u53bb\u200b\u91cd\u200b\u7684\u200b\u529f\u80fd\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#_11","title":"\u53bb\u200b\u91cd","text":""},{"location":"bigdata/clickhouse/quickstart/#_12","title":"\u65f6\u673a","text":"<p>\u200b\u6570\u636e\u200b\u7684\u200b\u53bb\u200b\u91cd\u200b\u53ea\u4f1a\u200b\u5728\u200b\u5408\u5e76\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u51fa\u73b0\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#_13","title":"\u8303\u56f4","text":"<p>\u200b\u5982\u679c\u200b\u8868\u200b\u7ecf\u8fc7\u200b\u4e86\u200b\u5206\u533a\u200b\uff0c\u200b\u53bb\u200b\u91cd\u200b\u53ea\u4f1a\u200b\u5728\u200b\u5206\u533a\u200b\u5185\u90e8\u200b\u8fdb\u884c\u200b\u53bb\u200b\u91cd\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u6267\u884c\u200b\u8de8\u200b\u5206\u533a\u200b\u7684\u200b\u53bb\u200b\u91cd\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#case","title":"case","text":"<p>ReplacingMergeTree() \u200b\u586b\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u4e3a\u200b\u7248\u672c\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u91cd\u590d\u200b\u6570\u636e\u200b\u4fdd\u7559\u200b\u7248\u672c\u200b\u5b57\u200b\u6bb5\u503c\u200b\u6700\u5927\u200b\u7684\u200b\u3002 </p> <p>\u200b\u5982\u679c\u200b\u4e0d\u586b\u200b\u7248\u672c\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6309\u7167\u200b\u63d2\u5165\u200b\u987a\u5e8f\u200b\u4fdd\u7559\u200b\u6700\u540e\u200b\u4e00\u6761\u200b\u3002</p> <pre><code>create table t_order_rmt(\n   id UInt32,\n    sku_id String,\n    total_amount Decimal(16,2), \n  create_time Datetime\n) engine = ReplacingMergeTree(create_time)\n  partition by toYYYYMMDD(create_time)\n  primary key (id)\n  order by (id, sku_id);\n\n\ninsert into t_order_rmt \nvalues (101,'sku_001',1000.00,'2020-06-01 12:00:00') , \n(102,'sku_002',2000.00,'2020-06-01 11:00:00'), \n(102,'sku_004',2500.00,'2020-06-01 12:00:00'), \n(102,'sku_002',2000.00,'2020-06-01 13:00:00'), \n(102,'sku_002',12000.00,'2020-06-01 13:00:00'), \n(102,'sku_002',600.00,'2020-06-02 12:00:00');\n\n\nselect * from t_order_rmt\n\nOPTIMIZE TABLE t_order_rmt FINAL;\n</code></pre> <p>\u200b\u7ed3\u8bba\u200b\uff1a</p> <ul> <li>order by \u200b\u5b57\u200b\u6bb5\u200b\u4f5c\u4e3a\u200b\u552f\u4e00\u200b\u952e\u200b</li> <li>\u200b\u53bb\u200b\u91cd\u200b\u4e0d\u80fd\u200b\u8de8\u200b\u5206\u533a\u200b</li> <li>\u200b\u5408\u5e76\u200b\u5206\u533a\u200b\u65f6\u624d\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u53bb\u200b\u91cd\u200b</li> <li>\u200b\u5224\u5b9a\u200b\u4e3a\u200b\u91cd\u590d\u200b\u6570\u636e\u200b\uff0c\u200b\u4fdd\u7559\u200b\u7248\u672c\u200b\u5b57\u200b\u6bb5\u503c\u200b\u6700\u5927\u200b\uff0c\u200b\u5982\u679c\u200b\u7248\u672c\u200b\u5b57\u200b\u6bb5\u200b\u76f8\u540c\u200b\u5219\u200b\u4fdd\u7559\u200b\u6700\u540e\u200b\u63d2\u5165\u200b\u7684\u200b</li> </ul>"},{"location":"bigdata/clickhouse/quickstart/#summingmergetree","title":"SummingMergeTree","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e0d\u200b\u67e5\u8be2\u200b\u660e\u7ec6\u200b\uff0c\u200b\u53ea\u200b\u5173\u5fc3\u200b\u4ee5\u200b\u7ef4\u5ea6\u200b\u8fdb\u884c\u200b\u6c47\u603b\u200b\u805a\u5408\u200b\u7ed3\u679c\u200b\u7684\u200b\u573a\u666f\u200b, ClickHouse \u200b\u4e3a\u4e86\u200b\u8fd9\u79cd\u200b\u573a\u666f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u79cd\u200b\u80fd\u591f\u200b\u201c\u200b\u9884\u200b\u805a\u5408\u200b\u201d\u200b\u7684\u200b\u5f15\u64ce\u200b SummingMergeTree</p> <pre><code>create table t_order_smt(\n   id UInt32,\n   sku_id String,\n   total_amount Decimal(16,2) ,\n   create_time Datetime\n) engine = SummingMergeTree(total_amount)\n  partition by toYYYYMMDD(create_time)\n  primary key (id)\n  order by (id,sku_id);\n\ninsert into t_order_smt\nvalues (101, 'sku_001', 1000.00, '2020-06-01 12:00:00'),\n(102,'sku_002',2000.00,'2020-06-01 11:00:00'),\n(102,'sku_004',2500.00,'2020-06-01 12:00:00'),\n(102,'sku_002',2000.00,'2020-06-01 13:00:00'),\n(102,'sku_002',12000.00,'2020-06-01 13:00:00'),\n(102,'sku_002',600.00,'2020-06-02 12:00:00');\n\n\nselect * from t_order_smt;\n</code></pre> <p></p> <p>\u200b\u975e\u200b\u805a\u5408\u200b\u5b57\u6bb5\u200b\u53d6\u200b\u6700\u65e9\u200b\u7684\u200b\u4e00\u6761\u200b</p> <p>\u200b\u7ed3\u8bba\u200b\uff1a</p> <ul> <li>\u200b\u4ee5\u200bSummingMergeTree()\u200b\u4e2d\u200b\u6307\u5b9a\u200b\u7684\u200b\u5217\u200b\u4f5c\u4e3a\u200b\u6c47\u603b\u200b\u6570\u636e\u200b\u5217\u200b\uff08\u200b\u6c47\u603b\u200b\u6570\u636e\u200b\u5217\u200b\u53ef\u4ee5\u200b\u586b\u5199\u200b\u591a\u5217\u200b\uff0c\u200b\u4f46\u662f\u200b\u5fc5\u987b\u200b\u4e3a\u200b\u6570\u5b57\u200b\u5217\u200b\uff1b\u200b\u5982\u679c\u200b\u4e0d\u586b\u200b\uff0c\u200b\u4ee5\u200b\u6240\u6709\u200b\u975e\u200b\u7ef4\u5ea6\u200b\u4e14\u200b\u4e3a\u200b\u6570\u5b57\u200b\u5217\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4e3a\u200b\u6c47\u603b\u200b\u6570\u636e\u200b\u5217\u200b)</li> <li>\u200b\u4ee5\u200b order by \u200b\u7684\u200b\u5217\u4e3a\u200b\u51c6\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u7ef4\u5ea6\u200b\u5217\u200b\uff0c \u200b\u5176\u4ed6\u200b\u7684\u200b\u5217\u200b\u6309\u200b\u63d2\u5165\u200b\u987a\u5e8f\u200b\u4fdd\u7559\u200b\u7b2c\u4e00\u884c\u200b</li> <li>\u200b\u4e0d\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5206\u533a\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u805a\u5408\u200b</li> </ul> <pre><code>select total_amount from XXX where province_name = '' and create_date='xxx'\n</code></pre> <pre><code>select sum(total_amount) from province_name='' and create_date='xxx'\n</code></pre> <p>\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b\u8fd9\u79cd\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5305\u542b\u200b\u4e00\u4e9b\u200b\u8fd8\u200b\u6ca1\u200b\u6765\u5f97\u53ca\u200b\u805a\u5408\u200b\u7684\u200b\u4e34\u65f6\u200b\u660e\u7ec6\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#sql","title":"SQL","text":""},{"location":"bigdata/clickhouse/quickstart/#insert","title":"insert","text":"<p>\u200b\u63d2\u5165\u200b\u8868\u200b</p> <pre><code>insert into [table_name] values(...),(....)\n</code></pre> <p>\u200b\u8868\u5230\u200b\u8868\u200b\u7684\u200b\u63d2\u5165\u200b</p> <pre><code>insert into [table_name] select a,b,c from [table_name_2]\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#update-delete","title":"update &amp; delete","text":"<p>update &amp; delete \u200b\u90fd\u200b\u662f\u200b\u91cd\u200b\u64cd\u4f5c\u200b \u200b\u4e14\u200b\u4e0d\u200b\u652f\u6301\u200b\u4e8b\u52a1\u200b</p> <p>\u201c\u200b\u91cd\u200b\u201d\u200b\u7684\u200b\u539f\u56e0\u200b\u4e3b\u8981\u200b\u662f\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u6216\u8005\u200b\u5220\u9664\u200b\u90fd\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u653e\u5f03\u200b\u76ee\u6807\u200b\u6570\u636e\u200b\u7684\u200b\u539f\u6709\u200b\u5206\u533a\u200b\uff0c\u200b\u91cd\u5efa\u200b\u65b0\u200b\u5206\u533a\u200b\u3002\u200b\u6240\u4ee5\u200b\u5c3d\u91cf\u200b\u505a\u200b\u6279\u91cf\u200b\u7684\u200b\u53d8\u66f4\u200b\uff0c\u200b\u4e0d\u8981\u200b\u8fdb\u884c\u200b\u9891\u7e41\u200b\u5c0f\u200b\u6570\u636e\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u540c\u6b65\u200b\u6267\u884c\u200b\u7684\u200b\u90e8\u5206\u200b\u5176\u5b9e\u200b\u53ea\u662f\u200b\u8fdb\u884c\u200b \u200b\u65b0\u589e\u200b\u6570\u636e\u200b\u65b0\u589e\u200b\u5206\u533a\u200b\u548c\u200b\u5e76\u200b\u628a\u200b\u65e7\u200b\u5206\u533a\u200b\u6253\u200b\u4e0a\u200b\u903b\u8f91\u200b\u4e0a\u200b\u7684\u200b\u5931\u6548\u200b\u6807\u8bb0\u200b\u3002\u200b\u76f4\u5230\u200b\u89e6\u53d1\u200b\u5206\u533a\u200b\u5408\u5e76\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u5220\u9664\u200b\u65e7\u200b\u6570\u636e\u200b\u91ca\u653e\u200b\u78c1\u76d8\u7a7a\u95f4\u200b</p> <p>==&gt; \u200b\u66f4\u65b0\u200b \uff1a  \u200b\u63d2\u5165\u200b\u4e00\u6761\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\uff0c   _version + 1      =\u300b \u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b\uff0c  where version\u200b\u6700\u5927\u200b</p> <p>==&gt; \u200b\u5220\u9664\u200b\uff1a _sign,   0\u200b\u8868\u793a\u200b\u672a\u200b\u5220\u9664\u200b\uff0c1\u200b\u8868\u793a\u200b\u5df2\u200b\u5220\u9664\u200b\uff0c \u200b\u540c\u65f6\u200b version + 1     =\u300b \u200b\u67e5\u8be2\u200b\u7684\u200b\u65f6\u5019\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b\uff0c where  _sign=0 and version\u200b\u6700\u5927\u200b</p> <p>==&gt; \u200b\u65f6\u95f4\u200b\u4e45\u200b\u4e86\u200b\uff0c\u200b\u6570\u636e\u200b\u81a8\u80c0\u200b\u4e86\u200b ==\u300b \u200b\u7c7b\u4f3c\u200b\u5408\u5e76\u200b\u673a\u5236\u200b\uff0c\u200b\u600e\u4e48\u200b\u628a\u200b\u8fc7\u671f\u6570\u636e\u200b\u6e05\u9664\u200b\u6389\u200b</p> <p>update</p> <pre><code>alter table t_order_smt \nupdate total_amount=toDecimal32(2000.00,2) \nwhere id=102;\n</code></pre> <p>delete</p> <pre><code>alter table t_order_smt delete where sku_id ='sku_001';\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#query","title":"query","text":"<ul> <li>\u200b\u652f\u6301\u200b\u5b50\u200b\u67e5\u8be2\u200b</li> <li>\u200b\u652f\u6301\u200b CTE(Common Table Expression \u200b\u516c\u7528\u200b\u8868\u200b\u8868\u8fbe\u5f0f\u200b with \u200b\u5b50\u53e5\u200b)</li> <li>\u200b\u652f\u6301\u200b\u5404\u79cd\u200bJOIN\uff0c\u200b\u4f46\u662f\u200bJOIN\u200b\u64cd\u4f5c\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5373\u4f7f\u200b\u662f\u200b\u4e24\u6b21\u200b\u76f8\u540c\u200b\u7684\u200bJOIN\u200b\u8bed\u53e5\u200b\uff0cClickHouse \u200b\u4e5f\u200b\u4f1a\u200b\u89c6\u4e3a\u200b\u4e24\u6761\u200b\u65b0\u200b SQL</li> <li>\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b(\u200b\u5b98\u65b9\u200b\u6b63\u5728\u200b\u6d4b\u8bd5\u200b\u4e2d\u200b...)</li> <li>\u200b\u4e0d\u200b\u652f\u6301\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b</li> <li>GROUP BY \u200b\u64cd\u4f5c\u200b\u589e\u52a0\u200b\u4e86\u200b with rollup\\with cube\\with total \u200b\u7528\u6765\u200b\u8ba1\u7b97\u200b\u5c0f\u8ba1\u200b\u548c\u200b\u603b\u8ba1\u200b\u3002</li> </ul>"},{"location":"bigdata/clickhouse/quickstart/#group-by-with","title":"group by with","text":"<p>with rollup:\u200b\u4ece\u53f3\u200b\u81f3\u200b\u5de6\u200b\u53bb\u6389\u200b\u7ef4\u5ea6\u200b\u8fdb\u884c\u200b\u5c0f\u8ba1\u200b</p> <pre><code>select id , sku_id, sum(total_amount) \nfrom t_order_mt \ngroup by id,sku_id with rollup;\n</code></pre> <p></p> <p>with cube : \u200b\u4ece\u53f3\u200b\u81f3\u200b\u5de6\u200b\u53bb\u6389\u200b\u7ef4\u5ea6\u200b\u8fdb\u884c\u200b\u5c0f\u8ba1\u200b\uff0c\u200b\u518d\u200b\u4ece\u200b\u5de6\u200b\u81f3\u200b\u53f3\u200b\u53bb\u6389\u200b\u7ef4\u5ea6\u200b\u8fdb\u884c\u200b\u5c0f\u8ba1\u200b</p> <pre><code>select id , sku_id,sum(total_amount) \nfrom t_order_mt \ngroup by id,sku_id with cube;\n</code></pre> <p></p> <p>with totals: \u200b\u53ea\u200b\u8ba1\u7b97\u200b\u5408\u8ba1\u200b</p> <pre><code>select id , sku_id,sum(total_amount) \nfrom t_order_mt \ngroup by id,sku_id with totals;\n</code></pre> <p></p>"},{"location":"bigdata/clickhouse/quickstart/#alter","title":"alter","text":""},{"location":"bigdata/clickhouse/quickstart/#_14","title":"\u65b0\u589e\u200b\u5b57\u200b\u6bb5","text":"<pre><code>alter table tableName add column newcolname String after col1;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_15","title":"\u4fee\u6539\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b","text":"<pre><code>alter table tableName modify column newcolname String;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_16","title":"\u5220\u9664\u200b\u5b57\u200b\u6bb5","text":"<pre><code>alter table tableName drop column newcolname;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_17","title":"\u5bfc\u51fa\u200b\u6570\u636e","text":"<pre><code>clickhouse-client --query \"select * from t_order_mt where\ncreate_time='2020-06-01 12:00:00'\" --format CSVWithNames&gt;\n/opt/module/data/rs1.csv\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_18","title":"\u526f\u672c","text":"<p>\u200b\u526f\u672c\u200b\u7684\u200b\u76ee\u7684\u200b\u4e3b\u8981\u200b\u662f\u200b\u4fdd\u969c\u200b\u6570\u636e\u200b\u7684\u200b\u9ad8\u53ef\u7528\u6027\u200b\uff0c\u200b\u5373\u4f7f\u200b\u4e00\u53f0\u200b ClickHouse \u200b\u8282\u70b9\u200b\u5b95\u673a\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4ece\u200b \u200b\u5176\u4ed6\u200b\u670d\u52a1\u5668\u200b\u83b7\u5f97\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#_19","title":"\u526f\u672c\u200b\u5199\u5165\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/clickhouse/quickstart/#conf-step","title":"conf step","text":"<p>1.\u200b\u542f\u52a8\u200b zookeeper \u200b\u96c6\u7fa4\u200b</p> <p>2.\u200b\u5728\u200b/etc/clickhouse-server/config.d \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u540d\u4e3a\u200b metrika.xml \u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b,\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;yandex&gt;\n    &lt;zookeeper-servers&gt;\n        &lt;node index=\"1\"&gt;\n            &lt;host&gt;hadoop102&lt;/host&gt;\n            &lt;port&gt;2181&lt;/port&gt;\n        &lt;/node&gt;\n        &lt;node index=\"2\"&gt;\n            &lt;host&gt;hadoop103&lt;/host&gt;\n            &lt;port&gt;2181&lt;/port&gt;\n        &lt;/node&gt;\n        &lt;node index=\"3\"&gt;\n            &lt;host&gt;hadoop104&lt;/host&gt;\n            &lt;port&gt;2181&lt;/port&gt;\n        &lt;/node&gt;\n    &lt;/zookeeper-servers&gt;\n&lt;/yandex&gt;\n</code></pre> <p>3.metrika.xml \u200b\u540c\u6b65\u200b\u5230\u200b\u5176\u4ed6\u200b\u673a\u5668\u200b h2 h3</p> <p>4./etc/clickhouse-server/config.xml \u200b\u6dfb\u52a0\u200b\u5982\u4e0b\u200b ,\u200b\u5e76\u200b\u540c\u6b65\u200b\u5230\u200bh2,h3</p> <pre><code>&lt;zookeeper incl=\"zookeeper-servers\" optional=\"true\" /&gt;\n&lt;include_from&gt;/etc/clickhouse-server/config.d/metrika.xml&lt;/include_from&gt;\n</code></pre> <p>5.\u200b\u91cd\u542f\u200bh1,h2,h3 ck</p>"},{"location":"bigdata/clickhouse/quickstart/#_20","title":"\u64cd\u4f5c","text":"<p>ck \u200b\u526f\u672c\u200b\u4ec5\u200b\u540c\u6b65\u200b\u6570\u636e\u200b \u200b\u4e0d\u80fd\u200b\u540c\u6b65\u200b\u8868\u200b\u7684\u200b\u7ed3\u6784\u200b</p> <p>h2</p> <pre><code>create table t_order_rep2 (\n   id UInt32,\nsku_id String,\ntotal_amount Decimal(16,2), create_time Datetime\n ) engine =ReplicatedMergeTree('/clickhouse/table/01/t_order_rep','rep_102')\n  partition by toYYYYMMDD(create_time)\n  primary key (id)\n  order by (id,sku_id);\n</code></pre> <p>h3</p> <pre><code>create table t_order_rep2 (\n   id UInt32,\nsku_id String,\ntotal_amount Decimal(16,2), create_time Datetime\n ) engine =ReplicatedMergeTree('/clickhouse/table/01/t_order_rep','rep_103')\n  partition by toYYYYMMDD(create_time)\n  primary key (id)\n  order by (id,sku_id);\n</code></pre> <p>ReplicatedMergeTree \u200b\u4e2d\u200b\uff0c \u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u5206\u7247\u200b\u7684\u200bzk_path\u200b\u4e00\u822c\u200b\u6309\u7167\u200b:/clickhouse/table/{shard}/{table_name} \u200b\u7684\u200b\u683c\u5f0f\u200b</p> <p>\u200b\u7b2c\u4e8c\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u526f\u672c\u200b\u540d\u79f0\u200b\uff0c\u200b\u76f8\u540c\u200b\u7684\u200b\u5206\u7247\u200b\u526f\u672c\u200b\u540d\u79f0\u200b\u4e0d\u80fd\u200b\u76f8\u540c\u200b</p>"},{"location":"bigdata/clickhouse/quickstart/#_21","title":"\u5206\u7247\u200b\u96c6\u7fa4","text":"<p>\u200b\u526f\u672c\u200b\u867d\u7136\u200b\u80fd\u591f\u200b\u63d0\u9ad8\u200b\u6570\u636e\u200b\u7684\u200b\u53ef\u7528\u6027\u200b\uff0c\u200b\u964d\u4f4e\u200b\u4e22\u5931\u200b\u98ce\u9669\u200b\uff0c\u200b\u4f46\u662f\u200b\u6bcf\u53f0\u200b\u670d\u52a1\u5668\u200b\u5b9e\u9645\u4e0a\u200b\u5fc5\u987b\u200b\u5bb9\u7eb3\u200b\u5168\u91cf\u200b\u6570\u636e\u200b\uff0c\u200b\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u6a2a\u5411\u200b\u6269\u5bb9\u200b\u6ca1\u6709\u200b\u89e3\u51b3\u200b\u3002</p> <p>\u200b\u901a\u8fc7\u200b\u5206\u7247\u200b\u628a\u200b\u4e00\u4efd\u200b\u5b8c\u6574\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5207\u5206\u200b\uff0c\u200b\u4e0d\u540c\u200b\u7684\u200b\u5206\u7247\u200b\u5206\u5e03\u200b\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u8282\u70b9\u200b\u4e0a\u200b\uff0c\u200b\u518d\u200b\u901a\u8fc7\u200b Distributed \u200b\u8868\u200b\u5f15\u64ce\u200b\u628a\u200b\u6570\u636e\u200b\u62fc\u63a5\u200b\u8d77\u6765\u200b\u4e00\u540c\u200b\u4f7f\u7528\u200b\u3002</p> <p>Distributed \u200b\u8868\u200b\u5f15\u64ce\u200b\u672c\u8eab\u200b\u4e0d\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5206\u5e03\u5f0f\u200b\u903b\u8f91\u200b\u8868\u6765\u200b\u5199\u5165\u200b\u3001\u200b\u5206\u53d1\u200b\u3001\u200b\u8def\u7531\u200b\u6765\u200b\u64cd\u4f5c\u200b\u591a\u53f0\u200b\u8282\u70b9\u200b\u4e0d\u540c\u200b\u5206\u7247\u200b\u7684\u200b\u5206\u5e03\u5f0f\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"bigdata/clickhouse/quickstart/#_22","title":"\u5177\u4f53\u200b\u914d\u7f6e","text":""},{"location":"bigdata/clickhouse/quickstart/#326","title":"3\u200b\u5206\u7247\u200b2\u200b\u526f\u672c\u200b\u5171\u200b6\u200b\u4e2a\u200b\u8282\u70b9\u200b\u96c6\u7fa4\u200b\u914d\u7f6e","text":"<p>/etc/clickhouse-server/config.d/metrika.xml</p> <p>\u200b\u6ce8\u200b:\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u521b\u5efa\u200b\u5916\u90e8\u200b\u6587\u4ef6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5728\u200b config.xml \u200b\u7684\u200b\u4e2d\u200b\u6307\u5b9a\u200b <pre><code>&lt;yandex&gt; \n  &lt;remote_servers&gt; \n    &lt;gmall_cluster&gt; &lt;!-- \u200b\u96c6\u7fa4\u200b\u540d\u79f0\u200b--&gt;  \n      &lt;shard&gt; \n        &lt;!--\u200b\u96c6\u7fa4\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5206\u7247\u200b--&gt;  \n        &lt;internal_replication&gt;true&lt;/internal_replication&gt;  \n        &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u526f\u672c\u200b--&gt;  \n        &lt;replica&gt; \n          &lt;host&gt;hadoop101&lt;/host&gt;  \n          &lt;port&gt;9000&lt;/port&gt; \n        &lt;/replica&gt;  \n        &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u526f\u672c\u200b--&gt;  \n        &lt;replica&gt; \n          &lt;host&gt;hadoop102&lt;/host&gt;  \n          &lt;port&gt;9000&lt;/port&gt; \n        &lt;/replica&gt; \n      &lt;/shard&gt;  \n      &lt;shard&gt; \n        &lt;!--\u200b\u96c6\u7fa4\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u5206\u7247\u200b--&gt;  \n        &lt;internal_replication&gt;true&lt;/internal_replication&gt;  \n        &lt;replica&gt; \n          &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u526f\u672c\u200b--&gt;  \n          &lt;host&gt;hadoop103&lt;/host&gt;  \n          &lt;port&gt;9000&lt;/port&gt; \n        &lt;/replica&gt;  \n        &lt;replica&gt; \n          &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u526f\u672c\u200b--&gt;  \n          &lt;host&gt;hadoop104&lt;/host&gt;  \n          &lt;port&gt;9000&lt;/port&gt; \n        &lt;/replica&gt; \n      &lt;/shard&gt;  \n      &lt;shard&gt; \n        &lt;!--\u200b\u96c6\u7fa4\u200b\u7684\u200b\u7b2c\u4e09\u4e2a\u200b\u5206\u7247\u200b--&gt;  \n        &lt;internal_replication&gt;true&lt;/internal_replication&gt;  \n        &lt;replica&gt; \n          &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u526f\u672c\u200b--&gt;  \n          &lt;host&gt;hadoop105&lt;/host&gt;  \n          &lt;port&gt;9000&lt;/port&gt; \n        &lt;/replica&gt;  \n        &lt;replica&gt; \n          &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u526f\u672c\u200b--&gt;  \n          &lt;host&gt;hadoop106&lt;/host&gt;  \n          &lt;port&gt;9000&lt;/port&gt; \n        &lt;/replica&gt; \n      &lt;/shard&gt; \n    &lt;/gmall_cluster&gt; \n  &lt;/remote_servers&gt; \n&lt;/yandex&gt;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#3_1","title":"3\u200b\u8282\u70b9\u200b\u96c6\u7fa4","text":""},{"location":"bigdata/clickhouse/quickstart/#_23","title":"\u96c6\u7fa4\u200b\u89c4\u5212","text":"<p>\u200b   102</p> <pre><code>&lt;macros&gt;\n    &lt;shard&gt;01&lt;/shard&gt;\n    &lt;replica&gt;rep_1_1&lt;/replica&gt;\n&lt;/macros&gt;\n</code></pre> <p>103</p> <pre><code>&lt;macros&gt;\n    &lt;shard&gt;01&lt;/shard&gt;\n    &lt;replica&gt;rep_1_2&lt;/replica&gt;\n&lt;/macros&gt;\n</code></pre> <p>104</p> <pre><code>&lt;macros&gt;\n    &lt;shard&gt;02&lt;/shard&gt;\n    &lt;replica&gt;rep_2_1&lt;/replica&gt;\n&lt;/macros&gt;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_24","title":"\u8be6\u7ec6\u200b\u914d\u7f6e","text":"<p>hadoop102 \u200b\u7684\u200b/etc/clickhouse-server/config.d \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b metrika-shard.xml \u200b\u6587\u4ef6\u200b</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;yandex&gt;\n    &lt;remote_servers&gt;\n        &lt;gmall_cluster&gt;\n            &lt;!-- \u200b\u96c6\u7fa4\u200b\u540d\u79f0\u200b--&gt;\n            &lt;shard&gt;\n                &lt;!--\u200b\u96c6\u7fa4\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5206\u7247\u200b--&gt;\n                &lt;internal_replication&gt;true&lt;/internal_replication&gt;\n                &lt;replica&gt;\n                    &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u526f\u672c\u200b--&gt;\n                    &lt;host&gt;hadoop102&lt;/host&gt;\n                    &lt;port&gt;9000&lt;/port&gt;\n                &lt;/replica&gt;\n                &lt;replica&gt;\n                    &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u526f\u672c\u200b--&gt;\n                    &lt;host&gt;hadoop103&lt;/host&gt;\n                    &lt;port&gt;9000&lt;/port&gt;\n                &lt;/replica&gt;\n            &lt;/shard&gt;\n            &lt;shard&gt;\n                &lt;!--\u200b\u96c6\u7fa4\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u5206\u7247\u200b--&gt;\n                &lt;internal_replication&gt;true&lt;/internal_replication&gt;\n                &lt;replica&gt;\n                    &lt;!--\u200b\u8be5\u200b\u5206\u7247\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u526f\u672c\u200b--&gt;\n                    &lt;host&gt;hadoop104&lt;/host&gt;\n                    &lt;port&gt;9000&lt;/port&gt;\n                &lt;/replica&gt;\n            &lt;/shard&gt;\n        &lt;/gmall_cluster&gt;\n    &lt;/remote_servers&gt;\n    &lt;zookeeper-servers&gt;\n        &lt;node index=\"1\"&gt;\n            &lt;host&gt;hadoop102&lt;/host&gt;\n            &lt;port&gt;2181&lt;/port&gt;\n        &lt;/node&gt;\n        &lt;node index=\"2\"&gt;\n            &lt;host&gt;hadoop103&lt;/host&gt;\n            &lt;port&gt;2181&lt;/port&gt;\n        &lt;/node&gt;\n        &lt;node index=\"3\"&gt;\n            &lt;host&gt;hadoop104&lt;/host&gt;\n            &lt;port&gt;2181&lt;/port&gt;\n        &lt;/node&gt;\n    &lt;/zookeeper-servers&gt;\n    &lt;macros&gt;\n        &lt;shard&gt;01&lt;/shard&gt;\n        &lt;!--\u200b\u4e0d\u540c\u200b\u673a\u5668\u200b\u653e\u200b\u7684\u200b\u5206\u7247\u200b\u6570\u200b\u4e0d\u200b\u4e00\u6837\u200b--&gt;\n        &lt;replica&gt;rep_1_1&lt;/replica&gt;\n        &lt;!--\u200b\u4e0d\u540c\u200b\u673a\u5668\u200b\u653e\u200b\u7684\u200b\u526f\u672c\u200b\u6570\u200b\u4e0d\u200b\u4e00\u6837\u200b--&gt;\n    &lt;/macros&gt;\n&lt;/yandex&gt;\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#hadoop102-metrika-shardxml-103-104","title":"hadoop102 \u200b\u7684\u200b metrika-shard.xml \u200b\u540c\u6b65\u200b\u5230\u200b 103 \u200b\u548c\u200b 104","text":""},{"location":"bigdata/clickhouse/quickstart/#103104","title":"\u4fee\u6539\u200b103,104\u200b\u5b8f\u200b\u914d\u7f6e","text":""},{"location":"bigdata/clickhouse/quickstart/#etcclickhouse-serverconfigxml-103104","title":"\u4fee\u6539\u200b/etc/clickhouse-server/config.xml \u200b\u4e2d\u200b\u5bfc\u5165\u200b\u6587\u4ef6\u200b \u200b\u5e76\u200b\u540c\u6b65\u200b\u5230\u200b103,104","text":""},{"location":"bigdata/clickhouse/quickstart/#ck","title":"\u91cd\u542f\u200b\u4e09\u53f0\u200b\u673a\u5668\u200bck","text":""},{"location":"bigdata/clickhouse/quickstart/#_25","title":"\u4f7f\u7528","text":""},{"location":"bigdata/clickhouse/quickstart/#102","title":"\u5728\u200b102 \u200b\u521b\u5efa\u200b\u5982\u4e0b\u200b\u8868","text":"<ul> <li>\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u540c\u6b65\u200b103,104</li> <li>\u200b\u96c6\u7fa4\u200b\u540d\u5b57\u200b\u9700\u8981\u200b\u548c\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4fdd\u6301\u4e00\u81f4\u200b</li> <li>\u200b\u5206\u7247\u200b\u548c\u200b\u526f\u672c\u200b\u540d\u79f0\u200b\u4ece\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u5b8f\u200b\u5b9a\u4e49\u200b\u4e2d\u200b\u83b7\u53d6\u200b</li> </ul> <pre><code>create table st_order_mt on cluster gmall_cluster (\n   id UInt32,\n    sku_id String,\n    total_amount Decimal(16,2), create_time Datetime\n ) engine = ReplicatedMergeTree('/clickhouse/tables/{shard}/st_order_mt','{replica}')\n  partition by toYYYYMMDD(create_time)\n  primary key (id)\n  order by (id,sku_id);\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#102_1","title":"102\u200b\u521b\u5efa\u200b\u5206\u5e03\u5f0f\u200b\u8868","text":"<p>Distributed(\u200b\u96c6\u7fa4\u200b\u540d\u79f0\u200b\uff0c\u200b\u5e93\u540d\u200b\uff0c\u200b\u672c\u200b\u5730\u8868\u200b\u540d\u200b\uff0c\u200b\u5206\u7247\u200b\u952e\u200b) \u200b\u5206\u7247\u200b\u952e\u200b\u5fc5\u987b\u200b\u662f\u200b\u6574\u578b\u200b\u6570\u5b57\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7528\u200b hiveHash \u200b\u51fd\u6570\u200b\u8f6c\u6362\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b rand()</p> <pre><code>create table st_order_mt_all2 on cluster gmall_cluster\n(\nid UInt32,\n  sku_id String,\ntotal_amount Decimal(16,2), create_time Datetime\n)engine = Distributed(gmall_cluster,default, st_order_mt,hiveHash(sku_id));\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#102_2","title":"102\u200b\u63d2\u5165\u200b\u6570\u636e","text":"<pre><code>insert into st_order_mt_all2 values\n(201,'sku_001',1000.00,'2020-06-01 12:00:00') ,\n(202,'sku_002',2000.00,'2020-06-01 12:00:00'),\n(203,'sku_004',2500.00,'2020-06-01 12:00:00'),\n(204,'sku_002',2000.00,'2020-06-01 12:00:00'),\n(205,'sku_003',600.00,'2020-06-02 12:00:00');\n</code></pre>"},{"location":"bigdata/clickhouse/quickstart/#_26","title":"\u67e5\u8be2","text":"<pre><code>SELECT * FROM st_order_mt_all;\n</code></pre> <pre><code>select * from st_order_mt;\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/","title":"datastreamApi","text":""},{"location":"bigdata/flink/datastreamApi/#_1","title":"\u6982\u8ff0","text":""},{"location":"bigdata/flink/datastreamApi/#_2","title":"\u6d41\u7a0b","text":"<ul> <li>\u200b\u83b7\u53d6\u200b\u6267\u884c\u200b\u73af\u5883\u200bget environment</li> <li>\u200b\u8bfb\u53d6\u6570\u636e\u200b\u6e90\u200b source</li> <li>\u200b\u6570\u636e\u200b\u7684\u200b\u8f6c\u6362\u200b tansfrom</li> <li>\u200b\u6570\u636e\u200b\u7684\u200b\u8f93\u51fa\u200b sink</li> <li>\u200b\u7a0b\u5e8f\u6267\u884c\u200b execute</li> </ul>"},{"location":"bigdata/flink/datastreamApi/#_3","title":"\u6267\u884c\u200b\u73af\u5883","text":""},{"location":"bigdata/flink/datastreamApi/#_4","title":"\u521b\u5efa\u200b\u6267\u884c\u200b\u73af\u5883","text":"<p>1.\u200b\u53ea\u80fd\u200b\u5224\u65ad\u200b \u200b\u5982\u679c\u200b\u662f\u200b\u672c\u5730\u200b\u5219\u200b\u4f7f\u7528\u200b\u672c\u5730\u200b \u200b\u96c6\u7fa4\u200b\u5219\u200b\u4f7f\u7528\u200b\u96c6\u7fa4\u200b\u73af\u5883\u200b</p> <pre><code>StreamExecutionEnvironment env =StreamExecutionEnvironment.getExecutionEnvironment();\n</code></pre> <p>2.\u200b\u6307\u5b9a\u200b  </p> <p>createLocalEnvironment \u200b\u6307\u5b9a\u200b\u672c\u5730\u200b\u73af\u5883\u200b\uff0c \u200b\u9ed8\u8ba4\u200b\u5e76\u884c\u5ea6\u200bcpu\u200b\u6838\u6570\u200b</p> <pre><code>StreamExecutionEnvironment localEnv = StreamExecutionEnvironment.createLocalEnvironment();\n</code></pre> <p>createRemoteEnvironment \u200b\u4f7f\u7528\u200b\u96c6\u7fa4\u200b\u6267\u884c\u200b\u73af\u5883\u200b</p> <pre><code>StreamExecutionEnvironment remoteEnv = StreamExecutionEnvironment.createRemoteEnvironment(\"host\", // JobManager \u200b\u4e3b\u673a\u540d\u200b\n1234, // JobManager \u200b\u8fdb\u7a0b\u200b\u7aef\u53e3\u53f7\u200b \"path/to/jarFile.jar\" // \u200b\u63d0\u4ea4\u200b\u7ed9\u200b JobManager \u200b\u7684\u200b JAR \u200b\u5305\u200b\n);\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#execution-mode","title":"\u6267\u884c\u200b\u6a21\u5f0f\u200b execution mode","text":"<pre><code>// \u200b\u6279\u5904\u7406\u200b\u73af\u5883\u200b\nExecutionEnvironment batchEnv = ExecutionEnvironment.getExecutionEnvironment(); \n// \u200b\u6d41\u200b\u5904\u7406\u200b\u73af\u5883\u200b\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n</code></pre> <p>1.12 \u200b\u6279\u6d41\u200b\u7edf\u4e00\u200b, \u200b\u81ea\u5b9a\u4e49\u200b\u8bbe\u7f6e\u200b\u5373\u53ef\u200b\u6279\u6d41\u200b\u5207\u6362\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#_5","title":"\u6267\u884c\u200b\u6a21\u5f0f\u200b\u5206\u7c7b","text":"<p>\u200b\u6d41\u200b\u6267\u884c\u200b\u6a21\u5f0f\u200b(STREAMING)\uff0c\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u6d41\u200b\u6a21\u5f0f\u200b</p> <p>\u200b\u6279\u200b\u6267\u884c\u200b\u6a21\u5f0f\u200b(BATCH)\uff0c \u200b\u4e0d\u4f1a\u200b\u6301\u7eed\u200b\u8ba1\u7b97\u200b\u7684\u200b\u6709\u754c\u200b\u6570\u636e\u200b</p> <p>\u200b\u81ea\u52a8\u200b\u6a21\u5f0f\u200b\uff0c automatic , \u200b\u7a0b\u5e8f\u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u6570\u636e\u6e90\u200b\u662f\u5426\u200b\u6709\u200b\u754c\u200b\uff0c \u200b\u6765\u200b\u81ea\u52a8\u200b\u9009\u62e9\u200b\u6267\u884c\u200b\u6a21\u5f0f\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#_6","title":"\u6a21\u5f0f\u200b\u914d\u7f6e","text":"<p>Batch\u200b\u6a21\u5f0f\u200b\u914d\u7f6e\u200b</p> <pre><code>bin/flink run -Dexecution.runtime-mode=BATCH ...\n</code></pre> <pre><code>StreamExecutionEnvironment  env =StreamExecutionEnvironment.getExecutionEnvironment();\nenv.setRuntimeMode(RuntimeExecutionMode.BATCH);\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_7","title":"\u89e6\u53d1\u200b\u6267\u884c","text":"<pre><code>env.execute();\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_8","title":"\u6e90\u200b\u7b97\u5b50","text":"<p>\u200b\u4f7f\u7528\u200bnc \u200b\u83b7\u53d6\u6570\u636e\u200b\u6e90\u200b \u200b\u5e76\u884c\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b1</p> <pre><code>DataStream&lt;String&gt; stream = env.socketTextStream(\"localhost\", 7777);\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_9","title":"\u524d\u63d0","text":"<p>\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5982\u4e0b\u200b\u7684\u200b\u5b9e\u4f53\u7c7b\u200b</p> <pre><code>package com.matt.apitest.model;\n\nimport java.sql.Timestamp;\n\npublic class UrlCntBO {\n\n    public String url;\n    public Long cnt;\n    public Long winStart;\n    public Long winEnd;\n\n    public UrlCntBO(String url, Long cnt, Long winStart, Long winEnd) {\n        this.url = url;\n        this.cnt = cnt;\n        this.winStart = winStart;\n        this.winEnd = winEnd;\n    }\n\n    public UrlCntBO() {\n    }\n\n    @Override\n    public String toString() {\n        return \"UrlCntBO{\" +\n                \"url='\" + url + '\\'' +\n                \", cnt=\" + cnt +\n                \", winStart=\" + new Timestamp(winStart) +\n                \", winEnd=\" + new Timestamp(winEnd) +\n                '}';\n    }\n}\n</code></pre> <ul> <li>\u200b\u7c7b\u200b\u662f\u200b\u516c\u6709\u200b\u7684\u200b public</li> <li>\u200b\u6709\u200b\u4e00\u4e2a\u200b\u65e0\u53c2\u200b\u7684\u200b\u6784\u9020\u65b9\u6cd5\u200b</li> <li>\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u662f\u200b\u516c\u6709\u200b\u7684\u200b \u200b\u6216\u8005\u200b\u63d0\u4f9b\u200bget,set \u200b\u65b9\u6cd5\u200b</li> <li>\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u53ef\u200b\u5e8f\u5217\u5316\u200b</li> <li>\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200btoString \u200b\u65b9\u6cd5\u200b \u200b\u53ef\u200b\u9009\u200b</li> </ul>"},{"location":"bigdata/flink/datastreamApi/#_10","title":"\u96c6\u5408","text":"<pre><code>package com.matt.apitest.source;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\nimport java.util.Arrays;\n\n/**\n * @author matt\n * @create 2022-01-16 14:36\n */\npublic class SourceTest1_Collection {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(5);\n        DataStream&lt;Event&gt; events = env.fromCollection(Arrays.asList(\n                new Event(\"m1\", \"a1\", 1672472280000L),\n                new Event(\"m2\", \"a2\", 1672472279514L)\n        ));\n\n        events.print(\"collection\");\n        env.execute(\"my\");\n    }\n}\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5982\u4e0b\u200b\u65b9\u6cd5\u200b</p> <pre><code>DataStreamSource&lt;Event&gt; stream2 = env.fromElements(\n    new Event(\"Mary\", \"./home\", 1000L),\n    new Event(\"Bob\", \"./cart\", 2000L)\n);\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_11","title":"\u6587\u4ef6","text":"<pre><code>package com.matt.apitest.source;\n\nimport com.matt.apitest.beans.SensorReading;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\nimport java.util.Arrays;\n\n/**\n * @author matt\n * @create 2022-01-16 14:54\n */\npublic class SourceTest2_File {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(10);\n        // /Users/matt/workspace/java/stu/stu-flink/src/main/resources\n        DataStream&lt;String&gt; dataStream = env.readTextFile(\"/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt\");\n        dataStream.print(\"file\");\n\n        // job name\n        env.execute(\"f_source\");\n    }\n}\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200bhdfs \u200b\u53ef\u200b\u6dfb\u52a0\u200b\u5982\u4e0b\u200b\u4f9d\u8d56\u200b</p> <pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n   &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n   &lt;version&gt;2.7.5&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#socket","title":"socket","text":"<p>\u200b\u9700\u8981\u200b\u5c06\u200b\u5e76\u884c\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b1</p> <pre><code>DataStream&lt;String&gt; stream = env.socketTextStream(\"localhost\", 7777);\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#kafka","title":"kafka","text":"<p>\u200b\u6dfb\u52a0\u200b\u4f9d\u8d56\u200b kafka\u200b\u7248\u672c\u200b&gt;=0.10.0</p> <pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n   &lt;artifactId&gt;flink-connector-kafka_${scala.binary.version}&lt;/artifactId&gt;\n   &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <pre><code>package com.matt.apitest.source;\n\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\n\nimport java.util.Properties;\n\n/**\n * @author matt\n * @create 2022-01-16 15:05\n */\npublic class SourceTest3_Kafka {\n\n    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        Properties properties = new Properties();\n        properties.setProperty(\"bootstrap.servers\", \"localhost:9092\");\n        properties.setProperty(\"group.id\", \"consumer-group\");\n        properties.setProperty(\"key.deserializer\",\n                \"org.apache.kafka.common.serialization.StringDeserializer\");\n        properties.setProperty(\"value.deserializer\",\n                \"org.apache.kafka.common.serialization.StringDeserializer\");\n\n        // \n        properties.setProperty(\"auto.offset.reset\", \"latest\");\n\n        DataStream&lt;String&gt; dataStream = env.addSource( new\n                FlinkKafkaConsumer&lt;String&gt;(\"first\", new SimpleStringSchema(), properties));\n\n\n        dataStream.print(\"kafka\");\n        env.execute(\"kafka_job\");\n    }\n}\n</code></pre> <p>auto.offset.reset=latest \uff1a \u200b\u4ece\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u63d0\u4ea4\u200b\u7684\u200boffset \u200b\u5f00\u59cb\u200b\u6d88\u8d39\u200b</p> <p>auto.offset.reset=earliest : \u200b\u4ece\u5934\u5f00\u59cb\u200b\u6d88\u8d39\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#_12","title":"\u81ea\u5b9a\u4e49\u200b\u6570\u636e\u6e90","text":"<pre><code>package com.matt.apitest.source;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.time.Time;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.source.ParallelSourceFunction;\nimport org.apache.flink.streaming.api.functions.source.SourceFunction;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Random;\n\n/**\n * \u200b\u81ea\u5b9a\u4e49\u200b\u6570\u636e\u6e90\u200b\n *\n * @author matt\n * @create 2022-01-16 15:50\n */\npublic class SourceTest4_UDF {\n\n    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        //env.setParallelism(1);\n\n        DataStream&lt;Event&gt; dataStream = env.addSource(new ParallelCustomSource()).setParallelism(2);\n\n        dataStream.print(\"kafka\");\n\n        // job name\n        env.execute(\"cu\");\n\n\n    }\n\n    public static class ParallelCustomSource implements ParallelSourceFunction&lt;Event&gt; {\n        // \u200b\u6807\u5fd7\u200b\u4f4d\u200b \u200b\u63a7\u5236\u6570\u636e\u200b\u7684\u200b\u4ea7\u751f\u200b\n        private boolean running = true;\n\n        /**\n         * \u200b\u529f\u80fd\u200b\uff1a\n         *\n         * @param ctx 1\n         * @author matt\n         * @date 2022/1/16\n         */\n        @Override\n        public void run(SourceContext&lt;Event&gt; ctx) throws InterruptedException {\n            // \u200b\u968f\u673a\u6570\u200b\u53d1\u751f\u5668\u200b\n            Random random = new Random();\n            List&lt;String&gt; userList = Arrays.asList(\"matt\", \"jack\", \"lisi\", \"lb\", \"df\");\n            List&lt;String&gt; urlList = Arrays.asList(\"/save\", \"/remove\", \"/update\", \"/list\", \"/detail\");\n\n            while (running) {\n                for (int i = 0; i &lt; 5; i++) {\n                    int randV = random.nextInt(5);\n                    ctx.collect(new Event(userList.get(randV), urlList.get(randV), System.currentTimeMillis()));\n                    Thread.sleep(1000L);\n                }\n            }\n        }\n\n        @Override\n        public void cancel() {\n            running = false;\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_13","title":"\u652f\u6301\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":""},{"location":"bigdata/flink/datastreamApi/#1","title":"1.\u200b\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b","text":"<p>Java \u200b\u57fa\u672c\u200b\u7c7b\u578b\u200b\u53ca\u5176\u200b\u5305\u88c5\u200b\u7c7b\u200b\uff0c\u200b\u518d\u200b\u52a0\u4e0a\u200b Void\u3001String\u3001Date\u3001BigDecimal \u200b\u548c\u200b BigInteger\u3002</p>"},{"location":"bigdata/flink/datastreamApi/#2","title":"2.\u200b\u6570\u7ec4\u200b\u7c7b\u578b","text":"<p>\u200b\u5305\u62ec\u200b\u57fa\u672c\u200b\u7c7b\u578b\u200b\u6570\u7ec4\u200b(PRIMITIVE_ARRAY)\u200b\u548c\u200b\u5bf9\u8c61\u200b\u6570\u7ec4\u200b(OBJECT_ARRAY)</p>"},{"location":"bigdata/flink/datastreamApi/#3","title":"3.\u200b\u590d\u5408\u200b\u6570\u636e\u7c7b\u578b","text":"<ul> <li> <p>Java \u200b\u5143\u7ec4\u200b\u7c7b\u578b\u200b(TUPLE):\u200b\u8fd9\u662f\u200b Flink \u200b\u5185\u7f6e\u200b\u7684\u200b\u5143\u7ec4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u662f\u200b Java API \u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u3002\u200b\u6700\u200b\u591a\u200b25 \u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u200b\u662f\u4ece\u200b Tuple0~Tuple25\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u7a7a\u5b57\u6bb5\u200b</p> </li> <li> <p>Scala \u200b\u6837\u4f8b\u200b\u7c7b\u53ca\u200b Scala \u200b\u5143\u7ec4\u200b:\u200b\u4e0d\u200b\u652f\u6301\u200b\u7a7a\u5b57\u6bb5\u200b</p> </li> <li> <p>\u200b\u884c\u200b\u7c7b\u578b\u200b(ROW):\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u5177\u6709\u200b\u4efb\u610f\u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u7684\u200b\u5143\u7ec4\u200b,\u200b\u5e76\u200b\u652f\u6301\u200b\u7a7a\u5b57\u6bb5\u200b</p> </li> <li> <p>POJO:Flink \u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b Java bean \u200b\u6a21\u5f0f\u200b\u7684\u200b\u7c7b\u200b</p> </li> </ul>"},{"location":"bigdata/flink/datastreamApi/#4","title":"4.\u200b\u8f85\u52a9\u200b\u7c7b\u578b","text":"<p>Option\u3001Either\u3001List\u3001Map \u200b\u7b49\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#5","title":"5.\u200b\u6cdb\u578b\u200b\u7c7b\u578b","text":"<p>\u200b\u4e0d\u8fc7\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6309\u7167\u200b\u4e0a\u9762\u200b POJO \u200b\u7c7b\u578b\u200b\u7684\u200b\u8981\u6c42\u200b\u6765\u200b\u5b9a\u4e49\u200b\uff0c</p> <p>\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b Flink \u200b\u5f53\u4f5c\u200b\u6cdb\u578b\u200b\u7c7b\u6765\u200b\u5904\u7406\u200b\u3002Flink \u200b\u4f1a\u200b\u628a\u200b\u6cdb\u578b\u200b\u7c7b\u578b\u200b\u5f53\u4f5c\u200b\u9ed1\u76d2\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u83b7\u53d6\u200b\u5b83\u4eec\u200b\u5185\u90e8\u200b\u7684\u200b\u5c5e\u6027\u200b;\u200b\u5b83\u200b \u200b\u4eec\u200b\u4e5f\u200b\u4e0d\u662f\u200b\u7531\u200b Flink \u200b\u672c\u8eab\u200b\u5e8f\u5217\u5316\u200b\u7684\u200b\uff0c\u200b\u800c\u662f\u200b\u7531\u200b Kryo \u200b\u5e8f\u5217\u5316\u200b\u7684\u200b</p> <p>pojo\u200b\u8981\u6c42\u200b</p> <ol> <li>\u200b\u7c7b\u200b\u662f\u200b\u516c\u5171\u200b\u7684\u200b(public)\u200b\u548c\u200b\u72ec\u7acb\u200b\u7684\u200b(standalone\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u6ca1\u6709\u200b\u975e\u200b\u9759\u6001\u200b\u7684\u200b\u5185\u90e8\u200b\u7c7b\u200b);</li> <li>\u200b\u7c7b\u6709\u200b\u4e00\u4e2a\u200b\u516c\u5171\u200b\u7684\u200b\u65e0\u53c2\u200b\u6784\u9020\u65b9\u6cd5\u200b;</li> <li>\u200b\u7c7b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u5b57\u6bb5\u200b\u662f\u200bpublic\u200b\u4e14\u200b\u975e\u200bfinal\u200b\u7684\u200b;\u200b\u6216\u8005\u200b\u6709\u200b\u4e00\u4e2a\u200b\u516c\u5171\u200b\u7684\u200bgetter\u200b\u548c\u200bsetter\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u65b9\u6cd5\u200b\u9700\u8981\u200b\u7b26\u5408\u200b Java bean \u200b\u7684\u200b\u547d\u540d\u200b\u89c4\u8303\u200b\u3002</li> </ol> <p>\u200b\u7c7b\u578b\u200b\u63d0\u793a\u200b \u200b\u9632\u6b62\u200b\u6cdb\u578b\u200b\u67e5\u9664\u200b</p> <pre><code>.map(word -&gt; Tuple2.of(word, 1L))\n.returns(Types.TUPLE(Types.STRING, Types.LONG));\n\n\nreturns(new TypeHint&lt;Tuple2&lt;Integer, SomeType&gt;&gt;(){})\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#transform","title":"\u8f6c\u6362\u200b\u7b97\u5b50\u200b transform","text":""},{"location":"bigdata/flink/datastreamApi/#_14","title":"\u57fa\u672c\u200b\u8f6c\u6362\u200b\u7b97\u5b50","text":"<pre><code>package com.matt.apitest.transform;\n\nimport org.apache.flink.api.common.functions.FilterFunction;\nimport org.apache.flink.api.common.functions.FlatMapFunction;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.util.Collector;\n\n/**\n * @author matt\n * @create 2022-01-16 17:16\n * map flatmap filter\n */\npublic class Base {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(16);\n        DataStream&lt;String&gt; source = env.readTextFile(\"/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt\");\n\n        // 1 map string -&gt; len(string) 1:1\n        // \u200b\u65b9\u200b-\u300b\u200b\u56ed\u200b\n        DataStream&lt;Integer&gt; mapStream = source.map(new MapFunction&lt;String, Integer&gt;() {\n            @Override\n            public Integer map(String s) throws Exception {\n                return s.length();\n            }\n        });\n\n\n        DataStream&lt;Integer&gt; lMapStream = source.map(data -&gt; data.length());\n\n        // flatMap \u200b\u6309\u200b\u9017\u53f7\u200b\u5207\u5206\u200b\u5b57\u7aef\u200b 1:n\n        DataStream&lt;String&gt; flatMapStream = source.flatMap(new FlatMapFunction&lt;String, String&gt;() {\n            @Override\n            public void flatMap(String s, Collector&lt;String&gt; collector) throws Exception {\n                String[] fields = s.split(\",\");\n                for (String field : fields) {\n                    collector.collect(field);\n                }\n            }\n        });\n\n        // 3.filter \u200b\u8fc7\u6ee4\u200b \u200b\u7b5b\u9009\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b 1:[0,1]\n        DataStream&lt;String&gt; filterStream = source.filter(new FilterFunction&lt;String&gt;() {\n            @Override\n            public boolean filter(String s) throws Exception {\n                // true \u200b\u8981\u200b false \u200b\u4e0d\u8981\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\n                return s.startsWith(\"sensor_1\");\n            }\n        });\n\n        mapStream.print(\"map\");\n        flatMapStream.print(\"flatMap\");\n        filterStream.print(\"filter\");\n\n        // job name\n        env.execute(\"trans-form\");\n    }\n\n\n}\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#aggregation","title":"\u805a\u5408\u200b\u7b97\u5b50\u200b aggregation","text":""},{"location":"bigdata/flink/datastreamApi/#_15","title":"\u6309\u952e\u200b\u5206\u533a","text":"<pre><code>package com.matt.apitest.transform;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.java.functions.KeySelector;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.KeyedStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\n/**\n * @author matt\n * @create 2022-01-17 22:14\n */\npublic class Aggr {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(16);\n\n        DataStream&lt;Event&gt; stream = env.fromElements(new Event(\"a1\", \"/1\", 1L),\n                new Event(\"a1\", \"/2\", 2L),\n                new Event(\"a2\", \"/1\", 3L),\n                new Event(\"a2\", \"/2\", 2L));\n\n\n        KeyedStream&lt;Event, String&gt; keyedSteam = stream.keyBy(new KeySelector&lt;Event, String&gt;() {\n            @Override\n            public String getKey(Event event) throws Exception {\n                return event.user;\n            }\n        });\n\n        keyedSteam.max(\"timestamp\").print(\"1\");\n\n        // max \u200b\u53ea\u200b\u66f4\u65b0\u200b\u7edf\u8ba1\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5176\u4ed6\u200b\u5b57\u6bb5\u200b\u90fd\u200b\u662f\u200b\u7b2c\u4e00\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u503c\u200b  maxBy \u200b\u6240\u6709\u200b\u5b57\u6bb5\u200b\u5747\u200b\u66f4\u65b0\u200b\n        stream.keyBy(e -&gt; e.user).maxBy(\"timestamp\")\n                        .print(\"maxBy\");\n        env.execute();\n    }\n\n}\n</code></pre> <p>stream.keyBy \u200b\u5f97\u5230\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b \u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u7b97\u5b50\u200b </p>"},{"location":"bigdata/flink/datastreamApi/#_16","title":"\u7b80\u5355\u200b\u805a\u5408","text":"<p>sum</p> <p>min</p> <p>max</p> <p>minBy: min()\u200b\u53ea\u200b\u8ba1\u7b97\u200b\u6307\u5b9a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u5176\u4ed6\u200b\u5b57\u6bb5\u200b\u4f1a\u200b\u4fdd\u7559\u200b\u6700\u521d\u200b\u7b2c\u4e00\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u503c\u200b;\u200b\u800c\u200b minBy()\u200b\u5219\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u5305\u542b\u200b\u5b57\u200b\u6bb5\u200b\u6700\u5c0f\u503c\u200b\u7684\u200b\u6574\u6761\u200b\u6570\u636e\u200b</p> <p>maxBy: \u200b\u548c\u200bminBy\u200b\u7c7b\u4f3c\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#_17","title":"\u89c4\u7ea6\u200b\u805a\u5408","text":"<p>\u200b\u66f4\u52a0\u200b\u901a\u7528\u5316\u200b \u200b\u5bf9\u200b\u5df2\u6709\u200b\u6570\u636e\u200b\u4e0d\u65ad\u200b\u505a\u200b\u89c4\u7ea6\u200b</p> <pre><code>package com.matt.apitest.transform;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.beans.SensorReading;\nimport org.apache.flink.api.common.functions.FlatMapFunction;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.common.functions.ReduceFunction;\nimport org.apache.flink.api.java.tuple.Tuple;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.KeyedStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.util.Collector;\n\n/**\n * @author matt\n * @create 2022-01-17 22:48\n * \u200b\u9ad8\u7ea7\u200b\u805a\u5408\u200b\n */\npublic class Reduce {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(16);\n\n        DataStream&lt;Event&gt; stream = env.fromElements(new Event(\"a1\", \"/1\", 1L),\n                new Event(\"a1\", \"/2\", 2L),\n                new Event(\"a2\", \"/3\", 3L),\n                new Event(\"a2\", \"/2\", 3L),\n                new Event(\"a3\", \"/1\", 3L),\n                new Event(\"a2\", \"/3\", 3L),\n                new Event(\"a3\", \"/1\", 3L),\n                new Event(\"a2\", \"/2\", 2L));\n\n        // 2. \u200b\u7528\u6237\u200b\u70b9\u51fb\u200b\u6b21\u6570\u200b\n        DataStream&lt;Tuple2&lt;String, Long&gt;&gt; userClickCntStream = stream.map(new MapFunction&lt;Event, Tuple2&lt;String, Long&gt;&gt;() {\n            @Override\n            public Tuple2&lt;String, Long&gt; map(Event event) throws Exception {\n                return Tuple2.of(event.user, 1L);\n            }\n        }).keyBy(d -&gt; d.f0).reduce(new ReduceFunction&lt;Tuple2&lt;String, Long&gt;&gt;() {\n            @Override\n            public Tuple2&lt;String, Long&gt; reduce(Tuple2&lt;String, Long&gt; a, Tuple2&lt;String, Long&gt; b) throws Exception {\n\n                return Tuple2.of(a.f0, a.f1 + b.f1);\n            }\n        });\n\n        // 3.\u200b\u5f53\u524d\u200b\u6700\u200b\u6d3b\u8dc3\u200b\u7684\u200b\u7528\u6237\u200b\n        userClickCntStream.keyBy(d -&gt; \"xx\").reduce((x, y) -&gt;\n                x.f1 &gt;= y.f1 ? x : y\n        ).print(\"maxActiveUser\");\n\n        // job name\n        env.execute(\"reduce\");\n    }\n}\n</code></pre> <p>\u200b\u4f46\u662f\u200b\u5bf9\u4e8e\u200b\u50cf\u200b flatMap() \u200b\u8fd9\u6837\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u51fd\u6570\u200b\u7b7e\u540d\u200b void flatMap(IN value, Collector out) \u200b\u88ab\u200b Java \u200b\u7f16\u8bd1\u5668\u200b\u7f16\u8bd1\u6210\u200b\u4e86\u200b void flatMap(IN value, Collector out)\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u5c06\u200b Collector \u200b\u7684\u200b\u6cdb\u200b \u200b\u578b\u200b\u4fe1\u606f\u200b\u64e6\u200b\u9664\u6389\u200b\u4e86\u200b\u3002\u200b\u8fd9\u6837\u200b Flink \u200b\u5c31\u200b\u65e0\u6cd5\u200b\u81ea\u52a8\u200b\u63a8\u65ad\u200b\u8f93\u51fa\u200b\u7684\u200b\u7c7b\u578b\u4fe1\u606f\u200b\u4e86\u200b\u3002"},{"location":"bigdata/flink/datastreamApi/#_18","title":"\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570","text":"<p>\u200b\u4e0a\u8ff0\u200b\u57fa\u672c\u200b\u8f6c\u6362\u200b\u7b97\u5b50\u200b&amp;\u200b\u805a\u5408\u200b\u51fd\u6570\u200b \u200b\u90fd\u200b\u6709\u200b\u5bf9\u5e94\u200b\u7684\u200b\u62bd\u8c61\u7c7b\u200b \u200b\u53ef\u4ee5\u200b\u5199\u200b \u200b\u533f\u540d\u200b\u533f\u540d\u200b\u5185\u90e8\u200b\u7c7b\u200b or lambda\u200b\u8868\u8fbe\u5f0f\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#_19","title":"\u5bcc\u200b\u51fd\u6570","text":"<p>\u200b\u4ecb\u7ecd\u200b</p> <p>map,filter,reduce \u200b\u90fd\u200b\u6709\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5bcc\u200b\u51fd\u6570\u200b\u7248\u672c\u200b RichMapFunction\u3001RichFilterFunction\u3001 RichReduceFunction</p> <p>\u200b\u5bcc\u200b\u51fd\u6570\u200b\u7c7b\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u8fd0\u884c\u200b\u73af\u5883\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\uff0c\u200b\u5e76\u200b\u62e5\u6709\u200b\u4e00\u4e9b\u200b\u751f\u547d\u5468\u671f\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b \u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u65b9\u6cd5\u200b\uff1a</p> <p>open()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u662f\u200bRichFunction\u200b\u7684\u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5\u200b\u3002\u200b\u6240\u4ee5\u200b\u50cf\u200b\u6587\u4ef6\u200b IO \u200b\u7684\u200b\u521b\u5efa\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u8fde\u63a5\u200b\u7684\u200b\u521b\u5efa\u200b\uff0c\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u8bfb\u53d6\u200b\u7b49\u7b49\u200b\u8fd9\u6837\u200b\u4e00\u6b21\u6027\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u90fd\u200b\u9002\u5408\u200b\u5728\u200b open()\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u5b8c\u6210\u200b\u3002</p> <p>close()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u662f\u200b\u751f\u547d\u5468\u671f\u200b\u4e2d\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u8c03\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e00\u822c\u200b\u7528\u6765\u200b\u505a\u200b\u4e00\u200b \u200b\u4e9b\u200b\u6e05\u7406\u200b\u5de5\u4f5c\u200b</p> <p>code </p> <pre><code>package com.matt.apitest.transform;\n\nimport com.matt.apitest.beans.SensorReading;\nimport org.apache.flink.api.common.functions.RichMapFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\n/**\n * @author matt\n * @create 2022-01-24 23:55\n */\npublic class RichFunction {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(4);\n        DataStream&lt;String&gt; inputStream = env.readTextFile(\"/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt\");\n\n        DataStream&lt;SensorReading&gt; dataStream = inputStream.map(s -&gt; {\n            String[] fields = s.split(\",\");\n            return new SensorReading(fields[0], new Long(fields[1]), new Double(fields[2]));\n        });\n\n\n\n        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; resStream = dataStream.map(\n                new MyMapper()\n        );\n        resStream.print();\n\n        // job name\n        env.execute(\"trans-form\");\n    }\n\n    public static class MyMapper extends RichMapFunction&lt;SensorReading, Tuple2&lt;String, Integer&gt;&gt; {\n\n        @Override\n        public Tuple2&lt;String, Integer&gt; map(SensorReading v) throws Exception {\n            return new Tuple2&lt;&gt;(v.getId(), getRuntimeContext().getIndexOfThisSubtask());\n        }\n\n        public MyMapper() {\n            super();\n        }\n\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            System.out.println(\"init....\");\n        }\n\n        @Override\n        public void close() throws Exception {\n            System.out.println(\"clear...\");\n        }\n    }\n\n}\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_20","title":"\u7269\u7406\u200b\u5206\u533a","text":"<p>\u200b\u5206\u533a\u200b\u79cd\u7c7b\u200b</p> <p>1.\u200b\u968f\u673a\u200b\u5206\u533a\u200b shuffle</p> <p>\u200b\u628a\u200b\u6d41\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u968f\u673a\u200b\u6253\u4e71\u200b \u200b\u5747\u5300\u200b\u4f20\u9012\u200b\u5230\u200b\u4e0b\u6e38\u200b\u5206\u533a\u200b</p> <p>2.\u200b\u8f6e\u8be2\u200b\u5206\u533a\u200b round-robin</p> <p>\u200b\u6bd4\u5982\u200b\u6765\u200b\u4e86\u200b a,b,c,d,e,f 6\u200b\u6761\u200b\u6570\u636e\u200b \u200b\u6709\u200b\u5206\u533a\u200b p1, p2, p3</p> <p>\u200b\u5219\u200b a,d \u200b\u8fdb\u200b\u5230\u200bp1 b,e \u200b\u8fdb\u200b\u5230\u200bp2 c,f\u200b\u8fdb\u200b\u5230\u200bp3</p> <p>3.\u200b\u91cd\u200b\u7f29\u653e\u200b\u5206\u533a\u200b rescale</p> <p>\u200b\u6bd4\u5982\u200b\u4e0a\u6e38\u200b\u6709\u200b2\u200b\u5206\u533a\u200bpp1,pp2 \u200b\u4e0b\u6e38\u200b\u6709\u200b6\u200b\u4e2a\u200b\u5206\u533a\u200bcp1, cp2 ...cp6</p> <p>pp1 \u200b\u4f1a\u200b\u53d1\u5230\u200bcp1-cp3 \u200b\u7136\u540e\u200b\u518d\u200bcp1-cp3 \u200b\u505a\u200b\u8f6e\u8be2\u200b\u5206\u533a\u200b</p> <p>pp2 -&gt; cp4-cp6</p> <p>4.\u200b\u5e7f\u64ad\u200b broadcast</p> <p>\u200b\u5c06\u200b\u6570\u636e\u200b\u5e7f\u64ad\u200b\u5230\u200b\u4e0b\u6e38\u200b\u6240\u6709\u200b\u5206\u533a\u200b\u4e2d\u200b</p> <p>5.\u200b\u5168\u5c40\u200b\u5206\u533a\u200b global</p> <p>\u200b\u5c06\u200b\u4e0a\u6e38\u200b\u591a\u4e2a\u200b\u5206\u533a\u200b \u200b\u4f20\u9012\u200b\u5230\u200b\u4e0b\u6e38\u200b1\u200b\u4e2a\u200b\u5206\u533a\u200b\uff0c \u200b\u628a\u200b\u5e76\u884c\u5ea6\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b1</p> <p>6.\u200b\u81ea\u5b9a\u4e49\u200b\u5206\u533a\u200b</p> <pre><code>package com.matt.apitest.transform;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.common.functions.Partitioner;\nimport org.apache.flink.api.common.functions.ReduceFunction;\nimport org.apache.flink.api.java.functions.KeySelector;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.source.ParallelSourceFunction;\nimport org.apache.flink.streaming.api.functions.source.RichParallelSourceFunction;\n\npublic class Partition {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(16);\n\n        DataStream&lt;Event&gt; stream = env.fromElements(new Event(\"a1\", \"/1\", 1L),\n                new Event(\"a1\", \"/2\", 2L),\n                new Event(\"a2\", \"/3\", 3L),\n                new Event(\"a2\", \"/2\", 3L),\n                new Event(\"a3\", \"/1\", 3L),\n                new Event(\"a2\", \"/3\", 3L),\n                new Event(\"a3\", \"/1\", 3L),\n                new Event(\"a2\", \"/2\", 2L));\n\n        // 2.1 keyBy \u200b\u903b\u8f91\u200b\u5206\u533a\u200b shuffle \u200b\u968f\u673a\u200b\u5206\u533a\u200b\n        //stream.shuffle().print().setParallelism(4);\n\n        // 2.2\u200b\u8f6e\u8be2\u200b\u5206\u533a\u200b 2 3 1 4 # 2 3 1 4\n        //stream.rebalance().print(\"rebalance\").setParallelism(4);\n\n        // 2.3 rescale \u200b\u91cd\u200b\u7f29\u653e\u200b\u5206\u533a\u200b \u200b\u5206\u7ec4\u200b\uff0c\u200b\u7ec4\u5185\u200b\u8f6e\u8be2\u200b \u200b\u4e0a\u6e38\u200b\u5206\u533a\u200b2 2 \u200b\u4e2a\u5206\u200b\u533a\u5185\u200b\u5185\u90e8\u200b\u8f6e\u8be2\u200b\n        DataStream&lt;Integer&gt; rescaleStream = env.addSource(new RichParallelSourceFunction&lt;Integer&gt;() {\n            @Override\n            public void run(SourceContext&lt;Integer&gt; ctx) throws Exception {\n                for (int i = 1; i &lt;= 8; i++) {\n                    if (i % 2 == getRuntimeContext().getIndexOfThisSubtask()) {\n                        ctx.collect(i);\n                    }\n                }\n            }\n\n            @Override\n            public void cancel() {\n            }\n        }).setParallelism(2);\n        // \u200b\u4e0a\u6e38\u200b\u5206\u533a\u200ba \u200b\u53d1\u5230\u200b\u4e0b\u6e38\u200ba1 a2 a1,a2 \u200b\u8f6e\u8be2\u200b b -&gt; b1, b2 b1,b2\u200b\u6240\u6709\u200b\u5206\u533a\u200b\u8f6e\u8be2\u200b\n        // 3,4 \u200b\u5747\u200b\u662f\u200b\u5947\u4e66\u200b 1,2 \u200b\u5747\u200b\u662f\u200b\u5076\u6570\u200b\n        //rescaleStream.rescale().print(\"rescale\").setParallelism(4);\n\n        // 2.4 \u200b\u5e7f\u64ad\u200b \u200b\u4e00\u4efd\u200b\u6570\u636e\u200b\u5411\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u90fd\u200b\u53d1\u9001\u200b\n        //stream.broadcast().print(\"broadcast\").setParallelism(4);\n\n        //2.5 \u200b\u5168\u5c40\u200b\u5206\u533a\u200b \u200b\u7b49\u4ef7\u200b\u5e76\u884c\u5ea6\u200b\u4e3a\u200b1\n        //stream.global().print(\"global\").setParallelism(4);\n\n        // 2.6 \u200b\u81ea\u5b9a\u4e49\u200b\u91cd\u200b\u5206\u533a\u200b\n        env.fromElements(1, 2, 3, 4, 5).partitionCustom(new Partitioner&lt;Integer&gt;() {\n            @Override\n            public int partition(Integer k, int cnt) {\n                return k % 2;\n            }\n        }, new KeySelector&lt;Integer, Integer&gt;() {\n            @Override\n            public Integer getKey(Integer v) throws Exception {\n                return v;\n            }\n        }).print(\"custom\").setParallelism(4);\n\n        // job name\n        env.execute(\"partition\");\n    }\n\n}\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#_21","title":"\u8f93\u51fa\u200b\u7b97\u5b50","text":""},{"location":"bigdata/flink/datastreamApi/#_22","title":"\u6587\u4ef6","text":"<p>\u200b\u884c\u200b\u7f16\u7801\u200b:StreamingFileSink.forRowFormat(basePath\uff0crowEncoder)\u3002 \u200b\u8def\u5f84\u200b&amp;\u200b\u6570\u636e\u7f16\u7801\u200b\u683c\u5f0f\u200b</p> <p>\u200b\u6279\u91cf\u200b\u7f16\u7801\u200b:StreamingFileSink.forBulkFormat(basePath\uff0cbulkWriterFactory)\u3002</p> <pre><code>package com.matt.apitest.sink;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.serialization.SimpleStringEncoder;\nimport org.apache.flink.core.fs.Path;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.sink.filesystem.StreamingFileSink;\nimport org.apache.flink.streaming.api.functions.sink.filesystem.rollingpolicies.DefaultRollingPolicy;\n\nimport java.util.concurrent.TimeUnit;\n\n\npublic class Sink2File {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        DataStream&lt;Event&gt; stream = env.fromElements(new Event(\"a1\", \"/1\", 1L),\n                new Event(\"a1\", \"/2\", 2L),\n                new Event(\"a2\", \"/3\", 3L),\n                new Event(\"a2\", \"/2\", 3L),\n                new Event(\"a3\", \"/1\", 3L),\n                new Event(\"a2\", \"/3\", 3L),\n                new Event(\"a3\", \"/1\", 3L),\n                new Event(\"a2\", \"/2\", 2L));\n\n        StreamingFileSink&lt;String&gt; streamingFileSink = StreamingFileSink.&lt;String&gt;forRowFormat(new Path(\"./output\"),\n                new SimpleStringEncoder&lt;&gt;(\"UTF-8\"))\n                // \u200b\u6eda\u52a8\u200b\u7b56\u7565\u200b\n                .withRollingPolicy(DefaultRollingPolicy.builder()\n                        .withMaxPartSize(1024 * 1024 * 1024)\n                        // ms\n                        .withRolloverInterval(TimeUnit.MINUTES.toMillis(15))\n                        // \u200b\u6ca1\u6709\u200b\u6570\u636e\u200b\u6765\u200b\n                        .withInactivityInterval(TimeUnit.MINUTES.toMillis(5))\n                        .build())\n                .build();\n        stream.map(data -&gt; data.toString()).addSink(streamingFileSink);\n        env.execute();\n    }\n}\n</code></pre> <p>\u200b\u5206\u533a\u200b\u6587\u4ef6\u200b</p> <ul> <li>\u200b\u81f3\u5c11\u200b\u5305\u542b\u200b15\u200b\u5206\u949f\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>\u200b\u6700\u8fd1\u200b5\u200b\u5206\u949f\u200b\u6ca1\u6709\u200b\u6536\u5230\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u5df2\u200b\u8fbe\u5230\u200b 1 GB</li> </ul>"},{"location":"bigdata/flink/datastreamApi/#kafka_1","title":"kafka","text":"<p>FlinkKafkaProducer \u200b\u7ee7\u627f\u200b\u4e86\u200b\u62bd\u8c61\u7c7b\u200b TwoPhaseCommitSinkFunction\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u201c\u200b\u4e24\u200b\u9636\u6bb5\u200b\u63d0\u4ea4\u200b\u201d\u200b\u7684\u200b RichSinkFunction\u3002\u200b\u4e24\u200b\u9636\u6bb5\u200b\u63d0\u4ea4\u200b\u63d0\u4f9b\u200b\u4e86\u200b Flink \u200b\u5411\u200b Kafka \u200b\u5199\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u4e8b\u52a1\u6027\u200b\u4fdd\u8bc1\u200b\uff0c\u200b\u80fd\u591f\u200b\u771f\u6b63\u200b\u505a\u5230\u200b\u7cbe\u786e\u200b\u4e00\u6b21\u200b(exactly once)\u200b\u7684\u200b\u72b6\u6001\u200b\u4e00\u81f4\u6027\u200b</p> <pre><code>package com.matt.apitest.sink;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.common.serialization.SimpleStringSchema;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer;\nimport org.apache.flink.streaming.connectors.kafka.FlinkKafkaProducer;\n\nimport java.util.Properties;\n\n\n/**\n * @author matt\n * @create 2022-01-25 23:33\n */\npublic class Sink2Kafka {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        Properties properties = new Properties();\n        properties.setProperty(\"bootstrap.servers\", \"localhost:9092\");\n        properties.setProperty(\"group.id\", \"consumer-group\");\n        properties.setProperty(\"key.deserializer\",\n                \"org.apache.kafka.common.serialization.StringDeserializer\");\n        properties.setProperty(\"value.deserializer\",\n                \"org.apache.kafka.common.serialization.StringDeserializer\");\n        properties.setProperty(\"auto.offset.reset\", \"latest\");\n\n        DataStream&lt;String&gt; kafkaStream = env.addSource( new\n                FlinkKafkaConsumer&lt;String&gt;(\"first\", new SimpleStringSchema(), properties));\n\n        //\n        SingleOutputStreamOperator&lt;String&gt; res = kafkaStream.map(new MapFunction&lt;String, String&gt;() {\n            @Override\n            public String map(String s) throws Exception {\n                String[] fileds = s.split(\",\");\n                return new Event(fileds[0], fileds[1], Long.valueOf(fileds[2])).toString();\n            }\n        });\n\n        res.addSink(new FlinkKafkaProducer&lt;String&gt;(\"localhost:9092\", \"test\", new SimpleStringSchema()));\n        // job name\n        env.execute(\"SINK_KAFKA\");\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#redis","title":"redis","text":"<p>\u200b\u5bfc\u5165\u200b\u4f9d\u8d56\u200b</p> <pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.bahir&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-redis_2.11&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <pre><code>package com.matt.apitest.sink;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.beans.SensorReading;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.redis.RedisSink;\nimport org.apache.flink.streaming.connectors.redis.common.config.FlinkJedisPoolConfig;\nimport org.apache.flink.streaming.connectors.redis.common.mapper.RedisCommand;\nimport org.apache.flink.streaming.connectors.redis.common.mapper.RedisCommandDescription;\nimport org.apache.flink.streaming.connectors.redis.common.mapper.RedisMapper;\n\n/**\n * @author matt\n * @create 2022-01-25 23:57\n */\npublic class Sink2Redis {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        DataStream&lt;Event&gt; dataStream = env.fromElements(\n                new Event(\"a1\", \"1\", 1L),\n                new Event(\"a2\", \"2\", 1L),\n                new Event(\"a3\", \"3\", 1L),\n                new Event(\"a4\", \"4\", 1L));\n\n        FlinkJedisPoolConfig config = new FlinkJedisPoolConfig.Builder()\n                .setHost(\"127.0.0.1\")\n                .setPort(6379)\n                .build();\n        dataStream.addSink(new RedisSink&lt;&gt;(config, new MyRedisMapper()));\n\n        env.execute(\"redis\");\n    }\n\n    public static class MyRedisMapper implements RedisMapper&lt;Event&gt; {\n        // \u200b\u4fdd\u5b58\u200b\u5230\u200b redis \u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5b58\u6210\u200b\u54c8\u5e0c\u200b\u8868\u200b\n        public RedisCommandDescription getCommandDescription() {\n            return new RedisCommandDescription(RedisCommand.HSET, \"test\");\n        }\n        // key\n        public String getKeyFromData(Event data) {\n            return data.user;\n        }\n        // v\n        public String getValueFromData(Event data) {\n            return data.url;\n        }\n    }\n}\n</code></pre> <p>redisSink \u200b\u63d0\u4f9b\u200b2\u200b\u4e2a\u200b\u53c2\u6570\u200b</p> <p>jedis\u200b\u7684\u200b\u8fde\u63a5\u200b\u914d\u7f6e\u200b</p> <p>\u200b\u5b9e\u73b0\u200bRedisMapper, \u200b\u63d0\u4f9b\u200badd, getK getV \u200b\u5b9e\u73b0\u200b</p>"},{"location":"bigdata/flink/datastreamApi/#es","title":"es","text":"<p>flink1.13 \u200b\u652f\u6301\u200bes7</p> <p>\u200b\u6dfb\u52a0\u200b\u4f9d\u8d56\u200b</p> <pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-connector-elasticsearch7_${scala.binary.version}&lt;/artifactId&gt;\n   &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <pre><code>package com.matt.apitest.sink;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.beans.SensorReading;\nimport org.apache.flink.api.common.functions.RuntimeContext;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.connectors.elasticsearch.ElasticsearchSinkFunction;\nimport org.apache.flink.streaming.connectors.elasticsearch.RequestIndexer;\nimport org.apache.flink.streaming.connectors.elasticsearch6.ElasticsearchSink;\nimport org.apache.http.HttpHost;\nimport org.elasticsearch.action.index.IndexRequest;\nimport org.elasticsearch.client.Requests;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Objects;\n\n/**\n * @author matt\n * @create 2022-01-26 0:21\n */\npublic class Sink2ES {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        DataStream&lt;Event&gt; dataStream = env.fromElements(\n                new Event(\"a1\", \"1\", 1L),\n                new Event(\"a2\", \"2\", 1L),\n                new Event(\"a3\", \"3\", 1L),\n                new Event(\"a4\", \"4\", 1L));\n\n        ArrayList&lt;HttpHost&gt; httpHosts = new ArrayList&lt;&gt;();\n        httpHosts.add(new HttpHost(\"localhost\", 9200));\n        dataStream.addSink(new ElasticsearchSink.Builder&lt;Event&gt;(httpHosts,new MyEsSinkFunction()).build());\n\n        // job name\n        env.execute(\"sink_es\");\n\n    }\n\n    public static class MyEsSinkFunction implements\n            ElasticsearchSinkFunction&lt;Event&gt; {\n        @Override\n        public void process(Event element, RuntimeContext ctx, RequestIndexer\n                indexer) {\n            HashMap&lt;String, String&gt; dataSource = new HashMap&lt;&gt;();\n            dataSource.put(\"user\", element.user);\n            dataSource.put(\"url\", element.url);\n            dataSource.put(\"ts\", String.valueOf(element.timestamp));\n            IndexRequest indexRequest = Requests.indexRequest()\n                    .index(\"tt4\")\n                    .type(\"tt\")\n                    .source(dataSource);\n            indexer.add(indexRequest);\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/datastreamApi/#mysql","title":"mysql","text":"<pre><code> &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;!--\u200b\u7248\u672c\u200b\u592a\u4f4e\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5931\u8d25\u200b--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-connector-jdbc_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre> <pre><code>package com.matt.apitest.sink;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.beans.SensorReading;\n\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.connector.jdbc.JdbcConnectionOptions;\nimport org.apache.flink.connector.jdbc.JdbcExecutionOptions;\nimport org.apache.flink.connector.jdbc.JdbcSink;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.sink.RichSinkFunction;\n\nimport java.sql.DriverManager;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\n\n/**\n * @author matt\n * @create 2022-01-26 1:41\n */\npublic class Sink2MySQL {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        DataStream&lt;Event&gt; dataStream = env.fromElements(\n                new Event(\"a1\", \"1\", 1L),\n                new Event(\"a2\", \"2\", 1L),\n                new Event(\"a3\", \"3\", 1L),\n                new Event(\"a4\", \"4\", 1L));\n\n\n        String sql = \"INSERT INTO `event` (user, url) VALUES(?, ?)\";\n        dataStream.addSink(JdbcSink.sink(sql, ((statement, event) -&gt; {\n                    statement.setString(1, event.user);\n                    statement.setString(2, event.url);\n                }),\n                //JdbcExecutionOptions.builder()\n                //        .withBatchSize(1000)\n                //        .withBatchIntervalMs(200)\n                //        .withMaxRetries(5)\n                //        .build(),\n                new JdbcConnectionOptions.JdbcConnectionOptionsBuilder()\n                        .withUrl(\"jdbc:mysql://localhost:3306/stu_go?characterEncoding=utf8&amp;useSSL=false\")\n                        .withDriverName(\"com.mysql.cj.jdbc.Driver\")\n                        .withUsername(\"root\")\n                        .withPassword(\"rootroot\")\n                        .build()\n        ));\n\n        // job name\n        env.execute();\n\n    }\n\n\n    public static class MyJdbcSink extends RichSinkFunction&lt;SensorReading&gt; {\n        Connection conn = null;\n        PreparedStatement insertStmt = null;\n        PreparedStatement updateStmt = null;\n\n        // open \u200b\u4e3b\u8981\u200b\u662f\u200b\u521b\u5efa\u200b\u8fde\u63a5\u200b\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/stu_flink\",\n                    \"root\", \"root\");\n\n            // \u200b\u521b\u5efa\u200b\u9884\u200b\u7f16\u8bd1\u5668\u200b\uff0c\u200b\u6709\u200b\u5360\u4f4d\u200b\u7b26\u200b\uff0c\u200b\u53ef\u200b\u4f20\u5165\u200b\u53c2\u6570\u200b\n            insertStmt = conn.prepareStatement(\"INSERT INTO sensor_temp (id, temp) VALUES ( ?, ?)\");\n            updateStmt = conn.prepareStatement(\"UPDATE sensor_temp SET temp = ? WHERE id = ? \");\n        }\n\n        // \u200b\u8c03\u7528\u200b\u8fde\u63a5\u200b\uff0c\u200b\u6267\u884c\u200b sql\n        @Override\n        public void invoke(SensorReading value, Context context) throws Exception {\n            // \u200b\u6267\u884c\u200b\u66f4\u65b0\u200b\u8bed\u53e5\u200b\uff0c\u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u7559\u200b super\n            updateStmt.setDouble(1, value.getTemperatrue());\n            updateStmt.setString(2, value.getId());\n            updateStmt.execute();\n            // \u200b\u5982\u679c\u200b\u521a\u624d\u200b update \u200b\u8bed\u53e5\u200b\u6ca1\u6709\u200b\u66f4\u65b0\u200b\uff0c\u200b\u90a3\u4e48\u200b\u63d2\u5165\u200b\n            if (updateStmt.getUpdateCount() == 0) {\n                insertStmt.setString(1, value.getId());\n                insertStmt.setDouble(2, value.getTemperatrue());\n                insertStmt.execute();\n            }\n        }\n\n        @Override\n        public void close() throws Exception {\n            insertStmt.close();\n            updateStmt.close();\n            conn.close();\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/mulStream/","title":"mulStream","text":"<p>\u200b\u4e4b\u524d\u200b\u6240\u6709\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5747\u200b\u662f\u200b\u5728\u200b\u4e00\u6761\u200b\u6d41\u200b\uff0c \u200b\u771f\u5b9e\u200b\u4e1a\u52a1\u200b\u4e2d\u200b\u4f1a\u200b\u5b58\u5728\u200b\u591a\u6761\u200b\u6d41\u200b\u7684\u200b\u60c5\u51b5\u200b</p>"},{"location":"bigdata/flink/mulStream/#_1","title":"\u5206\u6d41","text":""},{"location":"bigdata/flink/mulStream/#_2","title":"\u666e\u901a\u200b\u65b9\u6cd5","text":"<p>fliter\u200b\u8fc7\u6ee4\u200b </p> <p>split \u200b\u5206\u6d41\u200b \u200b\u9700\u8981\u200b\u4fdd\u8bc1\u200b\u8f93\u5165\u200b\u548c\u200b\u8f93\u51fa\u200b\u7c7b\u578b\u200b\u4e00\u81f4\u200b \u200b\u76ee\u524d\u200b\u5df2\u7ecf\u200b\u6dd8\u6c70\u200b</p>"},{"location":"bigdata/flink/mulStream/#_3","title":"\u901a\u7528\u200b\u65b9\u6cd5","text":"<p>\u200b\u4f7f\u7528\u200b\u4fa7\u200b\u8f93\u51fa\u200b\u6d41\u200b</p> <pre><code>package com.matt.apitest.mulstream;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.util.Collector;\nimport org.apache.flink.util.OutputTag;\nimport org.mortbay.util.ajax.JSON;\n\nimport java.time.Duration;\n\n/**\n * @author matt\n * @create 2023-03-02 22:54\n * @desc xxx\n */\npublic class SplitStreamTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Event&gt; stream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        // \u200b\u5b9a\u4e49\u200b\u8f93\u51fa\u200b\u6807\u7b7e\u200b\n        OutputTag&lt;Tuple2&lt;String, String&gt;&gt; t1 = new OutputTag&lt;Tuple2&lt;String, String&gt;&gt;(\"t1\") {\n        };\n        OutputTag&lt;Tuple2&lt;String, String&gt;&gt; t2 = new OutputTag&lt;Tuple2&lt;String, String&gt;&gt;(\"t2\") {\n        };\n\n        SingleOutputStreamOperator&lt;Event&gt; s = stream.process(new ProcessFunction&lt;Event, Event&gt;() {\n            @Override\n            public void processElement(Event event, ProcessFunction&lt;Event, Event&gt;.Context context, Collector&lt;Event&gt; collector) throws Exception {\n                if (event.user.equals(\"matt\")) {\n                    context.output(t1, Tuple2.of(event.user, event.url));\n                } else if (event.user.equals(\"jack\")) {\n                    context.output(t2, Tuple2.of(event.user, event.url));\n                } else {\n                    collector.collect(event);\n                }\n            }\n        });\n\n        s.getSideOutput(t1).print(\"t1\");\n        s.getSideOutput(t2).print(\"t2\");\n\n        s.print(\"main\");\n        env.execute();\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/mulStream/#_4","title":"\u5408\u6d41","text":"<p>\u200b\u591a\u6761\u200b\u6d41\u200b\u7684\u200b\u5408\u5e76\u200b</p>"},{"location":"bigdata/flink/mulStream/#union","title":"\u5408\u5e76\u200b union","text":"<pre><code>package com.matt.apitest.mulstream;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\n\n/**\n * @author matt\n * @create 2023-03-02 23:09\n * @desc union \u200b\u53d6\u200b2\u200b\u4e2a\u200b\u6d41\u6c34\u200b\u4f4d\u7ebf\u200b\u6700\u5c0f\u503c\u200b\n */\npublic class UnionTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Event&gt; s1 = env.socketTextStream(\"localhost\", 777)\n                .map(d -&gt; {\n                    String[] fArr = d.split(\" \");\n                    if (fArr.length &lt; 3) {\n                        return new Event();\n                    }\n                    return new Event(fArr[0], fArr[1], Long.valueOf(fArr[2]));\n                })\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(2))\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n\n        SingleOutputStreamOperator&lt;Event&gt; s2 = env.socketTextStream(\"localhost\", 888)\n                .map(d -&gt; {\n                    String[] fArr = d.split(\" \");\n                    if (fArr.length &lt; 3) {\n                        return new Event();\n                    }\n                    return new Event(fArr[0], fArr[1], Long.valueOf(fArr[2]));\n                })\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(10))\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n\n\n        s1.union(s2).process(new ProcessFunction&lt;Event, String&gt;() {\n            @Override\n            public void processElement(Event event, ProcessFunction&lt;Event, String&gt;.Context context, Collector&lt;String&gt; collector) throws Exception {\n                collector.collect(\"wk\" + context.timerService().currentWatermark());\n            }\n        }).print();\n\n        env.execute();\n    }\n}\n</code></pre> <p>\u200b\u53d6\u200b\u4e86\u200b\u5e76\u200b\u96c6\u200b \u200b\u591a\u6761\u200b\u6d41\u200b\u6570\u636e\u7c7b\u578b\u200b\u9700\u8981\u200b\u4fdd\u6301\u4e00\u81f4\u200b\uff0c union\u200b\u65b9\u6cd5\u200b \u200b\u652f\u6301\u200b&gt;=1\u200b\u4e2a\u6d41\u200b</p> <p>\u200b\u6c34\u4f4d\u200b\u7ebf\u4ee5\u200b\u591a\u6761\u200b\u6d41\u200b\u6700\u5c0f\u200b\u7684\u200b\u4e3a\u51c6\u200b</p>"},{"location":"bigdata/flink/mulStream/#connect","title":"\u8fde\u63a5\u200b connect","text":""},{"location":"bigdata/flink/mulStream/#connetcedstream","title":"connetcedStream","text":"<p>2\u200b\u6761\u6d41\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e0d\u540c\u200b\u6570\u636e\u7c7b\u578b\u200b </p> <p>connetc = connetcedStream</p> <pre><code>package com.matt.apitest.mulstream;\n\nimport org.apache.flink.streaming.api.datastream.ConnectedStreams;\nimport org.apache.flink.streaming.api.datastream.DataStreamSource;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.co.CoMapFunction;\n\n/**\n * @author matt\n * @create 2023-03-02 23:40\n * @desc xxx\n */\npublic class ConnectTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        DataStreamSource&lt;Integer&gt; s1 = env.fromElements(10, 20, 30);\n        DataStreamSource&lt;Long&gt; s2 = env.fromElements(11L, 22L, 31L);\n\n        ConnectedStreams&lt;Integer, Long&gt; connect = s1.connect(s2);\n        SingleOutputStreamOperator&lt;String&gt; map = connect.map(new CoMapFunction&lt;Integer, Long, String&gt;() {\n            @Override\n            public String map1(Integer integer) throws Exception {\n                return String.valueOf(integer) + \"s1\";\n            }\n\n            @Override\n            public String map2(Long v) throws Exception {\n                return String.valueOf(v) + \"s2\";\n            }\n        });\n\n        map.print();\n        env.execute();\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/mulStream/#coprocessfunction","title":"CoProcessFunction","text":"<p>connect -&gt; process (CoProcessFunction)</p> <p>processElement1:\u200b\u5904\u7406\u200b\u7b2c\u4e00\u6761\u200b\u6d41\u200b</p> <p>processElement2:\u200b\u5904\u7406\u200b\u7b2c\u4e00\u6761\u200b\u6d41\u200b</p> <pre><code>package com.matt.apitest.mulstream;\n\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.state.ValueState;\nimport org.apache.flink.api.common.state.ValueStateDescriptor;\nimport org.apache.flink.api.common.typeinfo.Types;\nimport org.apache.flink.api.java.tuple.Tuple3;\nimport org.apache.flink.api.java.tuple.Tuple4;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.co.CoProcessFunction;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\n\n/**\n * @author matt\n * @create 2023-03-03 00:01\n * @desc xxx\n */\npublic class BillCheckCase {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Tuple3&lt;String, String, Long&gt;&gt; s1 = env.fromElements(\n                        Tuple3.of(\"order-1\", \"app\", 1000L),\n                        Tuple3.of(\"order-2\", \"app\", 1000L),\n                        Tuple3.of(\"order-3\", \"app\", 2000L))\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Tuple3&lt;String, String, Long&gt;&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Tuple3&lt;String, String, Long&gt;&gt;() {\n                            @Override\n                            public long extractTimestamp(Tuple3&lt;String, String, Long&gt; t, long l) {\n                                return t.f2;\n                            }\n                        }));\n\n        SingleOutputStreamOperator&lt;Tuple4&lt;String, String, String, Long&gt;&gt; s2 = env.fromElements(\n                        Tuple4.of(\"order-1\", \"3\", \"suc\", 2000L),\n                        Tuple4.of(\"order-3\", \"3\", \"suc\", 4000L))\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Tuple4&lt;String, String, String, Long&gt;&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Tuple4&lt;String, String, String, Long&gt;&gt;() {\n                            @Override\n                            public long extractTimestamp(Tuple4&lt;String, String, String, Long&gt; t, long l) {\n                                return t.f3;\n                            }\n                        }));\n\n        // \u200b\u68c0\u6d4b\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u8ba2\u5355\u200b \u200b\u4fe9\u200b\u6761\u6d41\u200b\u662f\u5426\u200b\u5339\u914d\u200b 5s \u200b\u7b49\u5f85\u65f6\u95f4\u200b\n        s1.keyBy(d -&gt; d.f0)\n                .connect(s2.keyBy(d -&gt; d.f0))\n                .process(new OrderMatchResult())\n                .print();\n\n\n        //s1.connect(s2).keyBy(d -&gt; d.f0, d -&gt; d.f0);\n        env.execute();\n    }\n\n    public static class OrderMatchResult extends CoProcessFunction&lt;Tuple3&lt;String, String, Long&gt;,\n            Tuple4&lt;String, String, String, Long&gt;, String&gt; {\n\n        // \u200b\u72b6\u6001\u53d8\u91cf\u200b\n        private ValueState&lt;Tuple3&lt;String, String, Long&gt;&gt; state1;\n        private ValueState&lt;Tuple4&lt;String, String, String, Long&gt;&gt; state2;\n\n        @Override\n        public void open(Configuration conf) throws Exception {\n            state1 = getRuntimeContext().getState(new ValueStateDescriptor&lt;Tuple3&lt;String, String, Long&gt;&gt;(\n                    \"state1\", Types.TUPLE(Types.STRING, Types.STRING, Types.LONG)));\n            state2 = getRuntimeContext().getState(new ValueStateDescriptor&lt;Tuple4&lt;String, String, String, Long&gt;&gt;(\n                    \"state2\", Types.TUPLE(Types.STRING, Types.STRING, Types.STRING, Types.LONG)));\n        }\n\n        @Override\n        public void processElement1(Tuple3&lt;String, String, Long&gt; v, CoProcessFunction&lt;Tuple3&lt;String, String, Long&gt;, Tuple4&lt;String, String, String, Long&gt;, String&gt;.Context ctx, Collector&lt;String&gt; collector) throws Exception {\n            if (state2.value() != null) {\n                collector.collect(\"s1\u200b\u5bf9\u8d26\u200b\u6210\u529f\u200b\" + v + \" \" + state2.value());\n                state2.clear();\n            } else {\n                state1.update(v);\n                ctx.timerService().registerEventTimeTimer(v.f2 + 5000L);\n            }\n        }\n\n        @Override\n        public void processElement2(Tuple4&lt;String, String, String, Long&gt; v, CoProcessFunction&lt;Tuple3&lt;String, String, Long&gt;, Tuple4&lt;String,\n                String, String, Long&gt;, String&gt;.Context ctx, Collector&lt;String&gt; collector) throws Exception {\n            if (state1.value() != null) {\n                collector.collect(\"s2\u200b\u5bf9\u8d26\u200b\u6210\u529f\u200b\" + state1.value() + \" \" + v);\n                state1.clear();\n            } else {\n                state2.update(v);\n                ctx.timerService().registerEventTimeTimer(v.f3);\n            }\n        }\n\n\n        @Override\n        public void onTimer(long timestamp, CoProcessFunction&lt;Tuple3&lt;String, String, Long&gt;, Tuple4&lt;String, String, String, Long&gt;, String&gt;.OnTimerContext ctx, Collector&lt;String&gt; out) throws Exception {\n            // \u200b\u5982\u679c\u200b\u67d0\u4e2a\u200b\u72b6\u6001\u200b\u4e3a\u7a7a\u200b \u200b\u5b58\u5728\u200b\u4e00\u6761\u200b\u6d41\u6ca1\u5230\u200b\n            if (state1.value() != null) {\n                out.collect(state1.value() + \"\u200b\u5bf9\u8d26\u200b\u5931\u8d25\u200b\");\n            } else if (state2.value() != null) {\n                out.collect(state2.value() + \"\u200b\u5bf9\u8d26\u200b\u5931\u8d25\u200b\");\n            }\n            state1.clear();\n            state2.clear();\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/mulStream/#broadcastconnectedstream","title":"\u5e7f\u64ad\u200b\u8fde\u63a5\u200b\u6d41\u200b BroadcastConnectedStream","text":"<p>\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u5e7f\u64ad\u200b\u6d41\u200b\uff0c \u200b\u9700\u5148\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u63cf\u8ff0\u200b\u5668\u200b</p> <pre><code>MapStateDescriptor&lt;String, Rule&gt; ruleStateDescriptor = new MapStateDescriptor&lt;&gt;(...);\nBroadcastStream&lt;Rule&gt; ruleBroadcastStream = ruleStream\n                    .broadcast(ruleStateDescriptor);\n</code></pre> <p>\u200b\u8fde\u63a5\u200b</p> <pre><code>DataStream&lt;String&gt; output = stream.connect(ruleBroadcastStream)\n              .process( new BroadcastProcessFunction&lt;&gt;() {...} );\n</code></pre> <pre><code>public abstract void processElement(IN1 value, ReadOnlyContext ctx, Collector&lt;OUT&gt; out) throws Exception;\npublic abstract void processBroadcastElement(IN2 value, Context ctx, Collector&lt;OUT&gt; out) throws Exception;\n</code></pre> <p>dataStream \u200b\u548c\u200b\u5e7f\u64ad\u200b\u6d41\u200b\u8fde\u63a5\u200b\u5c31\u662f\u200b BroadcastConnectedStream</p> <p>\u200b\u5bf9\u200b\u6570\u636e\u6d41\u200b\u8c03\u7528\u200b\u8fc7\u200b keyBy \u200b\u8fdb\u884c\u200b\u4e86\u200b\u6309\u952e\u200b\u5206\u533a\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u662f\u200b KeyedBroadcastProcessFunction;</p>"},{"location":"bigdata/flink/mulStream/#join","title":"\u8054\u7ed3\u200b join","text":"<p>\u200b\u4e0a\u8ff0\u200b\u5408\u6d41\u200b\u64cd\u4f5c\u200b\u5747\u200b\u662f\u200b\u53d6\u200b\u4e86\u200b\u5e76\u200b\u96c6\u200b\uff0c\u200b\u6709\u200b\u4e00\u4e9b\u200b\u60c5\u51b5\u200b\u53ef\u80fd\u200b\u9700\u8981\u200ba&amp;b \u200b\u5408\u5e76\u200b\u4e3a\u200b1\u200b\u6761\u200b\u6570\u636e\u200b</p>"},{"location":"bigdata/flink/mulStream/#_5","title":"\u7a97\u53e3\u200b\u8fde\u63a5","text":"<pre><code>package com.matt.apitest.mulstream;\n\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.JoinFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.api.java.tuple.Tuple3;\nimport org.apache.flink.streaming.api.datastream.DataStreamSource;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\n\nimport java.time.Duration;\n\n/**\n * @author matt\n * @create 2023-03-05 14:56\n * @desc xxx\n */\npublic class WinJoinTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Tuple2&lt;String, Long&gt;&gt; s1 = env.fromElements(\n                Tuple2.of(\"t1\", 1000L),\n                Tuple2.of(\"t3\", 9999L),\n                Tuple2.of(\"t2\", 8000L),\n                Tuple2.of(\"t4\", 11000L)\n        ).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Tuple2&lt;String, Long&gt;&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public long extractTimestamp(Tuple2&lt;String, Long&gt; t, long l) {\n                        return t.f1;\n                    }\n                }));\n\n        SingleOutputStreamOperator&lt;Tuple2&lt;String, Long&gt;&gt; s2 = env.fromElements(\n                Tuple2.of(\"t1\", 2002L),\n                Tuple2.of(\"t3\", 5000L),\n                Tuple2.of(\"t2\", 9000L),\n                Tuple2.of(\"t4\", 22000L)\n        ).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Tuple2&lt;String, Long&gt;&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public long extractTimestamp(Tuple2&lt;String, Long&gt; t, long l) {\n                        return t.f1;\n                    }\n                }));\n\n        s1.join(s2)\n                .where(d -&gt; d.f0)\n                .equalTo(d -&gt; d.f0)\n                .window(TumblingEventTimeWindows.of(Time.seconds(5L)))\n                .apply(new JoinFunction&lt;Tuple2&lt;String, Long&gt;, Tuple2&lt;String, Long&gt;, String&gt;() {\n                    @Override\n                    public String join(Tuple2&lt;String, Long&gt; f1, Tuple2&lt;String, Long&gt; f2) throws Exception {\n\n                        return f1 + \"-&gt;\" + f2;\n                    }\n                }).print();\n\n        env.execute();\n    }\n}\n</code></pre> <p>join joinedStream -&gt; </p> <p>where\u200b\u6307\u5b9a\u200b\u7b2c\u4e00\u6761\u200b\u6d41\u200b\u7684\u200bk, equalTo\u200b\u6307\u5b9a\u200b\u7b2c\u4e00\u6761\u200b\u6d41\u200b\u7684\u200bk \u200b\u4fe9\u200b\u6761\u6d41\u200bk\u200b\u76f8\u7b49\u200b\u624d\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b -&gt;</p> <p>window \u200b\u6307\u5b9a\u200b\u7a97\u53e3\u200b\u7c7b\u578b\u200b -&gt;</p> <p>apply \u200b\u5408\u5e76\u200b\u6570\u636e\u200b  \u200b\u7b2c\u4e00\u6761\u200b\u6d41\u200b\u548c\u200b\u7b2c\u4e8c\u6761\u200b\u6d41\u200b\u5339\u914d\u200b\u7684\u200b\u6570\u636e\u200b\u4f1a\u200b\u505a\u200b\u7b1b\u5361\u5c14\u200b\u79ef\u200b</p>"},{"location":"bigdata/flink/mulStream/#_6","title":"\u95f4\u9694\u200b\u8054\u7ed3","text":"<p>a\u200b\u6d41\u200ba1 b\u200b\u6d41\u200bb2 a1,b2\u200b\u867d\u7136\u200b\u4e0d\u200b\u5728\u200b\u4e00\u4e2a\u200b\u7a97\u53e3\u200b\u5185\u200b\u4f46\u200b\u4ecd\u200b\u5e0c\u671b\u200b\u8fdb\u884c\u200b\u8054\u7ed3\u200b</p> <pre><code>package com.matt.apitest.mulstream;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.co.ProcessJoinFunction;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\n\n/**\n * @author matt\n * @create 2023-03-05 15:26\n * @desc xxx\n */\npublic class IntervalJoinTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Event&gt; s1 = env.fromElements(\n                new Event(\"a1\", \"/u1\", 100L),\n                new Event(\"a2\", \"/u1\", 200L),\n                new Event(\"a3\", \"/u2\", 300L),\n                new Event(\"a4\", \"/u3\", 400L)\n        ).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                    @Override\n                    public long extractTimestamp(Event t, long l) {\n                        return t.timestamp;\n                    }\n                }));\n\n\n        SingleOutputStreamOperator&lt;Event&gt; s2 = env.fromElements(\n                new Event(\"a1\", \"/bill\", 100L),\n                new Event(\"a2\", \"/b2\", 200L),\n                new Event(\"a3\", \"/b3\", 300L),\n                new Event(\"a4\", \"/b4\", 400L)\n        ).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                    @Override\n                    public long extractTimestamp(Event t, long l) {\n                        return t.timestamp;\n                    }\n                }));\n\n        s1.keyBy(d -&gt; d.user)\n                .intervalJoin(s2.keyBy(d -&gt; d.user))\n                .between(Time.seconds(-5), Time.seconds(5))\n                .process(new ProcessJoinFunction&lt;Event, Event, String&gt;() {\n                    @Override\n                    public void processElement(Event e1, Event e2, ProcessJoinFunction&lt;Event, Event, String&gt;.Context context, Collector&lt;String&gt; collector) throws Exception {\n                        collector.collect(e1 + \"-&gt;\" + e2);\n                    }\n                }).print();\n\n        env.execute();\n    }\n}\n</code></pre> <p>between \u200b\u6307\u5b9a\u200b\u7a97\u53e3\u200b \u200b\u4e0a\u200b\u4e0b\u754c\u200b</p> <p>winStart + low &lt;= t &lt; winEnd + up \u200b\u53ea\u8981\u200b2\u200b\u6761\u6d41\u200b\u6ee1\u8db3\u200b\u8fd9\u4e2a\u200b\u6761\u4ef6\u200b\u5747\u200b\u53ef\u4ee5\u200b\u8fde\u63a5\u200b</p>"},{"location":"bigdata/flink/mulStream/#_7","title":"\u7a97\u53e3\u200b\u540c\u7ec4\u200b\u8054\u7ed3","text":"<p>apply\uff1aCoGroupFunction</p> <p>\u200b\u4e00\u6b21\u200b\u4f20\u5165\u200b\u5339\u914d\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b \u200b\u7531\u200b\u7528\u6237\u200b\u81ea\u5df1\u200b\u53bb\u200b\u5b9a\u4e49\u200b\u5339\u914d\u200b \u200b\u4e0d\u200b\u5728\u200b\u662f\u200b\u66b4\u529b\u200b\u7b1b\u5361\u5c14\u200b\u79ef\u200b</p> <pre><code>package com.matt.apitest.mulstream;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.CoGroupFunction;\nimport org.apache.flink.api.common.functions.JoinFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.co.ProcessJoinFunction;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\n\n/**\n * @author matt\n * @create 2023-03-05 15:50\n * @desc xxx\n */\npublic class CoGroupTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Tuple2&lt;String, Long&gt;&gt; s1 = env.fromElements(\n                Tuple2.of(\"t1\", 1000L),\n                Tuple2.of(\"t3\", 9999L),\n                Tuple2.of(\"t2\", 8000L),\n                Tuple2.of(\"t4\", 11000L)\n        ).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Tuple2&lt;String, Long&gt;&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public long extractTimestamp(Tuple2&lt;String, Long&gt; t, long l) {\n                        return t.f1;\n                    }\n                }));\n\n\n        SingleOutputStreamOperator&lt;Tuple2&lt;String, Long&gt;&gt; s2 = env.fromElements(\n                Tuple2.of(\"t1\", 2002L),\n                Tuple2.of(\"t1\", 2003L),\n                Tuple2.of(\"t3\", 5000L),\n                Tuple2.of(\"t2\", 9000L),\n                Tuple2.of(\"t4\", 22000L)\n        ).assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Tuple2&lt;String, Long&gt;&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public long extractTimestamp(Tuple2&lt;String, Long&gt; t, long l) {\n                        return t.f1;\n                    }\n                }));\n\n        s1.coGroup(s2)\n                .where(d -&gt; d.f0)\n                .equalTo(d -&gt; d.f0)\n                .window(TumblingEventTimeWindows.of(Time.seconds(5L)))\n                .apply(new CoGroupFunction&lt;Tuple2&lt;String, Long&gt;, Tuple2&lt;String, Long&gt;, String&gt;() {\n                    @Override\n                    public void coGroup(Iterable&lt;Tuple2&lt;String, Long&gt;&gt; s1Iterable, Iterable&lt;Tuple2&lt;String, Long&gt;&gt; s2Iterable, Collector&lt;String&gt; collector) throws Exception {\n                        collector.collect(s1Iterable + \"-&gt;\" + s2Iterable);\n                    }\n                }).print();\n\n        env.execute();\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/overview/","title":"overview","text":""},{"location":"bigdata/flink/overview/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":""},{"location":"bigdata/flink/overview/#_2","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>Apache Flink \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6846\u67b6\u200b\u548c\u200b\u5206\u5e03\u5f0f\u200b\u5904\u7406\u200b\u5f15\u64ce\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5bf9\u65e0\u754c\u200b\u548c\u200b\u6709\u754c\u200b\u6570\u636e\u6d41\u200b\u8fdb\u884c\u200b\u72b6\u6001\u200b\u8ba1\u7b97\u200b</p>"},{"location":"bigdata/flink/overview/#_3","title":"\u7279\u70b9","text":"<ul> <li>\u200b\u9ad8\u200b\u541e\u5410\u200b\u548c\u200b\u4f4e\u200b\u5ef6\u8fdf\u200b\u3002\u200b\u6bcf\u79d2\u200b\u5904\u7406\u200b\u6570\u767e\u4e07\u4e2a\u200b\u4e8b\u4ef6\u200b\uff0c\u200b\u6beb\u79d2\u200b\u7ea7\u200b\u5ef6\u8fdf\u200b</li> <li>\u200b\u7ed3\u679c\u200b\u7684\u200b\u51c6\u786e\u6027\u200b\u3002Flink \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b(event-time)\u200b\u548c\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b(processing-time) \u200b\u8bed\u4e49\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u4e71\u5e8f\u200b\u4e8b\u4ef6\u200b\u6d41\u200b\uff0c\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u8bed\u4e49\u200b\u4ecd\u7136\u200b\u80fd\u200b\u63d0\u4f9b\u200b\u4e00\u81f4\u200b\u4e14\u200b\u51c6\u786e\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</li> <li>\u200b\u7cbe\u786e\u200b\u4e00\u6b21\u200b(exactly-once)\u200b\u7684\u200b\u72b6\u6001\u200b\u4e00\u81f4\u6027\u200b\u4fdd\u8bc1\u200b\u3002</li> <li>\u200b\u53ef\u4ee5\u200b\u8fde\u63a5\u200b\u5230\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u5b58\u50a8\u7cfb\u7edf\u200b\uff0c\u200b\u5982\u200b Apache Kafka\u3001Apache Cassandra\u3001Elasticsearch\u3001JDBC\u3001Kinesis \u200b\u548c\u200b(\u200b\u5206\u5e03\u5f0f\u200b)\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff0c\u200b\u5982\u200b HDFS \u200b\u548c\u200b S3\u3002</li> <li>\u200b\u9ad8\u200b\u53ef\u7528\u200b\u3002\u200b\u672c\u8eab\u200b\u9ad8\u200b\u53ef\u7528\u200b\u7684\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u52a0\u4e0a\u200b\u4e0e\u200bK8s\uff0cYARN\u200b\u548c\u200bMesos\u200b\u7684\u200b\u7d27\u5bc6\u200b\u96c6\u6210\u200b\uff0c\u200b\u518d\u200b\u52a0\u4e0a\u200b\u4ece\u200b\u6545\u969c\u200b\u4e2d\u200b\u5feb\u901f\u200b\u6062\u590d\u200b\u548c\u200b\u52a8\u6001\u200b\u6269\u5c55\u200b\u4efb\u52a1\u200b\u7684\u200b\u80fd\u529b\u200b\uff0cFlink \u200b\u80fd\u200b\u505a\u5230\u200b\u4ee5\u200b\u6781\u5c11\u200b\u7684\u200b\u505c\u673a\u200b\u65f6\u95f4\u200b 7\u00d724 \u200b\u5168\u5929\u5019\u200b\u8fd0\u884c\u200b\u3002</li> <li>\u200b\u80fd\u591f\u200b\u66f4\u65b0\u200b\u5e94\u7528\u200b\u7a0b\u5e8f\u4ee3\u7801\u200b\u5e76\u200b\u5c06\u200b\u4f5c\u4e1a\u200b(jobs)\u200b\u8fc1\u79fb\u200b\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b Flink \u200b\u96c6\u7fa4\u200b\uff0c\u200b\u800c\u200b\u4e0d\u4f1a\u200b\u4e22\u5931\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u7684\u200b\u72b6\u6001\u200b\u3002</li> </ul>"},{"location":"bigdata/flink/overview/#flink-vs-spark-streaming","title":"Flink VS Spark Streaming","text":"<p>\u200b\u6570\u636e\u6a21\u578b\u200b</p> <ul> <li> <p>Spark \u200b\u5e95\u5c42\u200b\u6570\u636e\u6a21\u578b\u200b\u662f\u200b\u5f39\u6027\u200b\u5206\u5e03\u5f0f\u200b\u6570\u636e\u200b\u96c6\u200b(RDD)\uff0cSpark Streaming \u200b\u8fdb\u884c\u200b\u5fae\u200b\u6279\u5904\u7406\u200b\u7684\u200b\u5e95\u5c42\u200b \u200b\u63a5\u53e3\u200b DStream\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u5904\u7406\u200b\u7684\u200b\u4e5f\u200b\u662f\u200b\u4e00\u7ec4\u7ec4\u200b\u5c0f\u6279\u200b\u6570\u636e\u200b RDD \u200b\u7684\u200b\u96c6\u5408\u200b</p> </li> <li> <p>Flink \u200b\u7684\u200b\u57fa\u672c\u200b\u6570\u636e\u6a21\u578b\u200b\u662f\u200b\u6570\u636e\u6d41\u200b(DataFlow)\uff0c\u200b\u4ee5\u53ca\u200b\u4e8b\u4ef6\u200b(Event)\u200b\u5e8f\u5217\u200b</p> </li> </ul> <p>\u200b\u8fd0\u884c\u200b\u65f6\u200b\u67b6\u6784\u200b</p> <ul> <li>Spark \u200b\u662f\u200b\u6279\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5c06\u200b \u200b\u4efb\u52a1\u200b\u5bf9\u5e94\u200b\u7684\u200bDAG \u200b\u5212\u5206\u200b\u4e3a\u200b\u4e0d\u540c\u200b\u7684\u200b \u200b\u9636\u6bb5\u200bstage\uff0c\u200b\u4e00\u4e2a\u200b\u5b8c\u6210\u200b\u540e\u200b\u7ecf\u8fc7\u200b shuffle \u200b\u518d\u200b\u8fdb\u884c\u200b\u4e0b\u4e00\u9636\u6bb5\u200b\u7684\u200b\u8ba1\u7b97\u200b</li> <li>Flink \u200b\u662f\u200b\u6807\u51c6\u200b\u7684\u200b\u6d41\u5f0f\u200b\u6267\u884c\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u4e8b\u4ef6\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u5904\u7406\u200b\u5b8c\u540e\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u53d1\u5f80\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b</li> </ul> <pre><code># \u200b\u4fdd\u6301\u200b\u94fe\u63a5\u200b\nnc -lk 777\n</code></pre> <p>\u200b\u65e0\u200b\u754c\u200b\u6570\u636e\u200b</p> <p>\u200b\u6570\u636e\u200b\u662f\u200b\u6e90\u6e90\u4e0d\u65ad\u200b\u4ea7\u751f\u200b</p> <p>\u200b\u6709\u200b\u754c\u200b\u6570\u636e\u200b</p> <p>\u200b\u6709\u200b\u660e\u786e\u200b\u5b9a\u4e49\u6570\u636e\u200b\u7684\u200b\u5f00\u59cb\u200b\u548c\u200b\u7ed3\u675f\u200b</p>"},{"location":"bigdata/flink/processFunction/","title":"processFunction","text":""},{"location":"bigdata/flink/processFunction/#_1","title":"\u5904\u7406\u51fd\u6570","text":""},{"location":"bigdata/flink/processFunction/#_2","title":"\u6982\u8ff0","text":"<p>\u200b\u5904\u7406\u51fd\u6570\u200b\u5b9a\u4e49\u200b\u6570\u636e\u6d41\u200b\u7684\u200b\u8f6c\u6362\u200b\u64cd\u4f5c\u200b</p> <p>\u200b\u4e4b\u524d\u200b\u7684\u200b\u7b97\u5b50\u200b\u5b58\u5728\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li>map\u200b\u7b97\u5b50\u200b\uff0c\u200b\u5b9e\u73b0\u200bmapFunction \u200b\u53ea\u80fd\u200b\u83b7\u53d6\u200b\u8f6c\u6362\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>\u200b\u7a97\u53e3\u200b\u805a\u5408\u200b\u7b97\u5b50\u200b\uff0caggregateFunction\u200b\u4e2d\u200b\u51fa\u200b\u6570\u636e\u200b\u5916\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u72b6\u6001\u200b</li> <li>\u200b\u5bcc\u200b\u51fd\u6570\u200b\uff0cRichMapFunction\u200b\u8c03\u7528\u200bgetRuntimeContext() \u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u72b6\u6001\u200b\uff0c\u200b\u8fd0\u884c\u200b\u4fe1\u606f\u200b</li> </ul> <p>\u200b\u5904\u7406\u51fd\u6570\u200b\u5177\u6709\u200b\u4e0a\u9762\u200b\u6240\u6709\u200b\u7b97\u5b50\u200b\u7684\u200b\u529f\u80fd\u200b\u53e6\u5916\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u548c\u200b\u6ce8\u518c\u200b\u5b9a\u65f6\u5668\u200b</p>"},{"location":"bigdata/flink/processFunction/#processfunction","title":"processFunction \u200b\u4ecb\u7ecd","text":""},{"location":"bigdata/flink/processFunction/#_3","title":"\u6982\u8ff0","text":"<p>ProcessFunction \u200b\u7ee7\u627f\u200b\u4e86\u200b AbstractRichFunction\uff0c\u200b\u6cdb\u578b\u200b\u4e2d\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u8f93\u5165\u200b\u7c7b\u578b\u200b\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u8f93\u51fa\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u5185\u90e8\u200b\u5b9a\u4e49\u200b\u4e86\u200b2\u200b\u4e2a\u200b\u65b9\u6cd5\u200b</p> <p>processElement\uff1a\u200b\u6765\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\u5c31\u200b\u4f1a\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b\u8be5\u200b\u65b9\u6cd5\u200b</p> <p>onTimer():\u200b\u5b9a\u65f6\u5668\u200b</p>"},{"location":"bigdata/flink/processFunction/#_4","title":"\u65b9\u6cd5","text":""},{"location":"bigdata/flink/processFunction/#processelement","title":"processElement","text":"<p>value:\u200b\u8f93\u5165\u200b\u7684\u200b\u5143\u7d20\u200b</p> <p>context:\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u8fd0\u884c\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u5230\u200b\u5f53\u524d\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u7528\u4e8e\u200b\u67e5\u8be2\u200b\u65f6\u95f4\u200b\u548c\u200b\u6ce8\u518c\u200b\u5b9a\u65f6\u5668\u200b\u7684\u200b\u201c\u200b\u5b9a\u65f6\u200b\u670d\u52a1\u200b\u201d(TimerService)\uff0c\u200b\u4ee5\u53ca\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6570\u636e\u200b\u53d1\u9001\u5230\u200b\u201c\u200b\u4fa7\u200b\u8f93\u51fa\u200b\u6d41\u200b\u201d(side output)\u200b\u7684\u200b\u65b9\u6cd5\u200b.output()\u3002</p> <p>out:\u200b\u6570\u636e\u200b\u6536\u96c6\u5668\u200b\uff0cout.Collect()</p>"},{"location":"bigdata/flink/processFunction/#ontimer","title":"onTimer \u200b\u5b9a\u65f6\u5668","text":"<p>\u200b\u53ea\u200b\u5728\u200bkeyedStream\u200b\u4f7f\u7528\u200b</p>"},{"location":"bigdata/flink/processFunction/#_5","title":"\u5206\u7c7b","text":"<p>1.ProcessFunction</p> <p>\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u57fa\u4e8e\u200b DataStream \u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002</p> <p>2.KeyedProcessFunction</p> <p>\u200b\u5bf9\u6d41\u200b\u6309\u952e\u200b\u5206\u533a\u200b\u540e\u200b\u7684\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u57fa\u4e8e\u200b KeyedStream \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002\u200b\u8981\u200b\u60f3\u200b\u4f7f\u7528\u200b \u200b\u5b9a\u65f6\u5668\u200b\uff0c\u200b\u6bd4\u5982\u200b\u57fa\u4e8e\u200b KeyedStream\u3002</p> <p>3.ProcessWindowFunction</p> <p>\u200b\u5f00\u7a97\u200b\u4e4b\u540e\u200b\u7684\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b\u7684\u200b\u4ee3\u8868\u200b\u3002\u200b\u57fa\u4e8e\u200b WindowedStream \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u4f5c\u200b \u200b\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002</p> <p>4.ProcessAllWindowFunction</p> <p>\u200b\u540c\u6837\u200b\u662f\u200b\u5f00\u7a97\u200b\u4e4b\u540e\u200b\u7684\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u57fa\u4e8e\u200b AllWindowedStream \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002</p> <p>5.CoProcessFunction</p> <p>\u200b\u5408\u5e76\u200b(connect)\u200b\u4e24\u6761\u200b\u6d41\u200b\u4e4b\u540e\u200b\u7684\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u57fa\u4e8e\u200b ConnectedStreams \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b\u4f5c\u4e3a\u200b\u53c2\u200b \u200b\u6570\u200b\u4f20\u5165\u200b\u3002\u200b\u5173\u4e8e\u200b\u6d41\u200b\u7684\u200b\u8fde\u63a5\u200b\u5408\u5e76\u200b\u64cd\u4f5c\u200b</p> <p>6.ProcessJoinFunction</p> <p>\u200b\u95f4\u9694\u200b\u8fde\u63a5\u200b(interval join)\u200b\u4e24\u6761\u200b\u6d41\u200b\u4e4b\u540e\u200b\u7684\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u57fa\u4e8e\u200b IntervalJoined \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b\u4f5c\u4e3a\u200b \u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002</p> <p>7.BroadcastProcessFunction</p> <p>\u200b\u5e7f\u64ad\u200b\u8fde\u63a5\u200b\u6d41\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u57fa\u4e8e\u200b BroadcastConnectedStream \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002\u200b\u8fd9\u200b \u200b\u91cc\u200b\u7684\u200b\u201c\u200b\u5e7f\u64ad\u200b\u8fde\u63a5\u200b\u6d41\u200b\u201dBroadcastConnectedStream\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u672a\u200b keyBy \u200b\u7684\u200b\u666e\u901a\u200b DataStream \u200b\u4e0e\u200b\u4e00\u4e2a\u200b\u5e7f\u200b \u200b\u64ad\u6d41\u200b(BroadcastStream)\u200b\u505a\u200b\u8fde\u63a5\u200b(conncet)\u200b\u4e4b\u540e\u200b\u7684\u200b\u4ea7\u7269\u200b\u3002</p> <p>8.KeyedBroadcastProcessFunction</p> <p>\u200b\u6309\u952e\u200b\u5206\u533a\u200b\u7684\u200b\u5e7f\u64ad\u200b\u8fde\u63a5\u200b\u6d41\u200b\u5904\u7406\u51fd\u6570\u200b\uff0c\u200b\u540c\u6837\u200b\u662f\u200b\u57fa\u4e8e\u200b BroadcastConnectedStream \u200b\u8c03\u7528\u200b.process()\u200b\u65f6\u200b \u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u4f20\u5165\u200b\u3002\u200b\u4e0e\u200b BroadcastProcessFunction \u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u7684\u200b\u5e7f\u64ad\u200b\u8fde\u63a5\u200b\u6d41\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b KeyedStream \u200b\u4e0e\u200b\u5e7f\u64ad\u200b\u6d41\u200b(BroadcastStream)\u200b\u505a\u200b\u8fde\u63a5\u200b\u4e4b\u540e\u200b\u7684\u200b\u4ea7\u7269\u200b\u3002</p>"},{"location":"bigdata/flink/processFunction/#keyedprocessfunction","title":"keyedProcessFunction","text":""},{"location":"bigdata/flink/processFunction/#_6","title":"\u6982\u8ff0","text":"<p>\u200b\u9996\u5148\u200b\u5bf9\u6d41\u200b\u8fdb\u884c\u200bkeyBy -&gt; keyedStream \uff08\u200b\u903b\u8f91\u200b\u4e0a\u200b\u5206\u6d41\u200b\uff0c\u200b\u76f8\u540c\u200b\u7684\u200bkey\u200b\u5728\u200b\u540c\u4e00\u200b\u5206\u533a\u200b\u8ba1\u7b97\u200b\uff09</p> <p>keyedStream\u200b\u652f\u6301\u200b\u5b9a\u65f6\u5668\u200b</p>"},{"location":"bigdata/flink/processFunction/#_7","title":"\u5b9a\u65f6\u5668","text":""},{"location":"bigdata/flink/processFunction/#_8","title":"\u6982\u8ff0","text":"<p>ProcessFunction \u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b(Context)\u200b\u4e2d\u200b\u63d0\u4f9b\u200b\u4e86\u200b.timerService()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b TimerService \u200b\u5bf9\u8c61\u200b</p> <p>TimeService\u200b\u652f\u6301\u200b\u7684\u200b\u65b9\u6cd5\u200b</p> <pre><code>// \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7684\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\nlong currentProcessingTime();\n// \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7684\u200b\u6c34\u4f4d\u200b\u7ebf\u200b(\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b) \nlong currentWatermark();\n// \u200b\u6ce8\u518c\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u5b9a\u65f6\u5668\u200b\uff0c\u200b\u5f53\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u8d85\u8fc7\u200b time \u200b\u65f6\u200b\u89e6\u53d1\u200b void \nregisterProcessingTimeTimer(long time);\n// \u200b\u6ce8\u518c\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u5b9a\u65f6\u5668\u200b\uff0c\u200b\u5f53\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u8d85\u8fc7\u200b time \u200b\u65f6\u200b\u89e6\u53d1\u200b void \nregisterEventTimeTimer(long time);\n// \u200b\u5220\u9664\u200b\u89e6\u53d1\u200b\u65f6\u95f4\u200b\u4e3a\u200b time \u200b\u7684\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u5b9a\u65f6\u5668\u200b\nvoid deleteProcessingTimeTimer(long time);\n// \u200b\u5220\u9664\u200b\u89e6\u53d1\u200b\u65f6\u95f4\u200b\u4e3a\u200b time \u200b\u7684\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u5b9a\u65f6\u5668\u200b \nvoid deleteEventTimeTimer(long time);\n</code></pre>"},{"location":"bigdata/flink/processFunction/#_9","title":"\u6ce8\u610f","text":"<p>\u200b\u5b9a\u65f6\u5668\u200b \u200b\u4f1a\u4ee5\u200b key+\u200b\u65f6\u95f4\u200b \u200b\u4f5c\u4e3a\u200b\u552f\u4e00\u200b\u952e\u200b \u200b\u53bb\u200b\u91cd\u200b \u200b\u5373\u200b \u200b\u6bcf\u4e2a\u200bkey&amp;\u200b\u65f6\u95f4\u200b\u6233\u200b\u5373\u200b\u662f\u200b\u8c03\u7528\u200b\u591a\u6b21\u200bonTimer\uff0c\u200b\u4f46\u662f\u200b\u53ea\u4f1a\u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b</p> <p>.onTimer()\u200b\u548c\u200b.processElement()\u200b\u65b9\u6cd5\u200b\u662f\u200b\u540c\u6b65\u200b\u8c03\u7528\u200b\u7684\u200b(synchronous)\uff0c\u200b\u6240\u4ee5\u200b\u4e0d\u4f1a\u200b\u6709\u200b\u5e76\u53d1\u200b\u95ee\u9898\u200b</p>"},{"location":"bigdata/flink/processFunction/#_10","title":"\u4f7f\u7528","text":""},{"location":"bigdata/flink/processFunction/#processingtime","title":"\u5904\u7406\u200b\u65f6\u95f4\u200b processingTime","text":"<pre><code>package com.matt.apitest.processfunction;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.KeyedProcessFunction;\nimport org.apache.flink.util.Collector;\n\nimport java.sql.Timestamp;\nimport java.time.Duration;\n\npublic class ProcessingTimeTimerTest1 {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        SingleOutputStreamOperator&lt;Event&gt; stream = env.addSource(new SourceTest4_UDF.ParallelCustomSource());\n\n\n        stream.keyBy(d -&gt; d.user)\n                .process(new KeyedProcessFunction&lt;String, Event, String&gt;() {\n                    @Override\n                    public void processElement(Event event, KeyedProcessFunction&lt;String, Event, String&gt;.Context context, Collector&lt;String&gt; collector) throws Exception {\n                        long pTs = context.timerService().currentProcessingTime();\n                        collector.collect(context.getCurrentKey() + \"\u200b\u6570\u636e\u200b\u5230\u8fbe\u200b\u65f6\u95f4\u200b\".concat(String.valueOf(pTs)));\n\n                        // \u200b\u6ce8\u518c\u200b10s \u200b\u5b9a\u65f6\u5668\u200b\n                        context.timerService().registerProcessingTimeTimer(pTs + 10 * 1000);\n                    }\n\n                    @Override\n                    public void onTimer(long ts, KeyedProcessFunction&lt;String, Event, String&gt;.OnTimerContext ctx, Collector&lt;String&gt; out) throws Exception {\n                        out.collect(ctx.getCurrentKey() + \"\u200b\u5b9a\u65f6\u5668\u200b\u89e6\u53d1\u200b\u4e86\u200b\uff0c \u200b\u89e6\u53d1\u200b\u65f6\u95f4\u200b\" + new Timestamp(ts));\n                    }\n                })\n                .print();\n\n        env.execute();\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/processFunction/#eventtime","title":"\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b eventTime","text":"<pre><code>package com.matt.apitest.processfunction;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.KeyedProcessFunction;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.streaming.api.functions.source.SourceFunction;\nimport org.apache.flink.util.Collector;\n\nimport javax.transaction.TransactionRequiredException;\nimport java.sql.Timestamp;\nimport java.time.Duration;\nimport java.util.concurrent.TransferQueue;\n\n/**\n * @author matt\n * @create 2023-02-28 23:54\n * @desc xxx\n */\npublic class EventTimeTimerTest1 {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        SingleOutputStreamOperator&lt;Event&gt; stream = env.addSource(new CustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        stream.keyBy(d -&gt; d.user)\n                .process(new KeyedProcessFunction&lt;String, Event, String&gt;() {\n                    @Override\n                    public void processElement(Event event, KeyedProcessFunction&lt;String, Event, String&gt;.Context context, Collector&lt;String&gt; collector) throws Exception {\n                        long ts = context.timestamp();\n                        String outD = context.getCurrentKey() + new Timestamp(ts);\n                        outD += \"wk\" + context.timerService().currentWatermark();\n                        collector.collect(outD);\n\n                        // \u200b\u6ce8\u518c\u200b10s \u200b\u5b9a\u65f6\u5668\u200b\n                        context.timerService().registerEventTimeTimer(ts + 10 * 1000);\n                    }\n\n                    @Override\n                    public void onTimer(long ts, KeyedProcessFunction&lt;String, Event, String&gt;.OnTimerContext ctx, Collector&lt;String&gt; out) throws Exception {\n                        out.collect(ctx.getCurrentKey() + \"\u200b\u5b9a\u65f6\u5668\u200b\u89e6\u53d1\u200b\u4e86\u200b\uff0c \u200b\u89e6\u53d1\u200b\u65f6\u95f4\u200b\" + new Timestamp(ts) + \"wk\"\n                                + ctx.timerService().currentWatermark());\n                    }\n                })\n                .print();\n\n        env.execute();\n    }\n\n    public static class CustomSource implements SourceFunction&lt;Event&gt; {\n\n        @Override\n        public void run(SourceContext&lt;Event&gt; ctx) throws Exception {\n            ctx.collect(new Event(\"d1\", \"/detail\", 1000L));\n            Thread.sleep(5000L);\n\n            ctx.collect(new Event(\"d2\", \"/detail\", 11000L));\n            Thread.sleep(5000L);\n\n            ctx.collect(new Event(\"d2\", \"/detail\", 11001L));\n            Thread.sleep(5000L);\n        }\n\n        @Override\n        public void cancel() {\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/processFunction/#processwindowfunction","title":"processWindowFunction","text":""},{"location":"bigdata/flink/processFunction/#_11","title":"\u6982\u8ff0","text":"<p>ProcessWindowFunction \u200b\u7ee7\u627f\u200b AbstractRichFunction</p> <p>\u200b\u8fdb\u884c\u200bkeyBy</p> <pre><code>ProcessWindowFunction&lt;Long, UrlCntBO, String, TimeWindow&gt;\n</code></pre> <p>in, out, key, winType</p> <pre><code>process(String s, ProcessWindowFunction&lt;Long, UrlCntBO, String, TimeWindow&gt;.Context ctx, Iterable&lt;Long&gt; iterable, Collector&lt;UrlCntBO&gt; collector\n</code></pre> <p>key, ctx, elements, collector</p> <p>ProcessAllWindowFunction \u200b\u4f7f\u7528\u200b</p> <pre><code>stream.windowAll(TumblingEventTimeWindows.of(Time.seconds(10)) )\n       .process(new MyProcessAllWindowFunction())\n</code></pre>"},{"location":"bigdata/flink/processFunction/#_12","title":"\u6848\u4f8b","text":""},{"location":"bigdata/flink/processFunction/#topn","title":"topN","text":"<p>\u200b\u67e5\u627e\u200btop2\u200b\u7684\u200b\u7528\u6237\u200b</p>"},{"location":"bigdata/flink/processFunction/#win","title":"win","text":"<p>UrlCntAgg: \u200b\u7edf\u8ba1\u200b\u6bcf\u4e2a\u200b\u7a97\u53e3\u200b\u5185\u200burl\u200b\u8bbf\u95ee\u200b\u6b21\u6570\u200b</p> <p>UrlCntResult\uff1a\u200b\u8f93\u51fa\u200burl,\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b\uff0c\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\uff0curl\u200b\u8bbf\u95ee\u200b\u6b21\u6570\u200b</p> <p>TopNProcessResult\uff1a \u200b\u4f7f\u7528\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\u4f5c\u4e3a\u200bK, \u200b\u5c06\u200b inputD -&gt; listState -&gt; \u200b\u8bbe\u7f6e\u200b\u5b9a\u65f6\u5668\u200b -&gt; \u200b\u5b9a\u65f6\u5668\u200b\u89e6\u53d1\u200b\u4ece\u200blistState \u200b\u83b7\u53d6\u200btop2url</p> <pre><code>package com.matt.apitest.processfunction;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.model.UrlCntBO;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport com.matt.apitest.window.UrlCntCase;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.AggregateFunction;\nimport org.apache.flink.api.common.functions.RuntimeContext;\nimport org.apache.flink.api.common.state.ListState;\nimport org.apache.flink.api.common.state.ListStateDescriptor;\nimport org.apache.flink.api.common.typeinfo.Types;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.KeyedProcessFunction;\nimport org.apache.flink.streaming.api.functions.windowing.ProcessAllWindowFunction;\nimport org.apache.flink.streaming.api.windowing.assigners.SlidingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.streaming.api.windowing.windows.TimeWindow;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\nimport java.util.*;\n\n/**\n * @author matt\n * @create 2023-03-01 00:35\n * @desc \u200b\u8bbf\u95ee\u200b\u6700\u591a\u200b\u7684\u200b2\u200b\u4e2a\u200b\u7528\u6237\u200b\n */\npublic class TopNCase {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Event&gt; stream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        SingleOutputStreamOperator&lt;UrlCntBO&gt; urlCntStream = stream.keyBy(d -&gt; d.url)\n                .window(SlidingEventTimeWindows.of(Time.seconds(10), Time.seconds(5)))\n                .aggregate(new UrlCntCase.UrlCntAgg(), new UrlCntCase.UrlCntResult());\n\n        urlCntStream.keyBy(d -&gt; d.winEnd)\n                .process(new TopNProcessResult(2))\n                .print();\n\n\n        env.execute();\n    }\n\n\n\n    public static class TopNProcessResult extends KeyedProcessFunction&lt;Long, UrlCntBO, String&gt; {\n\n        public int n;\n        // \u200b\u72b6\u6001\u200b\n        private ListState&lt;UrlCntBO&gt; urlCntBOListState;\n\n        public TopNProcessResult(int n) {\n            this.n = n;\n        }\n\n        // \u200b\u73af\u5883\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u72b6\u6001\u200b\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            urlCntBOListState = getRuntimeContext().getListState(\n                    new ListStateDescriptor&lt;UrlCntBO&gt;(\"url-cnt-list\", Types.POJO(UrlCntBO.class))\n            );\n        }\n\n        @Override\n        public void processElement(UrlCntBO v, KeyedProcessFunction&lt;Long, UrlCntBO, String&gt;.Context context, Collector&lt;String&gt; collector) throws Exception {\n            urlCntBOListState.add(v);\n            // \u200b\u5b9a\u65f6\u5668\u200b\n            context.timerService().registerProcessingTimeTimer(context.getCurrentKey() + 1);\n        }\n\n        @Override\n        public void onTimer(long timestamp, KeyedProcessFunction&lt;Long, UrlCntBO, String&gt;.OnTimerContext ctx, Collector&lt;String&gt; out) throws Exception {\n            List&lt;Tuple2&lt;String, Long&gt;&gt; tList = new ArrayList&lt;&gt;();\n            for (UrlCntBO u : urlCntBOListState.get()) {\n                tList.add(Tuple2.of(u.url, u.cnt));\n            }\n            tList.sort(new Comparator&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                @Override\n                public int compare(Tuple2&lt;String, Long&gt; o1, Tuple2&lt;String, Long&gt; o2) {\n                    long diff = o2.f1 - o1.f1;\n                    if (diff &gt; 0) {\n                        return 1;\n                    } else if (diff == 0) {\n                        return 0;\n                    } else {\n                        return -1;\n                    }\n                }\n            });\n            String sb = \"\";\n            if (tList.size() &gt;= 2) {\n                sb = tList.get(0).f0 + tList.get(0).f1 +\n                        tList.get(1).f0 + tList.get(1).f1;\n            }\n\n            out.collect(String.valueOf(sb));\n        }\n    }\n\n}\n</code></pre> <pre><code>public static class UrlCntAgg implements AggregateFunction&lt;Event, Long , Long&gt; {\n\n        @Override\n        public Long createAccumulator() {\n            return 0L;\n        }\n\n        @Override\n        public Long add(Event event, Long acc) {\n            return acc + 1;\n        }\n\n        @Override\n        public Long getResult(Long acc) {\n            return acc;\n        }\n\n        @Override\n        public Long merge(Long aLong, Long acc1) {\n            return null;\n        }\n    }\n\n\n    public static class UrlCntResult extends ProcessWindowFunction&lt;Long, UrlCntBO, String, TimeWindow&gt; {\n\n        @Override\n        public void process(String s, ProcessWindowFunction&lt;Long, UrlCntBO, String, TimeWindow&gt;.Context ctx, Iterable&lt;Long&gt; iterable, Collector&lt;UrlCntBO&gt; collector) throws Exception {\n            Long start = ctx.window().getStart();\n            Long end = ctx.window().getEnd();\n            Long uv = iterable.iterator().next();\n            collector.collect(new UrlCntBO(s, uv, start, end));\n        }\n    }\n</code></pre>"},{"location":"bigdata/flink/processFunction/#allwin","title":"allwin","text":"<p>UrlHashMapCountAgg: hashMap\u200b\u7d2f\u52a0\u5668\u200b k:url v:urlCnt -&gt; getResult \u200b\u904d\u5386\u200b\u7d2f\u52a0\u5668\u200b \u200b\u5c06\u200b\u7ed3\u679c\u200b\u5199\u5165\u200blist&gt; url,cnt, sort  \u200b\u8f93\u51fa\u200b\u7ed3\u6784\u200b <p>UrlAllWinResult: \u200b\u83b7\u53d6\u200btop2</p> <pre><code> // \u200b\u65b9\u5f0f\u200b\u4e00\u200b\uff1a \u200b\u6ca1\u6709\u200b\u5206\u7ec4\u200b\n       /* stream.map(d -&gt; d.user)\n                .windowAll(SlidingEventTimeWindows.of(Time.seconds(10L), Time.seconds(5L)))\n                .aggregate(new UrlHashMapCountAgg(), new UrlAllWinResult())\n                .print();*/\n\n\n\npublic static class UrlHashMapCountAgg implements AggregateFunction&lt;String, HashMap&lt;String, Long&gt;, ArrayList&lt;Tuple2&lt;String, Long&gt;&gt;&gt; {\n\n        @Override\n        public HashMap&lt;String, Long&gt; createAccumulator() {\n            return new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public HashMap&lt;String, Long&gt; add(String s, HashMap&lt;String, Long&gt; acc) {\n            if (!acc.containsKey(s)) {\n                acc.put(s, 0L);\n            }\n            acc.put(s, acc.get(s) + 1);\n            return acc;\n        }\n\n        @Override\n        public ArrayList&lt;Tuple2&lt;String, Long&gt;&gt; getResult(HashMap&lt;String, Long&gt; acc) {\n            ArrayList&lt;Tuple2&lt;String, Long&gt;&gt; tList = new ArrayList&lt;&gt;();\n            for (Map.Entry&lt;String, Long&gt; entry : acc.entrySet()) {\n                tList.add(Tuple2.of(entry.getKey(), entry.getValue()));\n            }\n            tList.sort(new Comparator&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                @Override\n                public int compare(Tuple2&lt;String, Long&gt; o1, Tuple2&lt;String, Long&gt; o2) {\n                    long diff = o2.f1 - o1.f1;\n                    if (diff &gt; 0) {\n                        return 1;\n                    } else if (diff == 0) {\n                        return 0;\n                    } else {\n                        return -1;\n                    }\n                }\n            });\n            return tList;\n        }\n\n        @Override\n        public HashMap&lt;String, Long&gt; merge(HashMap&lt;String, Long&gt; stringLongHashMap, HashMap&lt;String, Long&gt; acc1) {\n            return null;\n        }\n    }\n\n\n    public static class UrlAllWinResult extends ProcessAllWindowFunction&lt;ArrayList&lt;Tuple2&lt;String, Long&gt;&gt;, String, TimeWindow&gt; {\n        @Override\n        public void process(ProcessAllWindowFunction&lt;ArrayList&lt;Tuple2&lt;String, Long&gt;&gt;, String, TimeWindow&gt;.Context context, Iterable&lt;ArrayList&lt;Tuple2&lt;String, Long&gt;&gt;&gt; iterable, Collector&lt;String&gt; collector) throws Exception {\n            ArrayList&lt;Tuple2&lt;String, Long&gt;&gt; tList = iterable.iterator().next();\n            StringBuilder res = new StringBuilder();\n            for (int i = 0; i &lt; 2; i++) {\n                res.append(tList.get(i));\n            }\n            collector.collect(String.valueOf(res));\n        }\n    }\n</code></pre>"},{"location":"bigdata/flink/processFunction/#_13","title":"\u4fa7\u200b\u8f93\u51fa\u200b\u6d41","text":"<p>\u200b\u4e4b\u524d\u200b\u7684\u200b\u8fdf\u5230\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u5230\u200b\u4fa7\u8fb9\u200b\u8f93\u51fa\u200b\u6d41\u200b \u200b\u4e5f\u200b\u662f\u200b\u57fa\u4e8e\u200b\u8be5\u200b\u65b9\u6cd5\u200b </p> <pre><code>package com.matt.apitest.processfunction;\n\nimport com.matt.apitest.beans.SensorReading;\nimport org.apache.flink.api.common.state.ValueState;\nimport org.apache.flink.api.common.state.ValueStateDescriptor;\nimport org.apache.flink.api.java.tuple.Tuple;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.KeyedProcessFunction;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.util.Collector;\nimport org.apache.flink.util.OutputTag;\n\npublic class Test3_Sideoutputcase {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        DataStream&lt;String&gt; inputStream = env.socketTextStream(\"localhost\", 777);\n        // \u200b\u8f6c\u6362\u6210\u200bSensorReading\u200b\u7c7b\u578b\u200b\n        DataStream&lt;SensorReading&gt; dataStream = inputStream.map(line -&gt; {\n            String[] fields = line.split(\",\");\n            return new SensorReading(fields[0], new Long(fields[1]), new Double(fields[2]));\n        });\n\n        // \u200b\u533f\u540d\u200b\n        OutputTag&lt;SensorReading&gt; outputTag = new OutputTag&lt;SensorReading&gt;(\"lowTemp\"){};\n\n        SingleOutputStreamOperator&lt;SensorReading&gt; highTempStream = dataStream.process(new ProcessFunction&lt;SensorReading, SensorReading&gt;() {\n            @Override\n            public void processElement(SensorReading sensorReading, ProcessFunction&lt;SensorReading, SensorReading&gt;.Context context, Collector&lt;SensorReading&gt; collector) throws Exception {\n                if (sensorReading.getTemperatrue() &gt; 30) {\n                    collector.collect(sensorReading);\n                } else {\n                    // \u200b\u8f93\u51fa\u200b\u5230\u200b\u4fa7\u8fb9\u200b\u6d41\u200b\n                    context.output(outputTag, sensorReading);\n                }\n            }\n        });\n\n        highTempStream.print(\"high\");\n        highTempStream.getSideOutput(outputTag).print(\"lowTem\");\n        env.execute(\"my\");\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/quickstart/","title":"quickstart","text":"<p>\u200b   </p>"},{"location":"bigdata/flink/quickstart/#helloword","title":"helloword","text":""},{"location":"bigdata/flink/quickstart/#wc","title":"wc","text":"<p>1.\u200b\u65b0\u5efa\u200bmaven\u200b\u9879\u76ee\u200b</p> <p>2.\u200b\u7f16\u5199\u200bpom.xml</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.matt&lt;/groupId&gt;\n    &lt;artifactId&gt;stu-flink&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;flink.version&gt;1.13.0&lt;/flink.version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\n        &lt;slf4j.version&gt;1.7.30&lt;/slf4j.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- flink \u200b\u4f7f\u7528\u200b\u5230\u200bscala \u200b\u7ec4\u4ef6\u200b--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-java&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-java_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-clients_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- \u200b\u65e5\u5fd7\u200b --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!--\u200b\u6253\u5305\u200b\u5de5\u5177\u200b--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre> <p>3.\u200b\u7f16\u5199\u200b\u65e5\u5fd7\u200b\u914d\u7f6e\u6587\u4ef6\u200b</p> <p>log4j.properties</p> <pre><code>log4j.rootLogger=error, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u65f6\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b</p> <p></p> <p>4.\u200b\u5177\u4f53\u200b\u4ee3\u7801\u200b</p> <p></p>"},{"location":"bigdata/flink/quickstart/#_1","title":"\u90e8\u7f72","text":""},{"location":"bigdata/flink/quickstart/#mac-standalone","title":"mac-Standalone \u200b\u6a21\u5f0f","text":""},{"location":"bigdata/flink/quickstart/#_2","title":"\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6240\u6709\u8005","text":"<pre><code># \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\nwhoami\n# \u200b\u67e5\u770b\u200b\u7528\u6237\u7ec4\u200b\nid matt\n\n# \u200b\u7528\u6237\u540d\u200b\uff1a\u200b\u7ec4\u540d\u200b\nchown -R matt:staff /opt/software\n\nchown -R matt:staff /opt/module\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u66f4\u200b\u591a\u7528\u6237\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b</p> <p>https://blog.csdn.net/qq_26129413/article/details/109675386</p>"},{"location":"bigdata/flink/quickstart/#_3","title":"\u4e0b\u8f7d\u200b\u89e3\u538b","text":"<pre><code>tar -zxvf flink-1.13.0-bin-scala_2.12.tgz -C /opt/module\n</code></pre>"},{"location":"bigdata/flink/quickstart/#_4","title":"\u914d\u7f6e","text":""},{"location":"bigdata/flink/quickstart/#flinkconfflink-confyaml-jobmanager","title":"\u4fee\u6539\u200b flink/conf/flink-conf.yaml \u200b\u6587\u4ef6\u200b jobmanager","text":"<p>\u200b\u5982\u679c\u200b\u662f\u200b\u5355\u673a\u200b\u5b89\u88c5\u200b\u9ed8\u8ba4\u200b\u5373\u53ef\u200b\uff0c\u200b\u96c6\u7fa4\u200b\u5b89\u88c5\u200b\u914d\u7f6e\u200b\u67d0\u53f0\u200b\u4e3b\u673a\u200b</p> <pre><code>jobmanager.rpc.address: localhost\n</code></pre>"},{"location":"bigdata/flink/quickstart/#confworkers-taskmanager","title":"\u4fee\u6539\u200b /conf/workers \u200b\u6587\u4ef6\u200b taskmanager","text":"<p>\u200b\u4ece\u673a\u200b\u673a\u5668\u200b\u5217\u8868\u200b</p> <pre><code>localhost\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u96c6\u7fa4\u200b\u5b89\u88c5\u200b\u53ef\u4ee5\u200b\u914d\u7f6e\u200b\u4e3a\u200b</p> <pre><code>matt06\nmatt07\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u96c6\u7fa4\u200b\u5b89\u88c5\u200b\u9700\u8981\u200b\u628a\u200bflink\u200b\u540c\u6b65\u200b\u5230\u200b\u5176\u4ed6\u200b\u673a\u5668\u200b</p>"},{"location":"bigdata/flink/quickstart/#_5","title":"\u5176\u4ed6\u200b\u914d\u7f6e","text":"<ul> <li>jobmanager.memory.process.size:\u200b\u5bf9\u200bJobManager\u200b\u8fdb\u7a0b\u200b\u53ef\u200b\u4f7f\u7528\u200b\u5230\u200b\u7684\u200b\u5168\u90e8\u200b\u5185\u5b58\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5305\u62ec\u200b JVM \u200b\u5143\u200b\u7a7a\u95f4\u200b\u548c\u200b\u5176\u4ed6\u200b\u5f00\u9500\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b 1600M\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u96c6\u7fa4\u200b\u89c4\u6a21\u200b\u8fdb\u884c\u200b\u9002\u5f53\u200b\u8c03\u6574\u200b\u3002</li> <li>taskmanager.memory.process.size:\u200b\u5bf9\u200bTaskManager\u200b\u8fdb\u7a0b\u200b\u53ef\u200b\u4f7f\u7528\u200b\u5230\u200b\u7684\u200b\u5168\u90e8\u200b\u5185\u5b58\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5305\u62ec\u200b JVM \u200b\u5143\u200b\u7a7a\u95f4\u200b\u548c\u200b\u5176\u4ed6\u200b\u5f00\u9500\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b 1600M\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u96c6\u7fa4\u200b\u89c4\u6a21\u200b\u8fdb\u884c\u200b\u9002\u5f53\u200b\u8c03\u6574\u200b\u3002</li> <li>taskmanager.numberOfTaskSlots:\u200b\u5bf9\u200b\u6bcf\u4e2a\u200bTaskManager\u200b\u80fd\u591f\u200b\u5206\u914d\u200b\u7684\u200bSlot\u200b\u6570\u91cf\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b 1\uff0c\u200b\u53ef\u200b\u6839\u636e\u200b TaskManager \u200b\u6240\u5728\u200b\u7684\u200b\u673a\u5668\u200b\u80fd\u591f\u200b\u4f9b\u7ed9\u200b Flink \u200b\u7684\u200b CPU \u200b\u6570\u91cf\u200b\u51b3\u5b9a\u200b\u3002\u200b\u6240\u8c13\u200bSlot \u200b\u5c31\u662f\u200b TaskManager \u200b\u4e2d\u200b\u5177\u4f53\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u4efb\u52a1\u200b\u6240\u200b\u5206\u914d\u200b\u7684\u200b\u8ba1\u7b97\u8d44\u6e90\u200b\u3002</li> <li>parallelism.default:Flink\u200b\u4efb\u52a1\u200b\u6267\u884c\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u5e76\u884c\u5ea6\u200b\uff0c\u200b\u4f18\u5148\u7ea7\u200b\u4f4e\u4e8e\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u7684\u200b\u5e76\u884c\u5ea6\u200b\u914d\u7f6e\u200b\u548c\u200b\u4efb\u52a1\u200b\u63d0\u4ea4\u200b\u4ea4\u65f6\u200b\u4f7f\u7528\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u7684\u200b\u5e76\u884c\u5ea6\u200b\u6570\u91cf\u200b\u3002</li> </ul>"},{"location":"bigdata/flink/quickstart/#_6","title":"\u542f\u52a8","text":"<p>\u200b\u5728\u200bjobmanger\u200b\u673a\u5668\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u542f\u52a8\u200b</p> <p>bin</p> <pre><code>start-cluster.sh\n\n\nstop-cluster.sh\n</code></pre>"},{"location":"bigdata/flink/quickstart/#_7","title":"\u63d0\u4ea4\u200b\u4efb\u52a1","text":"<p>\u200b\u4f9d\u8d56\u200b\u7684\u200bjar \u200b\u5305\u200b\u4e5f\u200b\u6253\u8fdb\u53bb\u200b</p> <pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!--\u200b\u6253\u5305\u200b\u5de5\u5177\u200b--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>"},{"location":"bigdata/flink/quickstart/#ui","title":"ui \u200b\u63d0\u4ea4","text":"<p>http://localhost:8081/#/overview</p> <p></p> <p></p> <pre><code>\u276f ./bin/flink list\nWaiting for response...\n------------------ Running/Restarting Jobs -------------------\n24.12.2022 15:11:40 : a21e498f6c313c5be5941d45aaef4ed1 : Flink Streaming Job (RUNNING)\n--------------------------------------------------------------\nNo scheduled jobs.\n\u276f ./bin/flink cancel a21e498f6c313c5be5941d45aaef4ed1\nCancelling job a21e498f6c313c5be5941d45aaef4ed1.\nCancelled job a21e498f6c313c5be5941d45aaef4ed1.\n</code></pre>"},{"location":"bigdata/flink/quickstart/#_8","title":"\u547d\u4ee4\u884c\u200b\u63d0\u4ea4","text":"<p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u884c\u200b\u63d0\u4ea4\u200b\u4e5f\u200b\u53ef\u4ee5\u200bui\u200b\u8fdb\u884c\u200b\u63d0\u4ea4\u200b</p> <p>-m ip</p> <pre><code>./bin/flink run -c com.matt.wc.StreamWordCount -p 1 stu-flink-1.0-SNAPSHOT.jar --host localhost --port 777\n</code></pre>"},{"location":"bigdata/flink/quickstart/#_9","title":"\u90e8\u7f72\u200b\u6a21\u5f0f","text":""},{"location":"bigdata/flink/quickstart/#_10","title":"\u4f1a\u8bdd\u200b\u6a21\u5f0f","text":"<p>\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200bflink\u200b\u96c6\u7fa4\u200b \uff0c\u200b\u63d0\u4ea4\u200b\u4f5c\u4e1a\u200b\uff0c \u200b\u6240\u6709\u200b\u4f5c\u4e1a\u200b\u516c\u7528\u200b\u4e00\u4e2a\u200b\u96c6\u7fa4\u200b</p>"},{"location":"bigdata/flink/quickstart/#_11","title":"\u5355\u200b\u4f5c\u4e1a\u200b\u6a21\u5f0f","text":"<p>\u200b\u7531\u200b\u5ba2\u6237\u7aef\u200b\u8fd0\u884c\u200b \u200b\u5e94\u7528\u7a0b\u5e8f\u200b\uff0c\u200b\u7136\u540e\u200b\u542f\u52a8\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u4f5c\u4e1a\u200b\u88ab\u200b\u4ea4\u7ed9\u200b JobManager\uff0c\u200b\u8fdb\u800c\u200b\u5206\u200b\u53d1\u7ed9\u200b TaskManager \u200b\u6267\u884c\u200b\u3002\u200b\u4f5c\u4e1a\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u96c6\u7fa4\u200b\u5c31\u200b\u4f1a\u200b\u5173\u95ed\u200b\uff0c\u200b\u6240\u6709\u200b\u8d44\u6e90\u200b\u4e5f\u200b\u4f1a\u200b\u91ca\u653e\u200b\u3002</p> <p>Flink \u200b\u672c\u8eab\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u8fd9\u6837\u200b\u8fd0\u884c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5355\u200b\u4f5c\u4e1a\u200b\u6a21\u5f0f\u200b\u4e00\u822c\u200b\u9700\u8981\u200b\u501f\u52a9\u200b\u4e00\u4e9b\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u6846\u67b6\u200b\u6765\u200b\u542f\u52a8\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u6bd4\u5982\u200b YARN\u3001Kubernetes\u3002</p> <p>1.15 \u200b\u5df2\u200b\u88ab\u200b\u629b\u5f03\u200b</p>"},{"location":"bigdata/flink/quickstart/#_12","title":"\u5e94\u7528\u200b\u6a21\u5f0f","text":"<p>\u200b\u4e0d\u200b\u9700\u8981\u200b\u5ba2\u6237\u7aef\u200b\uff0c\u200b\u76f4\u63a5\u200b\u628a\u200b\u5e94\u7528\u200b\u63d0\u4ea4\u200b\u5230\u200b JobManger \u200b\u4e0a\u200b\u8fd0\u884c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u63d0\u4ea4\u200b\u7684\u200b\u5e94\u7528\u200b\u5355\u72ec\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b JobManager\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u96c6\u7fa4\u200b\u3002\u200b\u8fd9\u4e2a\u200b JobManager \u200b\u53ea\u200b\u4e3a\u200b\u6267\u884c\u200b\u8fd9\u200b\u4e00\u4e2a\u200b\u5e94\u7528\u200b\u800c\u200b\u5b58\u5728\u200b\uff0c\u200b\u6267\u884c\u200b\u7ed3\u675f\u200b\u4e4b\u540e\u200b JobManager \u200b\u4e5f\u200b\u5c31\u200b\u5173\u95ed\u200b\u4e86\u200b\u3002</p> <p>\u200b\u4f1a\u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u4f5c\u4e1a\u200b</p>"},{"location":"bigdata/flink/quickstart/#_13","title":"\u72ec\u7acb\u200b\u6a21\u5f0f\u200b\u90e8\u7f72","text":""},{"location":"bigdata/flink/quickstart/#_14","title":"\u4f1a\u8bdd\u200b\u6a21\u5f0f","text":"<p>\u200b\u5148\u200b\u542f\u52a8\u200b\u96c6\u7fa4\u200b\u4f1a\u200b\u63d0\u4ea4\u200b\u4f5c\u4e1a\u200b</p>"},{"location":"bigdata/flink/quickstart/#_15","title":"\u5355\u200b\u4f5c\u4e1a\u200b\u6a21\u5f0f","text":"<p>Flink \u200b\u672c\u8eab\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u4ee5\u5355\u200b\u4f5c\u4e1a\u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u4e00\u822c\u200b\u9700\u8981\u200b\u501f\u52a9\u200b\u4e00\u4e9b\u200b\u8d44\u200b \u200b\u6e90\u200b\u7ba1\u7406\u200b\u5e73\u53f0\u200b\u3002\u200b\u6240\u4ee5\u200b Flink \u200b\u7684\u200b\u72ec\u7acb\u200b(Standalone)\u200b\u96c6\u7fa4\u200b\u5e76\u200b\u4e0d\u200b\u652f\u6301\u200b\u5355\u200b\u4f5c\u4e1a\u200b\u6a21\u5f0f\u200b\u90e8\u7f72\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#_16","title":"\u5e94\u7528\u200b\u6a21\u5f0f\u200b\u90e8\u7f72","text":"<p>\u200b\u5e94\u7528\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e0d\u4f1a\u200b\u63d0\u524d\u200b\u521b\u5efa\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e0d\u80fd\u200b\u8c03\u7528\u200b start-cluster.sh \u200b\u811a\u672c\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u540c\u6837\u200b\u5728\u200b bin \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b standalone-job.sh \u200b\u6765\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b JobManager\u3002</p> <p>\u200b\u5177\u4f53\u6b65\u9aa4\u200b\u5982\u4e0b\u200b:</p> <p>(1)\u200b\u8fdb\u5165\u200b\u5230\u200b Flink \u200b\u7684\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\u4e0b\u200b\uff0c\u200b\u5c06\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u7684\u200b jar \u200b\u5305\u200b\u653e\u5230\u200b lib/\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u3002</p> <pre><code>cp ./FlinkTutorial-1.0-SNAPSHOT.jar lib/\n</code></pre> <p>(2)\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u542f\u52a8\u200b JobManager\u3002</p> <pre><code>./bin/standalone-job.sh start --job-classname com.atguigu.wc.StreamWordCount\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u76f4\u63a5\u200b\u6307\u5b9a\u200b\u4f5c\u4e1a\u200b\u5165\u53e3\u200b\u7c7b\u200b\uff0c\u200b\u811a\u672c\u200b\u4f1a\u5230\u200b lib \u200b\u76ee\u5f55\u200b\u626b\u200b\u6240\u6709\u200b\u7684\u200b jar \u200b\u5305\u200b\u3002</p> <p>(3)\u200b\u540c\u6837\u200b\u662f\u200b\u4f7f\u7528\u200b bin \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u811a\u672c\u200b\uff0c\u200b\u542f\u52a8\u200b TaskManager\u3002</p> <pre><code>./bin/taskmanager.sh start\n</code></pre> <p>(4)\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u505c\u6389\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u540c\u6837\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u811a\u672c\u200b\uff0c\u200b\u547d\u4ee4\u200b\u5982\u4e0b\u200b\u3002</p> <pre><code>./bin/standalone-job.sh stop\n./bin/taskmanager.sh stop\n</code></pre>"},{"location":"bigdata/flink/quickstart/#todo-yarnk8s","title":"TODO yarn/k8s\u200b\u90e8\u7f72","text":""},{"location":"bigdata/flink/quickstart/#_17","title":"\u8fd0\u884c\u200b\u67b6\u6784","text":""},{"location":"bigdata/flink/quickstart/#_18","title":"\u6784\u6210","text":""},{"location":"bigdata/flink/quickstart/#jobmanager","title":"JobManager","text":"<p>JobManager \u200b\u662f\u200b\u4e00\u4e2a\u200b Flink \u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u4efb\u52a1\u200b\u7ba1\u7406\u200b\u548c\u200b\u8c03\u5ea6\u200b\u7684\u200b\u6838\u5fc3\u200b\uff0c\u200b\u662f\u200b\u63a7\u5236\u200b\u5e94\u7528\u200b\u6267\u884c\u200b\u7684\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u3002\u200b\u6bcf\u4e2a\u200b\u5e94\u7528\u200b\u90fd\u200b\u5e94\u8be5\u200b\u88ab\u200b\u552f\u4e00\u200b\u7684\u200b JobManager \u200b\u6240\u200b\u63a7\u5236\u200b\u6267\u884c\u200b\u3002\u200b\u5f53\u7136\u200b\uff0c\u200b\u5728\u200b\u9ad8\u200b\u53ef\u7528\u200b(HA)\u200b\u7684\u200b\u573a\u666f\u200b\u4e0b\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u591a\u4e2a\u200b JobManager;\u200b\u8fd9\u65f6\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u662f\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b\u9886\u5bfc\u200b\u8282\u70b9\u200b(leader)\uff0c\u200b\u5176\u4ed6\u200b\u90fd\u200b\u662f\u200b\u5907\u7528\u200b\u8282\u70b9\u200b(standby)\u3002</p>"},{"location":"bigdata/flink/quickstart/#jobmaster","title":"JobMaster","text":"<p>\u200b\u5728\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u65f6\u200b\uff0cJobMaster \u200b\u4f1a\u5148\u200b\u63a5\u6536\u200b\u5230\u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u5e94\u7528\u200b\u3002\u200b\u8fd9\u91cc\u200b\u6240\u8bf4\u200b\u201c\u200b\u5e94\u7528\u200b\u201d\u200b\u4e00\u822c\u200b\u662f\u200b\u5ba2\u6237\u7aef\u200b\u63d0\u4ea4\u200b \u200b\u4ea4\u6765\u200b\u7684\u200b\uff0c\u200b\u5305\u62ec\u200b:Jar \u200b\u5305\u200b\uff0c\u200b\u6570\u636e\u6d41\u200b\u56fe\u200b(dataflow graph)\uff0c\u200b\u548c\u200b\u4f5c\u4e1a\u200b\u56fe\u200b(JobGraph)\u3002</p> <p>JobMaster \u200b\u4f1a\u200b\u628a\u200b JobGraph \u200b\u8f6c\u6362\u6210\u200b\u4e00\u4e2a\u200b\u7269\u7406\u200b\u5c42\u9762\u200b\u7684\u200b\u6570\u636e\u6d41\u200b\u56fe\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u56fe\u200b\u88ab\u200b\u53eb\u4f5c\u200b\u201c\u200b\u6267\u884c\u200b\u56fe\u200b\u201d (ExecutionGraph)\uff0c\u200b\u5b83\u200b\u5305\u542b\u200b\u4e86\u200b\u6240\u6709\u200b\u53ef\u4ee5\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b\u7684\u200b\u4efb\u52a1\u200b\u3002JobMaster \u200b\u4f1a\u200b\u5411\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b (ResourceManager)\u200b\u53d1\u51fa\u8bf7\u6c42\u200b\uff0c\u200b\u7533\u8bf7\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\u5fc5\u8981\u200b\u7684\u200b\u8d44\u6e90\u200b\u3002\u200b\u4e00\u65e6\u200b\u5b83\u200b\u83b7\u53d6\u200b\u5230\u200b\u4e86\u200b\u8db3\u591f\u200b\u7684\u200b\u8d44\u6e90\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u5c06\u200b\u6267\u884c\u200b\u56fe\u200b\u5206\u53d1\u200b\u5230\u200b\u771f\u6b63\u200b\u8fd0\u884c\u200b\u5b83\u4eec\u200b\u7684\u200b TaskManager \u200b\u4e0a\u200b\u3002</p> <p>\u200b\u800c\u200b\u5728\u200b\u8fd0\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0cJobMaster \u200b\u4f1a\u200b\u8d1f\u8d23\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u4e2d\u592e\u200b\u534f\u8c03\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6bd4\u5982\u8bf4\u200b\u68c0\u67e5\u70b9\u200b(checkpoints)\u200b\u7684\u200b\u534f\u8c03\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#resourcemanager","title":"\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b(ResourceManager)","text":"<p>\u200b\u4e3b\u8981\u200b\u8d1f\u8d23\u200b\u8d44\u6e90\u200b\u7684\u200b\u5206\u914d\u200b\u548c\u200b\u7ba1\u7406\u200b\u3002\u200b\u5728\u200b Flink \u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u3002\u200b\u6240\u8c13\u200b\u201c\u200b\u8d44\u6e90\u200b\u201d\uff0c \u200b\u4e3b\u8981\u200b\u662f\u200b\u6307\u200b TaskManager \u200b\u7684\u200b\u4efb\u52a1\u200b\u69fd\u200b(task slots)\u3002\u200b\u4efb\u52a1\u200b\u69fd\u200b\u5c31\u662f\u200b Flink \u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u7684\u200b\u8d44\u6e90\u200b\u8c03\u914d\u200b\u5355\u5143\u200b\uff0c\u200b\u5305\u542b\u200b \u200b\u4e86\u200b\u673a\u5668\u200b\u7528\u6765\u200b\u6267\u884c\u200b\u8ba1\u7b97\u200b\u7684\u200b\u4e00\u7ec4\u200b CPU \u200b\u548c\u200b\u5185\u5b58\u200b\u8d44\u6e90\u200b\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u4efb\u52a1\u200b(Task)\u200b\u90fd\u200b\u9700\u8981\u200b\u5206\u914d\u200b\u5230\u200b\u4e00\u4e2a\u200b slot \u200b\u4e0a\u200b \u200b\u6267\u884c\u200b\u3002</p> <p>Flink \u200b\u7684\u200b ResourceManager\uff0c\u200b\u9488\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u73af\u5883\u200b\u548c\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5e73\u53f0\u200b(\u200b\u6bd4\u5982\u200b Standalone \u200b\u90e8\u7f72\u200b\uff0c\u200b\u6216\u8005\u200b YARN)\uff0c\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u3002\u200b\u5728\u200b Standalone \u200b\u90e8\u7f72\u200b\u65f6\u200b\uff0c\u200b\u56e0\u4e3a\u200b TaskManager \u200b\u662f\u200b\u5355\u72ec\u200b\u542f\u52a8\u200b\u7684\u200b(\u200b\u6ca1\u6709\u200b Per-Job \u200b\u6a21\u5f0f\u200b)\uff0c\u200b\u6240\u4ee5\u200b ResourceManager \u200b\u53ea\u80fd\u200b\u5206\u53d1\u200b\u53ef\u7528\u200b TaskManager \u200b\u7684\u200b\u4efb\u52a1\u200b\u69fd\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5355\u72ec\u200b\u542f\u52a8\u200b\u65b0\u200b TaskManager\u3002</p> <p>\u200b\u800c\u200b\u5728\u200b\u6709\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5e73\u53f0\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u200b\u53d7\u6b64\u200b\u9650\u5236\u200b\u3002\u200b\u5f53\u65b0\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u7533\u8bf7\u200b\u8d44\u6e90\u200b\u65f6\u200b\uff0cResourceManager \u200b\u4f1a\u200b\u5c06\u200b \u200b\u6709\u200b\u7a7a\u95f2\u200b\u69fd\u200b\u4f4d\u200b\u7684\u200b TaskManager \u200b\u5206\u914d\u200b\u7ed9\u200b JobMaster\u3002\u200b\u5982\u679c\u200b ResourceManager \u200b\u6ca1\u6709\u200b\u8db3\u591f\u200b\u7684\u200b\u4efb\u52a1\u200b\u69fd\u200b\uff0c\u200b\u5b83\u200b \u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u5411\u200b\u8d44\u6e90\u200b\u63d0\u4f9b\u200b\u5e73\u53f0\u200b\u53d1\u8d77\u200b\u4f1a\u8bdd\u200b\uff0c\u200b\u8bf7\u6c42\u200b\u63d0\u4f9b\u200b\u542f\u52a8\u200b TaskManager \u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5bb9\u5668\u200b\u3002\u200b\u53e6\u5916\u200b\uff0c ResourceManager \u200b\u8fd8\u200b\u8d1f\u8d23\u200b\u505c\u6389\u200b\u7a7a\u95f2\u200b\u7684\u200b TaskManager\uff0c\u200b\u91ca\u653e\u200b\u8ba1\u7b97\u8d44\u6e90\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#dispatcher","title":"Dispatcher","text":"<p>\u200b\u4e3b\u8981\u200b\u8d1f\u8d23\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b REST \u200b\u63a5\u53e3\u200b\uff0c\u200b\u7528\u6765\u200b\u63d0\u4ea4\u200b\u5e94\u7528\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8d1f\u8d23\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u63d0\u4ea4\u200b\u7684\u200b\u4f5c\u200b \u200b\u4e1a\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b JobMaster \u200b\u7ec4\u4ef6\u200b\u3002Dispatcher \u200b\u4e5f\u200b\u4f1a\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b Web UI\uff0c\u200b\u7528\u6765\u200b\u65b9\u4fbf\u200b\u5730\u200b\u5c55\u793a\u200b\u548c\u200b\u76d1\u63a7\u200b\u4f5c\u4e1a\u200b\u6267\u884c\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002Dispatcher \u200b\u5728\u200b\u67b6\u6784\u200b\u4e2d\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5fc5\u9700\u200b\u7684\u200b\uff0c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u90e8\u7f72\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u88ab\u200b\u5ffd\u7565\u200b\u6389\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#taskmanager","title":"TaskManager","text":"<p>TaskManager \u200b\u662f\u200b Flink \u200b\u4e2d\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u6570\u636e\u6d41\u200b\u7684\u200b\u5177\u4f53\u200b\u8ba1\u7b97\u200b\u5c31\u662f\u200b\u5b83\u200b\u6765\u200b\u505a\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b \u201cWorker\u201d\u3002Flink \u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u5fc5\u987b\u200b\u81f3\u5c11\u200b\u6709\u200b\u4e00\u4e2a\u200b TaskManager;</p> <p>\u200b\u5f53\u7136\u200b\u7531\u4e8e\u200b\u5206\u5e03\u5f0f\u8ba1\u7b97\u200b\u7684\u200b\u8003\u8651\u200b\uff0c\u200b\u901a\u5e38\u200b\u4f1a\u200b \u200b\u6709\u200b\u591a\u4e2a\u200b TaskManager \u200b\u8fd0\u884c\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u4e2a\u200b TaskManager \u200b\u90fd\u200b\u5305\u542b\u200b\u4e86\u200b\u4e00\u5b9a\u200b\u6570\u91cf\u200b\u7684\u200b\u4efb\u52a1\u200b\u69fd\u200b(task slots)\u3002Slot</p> <p>\u200b\u662f\u200b\u8d44\u6e90\u200b\u8c03\u5ea6\u200b\u7684\u200b\u6700\u5c0f\u200b\u5355\u4f4d\u200b\uff0cslot \u200b\u7684\u200b\u6570\u91cf\u200b\u9650\u5236\u200b\u4e86\u200b TaskManager \u200b\u80fd\u591f\u200b\u5e76\u884c\u5904\u7406\u200b\u7684\u200b\u4efb\u52a1\u200b\u6570\u91cf\u200b\u3002 \u200b\u542f\u52a8\u200b\u4e4b\u540e\u200b\uff0cTaskManager \u200b\u4f1a\u200b\u5411\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u6ce8\u518c\u200b\u5b83\u200b\u7684\u200b slots;\u200b\u6536\u5230\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u7684\u200b\u6307\u4ee4\u200b\u540e\u200b\uff0c TaskManager\u200b\u5c31\u200b\u4f1a\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u6216\u8005\u200b\u591a\u4e2a\u200b\u69fd\u200b\u4f4d\u200b\u63d0\u4f9b\u200b\u7ed9\u200bJobMaster\u200b\u8c03\u7528\u200b\uff0cJobMaster\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5206\u914d\u4efb\u52a1\u200b\u6765\u200b\u6267\u884c\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5728\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0cTaskManager \u200b\u53ef\u4ee5\u200b\u7f13\u51b2\u200b\u6570\u636e\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u8ddf\u200b\u5176\u4ed6\u200b\u8fd0\u884c\u200b\u540c\u4e00\u200b\u5e94\u7528\u200b\u7684\u200b TaskManager\u200b\u4ea4\u6362\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#_19","title":"\u4efb\u52a1\u200b\u63d0\u4ea4\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/flink/quickstart/#_20","title":"\u62bd\u8c61","text":"<ol> <li>\u200b\u4e00\u822c\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u7531\u200b\u5ba2\u6237\u7aef\u200b(App)\u200b\u901a\u8fc7\u200b\u5206\u53d1\u200b\u5668\u200b\u63d0\u4f9b\u200b\u7684\u200b REST \u200b\u63a5\u53e3\u200b\uff0c\u200b\u5c06\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u7ed9\u200bJobManager\u3002</li> <li>\u200b\u7531\u200b\u5206\u53d1\u200b\u5668\u200b\u542f\u52a8\u200b JobMaster\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4f5c\u4e1a\u200b(\u200b\u5305\u542b\u200b JobGraph)\u200b\u63d0\u4ea4\u200b\u7ed9\u200b JobMaster\u3002</li> <li>JobMaster \u200b\u5c06\u200b JobGraph \u200b\u89e3\u6790\u200b\u4e3a\u200b\u53ef\u200b\u6267\u884c\u200b\u7684\u200b ExecutionGraph\uff0c\u200b\u5f97\u5230\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u8d44\u6e90\u200b\u6570\u91cf\u200b\uff0c\u200b\u7136\u540e\u200b\u5411\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u8bf7\u6c42\u200b\u8d44\u6e90\u200b(slots)\u3002</li> <li>\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u5224\u65ad\u200b\u5f53\u524d\u200b\u662f\u5426\u200b\u7531\u200b\u8db3\u591f\u200b\u7684\u200b\u53ef\u7528\u200b\u8d44\u6e90\u200b;\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\uff0c\u200b\u542f\u52a8\u200b\u65b0\u200b\u7684\u200b TaskManager\u3002</li> <li>TaskManager \u200b\u542f\u52a8\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5411\u200b ResourceManager \u200b\u6ce8\u518c\u200b\u81ea\u5df1\u200b\u7684\u200b\u53ef\u7528\u200b\u4efb\u52a1\u200b\u69fd\u200b(slots)\u3002 </li> <li>\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u901a\u77e5\u200b TaskManager \u200b\u4e3a\u200b\u65b0\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u63d0\u4f9b\u200b slots\u3002</li> <li>TaskManager \u200b\u8fde\u63a5\u200b\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b JobMaster\uff0c\u200b\u63d0\u4f9b\u200b slots\u3002 </li> <li>JobMaster \u200b\u5c06\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u4efb\u52a1\u200b\u5206\u200b\u53d1\u7ed9\u200b TaskManager\u3002 </li> <li>TaskManager \u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\uff0c\u200b\u4e92\u76f8\u200b\u4e4b\u95f4\u200b\u53ef\u4ee5\u200b\u4ea4\u6362\u200b\u6570\u636e\u200b</li> </ol> <p>\u200b\u90e8\u7f72\u200b\u6a21\u5f0f\u200b\u4e0d\u540c\u200b\uff0c\u200b\u6709\u4e9b\u200b\u6b65\u9aa4\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u76f8\u540c\u200b</p>"},{"location":"bigdata/flink/quickstart/#_21","title":"\u72ec\u7acb\u200b\u6a21\u5f0f","text":"<p>\u200b\u4f1a\u8bdd\u200b\u6a21\u5f0f\u200b\u548c\u200b\u5e94\u7528\u200b\u6a21\u5f0f\u200b \u200b\u4fe9\u8005\u200b\u662f\u200b\u76f8\u4f3c\u200b\u7684\u200b</p> <p>\u200b\u4e0d\u4f1a\u200b\u542f\u52a8\u200b TaskManager\uff0c\u200b\u800c\u4e14\u200b\u76f4\u63a5\u200b\u5411\u200b\u5df2\u6709\u200b\u7684\u200b TaskManager \u200b\u8981\u6c42\u200b\u8d44\u6e90\u200b</p>"},{"location":"bigdata/flink/quickstart/#yarn","title":"yarn \u200b\u96c6\u7fa4","text":""},{"location":"bigdata/flink/quickstart/#_22","title":"\u4f1a\u8bdd\u200b\u6a21\u5f0f","text":"<p>\u200b\u5728\u200b\u4f1a\u200b\u8bdd\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5148\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b YARN session\uff0c\u200b\u8fd9\u4e2a\u200b\u4f1a\u8bdd\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b Flink \u200b\u96c6\u7fa4\u200b\u3002</p> <p>\u200b\u8fd9\u91cc\u200b\u53ea\u200b\u542f\u52a8\u200b\u4e86\u200b JobManager\uff0c\u200b\u800c\u200b TaskManager \u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u52a8\u6001\u200b\u5730\u200b\u542f\u52a8\u200b\u3002\u200b\u5728\u200b JobManager \u200b\u5185\u90e8\u200b\uff0c\u200b\u7531\u4e8e\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u63d0\u4ea4\u200b\u4f5c\u4e1a\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53ea\u6709\u200b ResourceManager \u200b\u548c\u200b Dispatcher \u200b\u5728\u200b\u8fd0\u884c\u200b</p> <ol> <li>\u200b\u5ba2\u6237\u7aef\u200b\u901a\u8fc7\u200b REST \u200b\u63a5\u53e3\u200b\uff0c\u200b\u5c06\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u7ed9\u200b\u5206\u53d1\u200b\u5668\u200b\u3002</li> <li>\u200b\u5206\u53d1\u200b\u5668\u200b\u542f\u52a8\u200b JobMaster\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4f5c\u4e1a\u200b(\u200b\u5305\u542b\u200b JobGraph)\u200b\u63d0\u4ea4\u200b\u7ed9\u200b JobMaster\u3002 </li> <li>JobMaster \u200b\u5411\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u8bf7\u6c42\u200b\u8d44\u6e90\u200b(slots)\u3002</li> <li>\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u5411\u200b YARN \u200b\u7684\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u8bf7\u6c42\u200b container \u200b\u8d44\u6e90\u200b\u3002</li> <li>YARN \u200b\u542f\u52a8\u200b\u65b0\u200b\u7684\u200b TaskManager \u200b\u5bb9\u5668\u200b\u3002</li> <li>TaskManager \u200b\u542f\u52a8\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5411\u200b Flink \u200b\u7684\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u6ce8\u518c\u200b\u81ea\u5df1\u200b\u7684\u200b\u53ef\u7528\u200b\u4efb\u52a1\u200b\u69fd\u200b\u3002</li> <li>\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u901a\u77e5\u200b TaskManager \u200b\u4e3a\u200b\u65b0\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u63d0\u4f9b\u200b slots\u3002 </li> <li>TaskManager \u200b\u8fde\u63a5\u200b\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b JobMaster\uff0c\u200b\u63d0\u4f9b\u200b slots\u3002</li> <li>JobMaster \u200b\u5c06\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u4efb\u52a1\u200b\u5206\u200b\u53d1\u7ed9\u200b TaskManager\uff0c\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\u3002</li> </ol>"},{"location":"bigdata/flink/quickstart/#_23","title":"\u5355\u200b\u4f5c\u4e1a\u200b\u6a21\u5f0f","text":"<ol> <li>\u200b\u5ba2\u6237\u7aef\u200b\u5c06\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u7ed9\u200b YARN \u200b\u7684\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\uff0c\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4e2d\u200b\u4f1a\u200b\u540c\u65f6\u200b\u5c06\u200b Flink \u200b\u7684\u200b Jar \u200b\u5305\u200b\u548c\u200b\u914d\u7f6e\u200b \u200b\u4e0a\u200b\u4f20\u5230\u200b HDFS\uff0c\u200b\u4ee5\u4fbf\u200b\u540e\u7eed\u200b\u542f\u52a8\u200b Flink \u200b\u76f8\u5173\u200b\u7ec4\u4ef6\u200b\u7684\u200b\u5bb9\u5668\u200b\u3002</li> <li>YARN\u200b\u7684\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u5206\u914d\u200bContainer\u200b\u8d44\u6e90\u200b\uff0c\u200b\u542f\u52a8\u200bFlink JobManager\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u7ed9\u200b JobMaster\u3002\u200b\u8fd9\u91cc\u200b\u7701\u7565\u200b\u4e86\u200b Dispatcher \u200b\u7ec4\u4ef6\u200b\u3002</li> <li>JobMaster \u200b\u5411\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u8bf7\u6c42\u200b\u8d44\u6e90\u200b(slots)\u3002</li> <li>\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u5411\u200b YARN \u200b\u7684\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u8bf7\u6c42\u200b container \u200b\u8d44\u6e90\u200b\u3002</li> <li>YARN \u200b\u542f\u52a8\u200b\u65b0\u200b\u7684\u200b TaskManager \u200b\u5bb9\u5668\u200b\u3002</li> <li>TaskManager \u200b\u542f\u52a8\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5411\u200b Flink \u200b\u7684\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u6ce8\u518c\u200b\u81ea\u5df1\u200b\u7684\u200b\u53ef\u7528\u200b\u4efb\u52a1\u200b\u69fd\u200b\u3002</li> <li>\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u901a\u77e5\u200b TaskManager \u200b\u4e3a\u200b\u65b0\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u63d0\u4f9b\u200b slots\u3002 </li> <li>TaskManager \u200b\u8fde\u63a5\u200b\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b JobMaster\uff0c\u200b\u63d0\u4f9b\u200b slots\u3002</li> <li>JobMaster \u200b\u5c06\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u4efb\u52a1\u200b\u5206\u200b\u53d1\u7ed9\u200b TaskManager\uff0c\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\u3002</li> </ol> <p>\u200b\u53ef\u89c1\u200b\uff0c\u200b\u533a\u522b\u200b\u53ea\u200b\u5728\u4e8e\u200b JobManager \u200b\u7684\u200b\u542f\u52a8\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u7701\u53bb\u200b\u4e86\u200b\u5206\u53d1\u200b\u5668\u200b\u3002\u200b\u5f53\u200b\u7b2c\u200b 2 \u200b\u6b65\u200b\u4f5c\u4e1a\u200b\u63d0\u4ea4\u200b\u4ea4\u7ed9\u200b JobMaster\uff0c\u200b\u4e4b\u540e\u200b\u7684\u200b\u6d41\u7a0b\u200b\u5c31\u200b\u4e0e\u4f1a\u200b\u8bdd\u200b\u6a21\u5f0f\u200b\u5b8c\u5168\u200b\u4e00\u6837\u200b\u4e86\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#_24","title":"\u5e94\u7528\u200b\u6a21\u5f0f","text":"<p>\u200b\u5e94\u7528\u200b\u6a21\u5f0f\u200b\u4e0e\u200b\u5355\u200b\u4f5c\u4e1a\u200b\u6a21\u5f0f\u200b\u7684\u200b\u63d0\u4ea4\u200b\u6d41\u7a0b\u200b\u975e\u5e38\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u53ea\u662f\u200b\u521d\u59cb\u200b\u63d0\u4ea4\u200b\u7ed9\u200b YARN \u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u7684\u200b\u4e0d\u518d\u200b\u662f\u200b\u5177\u4f53\u200b\u7684\u200b\u4f5c\u4e1a\u200b\uff0c\u200b\u800c\u662f\u200b\u6574\u4e2a\u200b\u5e94\u7528\u200b\u3002\u200b\u4e00\u4e2a\u200b\u5e94\u7528\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u4e86\u200b\u591a\u4e2a\u200b\u4f5c\u4e1a\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4f5c\u4e1a\u200b\u90fd\u200b\u5c06\u200b\u5728\u200b Flink \u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u542f\u52a8\u200b\u5404\u81ea\u200b\u5bf9\u5e94\u200b\u7684\u200b JobMaster\u3002</p>"},{"location":"bigdata/flink/quickstart/#_25","title":"\u4e00\u4e9b\u200b\u91cd\u8981\u200b\u6982\u5ff5","text":""},{"location":"bigdata/flink/quickstart/#dataflow-graph","title":"\u6570\u636e\u6d41\u200b\u56fe\u200b(Dataflow Graph)","text":"<p>\u200b\u6240\u6709\u200b\u7684\u200b Flink \u200b\u7a0b\u5e8f\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5f52\u7eb3\u200b\u4e3a\u200b\u7531\u200b\u4e09\u200b\u90e8\u5206\u200b\u6784\u6210\u200b:Source\u3001Transformation \u200b\u548c\u200b Sink\u3002</p> <ul> <li>Source\u200b\u8868\u793a\u200b\u201c\u200b\u6e90\u200b\u7b97\u5b50\u200b\u201d\uff0c\u200b\u8d1f\u8d23\u200b\u8bfb\u53d6\u6570\u636e\u200b\u6e90\u200b\u3002</li> <li>Transformation\u200b\u8868\u793a\u200b\u201c\u200b\u8f6c\u6362\u200b\u7b97\u5b50\u200b\u201d\uff0c\u200b\u5229\u7528\u200b\u5404\u79cd\u200b\u7b97\u5b50\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\u52a0\u5de5\u200b\u3002</li> <li>Sink\u200b\u8868\u793a\u200b\u201c\u200b\u4e0b\u6c89\u200b\u7b97\u5b50\u200b\u201d\uff0c\u200b\u8d1f\u8d23\u200b\u6570\u636e\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002</li> </ul> <p>\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\uff0cFlink \u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u88ab\u200b\u6620\u5c04\u200b\u6210\u200b\u6240\u6709\u200b\u7b97\u5b50\u200b\u6309\u7167\u200b\u903b\u8f91\u200b\u987a\u5e8f\u200b\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u7684\u200b\u4e00\u5f20\u200b\u56fe\u200b\uff0c\u200b\u8fd9\u200b\u88ab\u200b\u79f0\u4e3a\u200b \u201c\u200b\u903b\u8f91\u200b\u6570\u636e\u6d41\u200b\u201d(logical dataflow)\uff0c\u200b\u6216\u8005\u200b\u53eb\u200b\u201c\u200b\u6570\u636e\u6d41\u200b\u56fe\u200b\u201d(dataflow graph)\u3002</p>"},{"location":"bigdata/flink/quickstart/#parallelism","title":"\u5e76\u884c\u5ea6\u200b(Parallelism)","text":""},{"location":"bigdata/flink/quickstart/#_26","title":"\u5e76\u884c\u8ba1\u7b97","text":"<p>\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\u6b63\u5728\u200b\u6267\u884c\u200bflatMap \u200b\u4e4b\u524d\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u80fd\u200b\u6b63\u5728\u200b\u6267\u884c\u200b\u8bfb\u53d6\u200b</p> <p>\u200b\u591a\u6761\u200b\u6570\u636e\u200b\u540c\u65f6\u200b\u6765\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u540c\u200b\u8282\u70b9\u200b\u540c\u65f6\u200b\u8ba1\u7b97\u200b</p>"},{"location":"bigdata/flink/quickstart/#_27","title":"\u5e76\u884c\u200b\u5b50\u200b\u4efb\u52a1\u200b\u548c\u200b\u5e76\u884c\u5ea6","text":"<p>\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7b97\u5b50\u200b(operator)\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u5b50\u200b\u4efb\u52a1\u200b(operator subtask)\uff0c\u200b\u8fd9\u4e9b\u200b\u5b50\u200b\u4efb\u52a1\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u3001\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u7406\u200b\u673a\u200b\u6216\u200b\u4e0d\u540c\u200b\u7684\u200b\u5bb9\u5668\u200b\u4e2d\u200b\u5b8c\u5168\u200b\u72ec\u7acb\u200b\u5730\u200b\u6267\u884c\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7b97\u5b50\u200b\u7684\u200b\u5b50\u200b\u4efb\u52a1\u200b(subtask)\u200b\u7684\u200b\u4e2a\u6570\u200b\u88ab\u200b\u79f0\u4e4b\u4e3a\u200b\u5176\u200b\u5e76\u884c\u5ea6\u200b(parallelism)</p>"},{"location":"bigdata/flink/quickstart/#_28","title":"\u5e76\u884c\u5ea6\u200b\u8bbe\u7f6e","text":"<p>\u200b\u4ee3\u7801\u200b\u8bbe\u7f6e\u200b</p> <pre><code>// \u200b\u5355\u4e2a\u200b\u7b97\u5b50\u200b\u6709\u6548\u200b\nstream.map(word -&gt; Tuple2.of(word, 1L)).setParallelism(2);\n\n// \u200b\u5168\u5c40\u200b\u6709\u6548\u200b\nenv.setParallelism(2)\n</code></pre> <p>\u200b\u63d0\u4ea4\u200b\u4efb\u52a1\u200b\u8bbe\u7f6e\u200b</p> <pre><code>bin/flink run \u2013p 2 \u2013c com.atguigu.wc.StreamWordCount ./FlinkTutorial-1.0-SNAPSHOT.jar\n</code></pre> <p>\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u8bbe\u7f6e\u200b flink-conf.yaml </p> <pre><code>parallelism.default: 2\n</code></pre>"},{"location":"bigdata/flink/quickstart/#operator-chain","title":"\u7b97\u5b50\u200b\u94fe\u200b Operator Chain","text":"<p>\u200b\u7b97\u5b50\u200b\u94fe\u200b\u4f20\u8f93\u200b</p> <p>1:1 source,map</p> <p>\u200b\u91cd\u200b\u5206\u533a\u200b</p> <p>keyBy,window,sink</p> <p>\u200b\u5728\u200b Flink \u200b\u4e2d\u200b\uff0c\u200b\u5e76\u884c\u5ea6\u200b\u76f8\u540c\u200b\u7684\u200b\u4e00\u5bf9\u4e00\u200b(one to one)\u200b\u7b97\u5b50\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u94fe\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b \u201c\u200b\u5927\u200b\u201d\u200b\u7684\u200b\u4efb\u52a1\u200b(task)\uff0c\u200b\u8fd9\u6837\u200b\u539f\u6765\u200b\u7684\u200b\u7b97\u5b50\u200b\u5c31\u200b\u6210\u4e3a\u200b\u4e86\u200b\u771f\u6b63\u200b\u4efb\u52a1\u200b\u91cc\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u8fd9\u6837\u200b\u7684\u200b\u6280\u672f\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u201c\u200b\u7b97\u5b50\u200b\u94fe\u200b\u201d(Operator Chain)\u3002</p> <pre><code>// \u200b\u7981\u7528\u200b\u7b97\u5b50\u200b\u94fe\u200b\n.map(word -&gt; Tuple2.of(word, 1L)).disableChaining(); // \u200b\u4ece\u200b\u5f53\u524d\u200b\u7b97\u5b50\u200b\u5f00\u59cb\u200b\u65b0\u94fe\u200b\n.map(word -&gt; Tuple2.of(word, 1L)).startNewChain()\n</code></pre>"},{"location":"bigdata/flink/quickstart/#_29","title":"\u4f5c\u4e1a\u200b\u56fe\u200b\u4e0e\u200b\u6267\u884c\u200b\u56fe","text":""},{"location":"bigdata/flink/quickstart/#_30","title":"\u903b\u8f91\u200b\u6d41\u56fe","text":"<p>\u200b\u8fd9\u662f\u200b\u6839\u636e\u200b\u7528\u6237\u200b\u901a\u8fc7\u200b DataStream API \u200b\u7f16\u5199\u200b\u7684\u200b\u4ee3\u7801\u751f\u6210\u200b\u7684\u200b\u6700\u521d\u200b\u7684\u200b DAG \u200b\u56fe\u200b\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u62d3\u200b \u200b\u6251\u200b\u7ed3\u6784\u200b\u3002\u200b\u8fd9\u200b\u4e00\u6b65\u200b\u4e00\u822c\u200b\u5728\u200b\u5ba2\u6237\u7aef\u200b\u5b8c\u6210\u200b\u3002</p> <p>\u200b\u6e90\u200b\u7b97\u5b50\u200b Source(socketTextStream())\u2192\u200b\u6241\u5e73\u200b\u6620\u5c04\u200b\u7b97\u5b50\u200b Flat Map(flatMap()) \u2192\u200b\u5206\u7ec4\u200b\u805a\u5408\u200b\u7b97\u5b50\u200b Keyed Aggregation(keyBy/sum()) \u2192\u200b\u8f93\u51fa\u200b\u7b97\u5b50\u200b Sink(print())\u3002</p>"},{"location":"bigdata/flink/quickstart/#jobgraph","title":"\u4f5c\u4e1a\u200b\u56fe\u200b(JobGraph)","text":"<p>\u200b\u5c06\u200b\u591a\u4e2a\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u8282\u70b9\u200b\u94fe\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b \u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u4efb\u52a1\u200b\u8282\u70b9\u200b\uff0c\u200b\u5f62\u6210\u200b\u7b97\u5b50\u200b\u94fe\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u51cf\u5c11\u200b\u6570\u636e\u4ea4\u6362\u200b\u7684\u200b\u6d88\u8017\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#executiongraph","title":"\u6267\u884c\u200b\u56fe\u200b(ExecutionGraph)","text":"<p>JobMaster \u200b\u6536\u5230\u200b JobGraph \u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u6839\u636e\u200b\u5b83\u200b\u6765\u200b\u751f\u6210\u200b\u6267\u884c\u200b\u56fe\u200b(ExecutionGraph)\u3002ExecutionGraph \u200b\u662f\u200b JobGraph \u200b\u7684\u200b\u5e76\u884c\u200b\u5316\u200b\u7248\u672c\u200b\uff0c\u200b\u662f\u200b\u8c03\u5ea6\u200b\u5c42\u200b\u6700\u200b\u6838\u5fc3\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p>"},{"location":"bigdata/flink/quickstart/#physical-graph","title":"\u7269\u7406\u200b\u56fe\u200b(Physical Graph)","text":"<p>JobMaster \u200b\u751f\u6210\u200b\u6267\u884c\u200b\u56fe\u540e\u200b\uff0c \u200b\u4f1a\u200b\u5c06\u200b\u5b83\u200b\u5206\u200b\u53d1\u7ed9\u200b TaskManager;\u200b\u5404\u4e2a\u200b TaskManager \u200b\u4f1a\u200b\u6839\u636e\u200b\u6267\u884c\u200b\u56fe\u200b \u200b\u90e8\u7f72\u200b\u4efb\u52a1\u200b\uff0c\u200b\u6700\u7ec8\u200b\u7684\u200b\u7269\u7406\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e5f\u200b\u4f1a\u200b\u5f62\u6210\u200b\u4e00\u5f20\u200b\u201c\u200b\u56fe\u200b\u201d\uff0c\u200b\u4e00\u822c\u200b\u5c31\u200b\u53eb\u4f5c\u200b\u7269\u7406\u200b\u56fe\u200b(Physical Graph)\u3002</p>"},{"location":"bigdata/flink/quickstart/#taskstask-slots","title":"\u4efb\u52a1\u200b(Tasks)\u200b\u548c\u200b\u4efb\u52a1\u200b\u69fd\u200b(Task Slots)","text":"<pre><code>taskmanager.numberOfTaskSlots: 8\n</code></pre> <p>slot \u200b\u76ee\u524d\u200b\u4ec5\u4ec5\u200b\u7528\u6765\u200b\u9694\u79bb\u200b\u5185\u5b58\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u6d89\u53ca\u200b CPU \u200b\u7684\u200b\u9694\u79bb\u200b</p> <p>\u200b\u53ea\u8981\u200b\u5c5e\u4e8e\u200b\u540c\u4e00\u4e2a\u200b\u4f5c\u4e1a\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5bf9\u4e8e\u200b\u4e0d\u540c\u200b\u4efb\u52a1\u200b\u8282\u70b9\u200b\u7684\u200b\u5e76\u884c\u200b\u5b50\u200b\u4efb\u52a1\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u653e\u5230\u200b\u540c\u4e00\u4e2a\u200b slot \u200b\u4e0a\u200b\u6267\u884c\u200b\u3002</p>"},{"location":"bigdata/flink/state/","title":"state","text":"<p>\u200b\u6570\u636e\u200b\u8ba1\u7b97\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\u53ef\u200b\u8ba4\u4e3a\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b</p>"},{"location":"bigdata/flink/state/#_1","title":"\u72b6\u6001","text":""},{"location":"bigdata/flink/state/#_2","title":"\u7b97\u5b50\u200b\u5206\u7c7b","text":"<p>\u200b\u65e0\u200b\u72b6\u6001\u200b\u7b97\u5b50\u200b\uff1a \u200b\u4e0d\u200b\u4f9d\u8d56\u200b\u4e4b\u524d\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8ba1\u7b97\u200b</p> <p>\u200b\u6709\u200b\u72b6\u6001\u200b\u7b97\u5b50\u200b\uff1a\u200b\u4f9d\u8d56\u200b\u4e4b\u524d\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6bd4\u5982\u200bsum</p>"},{"location":"bigdata/flink/state/#_3","title":"\u72b6\u6001\u200b\u7ba1\u7406","text":"<p>\u200b\u6743\u9650\u200b\uff1a\u200b\u540c\u4e00\u4e2a\u200b\u5206\u533a\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u591a\u4e2a\u200bkey,\u200b\u5982\u4f55\u200b\u4fdd\u8bc1\u200b\u8be5\u200b\u72b6\u6001\u200b\u4e0d\u200b\u88ab\u200b\u975e\u200b\u9884\u671f\u200b\u7684\u200b\u4fee\u6539\u200b</p> <p>\u200b\u5bb9\u9519\u6027\u200b\uff1a\u200b\u6545\u969c\u200b\u6062\u590d\u200b\uff0c\u200b\u9700\u8981\u200b\u5907\u4efd\u200b</p> <p>\u200b\u6269\u5c55\u200b\uff1a\u200b\u5e76\u53d1\u200b\u4e0d\u8db3\u200b\u53ef\u4ee5\u200b\u6269\u5bb9\u200b</p>"},{"location":"bigdata/flink/state/#_4","title":"\u72b6\u6001\u200b\u5206\u7c7b","text":""},{"location":"bigdata/flink/state/#_5","title":"\u6258\u7ba1\u200b\u72b6\u6001\u200b\u548c\u200b\u539f\u59cb\u200b\u72b6\u6001","text":"<p>\u200b\u6258\u7ba1\u200b\u72b6\u6001\u200b\u5c31\u662f\u200b \u200b\u7531\u200b Flink \u200b\u7edf\u4e00\u200b\u7ba1\u7406\u200b\u7684\u200b\uff0c\u200b\u72b6\u6001\u200b\u7684\u200b\u5b58\u50a8\u200b\u8bbf\u95ee\u200b\u3001\u200b\u6545\u969c\u200b\u6062\u590d\u200b\u548c\u200b\u91cd\u7ec4\u200b\u7b49\u200b\u4e00\u7cfb\u5217\u200b\u95ee\u9898\u200b\u90fd\u200b\u7531\u200bFlink \u200b\u5b9e\u73b0\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u8981\u200b\u8c03\u200b\u63a5\u53e3\u200b\u5c31\u200b\u53ef\u4ee5\u200b</p> <p>\u200b\u539f\u59cb\u200b\u72b6\u6001\u200b\u5219\u200b\u662f\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u5c31\u662f\u200b\u5f00\u8f9f\u200b\u4e86\u200b\u4e00\u5757\u200b\u5185\u5b58\u200b\uff0c\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u72b6\u6001\u200b\u7684\u200b\u5e8f\u5217\u5316\u200b\u548c\u200b\u6545\u969c\u200b\u6062\u590d\u200b</p> <p>\u200b\u6258\u7ba1\u200b\u72b6\u6001\u200b\u5206\u4e3a\u200b\u4fe9\u200b\u7c7b\u200b</p> <p>\u200b\u7b97\u5b50\u200b\u72b6\u6001\u200b</p> <p>\u200b\u72b6\u6001\u200b\u4f5c\u7528\u200b\u8303\u56f4\u200b\uff1a\u200b\u5f53\u524d\u200b\u7b97\u5b50\u200b\u4efb\u52a1\u200b\u5b9e\u4f8b\u200b</p> <p>\u200b\u6309\u952e\u200b\u5206\u533a\u200b\u72b6\u6001\u200b</p> <p>\u200b\u4ec5\u200b\u5bf9\u200b\u5f53\u524d\u200bkey\u200b\u6709\u6548\u200b\uff0c \u200b\u9700\u8981\u200b\u518d\u200bkeyBy\u200b\u4e4b\u540e\u200b\u4f7f\u7528\u200b</p>"},{"location":"bigdata/flink/state/#_6","title":"\u6309\u952e\u200b\u5206\u533a\u200b\u72b6\u6001","text":"<p>\u200b\u4e0d\u540c\u200b\u7684\u200bkey\u200b\u5bf9\u5e94\u200b\u7684\u200bkeyedState\u200b\u4f1a\u200b\u7ec4\u6210\u200b\u952e\u7ec4\u200b\uff0c \u200b\u5f53\u200b\u5e76\u884c\u5ea6\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\u65f6\u200b\uff0c\u200b\u952e\u7ec4\u200b\u4e5f\u200b\u4f1a\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\uff0c\u200b\u952e\u7ec4\u200b\u7684\u200b\u5927\u5c0f\u200b\u4e3a\u200b\u5b9a\u4e49\u200b\u7684\u200b\u6700\u5927\u200b\u5e76\u884c\u5ea6\u200b</p> <pre><code>package com.matt.apitest.state;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.beans.SensorReading;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.*;\nimport org.apache.flink.api.common.state.*;\nimport org.apache.flink.api.common.time.Time;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.TimeCharacteristic;\nimport org.apache.flink.streaming.api.checkpoint.ListCheckpointed;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.timestamps.BoundedOutOfOrdernessTimestampExtractor;\nimport org.apache.flink.util.Collector;\nimport org.apache.flink.util.OutputTag;\n\nimport java.time.Duration;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class StateTest1 {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Event&gt; stream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n        stream.keyBy(d -&gt; d.user)\n                .flatMap(new MyFlatMap()).print();\n\n        env.execute(\"my\");\n    }\n\n\n    public static class MyFlatMap extends RichFlatMapFunction&lt;Event, String&gt; {\n        ValueState&lt;Event&gt; myVState = null;\n        ListState&lt;Event&gt; eventListState;\n        MapState&lt;Event, Long&gt; eventMapState;\n        ReducingState&lt;Event&gt; reducingState;\n        AggregatingState&lt;Event, String&gt; aggregatingState;\n\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            ValueStateDescriptor&lt;Event&gt; vDesc = new ValueStateDescriptor&lt;&gt;(\"v\", Event.class);\n            myVState = getRuntimeContext().getState(vDesc);\n            eventListState = getRuntimeContext().getListState(new ListStateDescriptor&lt;Event&gt;(\"list\", Event.class));\n            eventMapState = getRuntimeContext().getMapState(new MapStateDescriptor&lt;Event, Long&gt;(\"map\", Event.class,\n                    Long.class));\n            reducingState = getRuntimeContext().getReducingState(new ReducingStateDescriptor&lt;Event&gt;(\"r1\", new ReduceFunction&lt;Event&gt;() {\n                @Override\n                public Event reduce(Event t1, Event t2) throws Exception {\n                    return new Event(t1.user + t2.user, t1.url, t1.timestamp);\n                }\n            }, Event.class));\n            aggregatingState = getRuntimeContext().getAggregatingState(new AggregatingStateDescriptor&lt;Event, Long, String&gt;(\"agg\", new AggregateFunction&lt;Event, Long, String&gt;() {\n                @Override\n                public Long createAccumulator() {\n                    return 0L;\n                }\n\n                @Override\n                public Long add(Event event, Long acc) {\n                    return acc + 1;\n                }\n\n                @Override\n                public String getResult(Long acc) {\n                    return String.valueOf(acc);\n                }\n\n                @Override\n                public Long merge(Long aLong, Long acc1) {\n                    return null;\n                }\n            }, Long.class));\n\n            // \u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\n            StateTtlConfig ttlConfig = StateTtlConfig.newBuilder(Time.hours(1L))\n                    // \u200b\u66f4\u65b0\u200b\u7c7b\u578b\u200b \u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u66f4\u65b0\u200b\u5931\u6548\u200b\u65f6\u95f4\u200b \u200b\u8bfb\u53d6\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u66f4\u65b0\u200bttl\n                    .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\n                    // \u200b\u72b6\u6001\u200b\u53ef\u89c1\u200b\u6027\u200b \u200b\u9ed8\u8ba4\u200b\u6c38\u8fdc\u200b\u4e0d\u200b\u8fd4\u56de\u200b\u5931\u6548\u200b\u6570\u636e\u200b\n                    .setStateVisibility(StateTtlConfig.StateVisibility.ReturnExpiredIfNotCleanedUp)\n                    .build();\n\n            vDesc.enableTimeToLive(ttlConfig);\n        }\n\n        @Override\n        public void flatMap(Event e, Collector&lt;String&gt; collector) throws Exception {\n            myVState.update(e);\n            eventListState.add(e);\n            eventMapState.put(e, (eventMapState.get(e) == null ? 1 : eventMapState.get(e)) + 1);\n            reducingState.add(e);\n            aggregatingState.add(e);\n            System.out.println(eventMapState.values());\n            System.out.println(reducingState.get());\n            System.out.println(aggregatingState.get());\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/state/#_7","title":"\u652f\u6301\u200b\u7684\u200b\u72b6\u6001","text":""},{"location":"bigdata/flink/state/#valuestate","title":"\u503c\u200b\u72b6\u6001\u200b valueState","text":"<p>T value():\u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\u7684\u200b\u503c\u200b;</p> <p>update(Tvalue):\u200b\u5bf9\u200b\u72b6\u6001\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b</p>"},{"location":"bigdata/flink/state/#liststate","title":"\u5217\u8868\u200b\u72b6\u6001\u200b listState","text":"<p>ListState <ul> <li>Iterableget():\u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7684\u200b\u5217\u8868\u200b\u72b6\u6001\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u7c7b\u578b\u200bIterable; <li>update(Listvalues):\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200bvalues\uff0c\u200b\u76f4\u63a5\u200b\u5bf9\u200b\u72b6\u6001\u200b\u8fdb\u884c\u200b\u8986\u76d6\u200b; <li>add(Tvalue):\u200b\u5728\u200b\u72b6\u6001\u200b\u5217\u8868\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200bvalue;</li> <li>addAll(Listvalues):\u200b\u5411\u200b\u5217\u8868\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u591a\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u4ee5\u200b\u5217\u8868\u200bvalues\u200b\u5f62\u5f0f\u200b\u4f20\u5165\u200b\u3002"},{"location":"bigdata/flink/state/#mapstate","title":"\u6620\u5c04\u200b\u72b6\u6001\u200b mapState","text":"<ul> <li>UVget(UKkey):\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200bkey\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u67e5\u8be2\u200b\u5bf9\u5e94\u200b\u7684\u200bvalue\u200b\u503c\u200b;</li> <li>put(UKkey,UVvalue):\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u66f4\u65b0\u200bkey\u200b\u5bf9\u5e94\u200b\u7684\u200bvalue\u200b\u503c\u200b;</li> <li>putAll(Mapmap):\u200b\u5c06\u200b\u4f20\u5165\u200b\u7684\u200b\u6620\u5c04\u200bmap\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u5168\u90e8\u200b\u6dfb\u52a0\u200b\u5230\u200b\u6620\u5c04\u200b\u72b6\u6001\u200b\u4e2d\u200b; <li>remove(UKkey):\u200b\u5c06\u200b\u6307\u5b9a\u200bkey\u200b\u5bf9\u5e94\u200b\u7684\u200b\u952e\u503c\u200b\u5bf9\u200b\u5220\u9664\u200b;</li> <li>boolean contains(UK key):\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b key\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b boolean \u200b\u503c\u200b</li> <li>Iterable&gt; entries():\u200b\u83b7\u53d6\u200b\u6620\u5c04\u200b\u72b6\u6001\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u952e\u503c\u200b\u5bf9\u200b; <li>Iterablekeys():\u200b\u83b7\u53d6\u200b\u6620\u5c04\u200b\u72b6\u6001\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u952e\u200b(key)\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u8fed\u4ee3\u200bIterable\u200b\u7c7b\u578b\u200b; <li>Iterable values():\u200b\u83b7\u53d6\u200b\u6620\u5c04\u200b\u72b6\u6001\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u503c\u200b(value)\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u8fed\u4ee3\u200b Iterable\u200b\u7c7b\u578b\u200b; <li>booleanisEmpty():\u200b\u5224\u65ad\u200b\u6620\u5c04\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200bboolean\u200b\u503c\u200b\u3002</li>"},{"location":"bigdata/flink/state/#_8","title":"\u89c4\u7ea6\u200b\u72b6\u6001","text":"<p>\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200bReduceFunction</p>"},{"location":"bigdata/flink/state/#_9","title":"\u805a\u5408\u200b\u72b6\u6001","text":""},{"location":"bigdata/flink/state/#_10","title":"\u72b6\u6001\u53c2\u6570\u200b\u914d\u7f6e","text":"<pre><code>// \u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\nStateTtlConfig ttlConfig = StateTtlConfig.newBuilder(Time.hours(1L))\n        // \u200b\u66f4\u65b0\u200b\u7c7b\u578b\u200b \u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u66f4\u65b0\u200b\u5931\u6548\u200b\u65f6\u95f4\u200b \u200b\u8bfb\u53d6\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u66f4\u65b0\u200bttl\n        .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\n        // \u200b\u72b6\u6001\u200b\u53ef\u89c1\u200b\u6027\u200b \u200b\u9ed8\u8ba4\u200b\u6c38\u8fdc\u200b\u4e0d\u200b\u8fd4\u56de\u200b\u5931\u6548\u200b\u6570\u636e\u200b\n        .setStateVisibility(StateTtlConfig.StateVisibility.ReturnExpiredIfNotCleanedUp)\n        .build();\n\nvDesc.enableTimeToLive(ttlConfig);\n</code></pre> <p>.newBuilder()</p> <p>\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b Builder \u200b\u4e4b\u540e\u200b\u518d\u200b\u8c03\u7528\u200b.build()\u200b\u65b9\u6cd5\u200b\u5c31\u200b\u53ef\u4ee5\u200b \u200b\u5f97\u5230\u200b StateTtlConfig </p> <p>.setUpdateType()</p> <p>\u200b\u66f4\u65b0\u200bttl\u200b\u7c7b\u578b\u200b,</p> <p>OnCreateAndWrite \u200b\u8868\u793a\u200b\u53ea\u6709\u200b\u521b\u5efa\u200b\u72b6\u6001\u200b\u548c\u200b\u66f4\u6539\u200b\u72b6\u6001\u200b(\u200b\u5199\u200b\u64cd\u4f5c\u200b)\u200b\u65f6\u200b\u66f4\u65b0\u200b\u5931\u6548\u200b\u65f6\u95f4\u200b, \u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b</p> <p>OnReadAndWrite \u200b\u5219\u200b\u8868\u200b \u200b\u793a\u200b\u65e0\u8bba\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u90fd\u200b\u4f1a\u200b\u66f4\u65b0\u200b\u5931\u6548\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u53ea\u8981\u200b\u5bf9\u200b\u72b6\u6001\u200b\u8fdb\u884c\u200b\u4e86\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5c31\u200b\u8868\u660e\u200b\u5b83\u200b\u662f\u200b\u6d3b\u8dc3\u200b\u7684\u200b\uff0c\u200b\u4ece\u800c\u200b \u200b\u5ef6\u957f\u200b\u751f\u5b58\u200b\u65f6\u95f4\u200b</p> <p>setStateVisibility</p> <p>NeverReturnExpired \u200b\u662f\u200b\u9ed8\u8ba4\u200b\u884c\u4e3a\u200b\uff0c\u200b\u8868\u793a\u200b\u4ece\u4e0d\u200b\u8fd4\u56de\u200b\u8fc7\u671f\u200b\u503c\u200b</p> <p>ReturnExpireDefNotCleanedUp\uff0c\u200b\u5c31\u662f\u200b\u5982\u679c\u200b\u8fc7\u671f\u200b\u72b6\u6001\u200b\u8fd8\u200b\u5b58\u5728\u200b\uff0c\u200b\u5c31\u200b\u8fd4\u56de\u200b\u5b83\u200b\u7684\u200b\u503c\u200b</p>"},{"location":"bigdata/flink/state/#_11","title":"\u7b97\u5b50\u200b\u72b6\u6001","text":"<p>\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u5206\u533a\u200b\u7684\u200b\u540c\u4e00\u4e2a\u200b\u7b97\u5b50\u200b\u72b6\u6001\u200b\u662f\u200b\u5171\u4eab\u200b\u7684\u200b</p>"},{"location":"bigdata/flink/state/#_12","title":"\u652f\u6301\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":""},{"location":"bigdata/flink/state/#liststate_1","title":"\u5217\u8868\u200b\u72b6\u6001\u200bListState","text":"<p>\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b</p>"},{"location":"bigdata/flink/state/#unionliststate","title":"\u8054\u5408\u200b\u5217\u8868\u200b\u72b6\u6001\u200b UnionListState","text":"<p>\u200b\u4e5f\u200b\u662f\u200b\u5b58\u50a8\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\uff0c\u200b\u548c\u200b\u5217\u8868\u200b\u72b6\u6001\u200b\u533a\u522b\u200b\u5728\u4e8e\u200b \u200b\u5f53\u200b\u5e76\u884c\u5ea6\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\u65f6\u200b\uff0c\u200b\u83b7\u53d6\u200b\u72b6\u6001\u200b\u65b9\u5f0f\u200b\u4e0d\u200b\u4e00\u81f4\u200b</p> <p>\u200b\u5217\u8868\u200b\u72b6\u6001\u200b\u662f\u200b\u8f6e\u8be2\u200b</p> <p>\u200b\u8054\u5408\u200b\u5217\u8868\u200b\u72b6\u6001\u200b \u200b\u662f\u200b\u5e7f\u64ad\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u7136\u540e\u200b\u9009\u62e9\u200b\u81ea\u5df1\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u548c\u200b\u4e22\u5f03\u200b\u7684\u200b\u72b6\u6001\u200b</p>"},{"location":"bigdata/flink/state/#_13","title":"\u5e7f\u64ad\u200b\u72b6\u6001","text":"<p>\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u6240\u6709\u200b\u5e76\u884c\u200b\u5b50\u200b\u4efb\u52a1\u200b\u4fdd\u6301\u200b\u540c\u200b\u4e00\u4efd\u200b\u5168\u5c40\u200b\u72b6\u6001\u200b \uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5e7f\u64ad\u200b\u72b6\u6001\u200b</p>"},{"location":"bigdata/flink/state/#_14","title":"\u4f7f\u7528","text":"<p>\u200b\u5b9e\u73b0\u200bCheckpointedFunction</p> <p>\u200b\u6bcf\u6b21\u200b\u5e94\u7528\u200b\u4fdd\u5b58\u200b\u68c0\u67e5\u70b9\u200b\u505a\u200b\u5feb\u7167\u200b\u65f6\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u8c03\u7528\u200b.snapshotState()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c06\u200b\u72b6\u6001\u200b\u8fdb\u884c\u200b\u5916\u90e8\u200b\u6301\u4e45\u200b\u5316\u200b\u3002</p> <p>\u200b\u7b97\u5b50\u200b\u4efb\u52a1\u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u8c03\u7528\u200b. initializeState()\u200b\u65b9\u6cd5\u200b(1.\u200b\u5e94\u7528\u200b\u7b2c\u4e00\u6b21\u200b\u542f\u52a8\u200b2.\u200b\u5e94\u7528\u200b\u91cd\u542f\u200b\u65f6\u200b\uff0c\u200b\u4ece\u200b\u68c0\u67e5\u70b9\u200b(checkpoint)\u200b\u6216\u8005\u200b\u4fdd\u5b58\u200b\u70b9\u200b(savepoint)\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u4e4b\u524d\u200b\u72b6\u6001\u200b\u7684\u200b\u5feb\u7167\u200b\uff0c\u200b\u5e76\u200b\u8d4b\u200b\u7ed9\u200b\u672c\u5730\u200b\u72b6\u6001\u200b)</p> <pre><code>package com.matt.apitest.state;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.state.ListState;\nimport org.apache.flink.api.common.state.ListStateDescriptor;\nimport org.apache.flink.runtime.state.FunctionInitializationContext;\nimport org.apache.flink.runtime.state.FunctionSnapshotContext;\nimport org.apache.flink.streaming.api.checkpoint.CheckpointedFunction;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.sink.SinkFunction;\n\nimport java.time.Duration;\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * @author matt\n * @create 2023-03-12 16:19\n * @desc \u200b\u7b97\u5b50\u200b\u72b6\u6001\u200b\n */\npublic class BufferingSinkCase {\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        SingleOutputStreamOperator&lt;Event&gt; stream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        stream.addSink(new BufferingSinkRes(10));\n\n        env.execute();\n    }\n\n    public static class BufferingSinkRes implements SinkFunction&lt;Event&gt;, CheckpointedFunction {\n\n        public int threshold;\n\n        public BufferingSinkRes(int threshold) {\n            this.threshold = threshold;\n            this.bufferedEvents = new ArrayList&lt;&gt;();\n        }\n\n        private List&lt;Event&gt; bufferedEvents;\n        private ListState&lt;Event&gt; checkPointedState;\n\n        @Override\n        public void snapshotState(FunctionSnapshotContext functionSnapshotContext) throws Exception {\n            checkPointedState.clear();\n            for (Event e: bufferedEvents) {\n                checkPointedState.add(e);\n            }\n        }\n\n        @Override\n        public void initializeState(FunctionInitializationContext ctx) throws Exception {\n            ListStateDescriptor&lt;Event&gt; lDesc = new ListStateDescriptor&lt;Event&gt;(\"list\", Event.class);\n            checkPointedState = ctx.getOperatorStateStore().getListState(lDesc);\n\n            // \u200b\u6545\u969c\u200b\u6062\u590d\u200b\n            if (ctx.isRestored()) {\n                for (Event e : checkPointedState.get()) {\n                    bufferedEvents.add(e);\n                }\n            }\n        }\n\n        @Override\n        public void invoke(Event event, Context context) throws Exception {\n            bufferedEvents.add(event);\n\n            if (bufferedEvents.size() &gt;= threshold) {\n                for (Event e : bufferedEvents) {\n                    System.out.println(e);\n                }\n                System.out.println(\"----\");\n                bufferedEvents.clear();\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/state/#_15","title":"\u5e7f\u64ad\u200b\u6d41","text":"<pre><code>package com.matt.apitest.state;\n\nimport org.apache.flink.api.common.state.*;\nimport org.apache.flink.api.common.typeinfo.Types;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.configuration.Configuration;\nimport org.apache.flink.streaming.api.datastream.BroadcastStream;\nimport org.apache.flink.streaming.api.datastream.DataStreamSource;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.co.KeyedBroadcastProcessFunction;\nimport org.apache.flink.util.Collector;\n\n/**\n * @author matt\n * @create 2023-03-13 23:15\n * @desc \u200b\u5e7f\u64ad\u200b\u6d41\u200b\u6848\u4f8b\u200b\n */\npublic class BehaviorPatternDetectCase {\n\n    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        env.enableCheckpointing(1000L);\n\n        DataStreamSource&lt;Action&gt; actionStream = env.fromElements(\n                new Action(\"1\", \"t1\"),\n                new Action(\"2\", \"t1\"),\n                new Action(\"2\", \"t1\"),\n                new Action(\"1\", \"t2\"),\n                new Action(\"2\", \"t3\"),\n                new Action(\"1\", \"t1\"),\n                new Action(\"1\", \"t2\")\n        );\n\n        DataStreamSource&lt;Pattern&gt; patternStream = env.fromElements(\n                new Pattern(\"t1\", \"t2\")\n        );\n\n        MapStateDescriptor&lt;Void, Pattern&gt; patternDesc = new MapStateDescriptor&lt;&gt;(\"pattern\", Types.VOID, Types.POJO(Pattern.class));\n\n        BroadcastStream&lt;Pattern&gt; broadcastStream = patternStream.broadcast(patternDesc);\n        SingleOutputStreamOperator&lt;Tuple2&lt;String, Pattern&gt;&gt; process = actionStream.keyBy(d -&gt; d.id)\n                .connect(broadcastStream)\n                .process(new PatternDetector());\n        process.print();\n        env.execute();\n    }\n\n    // \u200b\u7528\u6237\u200b\u884c\u4e3a\u200b\n    public static class Action {\n        public String id;\n        public String action;\n\n        public Action() {\n        }\n\n        public Action(String id, String action) {\n            this.id = id;\n            this.action = action;\n        }\n\n        @Override\n        public String toString() {\n            return \"Action{\" +\n                    \"id='\" + id + '\\'' +\n                    \", action='\" + action + '\\'' +\n                    '}';\n        }\n    }\n\n    public static class Pattern {\n        public String ac1;\n        public String ac2;\n\n        public Pattern() {\n        }\n\n        public Pattern(String ac1, String ac2) {\n            this.ac1 = ac1;\n            this.ac2 = ac2;\n        }\n\n        @Override\n        public String toString() {\n            return \"Pattern{\" +\n                    \"ac1='\" + ac1 + '\\'' +\n                    \", ac2='\" + ac2 + '\\'' +\n                    '}';\n        }\n    }\n\n\n    public static class PatternDetector extends KeyedBroadcastProcessFunction&lt;String, Action, Pattern, Tuple2&lt;String, Pattern&gt;&gt; {\n\n        // \u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u884c\u4e3a\u200b\n        ValueState&lt;String&gt; preActionState;\n\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            preActionState = getRuntimeContext().getState(new ValueStateDescriptor&lt;String&gt;(\"pre\", String.class));\n        }\n\n        @Override\n        public void processElement(Action v, KeyedBroadcastProcessFunction&lt;String, Action, Pattern, Tuple2&lt;String, Pattern&gt;&gt;.ReadOnlyContext ctx, Collector&lt;Tuple2&lt;String, Pattern&gt;&gt; collector) throws Exception {\n            ReadOnlyBroadcastState&lt;Void, Pattern&gt; p1 = ctx.getBroadcastState(new MapStateDescriptor&lt;&gt;(\"pattern\", Types.VOID, Types.POJO(Pattern.class)));\n            Pattern pattern = p1.get(null);\n\n            String preAct = preActionState.value();\n            if (pattern != null &amp;&amp; preAct != null) {\n                if (pattern.ac1.equals(preAct) &amp;&amp; pattern.ac2.equals(v.action)) {\n                    collector.collect(new Tuple2&lt;&gt;(ctx.getCurrentKey(), pattern));\n                }\n            }\n            // \u200b\u66f4\u65b0\u200b\u7ae0\u53f0\u200b\n            preActionState.update(v.action);\n        }\n\n        @Override\n        public void processBroadcastElement(Pattern pattern, KeyedBroadcastProcessFunction&lt;String, Action, Pattern, Tuple2&lt;String, Pattern&gt;&gt;.Context ctx, Collector&lt;Tuple2&lt;String, Pattern&gt;&gt; collector) throws Exception {\n            BroadcastState&lt;Void, Pattern&gt; p1 = ctx.getBroadcastState(new MapStateDescriptor&lt;&gt;(\"pattern\", Types.VOID, Types.POJO(Pattern.class)));\n            p1.put(null, pattern);\n        }\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/state/#_16","title":"\u72b6\u6001\u200b\u6301\u4e45\u200b\u5316\u200b\u548c\u200b\u72b6\u6001\u200b\u540e\u200b\u7aef","text":""},{"location":"bigdata/flink/state/#_17","title":"\u72b6\u6001\u200b\u6301\u4e45\u200b\u5316","text":"<p>\u200b\u68c0\u67e5\u70b9\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u7981\u7528\u200b\u7684\u200b\uff0c \u200b\u5b9a\u65f6\u200b\u89e6\u53d1\u200b \u200b\u4fdd\u5b58\u200b\u6240\u6709\u200b\u4efb\u52a1\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c \u200b\u53d1\u751f\u200b\u6545\u969c\u200b\u65f6\u200b\u4ece\u200b\u4e0a\u6b21\u200b\u4fdd\u5b58\u200b\u7684\u200b\u72b6\u6001\u200b\u6062\u590d\u200b\u5e94\u7528\u200b\u72b6\u6001\u200b</p> <pre><code>StreamExecutionEnvironment env = StreamExecutionEnvironment.getEnvironment();\nenv.enableCheckpointing(1000); // ms\n</code></pre> <p>\u200b\u4fdd\u5b58\u200b\u70b9\u200b\uff1a\u200b\u4fdd\u5b58\u200b\u70b9\u200b\u5728\u200b\u539f\u7406\u200b\u548c\u200b\u5f62\u5f0f\u200b\u4e0a\u200b \u200b\u8ddf\u200b\u68c0\u67e5\u70b9\u200b\u5b8c\u5168\u200b\u4e00\u6837\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u72b6\u6001\u200b\u6301\u4e45\u200b\u5316\u200b\u4fdd\u5b58\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5feb\u7167\u200b;\u200b\u533a\u522b\u200b\u5728\u4e8e\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u70b9\u200b\u662f\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u955c\u50cf\u200b\u4fdd\u5b58\u200b</p>"},{"location":"bigdata/flink/state/#_18","title":"\u72b6\u6001\u200b\u540e\u200b\u7aef","text":""},{"location":"bigdata/flink/state/#_19","title":"\u6982\u8ff0","text":"<p>\u200b\u4e00\u662f\u200b\u672c\u5730\u200b\u7684\u200b\u72b6\u6001\u200b\u7ba1\u7406\u200b\uff0c\u200b\u4e8c\u662f\u200b\u5c06\u200b\u68c0\u67e5\u70b9\u200b(checkpoint)\u200b\u5199\u5165\u200b\u8fdc\u7a0b\u200b\u7684\u200b\u6301\u4e45\u200b\u5316\u200b\u5b58\u50a8\u200b\u3002</p>"},{"location":"bigdata/flink/state/#_20","title":"\u72b6\u6001\u200b\u540e\u200b\u7aef\u200b\u5206\u7c7b","text":"<p>\u200b\u4e00\u79cd\u200b\u662f\u200b\u201c\u200b\u54c8\u5e0c\u200b\u8868\u200b\u72b6\u6001\u200b\u540e\u200b\u7aef\u200b\u201d(HashMapStateBackend)\uff0c\u200b\u53e6\u200b \u200b\u4e00\u79cd\u200b\u662f\u200b\u201c\u200b\u5185\u5d4c\u200b RocksDB \u200b\u72b6\u6001\u200b\u540e\u200b\u7aef\u200b\u201d(EmbeddedRocksDBStateBackend)</p>"},{"location":"bigdata/flink/state/#hashmapstatebackend","title":"HashMapStateBackend","text":"<p>\u200b\u5185\u5b58\u200b\u4fdd\u5b58\u200b</p>"},{"location":"bigdata/flink/state/#embeddedrocksdbstatebackend","title":"EmbeddedRocksDBStateBackend","text":"<p>\u200b\u4f1a\u200b\u5c06\u200b\u5904\u7406\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u5168\u90e8\u200b\u653e\u5165\u200b RocksDB \u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\uff0cRocksDB \u200b\u9ed8\u8ba4\u200b\u5b58\u50a8\u200b\u5728\u200b TaskManager \u200b\u7684\u200b\u672c\u5730\u200b\u6570\u636e\u200b\u76ee\u5f55\u200b\u91cc\u200b\u3002</p>"},{"location":"bigdata/flink/state/#_21","title":"\u914d\u7f6e","text":"<p>\u200b\u65b9\u5f0f\u200b\u4e00\u200b</p> <p>flink-conf.yaml  \u200b\u914d\u7f6e\u200b </p> <p>hashmap -&gt; HashMapStateBackend;</p> <p>EmbeddedRocksDBStateBackend -&gt; rocksdb</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u81ea\u5df1\u200b\u5b9e\u73b0\u200b StateBackendFactory\uff0c\u200b\u914d\u7f6e\u200b\u5168\u7c7b\u200b\u540d\u200b\u5373\u53ef\u200b</p> <pre><code># \u200b\u9ed8\u8ba4\u200b\u72b6\u6001\u200b\u540e\u200b\u7aef\u200b\nstate.backend: hashmap\n# \u200b\u5b58\u653e\u200b\u68c0\u67e5\u70b9\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\nstate.checkpoints.dir: hdfs://namenode:40010/flink/checkpoints\n</code></pre> <p>\u200b\u65b9\u5f0f\u200b\u4e8c\u200b</p> <pre><code>StreamExecutionEnvironment                        env                        = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.setStateBackend(new HashMapStateBackend());\n</code></pre> <pre><code>StreamExecutionEnvironment                        env                        = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.setStateBackend(new EmbeddedRocksDBStateBackend());\n</code></pre> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u5728\u200b IDE \u200b\u4e2d\u200b\u4f7f\u7528\u200b EmbeddedRocksDBStateBackend\uff0c\u200b\u9700\u8981\u200b\u4e3a\u200b Flink \u200b\u9879\u76ee\u200b\u6dfb\u52a0\u200b \u200b\u4f9d\u8d56\u200b(flink\u200b\u96c6\u7fa4\u200b\u5df2\u7ecf\u200b\u6709\u200b\u8be5\u200blib,\u200b\u6240\u4ee5\u200b\u96c6\u7fa4\u200b\u8fd0\u884c\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u8be5\u200b\u4f9d\u8d56\u200b)</p> <pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-statebackend-rocksdb_${scala.binary.version}&lt;/artifactId&gt;\n   &lt;version&gt;1.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"bigdata/flink/table/","title":"table","text":""},{"location":"bigdata/flink/table/#_1","title":"\u6982\u8ff0","text":"<p>ProcessFunction -&gt; DataStream -&gt; Table -&gt; SQL</p> <p>ProcessFunction:  \u200b\u4e8b\u4ef6\u200b\u7684\u200b\u65f6\u95f4\u200b\u4fe1\u606f\u200b\u3001\u200b\u6ce8\u518c\u200b\u5b9a\u65f6\u5668\u200b\u3001\u200b\u81ea\u5b9a\u4e49\u200b\u72b6\u6001\u200b\uff0c\u200b\u8fdb\u884c\u200b\u6709\u200b\u72b6\u6001\u200b\u7684\u200b\u6d41\u200b\u5904\u7406\u200b</p> <p>\u200b\u4e0d\u8fc7\u200b\u5728\u200b\u4f01\u4e1a\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u4e2d\u200b\uff0c\u200b\u5f80\u5f80\u200b\u4f1a\u200b\u9762\u5bf9\u200b\u5927\u91cf\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u5904\u7406\u200b\u903b\u8f91\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e00\u822c\u200b\u4f1a\u200b\u5c06\u200b\u5e95\u5c42\u200b API \u200b\u5305\u88c5\u200b \u200b\u6210\u200b\u66f4\u52a0\u200b\u5177\u4f53\u200b\u7684\u200b\u5e94\u7528\u200b\u7ea7\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5982\u200b\u76f4\u63a5\u200b\u662f\u200b\u4f7f\u7528\u200bSQL</p>"},{"location":"bigdata/flink/table/#quickstart","title":"quickstart","text":""},{"location":"bigdata/flink/table/#_2","title":"\u5f15\u5165\u200b\u4f9d\u8d56","text":"<pre><code>        &lt;!--flinkTableAPI\u200b\u4f7f\u7528\u200b, tableAPI \u200b\u5230\u200bDataStream\u200b\u8fde\u63a5\u200b\u652f\u6301\u200b--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-table-api-java-bridge_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\u200b\u5982\u9700\u200b\u672c\u5730\u200bide\u200b\u8fd0\u884c\u200b\uff0c\u200b\u8fd8\u987b\u200b\u5f15\u5165\u200b\u4ee5\u4e0b\u200b\u4f9d\u8d56\u200b--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-table-planner-blink_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n            &lt;artifactId&gt;flink-streaming-scala_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u4e3b\u8981\u200b\u6dfb\u52a0\u200b\u7684\u200b\u4f9d\u8d56\u200b\u662f\u200b\u4e00\u4e2a\u200b\u201c\u200b\u8ba1\u5212\u200b\u5668\u200b\u201d(planner)\uff0c\u200b\u5b83\u200b\u662f\u200b Table API \u200b\u7684\u200b\u6838\u5fc3\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u8d1f\u8d23\u200b\u63d0\u4f9b\u200b\u8fd0\u884c\u200b\u65f6\u200b\u73af\u5883\u200b\uff0c\u200b\u5e76\u200b\u751f\u6210\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u6267\u884c\u200b\u8ba1\u5212\u200b\u3002\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u7528\u5230\u200b\u7684\u200b\u662f\u200b\u65b0\u7248\u200b\u7684\u200bblink planner\u3002\u200b\u7531\u4e8e\u200bFlink\u200b\u5b89\u88c5\u5305\u200b\u7684\u200b lib \u200b\u76ee\u5f55\u200b\u4e0b\u4f1a\u200b\u81ea\u5e26\u200b planner\uff0c\u200b\u6240\u4ee5\u200b\u5728\u200b\u751f\u4ea7\u200b\u96c6\u7fa4\u200b\u73af\u5883\u200b\u4e2d\u200b\u63d0\u4ea4\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u4e0d\u200b\u9700\u8981\u200b\u6253\u5305\u200b\u8fd9\u4e2a\u200b\u4f9d\u8d56\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u5b9e\u73b0\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u6570\u636e\u683c\u5f0f\u200b\u6765\u200b\u505a\u200b\u5e8f\u5217\u5316\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5f15\u5165\u200b\u4e0b\u9762\u200b\u7684\u200b\u4f9d\u8d56\u200b</p> <pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n   &lt;artifactId&gt;flink-table-common&lt;/artifactId&gt;\n   &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"bigdata/flink/table/#code","title":"code","text":"<pre><code>package com.matt.apitest.table;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.types.Row;\n\nimport java.time.Duration;\n\nimport static org.apache.flink.table.api.Expressions.$;\n\n/**\n * @author matt\n * @create 2023-03-24 00:10\n * @desc xxx\n */\npublic class SimpleTableCase {\n\n    public static void main(String[] args) throws Exception {\n        // 1.create env\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        // 2.build sourceStream\n        SingleOutputStreamOperator&lt;Event&gt; eventStream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        // 3.\u200b\u521b\u5efa\u200b\u8868\u200b\u6267\u884c\u200b\u73af\u5883\u200b\n        StreamTableEnvironment streamTableEnv = StreamTableEnvironment.create(env);\n\n        // 4. createTable\n        Table eTable = streamTableEnv.fromDataStream(eventStream);\n        Table resT = streamTableEnv.sqlQuery(\"select user, url, `timestamp` from \" + eTable);\n\n        Table resT2 = resT.select($(\"user\"), $(\"url\"))\n                .where($(\"user\").isEqual(\"matt\"));\n\n        // 5.table out\n        DataStream&lt;Row&gt; rowDataStream = streamTableEnv.toDataStream(resT);\n        DataStream&lt;Row&gt; res2 = streamTableEnv.toDataStream(resT2);\n        rowDataStream.print(\"res1\");\n        res2.print(\"res2\");\n        env.execute();\n\n        // \u200b\u66f4\u65b0\u200b\u6d41\u200b \u200b\u4f7f\u7528\u200b\n        //streamTableEnv.toChangelogStream(\"\");\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/table/#commonapi","title":"commonAPI","text":""},{"location":"bigdata/flink/table/#_3","title":"\u7a0b\u5e8f\u200b\u67b6\u6784","text":"<p>DataStream: \u200b\u8bfb\u53d6\u6570\u636e\u200b\u6e90\u200bSource -&gt; \u200b\u8f6c\u6362\u200bTransform -&gt; \u200b\u8f93\u51fa\u200b\u6570\u636e\u200bSink</p> <p>Table: \u200b\u521b\u5efa\u200b\u8868\u200b\u73af\u5883\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u8f93\u5165\u8f93\u51fa\u200b\u8868\u200b -&gt; \u200b\u6267\u884c\u200bSQL\u200b\u5bf9\u8868\u200b\u8fdb\u884c\u200b\u67e5\u8be2\u200b\u8f6c\u6362\u200b -&gt; \u200b\u5199\u5165\u200b\u5230\u200b\u8f93\u51fa\u8868\u200b</p>"},{"location":"bigdata/flink/table/#_4","title":"\u521b\u5efa\u200b\u8868\u200b\u73af\u5883","text":"<p>\u200b\u8868\u200b\u73af\u5883\u200b\uff1a\u200b\u8fd0\u884c\u200b\u7684\u200b\u73af\u5883\u200b</p> <p>\u200b\u529f\u80fd\u200b\uff1a</p> <ul> <li>\u200b\u6ce8\u518c\u200b Catalog \u200b\u548c\u8868\u200b;</li> <li>\u200b\u6267\u884c\u200b SQL \u200b\u67e5\u8be2\u200b;</li> <li>\u200b\u6ce8\u518c\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b(UDF);</li> <li>DataStream \u200b\u548c\u8868\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8f6c\u6362\u200b\u3002</li> </ul> <p>Catalog: \u200b\u4e3b\u8981\u200b\u7528\u6765\u200b\u7ba1\u7406\u200b\u6240\u6709\u200b\u6570\u636e\u5e93\u200b(database)\u200b\u548c\u8868\u200b(table)\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b(metadata)\u3002\u200b\u9ed8\u8ba4\u200b\u7684\u200b Catalog \u200b\u5c31\u200b\u53eb\u4f5c\u200b default_catalog\u3002</p> <p>code</p> <p>\u200b\u5f53\u524d\u200b\u8868\u200b\u73af\u5883\u200b\u7684\u200b\u6267\u884c\u200b\u6a21\u5f0f\u200b\u548c\u200b\u8ba1\u5212\u200b\u5668\u200b(planner)\u3002\u200b\u6267\u884c\u200b\u6a21\u5f0f\u200b\u6709\u200b\u6279\u5904\u7406\u200b\u548c\u200b\u6d41\u200b\u5904\u7406\u200b\u4e24\u79cd\u200b\u9009\u62e9\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u6d41\u200b\u5904\u7406\u200b\u6a21\u5f0f\u200b;\u200b\u8ba1\u5212\u200b\u5668\u200b\u9ed8\u8ba4\u200b\u4f7f\u200b \u200b\u7528\u200b blink planner\u3002</p> <pre><code>                // \u200b\u5e38\u7528\u200b\n        //StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        //env.setParallelism(1);\n        //StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n        // 1 \u200b\u5b9a\u4e49\u200b\u73af\u5883\u200b\u914d\u7f6e\u200b \u200b\u521b\u5efa\u200b\u6267\u884c\u200b\u73af\u5883\u200b\n        EnvironmentSettings settings = EnvironmentSettings.newInstance()\n                .inStreamingMode()\n                .useBlinkPlanner()\n                .build();\n        TableEnvironment tableEnv = TableEnvironment.create(settings);\n\n        /*// \u200b\u8001\u200b\u7248\u672c\u200b \u200b\u6d41\u200b\u5904\u7406\u200b\n        EnvironmentSettings settings1 = EnvironmentSettings.newInstance()\n                .inStreamingMode()\n                .useOldPlanner()\n                .build();\n        TableEnvironment tableEnv1 = TableEnvironment.create(settings1);\n\n        // \u200b\u8001\u200b\u7248\u672c\u200b \u200b\u6279\u5904\u7406\u200b\n        ExecutionEnvironment batchEnv = ExecutionEnvironment.getExecutionEnvironment();\n        BatchTableEnvironment batchTableEnvironment = BatchTableEnvironment.create(batchEnv);\n                */\n</code></pre>"},{"location":"bigdata/flink/table/#_5","title":"\u521b\u5efa\u200b\u8868","text":""},{"location":"bigdata/flink/table/#_6","title":"\u6982\u8ff0","text":"<p>\u200b\u8868\u5728\u200b\u73af\u5883\u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b ID\uff0c\u200b\u7531\u200b\u4e09\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b:\u200b\u76ee\u5f55\u200b(catalog)\u200b\u540d\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b(database)\u200b\u540d\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u8868\u540d\u200b\u3002\u200b\u5728\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u76ee\u5f55\u200b\u540d\u4e3a\u200b default_catalog\uff0c\u200b\u6570\u636e\u5e93\u200b\u540d\u4e3a\u200bdefault_database\u3002\u200b\u6240\u4ee5\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u76f4\u63a5\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u53eb\u4f5c\u200b MyTable \u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b ID \u200b\u5c31\u662f\u200b: default_catalog.default_database.MyTable</p> <p>\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6709\u200b\u4fe9\u200b\u79cd\u200b \u200b\u8fde\u63a5\u5668\u200bconnector \u200b\u548c\u200b\u865a\u62df\u200b\u8868\u200bvirtual tables</p> <p>\u200b\u8bbe\u7f6e\u200bcataLog&amp;database</p> <pre><code>tEnv.useCatalog(\"custom_catalog\");\ntEnv.useDatabase(\"custom_database\");\n</code></pre>"},{"location":"bigdata/flink/table/#_7","title":"\u8fde\u63a5\u5668","text":"<p>\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200bddl \u200b\u8bed\u53e5\u200b \uff0c\u200b\u7136\u540e\u200b\u6267\u884c\u200b</p> <pre><code>                // \u200b\u521b\u5efa\u200b\u8868\u200b\n        String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"v STRING\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n\n        String createOutDDL = \"CREATE TABLE outTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT \" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = 'out',\" +\n                \"'format' = 'csv')\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createOutDDL);\n</code></pre>"},{"location":"bigdata/flink/table/#_8","title":"\u865a\u62df\u200b\u8868","text":"<p>\u200b\u67e5\u8be2\u200b\u540e\u200b\u5f97\u5230\u200bTable -&gt; \u200b\u6ce8\u518c\u200b\u865a\u62df\u200b\u8868\u200b</p> <pre><code>                Table clickTable = tableEnv.from(\"clickTable\");\n        // \u200b\u8fd9\u91cc\u200b\u4e0d\u7528\u200b\u5199\u200b\u53cd\u200b\u5f15\u53f7\u200b\n        Table mattTable = clickTable.where($(\"user\").isEqual(\"matt\"));\n\n        tableEnv.createTemporaryView(\"mattTable\",mattTable);\n</code></pre>"},{"location":"bigdata/flink/table/#_9","title":"\u8868\u200b\u7684\u200b\u67e5\u8be2","text":"<p>\u200b\u652f\u6301\u200bSQL\u200b\u67e5\u8be2\u200b\u548c\u200bTableAPI</p>"},{"location":"bigdata/flink/table/#sql","title":"SQL","text":"<pre><code>String aggResSQL = \"SELECT user, count(ts) from clickTable group by user\";\nString aggResDDL = \"CREATE TABLE printOutTable (\" +\n                \"`user` STRING, \" +\n                \"cnt BIGINT \" +\n                \") WITH (\" +\n                \"'connector' = 'print')\";\nTable aggResTable = tableEnv.sqlQuery(aggResSQL);\n</code></pre> <ul> <li>SELECT\u200b\u8bed\u53e5\u200b\u67e5\u8be2\u200b\uff0c\u200b\u8c03\u7528\u200bsqlQuery</li> <li>INSERT\u200b\u8bed\u53e5\u200b\u5199\u5165\u200b\u5230\u200boutTable,\u200b\u8c03\u7528\u200bexecuteSQL</li> </ul>"},{"location":"bigdata/flink/table/#tableapi","title":"TableAPI","text":"<pre><code>Table maryClickTable = eventTable\n       .where($(\"user\").isEqual(\"Alice\"))\n       .select($(\"url\"), $(\"user\"));\n</code></pre> <p>$\u200b\u6307\u5b9a\u200b\u8868\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b57\u200b\u6bb5\u200b</p>"},{"location":"bigdata/flink/table/#_10","title":"\u7ed3\u5408\u200b\u4f7f\u7528","text":"<pre><code>Table clickTable = tableEnvironment.sqlQuery(\"select url, user from \" +\neventTable);\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c06\u200beventTable \u200b\u6ce8\u518c\u200b\u5230\u200b\u865a\u62df\u200b\u8868\u5c31\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b</p>"},{"location":"bigdata/flink/table/#_11","title":"\u8f93\u51fa\u8868","text":"<ul> <li>\u200b\u521b\u5efa\u200b\u8f93\u51fa\u8868\u200b</li> <li>\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u5199\u5165\u200b\u5230\u200b\u8f93\u51fa\u8868\u200b</li> </ul> <pre><code> String createOutDDL = \"CREATE TABLE outTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT \" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = 'out',\" +\n                \"'format' = 'csv')\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createOutDDL);\n\nTable mattTable2 = tableEnv.sqlQuery(\"select user, ts from mattTable\");\n\nmattTable2.executeInsert(\"outTable\");\n</code></pre>"},{"location":"bigdata/flink/table/#_12","title":"\u8868\u548c\u6d41\u200b\u7684\u200b\u8f6c\u6362","text":""},{"location":"bigdata/flink/table/#table2datastream","title":"\u8868\u200b\u8f6c\u6362\u200b\u6d41\u200b Table2DataStream","text":"<p>toDataStream</p> <pre><code>tableEnv.toDataStream(aliceVisitTable).print();\n</code></pre> <p>toChangelogStream: \u200b\u8868\u200b\u7684\u200b\u5185\u5bb9\u200b\u4f1a\u200b\u53d1\u751f\u200b\u66f4\u65b0\u200b</p> <pre><code>tableEnv.toChangelogStream(urlCountTable).print();\n</code></pre>"},{"location":"bigdata/flink/table/#_13","title":"\u6d41\u200b\u8f6c\u6362\u200b\u8868","text":"<p>fromDataStream</p> <pre><code>Table eventTable2 = tableEnv.fromDataStream(eventStream, $(\"timestamp\"), \n$(\"url\"));\n\n// \u200b\u5c06\u200b timestamp \u200b\u5b57\u200b\u6bb5\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b ts\nTable eventTable2 = tableEnv.fromDataStream(eventStream, $(\"timestamp\").as(\"ts\"), \n$(\"url\"));\n</code></pre> <p>createTemporaryView</p> <pre><code>tableEnv.createTemporaryView(\"EventTable\", eventStream, \n$(\"timestamp\").as(\"ts\"),$(\"url\"));\n</code></pre> <p>fromChangelogStream</p> <p>\u200b\u8868\u200b\u73af\u5883\u200b\u8fd8\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b fromChangelogStream()\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u66f4\u65b0\u200b\u65e5\u5fd7\u200b\u6d41\u8f6c\u200b\u6362\u6210\u200b\u8868\u200b\u3002\u200b\u8fd9\u200b \u200b\u4e2a\u200b\u65b9\u6cd5\u200b\u8981\u6c42\u200b\u6d41\u4e2d\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u53ea\u80fd\u200b\u662f\u200b Row\uff0c\u200b\u800c\u4e14\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u90fd\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u5f53\u524d\u200b\u884c\u200b\u7684\u200b\u66f4\u65b0\u200b\u7c7b\u578b\u200b \uff08RowKind\uff09\uff1b</p>"},{"location":"bigdata/flink/table/#_14","title":"\u652f\u6301\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":"<p>\u200b\u539f\u5b50\u200b\u7c7b\u578b\u200b</p> <p>int,double,string \u200b\u548c\u200b\u901a\u7528\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff08\u200b\u4e0d\u53ef\u200b\u5728\u200b\u62c6\u5206\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff09</p> <p>Tuple\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u5982\u679c\u200b\u4e0d\u200b\u505a\u200b\u91cd\u547d\u540d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u540d\u5b57\u200b\u5c31\u662f\u200bf0,f1,f2</p> <p>pojo\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u5982\u679c\u200b\u4e0d\u200b\u505a\u200b\u91cd\u547d\u540d\u200b\uff0c\u200b\u5b57\u6bb5\u540d\u200b\u5c31\u662f\u200b\u539f\u6765\u200b\u7c7b\u4e2d\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b</p> <p>Row</p> <p>Row \u200b\u7c7b\u578b\u200b\u8fd8\u200b\u9644\u52a0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5c5e\u6027\u200b RowKind\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u884c\u5728\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u4e2d\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c Row \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u66f4\u65b0\u200b\u65e5\u5fd7\u200b\u6d41\u200b\uff08changelog stream\uff09\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b</p> <pre><code>DataStream&lt;Row&gt; dataStream =\n env.fromElements(\n Row.ofKind(RowKind.INSERT, \"Alice\", 12),\n Row.ofKind(RowKind.INSERT, \"Bob\", 5),\n Row.ofKind(RowKind.UPDATE_BEFORE, \"Alice\", 12),\n Row.ofKind(RowKind.UPDATE_AFTER, \"Alice\", 100));\n// \u200b\u5c06\u200b\u66f4\u65b0\u200b\u65e5\u5fd7\u200b\u6d41\u200b\u8f6c\u6362\u200b\u4e3a\u8868\u200b\nTable table = tableEnv.fromChangelogStream(dataStream);\n</code></pre>"},{"location":"bigdata/flink/table/#case","title":"case","text":"<p>\u200b\u7edf\u8ba1\u200b\u6bcf\u4e2a\u200b\u7528\u6237\u200b\u70b9\u51fb\u200b\u6b21\u6570\u200b</p> <pre><code>package com.matt.apitest.table;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.types.Row;\n\nimport java.time.Duration;\n\nimport static org.apache.flink.table.api.Expressions.$;\n\n/**\n * @author matt\n * @create 2023-03-24 00:10\n * @desc xxx\n */\npublic class SimpleTableCase {\n\n    public static void main(String[] args) throws Exception {\n        // 1.create env\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n\n        // 2.build sourceStream\n        SingleOutputStreamOperator&lt;Event&gt; eventStream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        // 3.\u200b\u521b\u5efa\u200b\u8868\u200b\u6267\u884c\u200b\u73af\u5883\u200b\n        StreamTableEnvironment streamTableEnv = StreamTableEnvironment.create(env);\n\n        // 4. createTable\n        Table eTable = streamTableEnv.fromDataStream(eventStream);\n\n\n        Table userClickCnt = streamTableEnv.sqlQuery(\"select user, count(url)  from \" + eTable + \" group by user\");\n\n        // 5.table out\n        DataStream&lt;Row&gt; userClickCntStream = streamTableEnv.toChangelogStream(userClickCnt);\n        userClickCntStream.print();\n        env.execute();\n\n    }\n}\n</code></pre>"},{"location":"bigdata/flink/table/#_15","title":"\u6d41\u200b\u5904\u7406\u200b\u4e2d\u200b\u7684\u200b\u8868","text":""},{"location":"bigdata/flink/table/#_16","title":"\u52a8\u6001\u200b\u8868\u200b\u548c\u200b\u6301\u7eed\u200b\u67e5\u8be2","text":""},{"location":"bigdata/flink/table/#_17","title":"\u52a8\u6001\u200b\u8868","text":"<p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u4fdd\u5b58\u200b\u4e86\u200b\u8868\u5728\u200b\u67d0\u200b\u4e00\u200b\u65f6\u523b\u200b\u7684\u200b\u5feb\u7167\u200b\uff08snapshot\uff09\uff0c\u200b\u90a3\u4e48\u200b \u200b\u63a5\u4e0b\u6765\u200b\u53ea\u8981\u200b\u8bfb\u53d6\u200b\u66f4\u65b0\u200b\u65e5\u5fd7\u200b\u6d41\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5f97\u5230\u200b\u8868\u200b\u4e4b\u540e\u200b\u7684\u200b\u53d8\u5316\u200b\u8fc7\u7a0b\u200b\u548c\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u4e86\u200b</p>"},{"location":"bigdata/flink/table/#_18","title":"\u6301\u7eed\u200b\u67e5\u8be2","text":"<p>\u200b\u7531\u4e8e\u200b\u6570\u636e\u200b\u5728\u200b\u4e0d\u65ad\u200b\u53d8\u5316\u200b\uff0c\u200b\u56e0\u6b64\u200b\u57fa\u4e8e\u200b\u5b83\u200b\u5b9a\u4e49\u200b \u200b\u7684\u200b SQL \u200b\u67e5\u8be2\u200b\u4e5f\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u5c31\u200b\u5f97\u5230\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u3002</p> <p>\u200b\u968f\u7740\u200b\u65b0\u200b\u6570\u636e\u200b\u7684\u200b\u5230\u6765\u200b\u800c\u200b\u7ee7\u7eed\u6267\u884c\u200b</p> <p></p>"},{"location":"bigdata/flink/table/#_19","title":"\u6d41\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u52a8\u6001\u200b\u8868","text":"<p>\u200b\u65e0\u200b\u66f4\u65b0\u200b\u5219\u200b\u4f7f\u7528\u200b fromDataStream</p> <p>\u200b\u6709\u200b\u66f4\u65b0\u200b\u5219\u200b\u4f7f\u7528\u200b fromChangelogStream</p> <p>\u200b\u51e0\u79cd\u200b\u6d41\u200binsert</p> <p>\u200b\u4ec5\u200b\u63d2\u5165\u200b\u6d41\u200b</p> <ul> <li>\u200b\u65b0\u589e\u200binsert\uff1aadd \u200b\u6d88\u606f\u200b</li> </ul> <p>\u200b\u64a4\u56de\u200b\u6d41\u200bretract</p> <ul> <li>\u200b\u65b0\u589e\u200binsert\uff1aadd \u200b\u6d88\u606f\u200b</li> <li>\u200b\u5220\u9664\u200bdelete:retract\u200b\u6d88\u606f\u200b</li> <li>\u200b\u66f4\u65b0\u200bupdate\uff1aretract,add \u200b\u66f4\u65b0\u200b\u540e\u200b\u7684\u200b\u6d88\u606f\u200b</li> </ul> <p>\u200b\u66f4\u65b0\u200b\u63d2\u5165\u200b\u6d41\u200bupsert</p> <ul> <li>\u200b\u66f4\u65b0\u200b\u63d2\u5165\u200b\uff1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200bkey, \u200b\u5b58\u5728\u200b\u5219\u200b\u66f4\u65b0\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u63d2\u5165\u200b</li> <li>\u200b\u5220\u9664\u200b\uff1a\u200b\u5220\u9664\u200b\u6d88\u606f\u200b</li> </ul> <p>\u200b\u5728\u200b\u8868\u6d41\u200b\u8f6c\u6362\u200b\u662f\u200b\u6ca1\u6709\u200b\u552f\u4e00\u200b\u7684\u200bkey \u200b\u6240\u4ee5\u200b\u5f53\u524d\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u64a4\u56de\u200b\u6d41\u200b</p> <p>-u \u200b\u5220\u9664\u200b</p> <p>+u \u200b\u66f4\u65b0\u200b</p> <pre><code>3&gt; +I[matt, 1]\n2&gt; +I[sensor_7, 1]\n10&gt; +I[sensor_1, 1]\n5&gt; +I[sensor_6, 1]\n5&gt; -U[sensor_6, 1]\n3&gt; -U[matt, 1]\n5&gt; +U[sensor_6, 2]\n3&gt; +U[matt, 2]\n5&gt; -U[sensor_6, 2]\n5&gt; +U[sensor_6, 3]\n</code></pre> <p>sink \u200b\u4e0d\u200b\u652f\u6301\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b</p>"},{"location":"bigdata/flink/table/#_20","title":"\u65f6\u95f4\u200b\u5c5e\u6027\u200b\u548c\u200b\u7a97\u53e3","text":""},{"location":"bigdata/flink/table/#_21","title":"\u4e8b\u4ef6\u200b\u65f6\u95f4","text":"<p>1s \u200b\u7684\u200b\u5ef6\u8fdf\u200b</p> <p>\u200b\u51fd\u6570\u200b\u8bf4\u660e\u200b</p> <pre><code>TO_TIMESTAMP\n// \u200b\u5e26\u6709\u200b\u65f6\u200b\u533a\u200b\nTO_TIMESTAMP_LTZ\n\n\n\ntimestamp = \"2022-04-12 12:00:00\"\nTO_TIMESTAMP(timestamp, 'yyyy-MM-dd HH:mm:ss')\n\ntimestamp = 1649826000L // \u200b\u79d2\u7ea7\u200b\u65f6\u95f4\u200b\u6233\u200b\nFROM_UNIXTIME(timestamp, 'yyyy-MM-dd HH:mm:ss')\n</code></pre> <p>\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u662f\u200bms \u200b\u7ea7\u522b\u200b\u65f6\u95f4\u200b\u6233\u200b</p> <pre><code> String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"url STRING,\" +\n                \"et AS TO_TIMESTAMP(FROM_UNIXTIME(ts)),\" +\n                \"WATERMARK FOR et as et - INTERVAL '1' SECOND\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n\n        // 2.\u200b\u6d41\u8f6c\u200b\u6362\u6210\u200b \u200b\u6307\u5b9a\u200b\n        SingleOutputStreamOperator&lt;Event&gt; clickStream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        Table clickTable = tableEnv.fromDataStream(clickStream, $(\"user\"), $(\"url\"), $(\"timestamp\").as(\"ts\"), $(\"et\").rowtime());\n        clickTable.printSchema();\n</code></pre>"},{"location":"bigdata/flink/table/#_22","title":"\u5904\u7406\u200b\u65f6\u95f4","text":"<p>\u200b\u521b\u5efa\u200b\u8868\u65f6\u200b\u6307\u5b9a\u200b</p> <p>ROCTIME()\u200b\u51fd\u6570\u200b\u6765\u200b\u6307\u5b9a\u200b\u5f53\u524d\u200b\u7684\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u5c5e\u6027\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7684\u200b\u7c7b\u578b\u200b\u662f\u200b TIMESTAMP_LTZ</p> <pre><code>CREATE TABLE EventTable(\n  user STRING,\n  url STRING,\n  ts AS PROCTIME()\n) WITH ( ...\n);\n</code></pre> <p>\u200b\u6570\u636e\u6d41\u200b\u8f6c\u6362\u200b\u65f6\u200b\u6307\u5b9a\u200b</p> <pre><code>Table table = tEnv.fromDataStream(stream, $(\"user\"), $(\"url\"),\n$(\"ts\").proctime());\n</code></pre>"},{"location":"bigdata/flink/table/#_23","title":"\u7a97\u53e3","text":""},{"location":"bigdata/flink/table/#_24","title":"\u5206\u7ec4\u200b\u7a97\u53e3\u200b\u8001\u200b\u7248\u672c","text":"<p>10s \u200b\u7684\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b</p> <pre><code>// 2.\u200b\u5206\u7ec4\u200b\u7a97\u53e3\u200b \uff08\u200b\u8001\u200b\u7248\u672c\u200b\uff09\nTable aggWinTable = tableEnv.sqlQuery(\"select user, count(1), TUMBLE_END(et, INTERVAL '10' SECOND) as entT \" +\n                \"from clickTable group by user, TUMBLE(et, INTERVAL '10' SECOND)\");\n</code></pre> <p>\u200b\u51fd\u6570\u200b\u6709\u200b TUMBLE()\u3001HOP()\u3001SESSION()</p> <p>\u200b\u5206\u7ec4\u200b\u7a97\u53e3\u200b\u7684\u200b\u529f\u80fd\u200b\u6bd4\u8f83\u200b\u6709\u9650\u200b\uff0c\u200b\u53ea\u200b\u652f\u6301\u200b\u7a97\u53e3\u200b\u805a\u5408\u200b\uff0c\u200b\u6240\u4ee5\u200b\u76ee\u524d\u200b\u5df2\u7ecf\u200b\u5904\u4e8e\u200b\u5f03\u7528\u200b(deprecated)\u200b\u7684\u200b\u72b6\u6001\u200b\u3002</p>"},{"location":"bigdata/flink/table/#tvt","title":"\u7a97\u53e3\u200b\u8868\u503c\u200b\u51fd\u6570\u200b tvt \u200b\u65b0\u200b\u7248\u672c","text":""},{"location":"bigdata/flink/table/#_25","title":"\u6982\u8ff0","text":"<p>\u200b\u7a97\u53e3\u200b\u8868\u503c\u200b\u51fd\u6570\u200b\u662f\u200b Flink \u200b\u5b9a\u4e49\u200b\u7684\u200b\u591a\u6001\u200b\u8868\u200b\u51fd\u6570\u200b(PTF)\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u8868\u200b\u8fdb\u884c\u200b\u6269\u5c55\u200b\u540e\u200b\u8fd4\u56de\u200b</p> <p>tvf \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e09\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b</p> <p>\u201c\u200b\u7a97\u53e3\u200b\u8d77\u59cb\u200b\u70b9\u200b\u201d(window_start)\u3001\u201c\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\u70b9\u200b\u201d(window_end)\u3001\u201c\u200b\u7a97\u53e3\u200b\u65f6\u95f4\u200b\u201d(window_time)</p>"},{"location":"bigdata/flink/table/#tumble","title":"\u6eda\u52a8\u200b\u7a97\u53e3\u200bTumble","text":"<pre><code>Table tumbleWinResTable = tableEnv.sqlQuery(\"select user, count(1) as cnt, \"\n                + \"window_start as entS \"\n                + \"from Table( \"\n                + \"TUMBLE(TABLE clickTable, DESCRIPTOR(et), INTERVAL '10' SECOND)) \"\n                + \"GROUP BY user, window_start, window_end\");\n</code></pre> <pre><code>// et \u200b\u65f6\u95f4\u200b\u5b57\u200b\u6bb5\u200b 10s \u200b\u7684\u200b\u7a97\u53e3\u200b\nTUMBLE(TABLE clickTable, DESCRIPTOR(et), INTERVAL '10' SECOND)\n</code></pre>"},{"location":"bigdata/flink/table/#hop","title":"\u6ed1\u52a8\u200b\u7a97\u53e3\u200bHop","text":"<pre><code>// 1hd\u200b\u7684\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b 5min\u200b\u6ed1\u52a8\u200b\u4e00\u6b21\u200b\nHOP(TABLE EventTable, DESCRIPTOR(ts), INTERVAL '5' MINUTES, INTERVAL '1' HOURS))\n</code></pre>"},{"location":"bigdata/flink/table/#cumulate","title":"\u7d2f\u8ba1\u200b\u7a97\u53e3\u200bCUMULATE","text":"<p>\u200b\u6bcf\u9694\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u8f93\u51fa\u200b\u5f53\u524d\u200b\u7a97\u53e3\u200b\u72b6\u6001\u200b \u200b\u4f46\u662f\u200b\u7a97\u53e3\u200b\u4e0d\u200b\u6ed1\u52a8\u200b \u200b\u662f\u200b\u6eda\u52a8\u200b\u7684\u200b</p> <pre><code>CUMULATE(TABLE EventTable, DESCRIPTOR(ts), INTERVAL '1' HOURS, INTERVAL '1' DAYS))\n</code></pre>"},{"location":"bigdata/flink/table/#_26","title":"\u4f1a\u8bdd\u200b\u7a97\u53e3\u200b \u200b\u6682\u672a\u200b\u652f\u6301","text":""},{"location":"bigdata/flink/table/#_27","title":"\u805a\u5408","text":""},{"location":"bigdata/flink/table/#_28","title":"\u5206\u7ec4\u200b\u805a\u5408","text":"<pre><code>SELECT user, COUNT(url) as cnt FROM EventTable GROUP BY user\n</code></pre> <p>\u200b\u51fd\u6570\u200b\u6709\u200b SUM()\u3001MAX()\u3001MIN()\u3001AVG()\u200b\u4ee5\u53ca\u200b COUNT()</p> <p>\u200b\u9632\u6b62\u200b\u72b6\u6001\u200b\u65e0\u9650\u200b\u589e\u957f\u200b\u8017\u5c3d\u200b\u8d44\u6e90\u200b\uff0cFlink Table API \u200b\u548c\u200b SQL \u200b\u53ef\u4ee5\u200b\u5728\u200b\u8868\u200b \u200b\u73af\u5883\u200b\u4e2d\u200b\u914d\u7f6e\u200b\u72b6\u6001\u200b\u7684\u200b\u751f\u5b58\u200b\u65f6\u95f4\u200b(TTL):</p> <p>\u200b\u65b9\u5f0f\u200b\u4e00\u200b</p> <pre><code>// \u200b\u83b7\u53d6\u200b\u8868\u200b\u73af\u5883\u200b\u7684\u200b\u914d\u7f6e\u200b\nTableConfig tableConfig = tableEnv.getConfig();\n// \u200b\u914d\u7f6e\u200b\u72b6\u6001\u200b\u4fdd\u6301\u200b\u65f6\u95f4\u200b \ntableConfig.setIdleStateRetention(Duration.ofMinutes(60));\n</code></pre> <p>\u200b\u65b9\u5f0f\u200b\u4e8c\u200b</p> <pre><code>TableEnvironment tableEnv = ...\nConfiguration configuration = tableEnv.getConfig().getConfiguration();\nconfiguration.setString(\"table.exec.state.ttl\", \"60 min\");\n</code></pre>"},{"location":"bigdata/flink/table/#_29","title":"\u7a97\u53e3\u200b\u805a\u5408","text":"<pre><code>Table result = tableEnv.sqlQuery(\n        \"SELECT user, window_end AS endT, COUNT(url) AS cnt \" +\n        \"FROM TABLE(\" +\n        \"   TUMBLE(TABLE EventTable, \" +\n        \"       DESCRIPTOR(ts), \" +\n        \"       INTERVAL '1' HOUR)) \" +\n        \"GROUP BY user, window_start, window_end\"\n  );\n</code></pre>"},{"location":"bigdata/flink/table/#over","title":"\u5f00\u7a97\u200b\u805a\u5408\u200b over","text":"<p>\u200b\u7ec4\u5185\u200b\u6392\u5e8f\u200b</p> <pre><code>// over \u200b\u5f00\u7a97\u200b\u805a\u5408\u200b\nTable overResTable = tableEnv.sqlQuery(\"SELECT `user`, AVG(ts) OVER( \" +\n                                       \"PARTITION BY `user` ORDER BY et ROWS BETWEEN 3 PRECEDING AND CURRENT ROW) \"\n                                       + \"as avg_ts from clickTable\");\ntableEnv.toChangelogStream(overResTable).print(\"overResTable\");\n</code></pre>"},{"location":"bigdata/flink/table/#_30","title":"\u5206\u533a\u200b\uff0c\u200b\u6392\u5e8f","text":""},{"location":"bigdata/flink/table/#_31","title":"\u5f00\u7a97\u200b\u8303\u56f4","text":"<p>\u200b\u65f6\u95f4\u200b</p> <p>\u200b\u5f53\u524d\u200b\u884c\u200b\u4e4b\u524d\u200b 1 \u200b\u5c0f\u65f6\u200b\u7684\u200b\u6570\u636e\u200b:</p> <pre><code>RANGE BETWEEN INTERVAL '1' HOUR PRECEDING AND CURRENT ROW\n</code></pre>"},{"location":"bigdata/flink/table/#_32","title":"\u884c\u200b\u95f4\u9694","text":"<p>\u200b\u5f53\u524d\u200b\u884c\u200b+\u200b\u5f53\u524d\u200b\u884c\u200b\u7684\u200b\u524d\u200b5\u200b\u884c\u200b</p> <pre><code>ROWS BETWEEN 5 PRECEDING AND CURRENT ROW\n</code></pre> <p>\u200b\u5355\u72ec\u200b\u5b9a\u4e49\u200bover</p> <pre><code>SELECT user, ts,\n  COUNT(url) OVER w AS cnt,\n  MAX(CHAR_LENGTH(url)) OVER w AS max_url\nFROM EventTable\nWINDOW w AS (\n  PARTITION BY user\n  ORDER BY ts\n  ROWS BETWEEN 2 PRECEDING AND CURRENT ROW\n)\n</code></pre>"},{"location":"bigdata/flink/table/#topn-case","title":"TopN case","text":"<pre><code>package com.matt.apitest.table;\n\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\n\n/**\n * @author matt\n * @create 2023-03-29 23:01\n * @desc xxx\n */\npublic class TopNCase {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n        // 1.\u200b\u65b0\u5efa\u200b\u8868\u200b\u6307\u5b9a\u200b\n        String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"url STRING,\" +\n                \"et AS TO_TIMESTAMP(FROM_UNIXTIME(ts)),\" +\n                \"WATERMARK FOR et as et - INTERVAL '1' SECOND\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n\n        Table topNUser = tableEnv.sqlQuery(\"SELECT user, cnt, row_num \" +\n                \"FROM ( \" +\n                \"   SELECT *, ROW_NUMBER() OVER( \" +\n                \"       ORDER BY cnt DESC\" +\n                \"   ) AS row_num \" +\n                \"   FROM (SELECT user, COUNT(url) as cnt FROM clickTable GROUP BY user) \" +\n                \")\" +\n                \"WHERE row_num &lt;= 2\");\n\n        //tableEnv.toChangelogStream(topNUser).print();\n\n        // \u200b\u7a97\u53e3\u200btopN \u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u5185\u200b\u6d3b\u8dc3\u200b\u7528\u6237\u200b top2\n        // \u200b\u6bcf\u4e2a\u200b\u7a97\u53e3\u200b\u552f\u4e00\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\n        Table winTopN = tableEnv.sqlQuery(\"SELECT user, cnt, row_num, window_end \" +\n                \"FROM ( \" +\n                \"   SELECT *, ROW_NUMBER() OVER( \" +\n                \"       PARTITION BY window_start, window_end \" +\n                \"       ORDER BY cnt DESC\" +\n                \"   ) AS row_num \" +\n                \"   FROM (\" +\n                \"       SELECT user, COUNT(url) as cnt, window_start, window_end \" +\n                \"       FROM Table (\" +\n                \"           TUMBLE(TABLE clickTable, DESCRIPTOR(et), INTERVAL '10' SECOND) \" +\n                \"       )\" +\n                \"       GROUP BY user, window_start, window_end\" +\n                \"   ) \" +\n                \")\" +\n                \"WHERE row_num &lt;= 2\");\n        tableEnv.toChangelogStream(winTopN).print();\n        env.execute();\n\n    }\n}\n</code></pre> <p>ROW_NUMBER: \u200b\u7ec4\u5185\u200b\u6392\u5e8f\u200b\uff0c \u200b\u4f1a\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u6392\u200b\u540d\u5b57\u200b\u6bb5\u200b</p> <p>PARTITION BY: \u200b\u5206\u533a\u200b\uff0c\u200b\u4e0d\u540c\u200b\u5206\u533a\u200b\u5206\u522b\u200b\u8ba1\u7b97\u200b</p> <p>ORDER BY \u200b\u6392\u5e8f\u200b</p>"},{"location":"bigdata/flink/table/#join","title":"Join \u200b\u8fde\u63a5\u200b\u67e5\u8be2","text":""},{"location":"bigdata/flink/table/#_33","title":"\u5e38\u89c4\u200b\u8fde\u63a5","text":"<p>\u200b\u548c\u200bmysql \u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b</p> <p>\u200b\u5185\u200b\u8fde\u63a5\u200b</p> <pre><code>SELECT *\nFROM Order\nINNER JOIN Product\nON Order.product_id = Product.id\n</code></pre> <p>\u200b\u5916\u200b\u8fde\u63a5\u200b</p> <pre><code>SELECT *\nFROM Order\nLEFT JOIN Product\nON Order.product_id = Product.id\n\nSELECT *\nFROM Order\nRIGHT JOIN Product\nON Order.product_id = Product.id\n\nSELECT *\nFROM Order\nFULL OUTER JOIN Product\nON Order.product_id = Product.id\n</code></pre>"},{"location":"bigdata/flink/table/#_34","title":"\u95f4\u9694\u200b\u8fde\u63a5","text":"<p>\u200b\u4f1a\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u6761\u4ef6\u200b\u9650\u5236\u200b\uff0c \u200b\u5982\u4e0b\u200b</p> <pre><code>ltime = rtime\n\nltime &gt;= rtime AND ltime &lt; rtime + INTERVAL '10' MINUTE\n\nltime BETWEEN rtime - INTERVAL '10' SECOND AND rtime + INTERVAL '5' SECOND\n</code></pre> <p>\u200b\u6848\u4f8b\u200b\uff1a\u200b\u4e0b\u5355\u200b\u540e\u200b4h\u200b\u5185\u200b\u53d1\u8d27\u200b</p> <pre><code>SELECT *\nFROM Order o, Shipment s\nWHERE o.id = s.order_id\nAND o.order_time BETWEEN s.ship_time - INTERVAL '4' HOUR AND s.ship_time\n</code></pre>"},{"location":"bigdata/flink/table/#_35","title":"\u51fd\u6570","text":""},{"location":"bigdata/flink/table/#_36","title":"\u7cfb\u7edf\u200b\u51fd\u6570","text":""},{"location":"bigdata/flink/table/#_37","title":"\u6807\u91cf\u200b\u51fd\u6570","text":"<p>\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b \u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b</p>"},{"location":"bigdata/flink/table/#_38","title":"\u6bd4\u8f83\u200b\u51fd\u6570","text":"<pre><code>value1 = value2 \u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u503c\u200b\u76f8\u7b49\u200b\nvalue1 &lt;&gt; value2 \u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u503c\u200b\u4e0d\u200b\u76f8\u7b49\u200b\nvalue IS NOT NULL \u200b\u5224\u65ad\u200b value \u200b\u4e0d\u4e3a\u200b\u7a7a\u200b\n</code></pre>"},{"location":"bigdata/flink/table/#_39","title":"\u903b\u8f91\u200b\u51fd\u6570","text":"<p>\u200b\u5e03\u5c14\u200b\u7c7b\u578b\u200b\u62fc\u63a5\u200b\u8d77\u6765\u200b, and,or,not</p> <pre><code>boolean1 OR boolean2 \u200b\u5e03\u5c14\u503c\u200b boolean1 \u200b\u4e0e\u200b\u5e03\u5c14\u503c\u200b boolean2 \u200b\u53d6\u200b\u903b\u8f91\u200b\u6216\u200b\nboolean IS FALSE \u200b\u5224\u65ad\u200b\u5e03\u5c14\u503c\u200b boolean \u200b\u662f\u5426\u200b\u4e3a\u200b false\nNOT boolean \u200b\u5e03\u5c14\u503c\u200b boolean \u200b\u53d6\u200b\u903b\u8f91\u200b\u975e\u200b\n</code></pre>"},{"location":"bigdata/flink/table/#_40","title":"\u7b97\u672f\u51fd\u6570","text":"<p>numeric1 + numeric2 \u200b\u4e24\u200b\u6570\u200b\u76f8\u52a0\u200b</p> <p>POWER(numeric1, numeric2) \u200b\u5e42\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u53d6\u6570\u200b numeric1 \u200b\u7684\u200b numeric2 \u200b\u6b21\u65b9\u200b</p> <p>RAND() \u200b\u8fd4\u56de\u200b(0.0, 1.0)\u200b\u533a\u95f4\u200b\u5185\u200b\u7684\u200b\u4e00\u4e2a\u200b double \u200b\u7c7b\u578b\u200b\u7684\u200b\u4f2a\u200b\u968f\u673a\u6570\u200b</p>"},{"location":"bigdata/flink/table/#_41","title":"\u5b57\u7b26\u4e32\u200b\u5904\u7406\u51fd\u6570","text":"<p>string1 || string2 \u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u8fde\u63a5\u200b</p> <p>UPPER(string) \u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b string \u200b\u8f6c\u4e3a\u200b\u5168\u90e8\u200b\u5927\u5199\u200b</p> <p>CHAR_LENGTH(string) \u200b\u8ba1\u7b97\u200b\u5b57\u7b26\u4e32\u200b string \u200b\u7684\u200b\u957f\u5ea6\u200b</p>"},{"location":"bigdata/flink/table/#_42","title":"\u65f6\u95f4\u200b\u51fd\u6570","text":"<ul> <li>DATE string \u200b\u6309\u200b\u683c\u5f0f\u200b\"yyyy-MM-dd\"\u200b\u89e3\u6790\u200b\u5b57\u7b26\u4e32\u200b string\uff0c\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\u4e3a\u200b SQL Date</li> <li>TIMESTAMP string \u200b\u6309\u200b\u683c\u5f0f\u200b\"yyyy-MM-dd HHss[.SSS]\"\u200b\u89e3\u6790\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\u4e3a\u200b SQL timestamp</li> <li>CURRENT_TIME \u200b\u8fd4\u56de\u200b\u672c\u5730\u200b\u65f6\u533a\u200b\u7684\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e3a\u200b SQL time(\u200b\u4e0e\u200b LOCALTIME\u200b\u7b49\u4ef7\u200b)</li> <li>INTERVAL string range \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u3002string \u200b\u8868\u793a\u200b\u6570\u503c\u200b;range \u200b\u53ef\u4ee5\u200b\u662f\u200b DAY\uff0cMINUTE\uff0cDAT TO HOUR \u200b\u7b49\u200b\u5355\u4f4d\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b YEAR TO MONTH \u200b\u8fd9\u6837\u200b\u7684\u200b\u590d\u5408\u200b\u5355\u4f4d\u200b\u3002\u200b\u5982\u200b\u201c2 \u200b\u5e74\u200b 10 \u200b\u4e2a\u200b\u6708\u200b\u201d\u200b\u53ef\u4ee5\u200b\u5199\u6210\u200b:INTERVAL '2-10' YEAR TO MONTH</li> </ul>"},{"location":"bigdata/flink/table/#_43","title":"\u805a\u5408\u200b\u51fd\u6570","text":"<p>\u200b\u805a\u5408\u200b\u7b97\u5b50\u200b\u6709\u200b</p> <p>count(*)</p> <p>SUM([ ALL | DISTINCT ] expression) \u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u6c42\u548c\u200b\u64cd\u4f5c\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u7701\u7565\u200b\u4e86\u200b\u5173\u952e\u5b57\u200b ALL\uff0c\u200b\u8868\u793a\u200b\u5bf9\u200b\u6240\u6709\u200b\u884c\u200b\u6c42\u548c\u200b;\u200b\u5982\u679c\u200b\u6307\u5b9a\u200b DISTINCT\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u53bb\u200b \u200b\u91cd\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u503c\u200b\u53ea\u200b\u53e0\u52a0\u200b\u4e00\u6b21\u200b\u3002</p> <p>RANK() \u200b\u8fd4\u56de\u200b\u5f53\u524d\u200b\u503c\u200b\u5728\u200b\u4e00\u7ec4\u200b\u503c\u4e2d\u200b\u7684\u200b\u6392\u540d\u200b</p> <p>ROW_NUMBER() \u200b\u5bf9\u200b\u4e00\u7ec4\u200b\u503c\u200b\u6392\u5e8f\u200b\u540e\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5f53\u524d\u200b\u503c\u200b\u7684\u200b\u884c\u53f7\u200b\u3002\u200b\u4e0e\u200bRANK()\u200b\u7684\u200b \u200b\u529f\u80fd\u200b\u76f8\u4f3c\u200b</p>"},{"location":"bigdata/flink/table/#_44","title":"\u81ea\u5b9a\u4e49\u200b\u51fd\u6570","text":""},{"location":"bigdata/flink/table/#_45","title":"\u6982\u8ff0","text":"<p>\u200b\u652f\u6301\u200b\u7684\u200b\u51fd\u6570\u200b\u7c7b\u578b\u200b</p> <ul> <li>\u200b\u6807\u91cf\u200b\u51fd\u6570\u200b\uff1a\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200b\u6807\u91cf\u200b(0,1\u200b\u4e2a\u200b\u6216\u8005\u200b\u591a\u4e2a\u200b)\u200b\u8f6c\u6362\u200b\u4f4d\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b</li> <li>\u200b\u8868\u200b\u51fd\u6570\u200b\uff1a\u200b\u5c06\u200b\u6807\u91cf\u200b\u503c\u200b\u8f6c\u6362\u6210\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u65b0\u200b\u7684\u200b\u884c\u200b\u6570\u636e\u200b</li> <li>\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\uff1a\u200b\u5c06\u200b\u591a\u884c\u200b\u6570\u636e\u200b\u91cc\u200b\u7684\u200b\u6807\u91cf\u200b\u503c\u200b\u8f6c\u6362\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6807\u91cf\u200b\u503c\u200b;</li> <li>\u200b\u8868\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\uff1a\u200b\u5c06\u200b\u591a\u884c\u200b\u6570\u636e\u200b\u91cc\u200b\u7684\u200b\u6807\u91cf\u200b\u503c\u200b\u8f6c\u6362\u6210\u200b\u4e00\u200b \u200b\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u65b0\u200b\u7684\u200b\u884c\u200b\u6570\u636e\u200b\u3002</li> </ul>"},{"location":"bigdata/flink/table/#_46","title":"\u57fa\u7840\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/flink/table/#1","title":"1.\u200b\u6ce8\u518c\u200b\u51fd\u6570","text":"<pre><code>tableEnv.createTemporarySystemFunction(\"MyFunction\", MyFunction.class);\n</code></pre> <p>createTemporarySystemFunction\uff1a\u200b\u7cfb\u7edf\u200b\u51fd\u6570\u200b</p> <p>createTemporaryFunction:\u200b\u5f53\u524d\u76ee\u5f55\u200b\u548c\u200b\u6570\u636e\u5e93\u200b</p>"},{"location":"bigdata/flink/table/#2tableapi","title":"2.\u200b\u4f7f\u7528\u200bTableAPI\u200b\u8c03\u7528\u51fd\u6570","text":"<pre><code>tableEnv.from(\"MyTable\").select(call(\"MyFunction\", $(\"myField\")));\n</code></pre> <p>call: arg1(\u200b\u51fd\u6570\u200b\u540d\u200b) arg2(\u200b\u8c03\u7528\u200b\u65f6\u200b\u4f20\u9012\u200b\u7684\u200b\u53c2\u6570\u200b)</p> <p>\u200b\u4e0d\u200b\u6ce8\u518c\u200b\u51fd\u6570\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b</p> <pre><code>tableEnv.from(\"MyTable\").select(call(SubstringFunction.class, $(\"myField\")));\n</code></pre>"},{"location":"bigdata/flink/table/#3sql","title":"3.sql\u200b\u4e2d\u200b\u8c03\u7528\u51fd\u6570","text":"<pre><code>tableEnv.sqlQuery(\"SELECT MyFunction(myField) FROM MyTable\");\n</code></pre>"},{"location":"bigdata/flink/table/#_47","title":"\u6807\u91cf\u200b\u51fd\u6570","text":"<ul> <li>\u200b\u7ee7\u627f\u200bScalarFunction</li> <li>\u200b\u5199\u200b\u4e00\u4e2a\u200bpublic eval \u200b\u65b9\u6cd5\u200b \u200b\u4e0d\u662f\u200b\u91cd\u5199\u200b\u8be5\u200b\u65b9\u6cd5\u200b</li> </ul> <pre><code>package com.matt.apitest.table;\n\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.table.functions.ScalarFunction;\n\n/**\n * @author matt\n * @create 2023-03-31 00:43\n * @desc xxx\n */\npublic class UDFTest_ScalarFunc {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n        // 1.\u200b\u65b0\u5efa\u200b\u8868\u200b\u6307\u5b9a\u200b\n        String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"url STRING,\" +\n                \"et AS TO_TIMESTAMP(FROM_UNIXTIME(ts)),\" +\n                \"WATERMARK FOR et as et - INTERVAL '1' SECOND\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n        tableEnv.createTemporarySystemFunction(\"MyHash\", MyHashFunction.class);\n\n\n        Table myHashTable = tableEnv.sqlQuery(\"SELECT user, MyHash(user) from clickTable\");\n\n        tableEnv.toDataStream(myHashTable).print();\n        env.execute();\n    }\n\n    public static class MyHashFunction extends ScalarFunction {\n\n        public int eval(String str) {\n            return str.hashCode();\n        }\n    }\n\n}\n</code></pre>"},{"location":"bigdata/flink/table/#_48","title":"\u8868\u200b\u51fd\u6570","text":"<p>\u200b\u8868\u200b\u51fd\u6570\u200b\u7684\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b 0 \u200b\u4e2a\u200b\u30011 \u200b\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u6807\u91cf\u200b\u503c\u200b;\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u5b83\u200b\u53ef\u200b \u200b\u4ee5\u200b\u8fd4\u56de\u200b\u4efb\u610f\u200b\u591a\u884c\u200b\u6570\u636e\u200b\u3002</p> <p>LATERAL TABLE(MySplit(url)) as T(word, length)</p> <p>LATERAL \u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u4fa7\u5411\u200b\u8868\u200b \u200b\u7136\u540e\u200b \u200b\u548c\u200b\u4e3b\u8868\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b</p> <pre><code>package com.matt.apitest.table;\n\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.table.functions.TableFunction;\n\n/**\n * @author matt\n * @create 2023-03-31 01:08\n * @desc xxx\n */\npublic class UDFTest_TableFunction {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n        // 1.\u200b\u65b0\u5efa\u200b\u8868\u200b\u6307\u5b9a\u200b\n        String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"url STRING,\" +\n                \"et AS TO_TIMESTAMP(FROM_UNIXTIME(ts)),\" +\n                \"WATERMARK FOR et as et - INTERVAL '1' SECOND\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n        tableEnv.createTemporarySystemFunction(\"MySplit\", MySplit.class);\n\n        Table mySplitT = tableEnv.sqlQuery(\"SELECT user, url,word, length \" +\n                \"from clickTable, LATERAL TABLE(MySplit(url)) as T(word, length)\");\n\n        tableEnv.toDataStream(mySplitT).print();\n        env.execute();\n    }\n\n    // \u200b\u81ea\u5b9a\u4e49\u200b\u8868\u200b\u51fd\u6570\u200b\n    public static class MySplit extends TableFunction&lt;Tuple2&lt;String, Integer&gt;&gt; {\n\n        public void eval(String str) {\n            String[] words = str.split(\"\\\\?\");\n            for (String w: words) {\n                collect(Tuple2.of(w, w.length()));\n            }\n        }\n    }\n\n}\n</code></pre>"},{"location":"bigdata/flink/table/#_49","title":"\u805a\u5408\u200b\u51fd\u6570","text":"<p>\u200b\u4f1a\u200b\u628a\u200b\u4e00\u884c\u200b\u6216\u200b\u591a\u884c\u200b\u6570\u636e\u200b (\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u8868\u200b)\u200b\u805a\u5408\u200b\u6210\u200b\u4e00\u4e2a\u200b\u6807\u91cf\u200b\u503c\u200b\u3002\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u6807\u51c6\u200b\u7684\u200b\u201c\u200b\u591a\u200b\u5bf9\u200b\u4e00\u200b\u201d\u200b\u7684\u200b\u8f6c\u6362\u200b\u3002</p> <pre><code>package com.matt.apitest.table;\n\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.table.functions.AggregateFunction;\n\n/**\n * @author matt\n * @create 2023-03-31 01:25\n * @desc xxx\n */\npublic class UTFTest_Aggfunction {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n        // 1.\u200b\u65b0\u5efa\u200b\u8868\u200b\u6307\u5b9a\u200b\n        String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"url STRING,\" +\n                \"et AS TO_TIMESTAMP(FROM_UNIXTIME(ts)),\" +\n                \"WATERMARK FOR et as et - INTERVAL '1' SECOND\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n        tableEnv.createTemporarySystemFunction(\"WeightAverage\", WeightAverage.class);\n\n        Table cc = tableEnv.sqlQuery(\"SELECT user, WeightAverage(ts, 1) as w_avg \" +\n                \"from clickTable group by user\");\n\n        tableEnv.toChangelogStream(cc).print();\n        env.execute();\n    }\n\n    public static class WeightAvgAcc {\n        public long sum = 0;\n        public int cnt = 0;\n    }\n\n    // \u200b\u81ea\u5b9a\u4e49\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\n    public static class WeightAverage extends AggregateFunction&lt;Long, WeightAvgAcc&gt; {\n\n        @Override\n        public Long getValue(WeightAvgAcc acc) {\n            if (acc.cnt == 0) {\n                return 0L;\n            }\n            return acc.sum / acc.cnt;\n        }\n\n        @Override\n        public WeightAvgAcc createAccumulator() {\n            return new WeightAvgAcc();\n        }\n\n        public void accumulate(WeightAvgAcc acc, Long iV, Integer iWeight) {\n            acc.sum += iV * iWeight;\n            acc.cnt += iWeight;\n        }\n    }\n\n}\n</code></pre> <p>1.\u200b\u521b\u5efa\u200b\u7d2f\u52a0\u5668\u200b</p> <p>2.\u200b\u6bcf\u6765\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200baccumulate</p> <p>3.\u200b\u83b7\u53d6\u200b\u8fd4\u56de\u200b\u6570\u636e\u200bgetValue</p>"},{"location":"bigdata/flink/table/#_50","title":"\u8868\u200b\u805a\u5408\u200b\u51fd\u6570","text":"<p>\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u8868\u200b\u805a\u5408\u200b\u51fd\u6570\u200b(UDTAGG)\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e00\u884c\u200b\u6216\u200b\u591a\u884c\u200b\u6570\u636e\u200b(\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u8868\u200b)\u200b\u805a\u5408\u200b\u6210\u200b\u53e6\u200b \u200b\u4e00\u5f20\u200b\u8868\u200b</p> <pre><code>package com.matt.apitest.table;\n\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.table.functions.TableAggregateFunction;\nimport org.apache.flink.util.Collector;\n\nimport static org.apache.flink.table.api.Expressions.$;\nimport static org.apache.flink.table.api.Expressions.call;\n\n/**\n * @author matt\n * @create 2023-04-06 22:32\n * @desc xxx\n */\npublic class UDFTest_TableAggFunc {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n        // 1.\u200b\u65b0\u5efa\u200b\u8868\u200b\u6307\u5b9a\u200b\n        String createDDL = \"CREATE TABLE clickTable (\" +\n                \"`user` STRING, \" +\n                \"ts BIGINT, \" +\n                \"url STRING,\" +\n                \"et AS TO_TIMESTAMP(FROM_UNIXTIME(ts)),\" +\n                \"WATERMARK FOR et as et - INTERVAL '1' SECOND\" +\n                \") WITH (\" +\n                \"'connector' = 'filesystem',\" +\n                \"'path' = '/Users/matt/workspace/java/stu/stu-flink/src/main/resources/sensor.txt',\" +\n                \"'format' = 'csv'\" +\n                \")\"; // , \u200b\u5206\u5272\u200b\u7684\u200b\u6587\u672c\u6587\u4ef6\u200b\n        tableEnv.executeSql(createDDL);\n        tableEnv.createTemporarySystemFunction(\"Top2\", Top2.class);\n\n        Table aggT = tableEnv.sqlQuery(\"SELECT user, COUNT(url) as cnt, window_start, window_end \" +\n                \"FROM Table (\" +\n                \"   TUMBLE(TABLE clickTable, DESCRIPTOR(et), INTERVAL '10' SECOND) \" +\n                \")\" +\n                \"GROUP BY user, window_start, window_end\");\n        Table top2T = aggT.groupBy($(\"window_end\"))\n                .flatAggregate(call(\"Top2\", $(\"cnt\")).as(\"v\", \"rank\"))\n                .select($(\"window_end\"), $(\"v\"), $(\"rank\"));\n        tableEnv.toChangelogStream(top2T).print();\n        env.execute();\n    }\n\n\n    public static class Top2Acc {\n        public Long max = Long.MIN_VALUE;\n        public Long secondMax = Long.MIN_VALUE;\n    }\n\n    public static class Top2 extends TableAggregateFunction&lt;Tuple2&lt;Long, Integer&gt;, Top2Acc&gt; {\n\n        @Override\n        public Top2Acc createAccumulator() {\n            return new Top2Acc();\n        }\n\n        // \u200b\u6807\u51c6\u200b\n        public void accumulate(Top2Acc acc, Long v) {\n            if (v &gt; acc.max) {\n                acc.secondMax = acc.max;\n                acc.max = v;\n            } else if (v &gt; acc.secondMax) {\n                acc.secondMax = v;\n            }\n        }\n\n        public void emitValue(Top2Acc acc, Collector&lt;Tuple2&lt;Long, Integer&gt;&gt; collector) {\n            if (acc.max != Long.MIN_VALUE) {\n                collector.collect(Tuple2.of(acc.max, 1));\n            }\n            if (acc.secondMax != Long.MIN_VALUE) {\n                collector.collect(Tuple2.of(acc.secondMax, 2));\n            }\n        }\n    }\n}\n</code></pre> <p>\u200b\u76ee\u524d\u200b SQL \u200b\u4e2d\u200b\u6ca1\u6709\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u8868\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b Table API \u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u8c03\u7528\u200b</p> <p>emitUpdateWithRetract()\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200b\u7ed3\u679c\u200b\u8868\u200b\u53d1\u751f\u53d8\u5316\u200b\u65f6\u200b\uff0c\u200b\u4ee5\u200b\u201c\u200b\u64a4\u56de\u200b\u201d(retract)\u200b\u8001\u6570\u200b \u200b\u636e\u200b\u3001\u200b\u53d1\u9001\u200b\u65b0\u200b\u6570\u636e\u200b\u7684\u200b\u65b9\u5f0f\u200b\u589e\u91cf\u200b\u5730\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\u3002\u200b\u5982\u679c\u200b\u540c\u65f6\u200b\u5b9a\u4e49\u200b\u4e86\u200b emitValue()\u200b\u548c\u200b emitUpdateWithRetract() \u200b\u4e24\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5728\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u65f6\u4f1a\u200b\u4f18\u5148\u200b\u8c03\u7528\u200b emitUpdateWithRetract()\u3002</p>"},{"location":"bigdata/flink/table/#sql_1","title":"sql\u200b\u5ba2\u6237\u7aef","text":""},{"location":"bigdata/flink/table/#_51","title":"\u6d41\u7a0b","text":"<p>1.\u200b\u542f\u52a8\u200b\u672c\u5730\u200b\u96c6\u7fa4\u200b</p> <pre><code>./bin/start-cluster.sh\n</code></pre> <p>2.\u200b\u542f\u52a8\u200bflink-sql\u200b\u5ba2\u6237\u7aef\u200b</p> <pre><code>./bin/sql-client.sh\n</code></pre> <p>3.\u200b\u8bbe\u7f6e\u200b\u8fd0\u884c\u200b\u6a21\u5f0f\u200b</p> <p>\u200b\u8868\u200b\u73af\u5883\u200b\u7684\u200b\u8fd0\u884c\u200b\u6a21\u5f0f\u200b\uff0c \u200b\u6709\u6d41\u200b\u5904\u7406\u200b\u548c\u200b\u6279\u5904\u7406\u200b\uff0c \u200b\u9ed8\u8ba4\u200b\u662f\u200b\u6d41\u200b\u5904\u7406\u200b</p> <pre><code>SET 'execution.runtime-mode' = 'streaming';\n</code></pre> <p>\u200b\u5176\u6b21\u200b\u662f\u200b SQL \u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u201c\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\u6a21\u5f0f\u200b\u201d\uff0c\u200b\u4e3b\u8981\u200b\u6709\u200b table\u3001changelog\u3001tableau \u200b\u4e09\u79cd\u200b</p> <pre><code>SET 'sql-client.execution.result-mode' = 'table';\n</code></pre> <ul> <li>table \u200b\u6a21\u5f0f\u200b\u5c31\u662f\u200b\u6700\u200b\u666e\u901a\u200b\u7684\u200b\u8868\u5904\u7406\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4f1a\u4ee5\u200b\u9017\u53f7\u200b\u5206\u9694\u200b\u6bcf\u4e2a\u200b\u5b57\u200b\u6bb5\u200b;</li> <li>changelog \u200b\u5219\u200b\u662f\u200b\u66f4\u65b0\u200b\u65e5\u200b \u200b\u5fd7\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u4f1a\u200b\u5728\u200b\u6570\u636e\u200b\u524d\u200b\u52a0\u4e0a\u200b\u201c+\u201d(\u200b\u8868\u793a\u200b\u63d2\u5165\u200b)\u200b\u6216\u200b\u201c-\u201d(\u200b\u8868\u793a\u200b\u64a4\u56de\u200b)\u200b\u7684\u200b\u524d\u7f00\u200b;</li> <li>tableau \u200b\u5219\u200b\u662f\u200b\u7ecf\u5178\u200b \u200b\u7684\u200b\u53ef\u89c6\u5316\u200b\u8868\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4f1a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u865a\u200b\u7ebf\u6846\u200b\u7684\u200b\u8868\u683c\u200b\u3002</li> </ul> <p>4.\u200b\u7f16\u5199\u200bsql \u200b\u6267\u884c\u200bsql\u200b\u67e5\u8be2\u200b</p>"},{"location":"bigdata/flink/table/#_52","title":"\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u7cfb\u7edf","text":""},{"location":"bigdata/flink/table/#kafka","title":"kafka","text":""},{"location":"bigdata/flink/table/#_53","title":"\u914d\u7f6e\u200b\u4f9d\u8d56","text":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-kafka_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b Kafka \u200b\u800c\u8a00\u200b\uff0cCSV\u3001JSON\u3001Avro \u200b\u7b49\u200b\u4e3b\u8981\u200b\u683c\u5f0f\u200b\u90fd\u200b\u662f\u200b\u652f\u6301\u200b\u7684\u200b\uff0c\u200b\u7531\u4e8e\u200b SQL \u200b\u5ba2\u6237\u7aef\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u5185\u7f6e\u200b\u4e86\u200b CSV\u3001JSON \u200b\u7684\u200b\u652f\u6301\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b\u65f6\u200b\u65e0\u9700\u200b\u4e13\u95e8\u200b\u5f15\u5165\u200b;\u200b\u800c\u200b\u5bf9\u4e8e\u200b \u200b\u6ca1\u6709\u200b\u5185\u7f6e\u200b\u652f\u6301\u200b\u7684\u200b\u683c\u5f0f\u200b(\u200b\u6bd4\u5982\u200b Avro)\uff0c\u200b\u5219\u200b\u4ecd\u7136\u200b\u8981\u200b\u4e0b\u8f7d\u200b\u76f8\u5e94\u200b\u7684\u200b jar \u200b\u5305\u200b</p>"},{"location":"bigdata/flink/table/#_54","title":"\u521b\u5efa\u200b\u8fde\u63a5\u200b\u8868","text":"<pre><code>CREATE TABLE KafkaTable (\n  `user` STRING,\n  `url` STRING,\n  `ts` TIMESTAMP(3) METADATA FROM 'timestamp'\n) WITH (\n'connector' = 'kafka',\n  'topic' = 'events',\n  'properties.bootstrap.servers' = 'localhost:9092',\n  'properties.group.id' = 'testGroup',\n  'scan.startup.mode' = 'earliest-offset',\n  'format' = 'csv'\n)\n</code></pre> <p>METADATA FROM\uff0c\u200b\u8fd9\u662f\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u201c\u200b\u5143\u200b\u6570\u636e\u200b\u5217\u200b\u201d(metadata column)\uff0c\u200b\u5b83\u200b\u662f\u200b\u7531\u200bKafka\u200b\u8fde\u63a5\u5668\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u201ctimestamp\u201d\u200b\u751f\u6210\u200b\u7684\u200b\u3002\u200b\u8fd9\u91cc\u200b\u7684\u200b timestamp \u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b Kafka \u200b\u4e2d\u200b\u6570\u636e\u200b\u81ea\u5e26\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c\u200b\u6211\u4eec\u200b\u628a\u200b \u200b\u5b83\u200b\u76f4\u63a5\u200b\u4f5c\u4e3a\u200b\u5143\u200b\u6570\u636e\u200b\u63d0\u53d6\u200b\u51fa\u6765\u200b\uff0c\u200b\u8f6c\u6362\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b ts\u3002</p>"},{"location":"bigdata/flink/table/#upsert","title":"upsert","text":"<p>Upsert Kafka \u200b\u8fde\u63a5\u5668\u200b\u5904\u7406\u200b\u7684\u200b\u662f\u200b\u66f4\u65b0\u200b\u65e5\u5fd7\u200b(changlog)\u200b\u6d41\u200b\u3002\u200b\u5982\u679c\u200b\u4f5c\u4e3a\u200b TableSource\uff0c \u200b\u8fde\u63a5\u5668\u200b\u4f1a\u200b\u5c06\u200b\u8bfb\u53d6\u200b\u5230\u200b\u7684\u200btopic\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b(key, value)\uff0c\u200b\u89e3\u91ca\u200b\u4e3a\u200b\u5bf9\u200b\u5f53\u524d\u200bkey\u200b\u7684\u200b\u6570\u636e\u200b\u503c\u200b\u7684\u200b\u66f4\u65b0\u200b(UPDATE)\uff0c </p> <p>\u200b\u6ca1\u6709\u200bk \u200b\u5bf9\u5e94\u200b\u7684\u200b\u884c\u5219\u200b\u63d2\u5165\u200b</p> <p>\u200b\u5b58\u5728\u200b\u5219\u200b\u66f4\u65b0\u200b</p> <p>value\u200b\u4e3a\u200b\u7a7a\u5219\u200b\u5220\u9664\u200b</p> <pre><code>CREATE TABLE pageviews_per_region (\n  user_region STRING,\n  pv BIGINT,\n  uv BIGINT,\n  PRIMARY KEY (user_region) NOT ENFORCED\n) WITH (\n  'connector' = 'upsert-kafka',\n  'topic' = 'pageviews_per_region',\n  'properties.bootstrap.servers' = '...',\n'key.format' = 'avro',\n  'value.format' = 'avro'\n);\nCREATE TABLE pageviews (\n  user_id BIGINT,\n  page_id BIGINT,\n  viewtime TIMESTAMP,\n  user_region STRING,\n  WATERMARK FOR viewtime AS viewtime - INTERVAL '2' SECOND\n) WITH (\n  'connector' = 'kafka',\n  'topic' = 'pageviews',\n  'properties.bootstrap.servers' = '...',\n  'format' = 'json'\n);\n-- \u200b\u8ba1\u7b97\u200b pv\u3001uv \u200b\u5e76\u200b\u63d2\u5165\u200b\u5230\u200b upsert-kafka \u200b\u8868\u4e2d\u200b\nINSERT INTO pageviews_per_region SELECT\n  user_region,\n  COUNT(*),\n  COUNT(DISTINCT user_id)\nFROM pageviews\nGROUP BY user_region;\n</code></pre>"},{"location":"bigdata/flink/table/#_55","title":"\u6587\u4ef6\u7cfb\u7edf","text":"<p>flink \u200b\u5df2\u200b\u5185\u7f6e\u200b\u8be5\u200b\u8fde\u63a5\u5668\u200b\u65e0\u9700\u200b\u5bfc\u5165\u200b\u4f9d\u8d56\u200b</p> <pre><code>CREATE TABLE MyTable (\n  column_name1 INT,\n  column_name2 STRING,\n  ...\n  part_name1 INT,\n  part_name2 STRING\n) PARTITIONED BY (part_name1, part_name2) WITH (\n'connector' = 'filesystem', -- \u200b\u8fde\u63a5\u5668\u200b\u7c7b\u578b\u200b\n'path' = '...', -- \u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\n'format' = '...' -- \u200b\u6587\u4ef6\u683c\u5f0f\u200b )\n</code></pre>"},{"location":"bigdata/flink/table/#jdbc","title":"JDBC","text":"<p>\u200b\u4f5c\u4e3a\u200b TableSink \u200b\u5411\u200b\u6570\u636e\u5e93\u200b\u5199\u5165\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u8fd0\u884c\u200b\u7684\u200b\u6a21\u5f0f\u200b\u53d6\u51b3\u4e8e\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200b DDL \u200b\u662f\u5426\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e3b\u952e\u200b (primary key)\u3002</p> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u4e3b\u952e\u200b\uff0c\u200b\u90a3\u4e48\u200b JDBC \u200b\u8fde\u63a5\u5668\u200b\u5c31\u200b\u5c06\u200b\u4ee5\u200b\u66f4\u65b0\u200b\u63d2\u5165\u200b(Upsert)\u200b\u6a21\u5f0f\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5411\u200b \u200b\u5916\u90e8\u200b\u6570\u636e\u5e93\u200b\u53d1\u9001\u200b\u6309\u7167\u200b\u6307\u5b9a\u200b\u952e\u200b(key)\u200b\u7684\u200b\u66f4\u65b0\u200b(UPDATE)\u200b\u548c\u200b\u5220\u9664\u200b(DELETE)\u200b\u64cd\u4f5c\u200b;</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b \u200b\u5b9a\u4e49\u200b\u4e3b\u952e\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u5c06\u200b\u5728\u200b\u8ffd\u52a0\u200b(Append)\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u66f4\u65b0\u200b\u548c\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\u3002</p>"},{"location":"bigdata/flink/table/#_56","title":"\u63a5\u5165\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/flink/table/#_57","title":"\u5f15\u5165\u200b\u4f9d\u8d56","text":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-connector-jdbc_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n   &lt;version&gt;5.1.38&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"bigdata/flink/table/#jdbc_1","title":"\u521b\u5efa\u200bjdbc\u200b\u8868","text":"<pre><code>-- \u200b\u521b\u5efa\u200b\u4e00\u5f20\u200b\u8fde\u63a5\u200b\u5230\u200b MySQL \u200b\u7684\u200b\u8868\u200b \nCREATE TABLE MyTable (\n  id BIGINT,\n  name STRING,\n  age INT,\n  status BOOLEAN,\n  PRIMARY KEY (id) NOT ENFORCED\n) WITH (\n  'connector' = 'jdbc',\n  'url' = 'jdbc:mysql://localhost:3306/mydatabase',\n    'table-name' = 'users'\n);\n-- \u200b\u5c06\u200b\u53e6\u200b\u4e00\u5f20\u200b\u8868\u200b T \u200b\u7684\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u5230\u200b MyTable \u200b\u8868\u4e2d\u200b \nINSERT INTO MyTable\nSELECT id, name, age, status FROM T;\n</code></pre>"},{"location":"bigdata/flink/table/#es","title":"es","text":""},{"location":"bigdata/flink/table/#_58","title":"\u63a5\u5165\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/flink/table/#_59","title":"\u5f15\u5165\u200b\u4f9d\u8d56","text":"<p>es \u200b\u7248\u672c\u200b\u4e0d\u540c\u200b \u200b\u5bfc\u5165\u200b\u4f9d\u8d56\u200b\u7684\u200b\u7248\u672c\u200b\u4e0d\u200b\u4e00\u6837\u200b</p> <pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-elasticsearch6_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-elasticsearch7_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"bigdata/flink/table/#_60","title":"\u521b\u5efa\u200b\u8868","text":"<pre><code>-- \u200b\u521b\u5efa\u200b\u4e00\u5f20\u200b\u8fde\u63a5\u200b\u5230\u200b Elasticsearch \u200b\u7684\u200b \u200b\u8868\u200b CREATE TABLE MyTable (\n  user_id STRING,\n  user_name STRING\n  uv BIGINT,\n  pv BIGINT,\nPRIMARY KEY (user_id) NOT ENFORCED\n) WITH (\n  'connector' = 'elasticsearch-7',\n  'hosts' = 'http://localhost:9200',\n  'index' = 'users'\n);\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e3b\u952e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4f1a\u4ee5\u200b\u66f4\u65b0\u200b\u63d2\u5165\u200b(Upsert)\u200b\u6a21\u5f0f\u200b\u5411\u200b Elasticsearch \u200b\u5199\u5165\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"bigdata/flink/table/#hbase","title":"hbase","text":""},{"location":"bigdata/flink/table/#_61","title":"\u6982\u8ff0","text":"<p>\u200b\u8fde\u63a5\u5668\u200b\u4f5c\u4e3a\u200b TableSink \u200b\u5411\u200b HBase \u200b\u5199\u5165\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u91c7\u7528\u200b\u7684\u200b\u59cb\u7ec8\u200b\u662f\u200b\u66f4\u65b0\u200b\u63d2\u5165\u200b (Upsert)\u200b\u6a21\u5f0f\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0cHBase \u200b\u8981\u6c42\u200b\u8fde\u63a5\u5668\u200b\u5fc5\u987b\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b\u7684\u200b\u4e3b\u952e\u200b(primary key)\u200b\u6765\u200b\u53d1\u9001\u200b\u66f4\u200b \u200b\u65b0\u200b\u65e5\u5fd7\u200b(changelog)\u3002\u200b\u6240\u4ee5\u200b\u5728\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200b DDL \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u8981\u200b\u5b9a\u4e49\u200b\u884c\u952e\u200b(rowkey)\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b \u200b\u5b83\u200b\u58f0\u660e\u200b\u4e3a\u4e3b\u200b\u952e\u200b;\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u7528\u200b PRIMARY KEY \u200b\u5b50\u53e5\u200b\u58f0\u660e\u200b\u4e3b\u952e\u200b\uff0c\u200b\u8fde\u63a5\u5668\u200b\u4f1a\u200b\u9ed8\u8ba4\u200b\u628a\u200b rowkey \u200b\u4f5c\u4e3a\u200b\u4e3b\u952e\u200b\u3002</p>"},{"location":"bigdata/flink/table/#_62","title":"\u63a5\u5165\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/flink/table/#_63","title":"\u5f15\u5165\u200b\u4f9d\u8d56","text":"<p>\u200b\u76ee\u524d\u200b\u4ec5\u200b\u652f\u6301\u200b1.4.x 2.2.x</p> <p>hbase1.4</p> <pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-hbase-1.4_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>hbase1.4</p> <pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-hbase-2.2_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"bigdata/flink/table/#_64","title":"\u521b\u5efa\u200b\u8868","text":"<p>\u200b\u521b\u5efa\u200b\u51fa\u200b\u7684\u200b HBase \u200b\u8868\u4e2d\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u5217\u65cf\u200b(column family)\u200b\u90fd\u200b\u5fc5\u987b\u200b\u58f0\u660e\u200b\u4e3a\u200b ROW \u200b\u7c7b\u578b\u200b\uff0c\u200b\u5728\u200b\u8868\u4e2d\u200b\u5360\u636e\u200b\u4e00\u200b \u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b;\u200b\u800c\u200b\u6bcf\u4e2a\u200b family \u200b\u4e2d\u200b\u7684\u200b\u5217\u200b(column qualifier)\u200b\u5219\u200b\u5bf9\u5e94\u200b\u7740\u200b ROW \u200b\u91cc\u200b\u7684\u200b\u5d4c\u5957\u200b\u5b57\u200b\u6bb5\u200b\u3002\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b \u200b\u5c06\u200b HBase \u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b family \u200b\u548c\u200b qualifier \u200b\u90fd\u200b\u5728\u200b Flink SQL \u200b\u7684\u200b\u8868\u4e2d\u200b\u58f0\u660e\u200b\u51fa\u6765\u200b\uff0c\u200b\u53ea\u8981\u200b\u628a\u200b\u90a3\u4e9b\u200b\u5728\u200b\u67e5\u8be2\u200b\u4e2d\u200b\u7528\u200b \u200b\u5230\u200b\u7684\u200b\u58f0\u660e\u200b\u51fa\u6765\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b\u3002</p> <p>ROW \u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b(\u200b\u5bf9\u5e94\u200b\u7740\u200b HBase \u200b\u4e2d\u200b\u7684\u200b family)\uff0c\u200b\u8868\u4e2d\u200b\u8fd8\u200b\u5e94\u6709\u200b\u4e00\u4e2a\u200b\u539f\u5b50\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b \u200b\u6bb5\u200b\uff0c\u200b\u5b83\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b\u8bc6\u522b\u200b\u4e3a\u200b HBase \u200b\u7684\u200b rowkey\u3002\u200b\u5728\u200b\u8868\u4e2d\u200b\u8fd9\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u53ef\u4ee5\u200b\u4efb\u610f\u200b\u53d6\u540d\u200b\uff0c\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u975e\u8981\u200b\u53eb\u200b rowkey</p> <pre><code>-- \u200b\u521b\u5efa\u200b\u4e00\u5f20\u200b\u8fde\u63a5\u200b\u5230\u200b HBase \u200b\u7684\u200b \u200b\u8868\u200b CREATE TABLE MyTable (\n rowkey INT,\n family1 ROW&lt;q1 INT&gt;,\n family2 ROW&lt;q2 STRING, q3 BIGINT&gt;,\n family3 ROW&lt;q4 DOUBLE, q5 BOOLEAN, q6 STRING&gt;,\n PRIMARY KEY (rowkey) NOT ENFORCED\n) WITH (\n 'connector' = 'hbase-1.4',\n 'table-name' = 'mytable',\n 'zookeeper.quorum' = 'localhost:2181'\n);\n\n-- \u200b\u5047\u8bbe\u200b\u8868\u200b T \u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u7ed3\u6784\u200b\u662f\u200b [rowkey, f1q1, f2q2, f2q3, f3q4, f3q5, f3q6]\nINSERT INTO MyTable\nSELECT rowkey, ROW(f1q1), ROW(f2q2, f2q3), ROW(f3q4, f3q5, f3q6) FROM T;\n</code></pre>"},{"location":"bigdata/flink/table/#hive","title":"hive","text":"<p>flink \u200b\u4e0e\u200b Hive \u200b\u7684\u200b\u96c6\u6210\u200b\u6bd4\u8f83\u200b\u7279\u522b\u200b\u3002Flink \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u201cHive \u200b\u76ee\u5f55\u200b\u201d(HiveCatalog)\u200b\u529f\u80fd\u200b\uff0c\u200b\u5141\u8bb8\u200b\u4f7f\u7528\u200b Hive \u200b\u7684\u200b\u201c\u200b\u5143\u200b\u5b58\u50a8\u200b\u201d(Metastore)\u200b\u6765\u200b\u7ba1\u7406\u200b Flink \u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u200b\u5e26\u6765\u200b\u7684\u200b\u597d\u5904\u200b\u4f53\u73b0\u200b\u5728\u200b\u4e24\u4e2a\u200b\u65b9\u9762\u200b:</p> <p>1.Metastore \u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u6301\u4e45\u200b\u5316\u200b\u7684\u200b\u76ee\u5f55\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f7f\u7528\u200b HiveCatalog \u200b\u53ef\u4ee5\u200b\u8de8\u4f1a\u8bdd\u200b\u5b58\u50a8\u200b Flink \u200b\u7279\u5b9a\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u3002\u200b\u8fd9\u6837\u4e00\u6765\u200b\uff0c\u200b\u6211\u4eec\u200b\u5728\u200b HiveCatalog \u200b\u4e2d\u200b\u6267\u884c\u200b\u6267\u884c\u200b\u521b\u5efa\u200b Kafka \u200b\u8868\u200b\u6216\u8005\u200b ElasticSearch \u200b\u8868\u200b\uff0c \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5b83\u4eec\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u6301\u4e45\u200b\u5316\u200b\u5b58\u50a8\u200b\u5728\u200b Hive \u200b\u7684\u200b Metastore \u200b\u4e2d\u200b;\u200b\u5bf9\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u4f5c\u4e1a\u200b\u4f1a\u8bdd\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u91cd\u590d\u200b\u521b\u5efa\u200b\u4e86\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5728\u200b SQL \u200b\u67e5\u8be2\u200b\u4e2d\u200b\u91cd\u7528\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u3002</p> <p>2.\u200b\u4f7f\u7528\u200b HiveCatalog\uff0cFlink \u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u8bfb\u5199\u200b Hive \u200b\u8868\u200b\u7684\u200b\u66ff\u4ee3\u200b\u5206\u6790\u200b\u5f15\u64ce\u200b\u3002\u200b\u8fd9\u6837\u4e00\u6765\u200b\uff0c\u200b\u5728\u200b Hive \u200b\u4e2d\u200b\u8fdb\u884c\u200b\u6279\u5904\u7406\u200b\u4f1a\u200b\u66f4\u52a0\u200b\u9ad8\u6548\u200b;\u200b\u4e0e\u6b64\u540c\u65f6\u200b\uff0c\u200b\u4e5f\u200b\u6709\u200b\u4e86\u200b\u8fde\u7eed\u200b\u5728\u200b Hive \u200b\u4e2d\u200b\u8bfb\u5199\u200b\u6570\u636e\u200b\u3001\u200b\u8fdb\u884c\u200b\u6d41\u200b\u5904\u7406\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c \u200b\u8fd9\u200b\u4e5f\u200b\u4f7f\u5f97\u200b\u201c\u200b\u5b9e\u65f6\u200b\u6570\u4ed3\u200b\u201d(real-time data warehouse)\u200b\u6210\u4e3a\u200b\u4e86\u200b\u53ef\u80fd\u200b\u3002</p>"},{"location":"bigdata/flink/table/#_65","title":"\u63a5\u5165","text":""},{"location":"bigdata/flink/table/#_66","title":"\u5f15\u5165\u200b\u4f9d\u8d56","text":"<p>\u200b\u76ee\u524d\u200bflink \u200b\u652f\u6301\u200b\u7684\u200b\u7248\u672c\u200b\u6709\u200b</p> <p>Hive 1.x:1.0.0~1.2.2;</p> <p>Hive 2.x:2.0.0-2.2.0-2.3.0-2.3.6;</p> <p>Hive 3.x:3.0.0~3.1.2;</p> <p>\u200b\u9700\u8981\u200b\u6709\u200bhadoop \u200b\u73af\u5883\u200b</p> <pre><code>&lt;!-- Flink \u200b\u7684\u200b Hive \u200b\u8fde\u63a5\u5668\u200b--&gt; &lt;dependency&gt;\n  &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n  &lt;artifactId&gt;flink-connector-hive_${scala.binary.version}&lt;/artifactId&gt;\n  &lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- Hive \u200b\u4f9d\u8d56\u200b --&gt; &lt;dependency&gt;\n   &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n&lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\n   &lt;version&gt;${hive.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u200b\u5efa\u8bae\u200b\u4e0d\u8981\u200b\u628a\u200b\u8fd9\u4e9b\u200b\u4f9d\u8d56\u200b\u6253\u5305\u200b\u5230\u200b\u7ed3\u679c\u200b jar \u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u800c\u662f\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\u7684\u200b\u96c6\u7fa4\u200b\u73af\u5883\u200b\u4e2d\u4e3a\u200b\u4e0d\u540c\u200b\u7684\u200b Hive \u200b\u7248\u672c\u200b\u6dfb\u52a0\u200b\u4e0d\u540c\u200b\u7684\u200b\u4f9d\u8d56\u200b\u652f\u6301\u200b\u3002\u200b\u5177\u4f53\u200b\u7248\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b</p>"},{"location":"bigdata/flink/table/#hive_1","title":"\u8fde\u63a5\u200bhive","text":"<p>\u200b\u5728\u200b Flink \u200b\u4e2d\u200b\u8fde\u63a5\u200b Hive\uff0c\u200b\u662f\u200b\u901a\u8fc7\u200b\u5728\u200b\u8868\u200b\u73af\u5883\u200b\u4e2d\u200b\u914d\u7f6e\u200b HiveCatalog \u200b\u6765\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002\u200b\u9700\u8981\u200b\u8bf4\u660e\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u914d\u200b \u200b\u7f6e\u200b HiveCatalog \u200b\u672c\u8eab\u200b\u5e76\u4e0d\u9700\u8981\u200b\u9650\u5b9a\u200b\u4f7f\u7528\u200b\u54ea\u4e2a\u200b planner\uff0c\u200b\u4e0d\u8fc7\u200b\u5bf9\u200b Hive \u200b\u8868\u200b\u7684\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u53ea\u6709\u200b Blink \u200b\u7684\u200b planner \u200b\u624d\u200b\u652f\u6301\u200b\u3002\u200b\u6240\u4ee5\u200b\u4e00\u822c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u8868\u200b\u73af\u5883\u200b\u7684\u200b planner \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b Blink\u3002</p> <pre><code>EnvironmentSettings settings =\nEnvironmentSettings.newInstance().useBlinkPlanner().build();\nTableEnvironment tableEnv = TableEnvironment.create(settings);\nString name = \"myhive\";\nString defaultDatabase = \"mydatabase\"; String hiveConfDir = \"/opt/hive-conf\";\n// \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b HiveCatalog\uff0c\u200b\u5e76\u200b\u5728\u200b\u8868\u200b\u73af\u5883\u200b\u4e2d\u200b\u6ce8\u518c\u200b\nHiveCatalog hive = new HiveCatalog(name, defaultDatabase, hiveConfDir);\ntableEnv.registerCatalog(\"myhive\", hive);\n// \u200b\u4f7f\u7528\u200b HiveCatalog \u200b\u4f5c\u4e3a\u200b\u5f53\u524d\u200b\u4f1a\u8bdd\u200b\u7684\u200b catalog tableEnv.useCatalog(\"myhive\");\n</code></pre> <pre><code>Flink SQL&gt; create catalog myhive with ('type' = 'hive', 'hive-conf-dir' =\n'/opt/hive-conf');\n[INFO] Execute statement succeed.\nFlink SQL&gt; use catalog myhive;\n[INFO] Execute statement succeed.\n</code></pre>"},{"location":"bigdata/flink/table/#sql_2","title":"\u8bbe\u7f6e\u200bsql\u200b\u65b9\u8a00","text":"<p>Flink \u200b\u76ee\u524d\u200b\u652f\u6301\u200b\u4e24\u79cd\u200b SQL \u200b\u65b9\u8a00\u200b\u7684\u200b\u914d\u7f6e\u200b:default \u200b\u548c\u200b hive\u3002\u200b\u6240\u8c13\u200b\u7684\u200b default \u200b\u5c31\u662f\u200b Flink SQL \u200b\u9ed8\u8ba4\u200b \u200b\u7684\u200bSQL\u200b\u8bed\u6cd5\u200b\u4e86\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5148\u200b\u5207\u6362\u200b\u5230\u200bhive\u200b\u65b9\u8a00\u200b\uff0c\u200b\u7136\u540e\u200b\u624d\u80fd\u200b\u4f7f\u7528\u200bHive SQL\u200b\u7684\u200b\u8bed\u6cd5\u200b\u3002\u200b\u5177\u4f53\u200b\u8bbe\u7f6e\u200b\u53ef\u200b \u200b\u4ee5\u200b\u5206\u4e3a\u200b SQL \u200b\u548c\u200b Table API \u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u3002</p> <p>1.sql\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b</p> <p>\u200b\u65b9\u5f0f\u200b\u4e00\u200b sql\u200b\u914d\u7f6e\u200b</p> <pre><code>set table.sql-dialect=hive;\n</code></pre> <p>\u200b\u65b9\u5f0f\u200b\u4e8c\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u4fee\u6539\u200bsql-cli-defaults.yaml</p> <pre><code>execution:\n  planner: blink\n  type: batch\n  result-mode: table\nconfiguration:\n  table.sql-dialect: hive\n</code></pre> <p>2.tableAPI\u200b\u8bbe\u7f6e\u200b</p> <pre><code>// \u200b\u914d\u7f6e\u200b hive \u200b\u65b9\u8a00\u200b \ntableEnv.getConfig().setSqlDialect(SqlDialect.HIVE); \n// \u200b\u914d\u7f6e\u200b default \u200b\u65b9\u8a00\u200b \ntableEnv.getConfig().setSqlDialect(SqlDialect.DEFAULT);\n</code></pre>"},{"location":"bigdata/flink/table/#hive_2","title":"\u8bfb\u5199\u200bhive","text":"<pre><code>-- \u200b\u8bbe\u7f6e\u200b SQL \u200b\u65b9\u8a00\u200b\u4e3a\u200b hive\uff0c\u200b\u521b\u5efa\u200b Hive \u200b\u8868\u200b \nSET table.sql-dialect=hive; \nCREATE TABLE hive_table (\n  user_id STRING,\n  order_amount DOUBLE\n) PARTITIONED BY (dt STRING, hr STRING) STORED AS parquet TBLPROPERTIES (\n\n  'partition.time-extractor.timestamp-pattern'='$dt $hr:00:00',\n  'sink.partition-commit.trigger'='partition-time',\n  'sink.partition-commit.delay'='1 h',\n  'sink.partition-commit.policy.kind'='metastore,success-file'\n);\n-- \u200b\u8bbe\u7f6e\u200b SQL \u200b\u65b9\u8a00\u200b\u4e3a\u200b default\uff0c\u200b\u521b\u5efa\u200b Kafka \u200b\u8868\u200b \nSET table.sql-dialect=default;\nCREATE TABLE kafka_table (\n  user_id STRING,\n  order_amount DOUBLE,\nlog_ts TIMESTAMP(3),\nWATERMARK FOR log_ts AS log_ts - INTERVAL '5' SECOND \u2013 \u200b\u5b9a\u4e49\u200b\u6c34\u4f4d\u200b\u7ebf\u200b ) WITH (...);\n\n\n\n-- \u200b\u5c06\u200b Kafka \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u7684\u200b\u6570\u636e\u200b\u7ecf\u200b\u8f6c\u6362\u200b\u540e\u200b\u5199\u5165\u200b Hive\nINSERT INTO TABLE hive_table\nSELECT user_id, order_amount, DATE_FORMAT(log_ts, 'yyyy-MM-dd'), DATE_FORMAT(log_ts, 'HH')\nFROM kafka_table;\n</code></pre>"},{"location":"bigdata/flink/timewin/","title":"Timewin","text":""},{"location":"bigdata/flink/timewin/#_1","title":"\u65f6\u95f4\u200b\u8bed\u4e49","text":""},{"location":"bigdata/flink/timewin/#_2","title":"\u4fe9\u79cd\u200b\u65f6\u95f4","text":""},{"location":"bigdata/flink/timewin/#_3","title":"\u6982\u8ff0","text":"<p>\u200b\u5904\u7406\u200b\u65f6\u95f4\u673a\u5668\u200b\u8ba1\u7b97\u200b\u7684\u200b\u65f6\u95f4\u200b</p> <p>\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u6570\u636e\u200b\u4ea7\u751f\u200b\u7684\u200b\u65f6\u95f4\u200b</p>"},{"location":"bigdata/flink/timewin/#_4","title":"\u4f7f\u7528\u200b\u573a\u666f\u200b\uff1a","text":"<p>\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u662f\u200b\u6211\u4eec\u200b\u8ba1\u7b97\u200b\u6548\u7387\u200b\u7684\u200b\u8861\u91cf\u6807\u51c6\u200b\uff0c\u200b\u800c\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u4f1a\u200b\u66f4\u200b\u7b26\u5408\u200b\u6211\u4eec\u200b\u7684\u200b\u4e1a\u52a1\u200b\u8ba1\u7b97\u200b\u903b\u8f91\u200b</p> <p>\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u8bed\u4e49\u200b\uff0c\u200b\u4e00\u822c\u200b\u7528\u200b\u5728\u200b\u5bf9\u200b\u5b9e\u65f6\u6027\u200b\u8981\u6c42\u200b\u6781\u9ad8\u200b\u3001\u200b\u800c\u200b\u5bf9\u200b\u8ba1\u7b97\u200b\u51c6\u786e\u6027\u200b\u8981\u6c42\u200b\u4e0d\u592a\u9ad8\u200b\u7684\u200b\u573a\u666f\u200b\uff0c\u200b\u53cd\u4e4b\u200b\u5c31\u662f\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b</p> <p>flink1.12\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b</p>"},{"location":"bigdata/flink/timewin/#_5","title":"\u6c34\u4f4d\u200b\u7ebf","text":""},{"location":"bigdata/flink/timewin/#_6","title":"\u6982\u8ff0","text":"<ul> <li>\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u662f\u200b\u57fa\u4e8e\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\u751f\u6210\u200b\u7684\u200b\uff0c \u200b\u5411\u200b\u4e0b\u6e38\u200b\u4f20\u9012\u200b\u7279\u6b8a\u200b\u7684\u200b\u6570\u636e\u200b \uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7684\u200b\u8fdb\u5c55\u200b</li> <li>\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u662f\u200b\u5355\u8c03\u200b\u9012\u589e\u200b</li> <li>\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u5904\u7406\u200b\u8fdf\u5230\u200b\u6570\u636e\u200b</li> <li>\u200b\u6c34\u4f4d\u200b\u7ebf\u4e3a\u200bt, \u200b\u5219\u200b\u8868\u793a\u200b&lt;t\u200b\u7684\u200b\u6570\u636e\u200b\u5747\u200b\u5df2\u200b\u5230\u8fbe\u200b</li> </ul>"},{"location":"bigdata/flink/timewin/#_7","title":"\u5982\u4f55\u200b\u751f\u6210\u200b\u6c34\u4f4d\u200b\u7ebf","text":"<pre><code>public interface WatermarkStrategy&lt;T&gt; extends TimestampAssignerSupplier&lt;T&gt;,WatermarkGeneratorSupplier&lt;T&gt;{\n        @Override\n   TimestampAssigner&lt;T&gt; createTimestampAssigner(TimestampAssignerSupplier.Context context);\n    @Override\n  WatermarkGenerator&lt;T&gt; createWatermarkGenerator(WatermarkGeneratorSupplier.Context context);\n}\n</code></pre> <p>\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u76f8\u5173\u200b\u7c7b\u200b\u7684\u200b\u4ecb\u7ecd\u200b</p> <p>TimestampAssigner:\u200b\u65f6\u95f4\u200b\u6233\u200b\u5206\u914d\u5668\u200b\uff0c\u200b\u6307\u5b9a\u200b\u54ea\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u4f5c\u4e3a\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u5b57\u200b\u6bb5\u200b</p> <p>WatermarkGenerator:\u200b\u4e3b\u8981\u200b\u8d1f\u8d23\u200b\u6309\u7167\u200b\u65e2\u5b9a\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u57fa\u4e8e\u200b\u65f6\u95f4\u200b\u6233\u200b\u751f\u6210\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u3002\u200b\u5728\u200b WatermarkGenerator \u200b\u63a5\u53e3\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u8981\u200b\u53c8\u200b\u6709\u200b\u4e24\u4e2a\u200b\u65b9\u6cd5\u200b:onEvent()\u200b\u548c\u200b onPeriodicEmit()\u3002</p> <p>onEvent:\u200b\u6bcf\u4e2a\u200b\u4e8b\u4ef6\u200b(\u200b\u6570\u636e\u200b)\u200b\u5230\u6765\u200b\u90fd\u200b\u4f1a\u200b\u8c03\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b\u6709\u200b\u5f53\u524d\u200b\u4e8b\u4ef6\u200b\u3001\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c \u200b\u4ee5\u53ca\u200b\u5141\u8bb8\u200b\u53d1\u51fa\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u7684\u200b\u4e00\u4e2a\u200b WatermarkOutput\uff0c\u200b\u53ef\u4ee5\u200b\u57fa\u4e8e\u200b\u4e8b\u4ef6\u200b\u505a\u200b\u5404\u79cd\u200b\u64cd\u4f5c\u200b</p> <p>onPeriodicEmit:\u200b\u5468\u671f\u6027\u200b\u8c03\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7531\u200bWatermarkOutput\u200b\u53d1\u51fa\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u3002\u200b\u5468\u671f\u65f6\u95f4\u200b\u4e3a\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8c03\u7528\u200b\u73af\u5883\u200b\u914d\u7f6e\u200b\u7684\u200b.setAutoWatermarkInterval()\u200b\u65b9\u6cd5\u200b\u6765\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b200ms\u3002</p>"},{"location":"bigdata/flink/timewin/#_8","title":"\u7cfb\u7edf\u200b\u5185\u7f6e\u200b\u6c34\u4f4d\u200b\u7ebf","text":"<pre><code>package com.matt.apitest.window;\n\nimport com.matt.apitest.beans.Event;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\nimport java.time.Duration;\n\npublic class Watermark {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        // &gt;=1.12 \u200b\u4e0d\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u5f00\u542f\u200bwatermark\n        // 100ms \u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u751f\u6210\u200b\n        env.getConfig().setAutoWatermarkInterval(100);\n        DataStream&lt;Event&gt; dataStream = env.fromElements(\n                new Event(\"a1\", \"1\", 100L),\n                new Event(\"a2\", \"2\", 200L),\n                new Event(\"a3\", \"3\", 300L),\n                new Event(\"a4\", \"4\", 400L))\n               /* // \u200b\u6709\u5e8f\u200b\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forMonotonousTimestamps()\n                // \u200b\u6307\u5b9a\u200b\u65f6\u95f4\u200b\u5b57\u200b\u6bb5\u200b ms\n                .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                    @Override\n                    public long extractTimestamp(Event event, long l) {\n                        return event.timestamp;\n                    }\n                })*/\n                // \u200b\u4e71\u5e8f\u200b \u200b\u5ef6\u8fdf\u200b\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofMinutes(2))\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n        env.execute(\"matt\");\n    }\n}\n</code></pre> <p>\u200b\u6c34\u4f4d\u200b\u7ebf\u200b = \u200b\u5f53\u524d\u200b\u6700\u5927\u200b\u65f6\u95f4\u200b\u6233\u200b \u2013 \u200b\u5ef6\u8fdf\u65f6\u95f4\u200b \u2013 1</p> <p>\u200b\u6c34\u4f4d\u200b\u7ebf\u4e3a\u200b7 \u200b\u8868\u793a\u200b\u4e0d\u4f1a\u200b\u518d\u6709\u200b&lt;7\u200b\u7684\u200b\u6570\u636e\u200b\u6765\u200b</p>"},{"location":"bigdata/flink/timewin/#_9","title":"\u81ea\u5b9a\u4e49\u200b\u6c34\u4f4d\u200b\u7ebf","text":"<p>\u200b\u81ea\u5b9a\u4e49\u200b\u6570\u636e\u6e90\u200b \u200b\u53d1\u9001\u200b\u6c34\u4f4d\u200b\u7ebf\u200b</p> <pre><code>import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.source.SourceFunction;\nimport org.apache.flink.streaming.api.watermark.Watermark;\nimport java.util.Calendar;\nimport java.util.Random;\npublic class EmitWatermarkInSourceFunction {\n   public static void main(String[] args) throws Exception {\n      StreamExecutionEnvironment env =\n      StreamExecutionEnvironment.getExecutionEnvironment();\n             env.setParallelism(1);\n             env.addSource(new ClickSourceWithWatermark()).print();\n             env.execute();\n   }\n// \u200b\u6cdb\u578b\u200b\u662f\u200b\u6570\u636e\u6e90\u200b\u4e2d\u200b\u7684\u200b\u7c7b\u578b\u200b\npublic static class ClickSourceWithWatermark implements SourceFunction&lt;Event&gt; {\n       private boolean running = true;\n       @Override\n  public void run(SourceContext&lt;Event&gt; sourceContext) throws Exception { Random random = new Random();\n      String[] userArr = {\"Mary\", \"Bob\", \"Alice\"};\n      String[] urlArr = {\"./home\", \"./cart\", \"./prod?id=1\"};\n      while (running) {\n          long currTs = Calendar.getInstance().getTimeInMillis(); // \u200b\u6beb\u79d2\u200b\u65f6\u200b\n          String username = userArr[random.nextInt(userArr.length)]; String url = urlArr[random.nextInt(urlArr.length)];\n          Event event = new Event(username, url, currTs);\n          // \u200b\u4f7f\u7528\u200b collectWithTimestamp \u200b\u65b9\u6cd5\u200b\u5c06\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u51fa\u53bb\u200b\uff0c\u200b\u5e76\u200b\u6307\u660e\u200b\u6570\u636e\u200b\u4e2d\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\n          sourceContext.collectWithTimestamp(event, event.timestamp);\n          // \u200b\u53d1\u9001\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\n          sourceContext.emitWatermark(new Watermark(event.timestamp - 1L)); \n            Thread.sleep(1000L);\n            } \n   }\n   @Override\n   public void cancel() {\n      running = false;\n   }\n} \n\n}\n</code></pre>"},{"location":"bigdata/flink/timewin/#_10","title":"\u4e3a\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u4f20\u9012","text":"<p>\u200b\u5982\u679c\u200b\u4e0a\u6e38\u200b\u6709\u200b\u4e09\u4e2a\u200b\u5206\u533a\u200b\u53d1\u6765\u200b \u200b\u5219\u200b\u53d6\u200b\u6700\u5c0f\u200b\u7684\u200b\u4f5c\u4e3a\u200b \u200b\u6c34\u4f4d\u200b\u7ebf\u200b \u200b\u5e76\u53d1\u200b\u5f80\u200b\u4e0b\u6e38\u200b</p>"},{"location":"bigdata/flink/timewin/#_11","title":"\u7a97\u53e3","text":""},{"location":"bigdata/flink/timewin/#_12","title":"\u7a97\u53e3\u200b\u5206\u7c7b","text":""},{"location":"bigdata/flink/timewin/#_13","title":"\u6309\u7167\u200b\u9a71\u52a8\u200b\u5206","text":"<p>\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\uff1a\u200b\u6839\u636e\u200b\u65f6\u95f4\u200b\u9a71\u52a8\u200b\u6765\u200b\u5212\u5206\u200b\u7a97\u53e3\u200b</p> <p>\u200b\u8ba1\u6570\u200b\u7a97\u53e3\u200b\uff1a\u200b\u6839\u636e\u200b\u6570\u636e\u200b\u4e2a\u6570\u200b\u6765\u200b\u5212\u5206\u200b\u7a97\u53e3\u200b</p>"},{"location":"bigdata/flink/timewin/#_14","title":"\u6309\u7167\u200b\u7a97\u53e3\u200b\u5206\u914d\u200b\u7684\u200b\u6570\u636e\u200b\u89c4\u5219","text":""},{"location":"bigdata/flink/timewin/#_15","title":"\u6eda\u52a8\u200b\u7a97\u53e3","text":"<p>1:00 - 1:10\uff0c \u200b\u5de6\u5fc5\u200b\u53f3\u5f00\u200b</p>"},{"location":"bigdata/flink/timewin/#_16","title":"\u6ed1\u52a8\u200b\u7a97\u53e3","text":"<p>\u200b\u9700\u8981\u200b\u5b9a\u4e49\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u4ee5\u53ca\u200b\u6bcf\u6b21\u200b\u6ed1\u52a8\u200b\u7684\u200b\u6b65\u957f\u200b</p> <p>1:00 - 1:10</p> <p>1:05 - 1:15</p>"},{"location":"bigdata/flink/timewin/#_17","title":"\u4f1a\u8bdd\u200b\u7a97\u53e3\u200b\uff1a","text":"<p>\u200b\u8d85\u8fc7\u200b\u591a\u5c11\u200b\u65f6\u95f4\u200b\u6ca1\u6709\u200b\u6570\u636e\u200b \u200b\u5c31\u200b\u5173\u95ed\u200b\u4f1a\u8bdd\u200b\u5417\u200b, \u200b\u4f1a\u8bdd\u200b\u53ea\u6709\u200b\u65f6\u95f4\u200b\u6ca1\u6709\u200b\u4f1a\u8bdd\u200b\u8ba1\u6570\u200b\u7a97\u53e3\u200b</p> <p>\u200b\u4f1a\u8bdd\u200b\u7a97\u53e3\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b\uff1a</p> <p>\u200b\u5982\u679c\u200b\u6765\u4e2a\u200b\u6570\u636e\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200bgap \u200b\u5927\u4e8e\u200b\u6307\u5b9a\u200b\u7684\u200bsize \u200b\u4efb\u52a1\u200b\u4ed6\u4eec\u200b\u5c5e\u4e8e\u200b\u4e0d\u540c\u200b\u4f1a\u8bdd\u200b\uff0c\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u8fdf\u5230\u200b\u6570\u636e\u200b\u5728\u200b\u4ed6\u4eec\u200b\u4e8c\u8005\u4e4b\u95f4\u200b\u5c31\u200b\u4f1a\u200b\u628a\u200b\u8fd9\u4e2a\u200b\u5e73\u8861\u200b\u6253\u7834\u200b\uff0c </p> <p>\u200b\u6240\u4ee5\u200b\u6bcf\u6765\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u4f1a\u200b\u8bdd\u200b\u7a97\u53e3\u200b;\u200b\u7136\u540e\u200b\u5224\u65ad\u200b\u5df2\u6709\u200b\u7a97\u53e3\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u5982\u679c\u200b\u5c0f\u4e8e\u200b\u7ed9\u5b9a\u200b\u7684\u200b size\uff0c\u200b\u5c31\u200b\u5bf9\u200b\u5b83\u4eec\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b(merge) \u200b\u64cd\u4f5c\u200b</p>"},{"location":"bigdata/flink/timewin/#_18","title":"\u5168\u5c40\u200b\u7a97\u53e3","text":"<p>\u200b\u540c\u4e00\u4e2a\u200bkey \u200b\u4f1a\u200b\u516c\u7528\u200b\u4e00\u4e2a\u200b\u7a97\u53e3\u200b</p>"},{"location":"bigdata/flink/timewin/#api","title":"\u7a97\u53e3\u200bAPI","text":""},{"location":"bigdata/flink/timewin/#_19","title":"\u6982\u8ff0","text":"<p>\u200b\u4f1a\u200b\u6709\u200b\u6309\u952e\u200b\u5206\u533a\u200b\u548c\u200b\u975e\u200b\u6309\u952e\u200b\u5206\u533a\u200b</p> <p>\u200b\u6309\u952e\u200b\u5206\u533a\u200b\u4f1a\u200b\u57fa\u4e8e\u200b\u952e\u200b\u5206\u4e3a\u200b\u591a\u6761\u200b\u903b\u8f91\u200b\u6d41\u200b\uff0c \u200b\u800c\u200b\u975e\u200b\u6309\u952e\u200b\u5206\u533a\u200b\u53ea\u662f\u200b\u4e00\u6761\u200b\u6d41\u200b\uff0c\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u6309\u952e\u200b\u5206\u533a\u200b</p> <p>\u200b\u6309\u952e\u200b\u5206\u533a\u200b</p> <pre><code>stream.keyBy(...)\n      .window(...)\n</code></pre> <p>\u200b\u975e\u200b\u6309\u952e\u200b\u5206\u533a\u200b</p> <pre><code>stream.windowAll(...)\n</code></pre>"},{"location":"bigdata/flink/timewin/#_20","title":"\u5177\u4f53\u200b\u4f7f\u7528","text":"<p>\u200b\u7a97\u53e3\u200b\u5206\u914d\u5668\u200b(Window Assigners)\u200b\u548c\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b(Window Functions)\u3002</p> <pre><code>stream.keyBy(&lt;key selector&gt;) \n  .window(&lt;window assigner&gt;) \n  .aggregate(&lt;window function&gt;)\n</code></pre> <p>window()\u200b\u65b9\u6cd5\u200b\u9700\u8981\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u7a97\u53e3\u200b\u5206\u914d\u5668\u200b\uff0c\u200b\u5b83\u200b\u6307\u660e\u200b\u4e86\u200b\u7a97\u53e3\u200b\u7684\u200b\u7c7b\u578b\u200b;</p> <p>aggregate() \u200b\u65b9\u6cd5\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5b83\u200b\u7528\u6765\u200b\u5b9a\u4e49\u200b\u7a97\u53e3\u200b\u5177\u4f53\u200b\u7684\u200b\u5904\u7406\u200b\u903b\u8f91\u200b\u3002</p> <pre><code>dataStream.map(new MapFunction&lt;Event, Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public Tuple2&lt;String, Long&gt; map(Event event) throws Exception {\n                        return Tuple2.of(event.user, 1L);\n                    }\n                }).keyBy(d -&gt; d.f0)\n                // 1\u200b\u4e2a\u200b\u53c2\u6570\u200b\u6eda\u52a8\u200b 2\u200b\u4e2a\u200b\u53c2\u6570\u200b\u6ed1\u52a8\u200b\n                //.countWindow()\n                // \u200b\u4f1a\u8bdd\u200b\n                //.window(EventTimeSessionWindows.withGap(Time.seconds(2)))\n                // \u200b\u6ed1\u52a8\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\n                //.window(SlidingEventTimeWindows.of(Time.hours(1), Time.hours(1)))\n                // \u200b\u6eda\u52a8\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\n                .window(TumblingEventTimeWindows.of(Time.seconds(10)))\n                //.sum(1).print();\n                // \u200b\u76f8\u540c\u200b\u6570\u636e\u7c7b\u578b\u200b\n                .reduce(new ReduceFunction&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public Tuple2&lt;String, Long&gt; reduce(Tuple2&lt;String, Long&gt; t1, Tuple2&lt;String, Long&gt; t2) throws Exception {\n                        return Tuple2.of(t1.f0, t1.f1 + t2.f1);\n                    }\n                }).print();\n</code></pre>"},{"location":"bigdata/flink/timewin/#_21","title":"\u7a97\u53e3\u200b\u5206\u914d\u5668","text":""},{"location":"bigdata/flink/timewin/#_22","title":"\u65f6\u95f4\u200b\u7a97\u53e3","text":""},{"location":"bigdata/flink/timewin/#_23","title":"\u6eda\u52a8\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7a97\u53e3","text":"<p>\u200b\u652f\u6301\u200b2\u200b\u4e2a\u200b\u53c2\u6570\u200b\uff0c p1: \u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b p2:\u200b\u504f\u79fb\u91cf\u200b</p> <p>\u200b\u504f\u79fb\u91cf\u200b\u89e3\u91ca\u200b\uff1a \u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u4e3a\u200b1min, \u200b\u6b63\u5e38\u200b\u662f\u200b10:00:00 - 10:01:00</p> <p>\u200b\u504f\u79fb\u91cf\u200b\u4e3a\u200b1 \u200b\u90a3\u4e48\u200b\u7a97\u53e3\u200b\u5f00\u542f\u200b\u65f6\u95f4\u200b\u4e3a\u200b10:00:00.001</p> <pre><code> .window(TumblingEventTimeWindows.of(Time.seconds(10)))\n</code></pre>"},{"location":"bigdata/flink/timewin/#_24","title":"\u6ed1\u52a8\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7a97\u53e3","text":"<p>2\u200b\u4e2a\u200b\u53c2\u6570\u200b</p> <p>p1: \u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b, p2:\u200b\u6bcf\u6b21\u200b\u6ed1\u52a8\u200b\u6b65\u957f\u200b</p> <p>p3:\u200b\u53ef\u200b\u9009\u200b\uff0c \u200b\u548c\u200b\u6eda\u52a8\u200b\u7a97\u53e3\u200b\u7c7b\u4f3c\u200b, \u200b\u53ef\u200b\u6307\u5b9a\u200b\u504f\u79fb\u91cf\u200b</p> <pre><code>// \u200b\u6ed1\u52a8\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\n.window(SlidingEventTimeWindows.of(Time.hours(1), Time.hours(1)))\n</code></pre>"},{"location":"bigdata/flink/timewin/#_25","title":"\u4f1a\u8bdd\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7a97\u53e3","text":"<p>\u200b\u8868\u793a\u200b\u4f1a\u8bdd\u200b\u7684\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6700\u200b \u200b\u5c0f\u200b\u95f4\u9694\u200b session gap\u3002\u200b\u6211\u4eec\u200b\u8fd9\u91cc\u200b\u521b\u5efa\u200b\u4e86\u200b\u9759\u6001\u200b\u4f1a\u8bdd\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u4e3a\u200b 10 \u200b\u79d2\u200b\u7684\u200b\u4f1a\u200b\u8bdd\u200b\u7a97\u53e3\u200b\u3002</p> <pre><code>// \u200b\u4f1a\u8bdd\u200b\n//.window(EventTimeSessionWindows.withGap(Time.seconds(2)))\n</code></pre> <p>\u200b\u5904\u7406\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b</p> <p>\u200b\u548c\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b\u7c7b\u4f3c\u200b\uff0cEvent\u200b\u6539\u6210\u200bProcessing\uff0c \u200b\u7528\u6cd5\u200b\u4e00\u81f4\u200b</p>"},{"location":"bigdata/flink/timewin/#_26","title":"\u8ba1\u6570\u200b\u7a97\u53e3","text":""},{"location":"bigdata/flink/timewin/#_27","title":"\u6eda\u52a8\u200b\u6ed1\u52a8\u200b\u8ba1\u6570\u200b\u7a97\u53e3","text":"<pre><code>// 1\u200b\u4e2a\u200b\u53c2\u6570\u200b\u6eda\u52a8\u200b 2\u200b\u4e2a\u200b\u53c2\u6570\u200b\u6ed1\u52a8\u200b\n //.countWindow()\n</code></pre>"},{"location":"bigdata/flink/timewin/#_28","title":"\u5168\u5c40\u200b\u7a97\u53e3","text":"<p>\u200b\u6ce8\u610f\u200b\u4f7f\u7528\u200b\u5168\u5c40\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5fc5\u987b\u200b\u81ea\u884c\u200b\u5b9a\u4e49\u200b\u89e6\u53d1\u5668\u200b\u624d\u80fd\u200b\u5b9e\u73b0\u200b\u7a97\u53e3\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5426\u5219\u200b\u8d77\u200b\u4e0d\u5230\u200b\u4efb\u4f55\u200b\u4f5c\u7528\u200b\u3002</p> <pre><code>stream.keyBy(...)\n.window(GlobalWindows.create());\n</code></pre>"},{"location":"bigdata/flink/timewin/#_29","title":"\u7a97\u53e3\u200b\u51fd\u6570","text":"<p>\u200b\u5206\u4e3a\u200b2\u200b\u7c7b\u200b \u200b\u589e\u91cf\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u548c\u200b\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b</p>"},{"location":"bigdata/flink/timewin/#_30","title":"\u589e\u91cf\u200b\u805a\u5408\u200b\u51fd\u6570","text":"<p>ReduceFunction \u200b\u548c\u200b AggregateFunction\u3002</p>"},{"location":"bigdata/flink/timewin/#reducefunction","title":"ReduceFunction","text":"<p>\u200b\u4e2d\u95f4\u200b\u805a\u5408\u200b\u7684\u200b\u72b6\u6001\u200b\u548c\u200b\u8f93\u51fa\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u90fd\u200b\u548c\u200b\u8f93\u5165\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b</p> <pre><code> .reduce(new ReduceFunction&lt;Tuple2&lt;String, Long&gt;&gt;() {\n                    @Override\n                    public Tuple2&lt;String, Long&gt; reduce(Tuple2&lt;String, Long&gt; t1, Tuple2&lt;String, Long&gt; t2) throws Exception {\n                        return Tuple2.of(t1.f0, t1.f1 + t2.f1);\n                    }\n                })\n</code></pre>"},{"location":"bigdata/flink/timewin/#aggregatefunction","title":"AggregateFunction \u200b\u805a\u5408\u200b\u51fd\u6570","text":"<p>\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u3001\u200b\u4e2d\u95f4\u72b6\u6001\u200b\u3001\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u4e09\u8005\u200b\u7c7b\u578b\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4e0d\u540c\u200b</p> <pre><code>package com.matt.apitest.window;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.AggregateFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.windowing.assigners.SlidingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\n\n\nimport java.time.Duration;\nimport java.util.HashSet;\n\n// pv uv\npublic class WinAggregateTest2 {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        // &gt;=1.12 \u200b\u4e0d\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u5f00\u542f\u200bwatermark\n        // 100ms \u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u751f\u6210\u200b\n        //env.getConfig().setAutoWatermarkInterval(100);\n        DataStream&lt;Event&gt; dataStream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .setParallelism(1)\n                // \u200b\u4e71\u5e8f\u200b \u200b\u5ef6\u8fdf\u200b\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        // \u200b\u6240\u6709\u200b\u6570\u636e\u200b\u653e\u5728\u200b\u4e00\u8d77\u200b \u200b\u53ef\u4ee5\u200b\u6839\u636e\u200burl\u200b\u5206\u5f00\u200b\n        dataStream.keyBy(d -&gt; true)\n                .window(SlidingEventTimeWindows.of(Time.seconds(10), Time.seconds(2)))\n                .aggregate(new AvgPvAggregate())\n                .print();\n\n        env.execute(\"matt\");\n    }\n\n    public static class AvgPvAggregate implements AggregateFunction&lt;Event, Tuple2&lt;Long, HashSet&lt;String&gt;&gt;, Double&gt; {\n\n        @Override\n        public Tuple2&lt;Long, HashSet&lt;String&gt;&gt; createAccumulator() {\n            return Tuple2.of(0L, new HashSet&lt;&gt;());\n        }\n\n        @Override\n        public Tuple2&lt;Long, HashSet&lt;String&gt;&gt; add(Event event, Tuple2&lt;Long, HashSet&lt;String&gt;&gt; tuple2) {\n            tuple2.f1.add(event.user);\n            return Tuple2.of(tuple2.f0 + 1, tuple2.f1);\n        }\n\n        @Override\n        public Double getResult(Tuple2&lt;Long, HashSet&lt;String&gt;&gt; tuple2) {\n            return tuple2.f0 * 1.0 / tuple2.f1.size();\n        }\n\n        @Override\n        public Tuple2&lt;Long, HashSet&lt;String&gt;&gt; merge(Tuple2&lt;Long, HashSet&lt;String&gt;&gt; longHashSetTuple2, Tuple2&lt;Long, HashSet&lt;String&gt;&gt; acc1) {\n            return null;\n        }\n    }\n\n}\n</code></pre> <ul> <li>createAccumulator: \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7d2f\u52a0\u5668\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u805a\u5408\u200b\u4efb\u52a1\u200b\u53ea\u4f1a\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b</li> <li>add:\u200b\u6bcf\u6765\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\u90fd\u200b\u662f\u200b\u8c03\u7528\u200b\u8be5\u200b\u65b9\u6cd5\u200b</li> <li>getResult\uff1a \u200b\u83b7\u53d6\u200b\u805a\u5408\u200b\u540e\u200b\u7684\u200b\u7ed3\u679c\u200b</li> <li>merge:\u200b\u5408\u5e76\u200b\u4fe9\u4e2a\u200b\u7d2f\u52a0\u5668\u200b\uff0c \u200b\u5e38\u7528\u200b\u4e8e\u4f1a\u8bdd\u200b\u7a97\u53e3\u200b</li> </ul>"},{"location":"bigdata/flink/timewin/#_31","title":"\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570","text":""},{"location":"bigdata/flink/timewin/#_32","title":"\u6982\u8ff0","text":"<p>\u200b\u4e0e\u200b\u589e\u91cf\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b\u9700\u8981\u200b\u5148\u200b\u6536\u96c6\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5185\u90e8\u200b\u7f13\u5b58\u200b\u8d77\u6765\u200b\uff0c\u200b\u7b49\u5230\u200b\u7a97\u53e3\u200b\u8981\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u7684\u200b\u65f6\u5019\u200b\u518d\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u6709\u200b\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b</p> <p>\u200b\u6211\u4eec\u200b\u8981\u200b\u505a\u200b\u7684\u200b\u8ba1\u7b97\u200b\u5fc5\u987b\u200b\u57fa\u4e8e\u200b\u5168\u90e8\u200b\u7684\u200b \u200b\u6570\u636e\u200b\u624d\u200b\u6709\u6548\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u505a\u200b\u589e\u91cf\u200b\u805a\u5408\u200b\u5c31\u200b\u6ca1\u4ec0\u4e48\u200b\u610f\u4e49\u200b\u4e86\u200b</p> <p>\u200b\u8f93\u51fa\u200b\u7684\u200b\u7ed3\u679c\u200b\u6709\u200b\u53ef\u80fd\u200b\u8981\u200b\u5305\u542b\u200b\u4e0a\u4e0b\u6587\u200b\u4e2d\u200b\u7684\u200b\u4e00\u200b \u200b\u4e9b\u200b\u4fe1\u606f\u200b(\u200b\u6bd4\u5982\u200b\u7a97\u53e3\u200b\u7684\u200b\u8d77\u59cb\u200b\u65f6\u95f4\u200b)\uff0c\u200b\u8fd9\u662f\u200b\u589e\u91cf\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u505a\u200b\u4e0d\u5230\u200b\u7684\u200b</p> <p>\u200b\u5206\u7c7b\u200b</p> <p>WindowFunction \u200b\u548c\u200b ProcessWindowFunction\u3002</p>"},{"location":"bigdata/flink/timewin/#windowfunction","title":"WindowFunction","text":"<p>WindowFunction \u200b\u80fd\u200b\u63d0\u4f9b\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\u4fe1\u606f\u200b\u8f83\u200b\u5c11\u200b\uff0c\u200b\u4e5f\u200b\u6ca1\u6709\u200b\u66f4\u200b\u9ad8\u7ea7\u200b\u7684\u200b\u529f\u80fd\u200b\u3002 \u200b\u4e8b\u5b9e\u4e0a\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u4f5c\u7528\u200b\u53ef\u4ee5\u200b\u88ab\u200b ProcessWindowFunction \u200b\u5168\u200b\u8986\u76d6\u200b\uff0c\u200b\u4e00\u822c\u200b\u5728\u200b \u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\uff0c\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b ProcessWindowFunction \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b</p> <pre><code>stream\n   .keyBy(&lt;key selector&gt;)\n   .window(&lt;window assigner&gt;)\n   .apply(new MyWindowFunction());\n</code></pre>"},{"location":"bigdata/flink/timewin/#processwindowfunction","title":"ProcessWindowFunction","text":"<pre><code>package com.matt.apitest.window;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.streaming.api.functions.windowing.ProcessWindowFunction;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.streaming.api.windowing.windows.TimeWindow;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\nimport java.util.HashSet;\nimport java.util.Iterator;\n\npublic class WindowProcessTest1 {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        // &gt;=1.12 \u200b\u4e0d\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u5f00\u542f\u200bwatermark\n        // 100ms \u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u751f\u6210\u200b\n        //env.getConfig().setAutoWatermarkInterval(100);\n        DataStream&lt;Event&gt; dataStream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .setParallelism(1)\n                // \u200b\u4e71\u5e8f\u200b \u200b\u5ef6\u8fdf\u200b\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n\n        dataStream.keyBy(data -&gt; true)\n                .window(TumblingEventTimeWindows.of(Time.seconds(10)))\n                .process(new UVCountByWindow())\n                .print();\n\n        env.execute(\"\u200b\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b\");\n    }\n\n    public static class UVCountByWindow extends ProcessWindowFunction&lt;Event, String, Boolean, TimeWindow&gt; {\n\n        @Override\n        public void process(Boolean key, ProcessWindowFunction&lt;Event, String, Boolean, TimeWindow&gt;.Context ctx, Iterable&lt;Event&gt; iterable, Collector&lt;String&gt; collector) throws Exception {\n            HashSet&lt;String&gt; usernameSet = new HashSet&lt;&gt;();\n            for (Event e : iterable) {\n                usernameSet.add(e.user);\n            }\n            collector.collect(ctx.window().getStart() / 1000 + \"-\" + ctx.window().getEnd() / 1000 + \"uv-&gt;\" + usernameSet.size());\n        }\n    }\n}\n</code></pre> <p>Event, String, Boolean, TimeWindow</p> <p>\u200b\u8f93\u5165\u200b\u6570\u636e\u200b \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b key \u200b\u7a97\u53e3\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u5168\u200b\u7a97\u53e3\u200b\u51fd\u6570\u200b \u200b\u548c\u200b \u200b\u589e\u91cf\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u7ed3\u5408\u200b\u4f7f\u7528\u200b</p> <pre><code>package com.matt.apitest.window;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.source.SourceTest4_UDF;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.AggregateFunction;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.windowing.ProcessWindowFunction;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.streaming.api.windowing.windows.TimeWindow;\nimport org.apache.flink.util.Collector;\n\nimport java.time.Duration;\nimport java.util.HashSet;\n\n// \u200b\u589e\u91cf\u200b \u200b\u5168\u200b\u7a97\u53e3\u200b \u200b\u7ec4\u5408\u200b\npublic class UVCntExample {\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        // &gt;=1.12 \u200b\u4e0d\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u5f00\u542f\u200bwatermark\n        // 100ms \u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u751f\u6210\u200b\n        //env.getConfig().setAutoWatermarkInterval(100);\n        DataStream&lt;Event&gt; dataStream = env.addSource(new SourceTest4_UDF.ParallelCustomSource())\n                .setParallelism(1)\n                // \u200b\u4e71\u5e8f\u200b \u200b\u5ef6\u8fdf\u200b\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ZERO)\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n\n        dataStream.keyBy(d -&gt; true)\n                .window(TumblingEventTimeWindows.of(Time.seconds(10)))\n                .aggregate(new UvAgg(), new UvCountResult())\n                .print();\n        env.execute();\n    }\n\n    public static class UvAgg implements AggregateFunction&lt;Event, HashSet&lt;String&gt;, Long&gt; {\n\n        @Override\n        public HashSet&lt;String&gt; createAccumulator() {\n            return new HashSet&lt;&gt;();\n        }\n\n        @Override\n        public HashSet&lt;String&gt; add(Event event, HashSet&lt;String&gt; usernameSet) {\n            usernameSet.add(event.user);\n            return usernameSet;\n        }\n\n        @Override\n        public Long getResult(HashSet&lt;String&gt; acc) {\n            return (long) acc.size();\n        }\n\n        @Override\n        public HashSet&lt;String&gt; merge(HashSet&lt;String&gt; strings, HashSet&lt;String&gt; acc1) {\n            return null;\n        }\n    }\n\n    public static class UvCountResult extends ProcessWindowFunction&lt;Long, String, Boolean, TimeWindow&gt; {\n        @Override\n        public void process(Boolean aBoolean, ProcessWindowFunction&lt;Long, String, Boolean, TimeWindow&gt;.Context ctx, Iterable&lt;Long&gt; iterable, Collector&lt;String&gt; collector) throws Exception {\n            Long uv = iterable.iterator().next();\n            collector.collect(ctx.window().getStart() / 1000 + \"-\" + ctx.window().getEnd() / 1000 + \"uv-&gt;\" + uv);\n        }\n    }\n\n}\n</code></pre>"},{"location":"bigdata/flink/timewin/#_33","title":"\u8fdf\u5230\u200b\u6570\u636e","text":""},{"location":"bigdata/flink/timewin/#_34","title":"\u8bbe\u7f6e\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u5ef6\u8fdf\u65f6\u95f4","text":"<p>\u200b\u6bd4\u5982\u200b\u5f53\u524d\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u771f\u5b9e\u200b\u662f\u200b 15s \u200b\u90a3\u4e48\u200b\u751f\u6548\u200b\u540e\u200b\u7684\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u662f\u200b10s \uff08\u200b\u5ef6\u8fdf\u200b5s\uff09</p> <p>\u200b\u6c34\u4f4d\u200b\u7ebf\u200b = eventTime - watermarkDealy - 1</p>"},{"location":"bigdata/flink/timewin/#_35","title":"\u5141\u8bb8\u200b\u7a97\u53e3\u200b\u5904\u7406\u200b\u8fdf\u5230\u200b\u7684\u200b\u6570\u636e","text":"<pre><code>package com.matt.apitest.window;\n\nimport com.matt.apitest.beans.Event;\nimport com.matt.apitest.model.UrlCntBO;\nimport org.apache.flink.api.common.eventtime.SerializableTimestampAssigner;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.windowing.assigners.TumblingEventTimeWindows;\nimport org.apache.flink.streaming.api.windowing.time.Time;\nimport org.apache.flink.util.OutputTag;\n\nimport java.time.Duration;\n\n// \u200b\u5ef6\u8fdf\u200b\u5904\u7406\u200b\npublic class LateDataTest {\n\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        // &gt;=1.12 \u200b\u4e0d\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u5f00\u542f\u200bwatermark\n        // 100ms \u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b\u6c34\u4f4d\u200b\u7ebf\u200b\u751f\u6210\u200b\n        //env.getConfig().setAutoWatermarkInterval(100);\n        env.setParallelism(1);\n        DataStream&lt;Event&gt; dataStream = env.socketTextStream(\"localhost\", 777)\n                .map(\n                        new MapFunction&lt;String, Event&gt;() {\n                            @Override\n                            public Event map(String line) throws Exception {\n                                String[] fArr = line.split(\" \");\n                                return new Event(fArr[0], fArr[1], Long.valueOf(fArr[2]));\n                            }\n                        }\n                )\n                // \u200b\u4e71\u5e8f\u200b \u200b\u5ef6\u8fdf\u200b\n                .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(2L))\n                        .withTimestampAssigner(new SerializableTimestampAssigner&lt;Event&gt;() {\n                            @Override\n                            public long extractTimestamp(Event event, long l) {\n                                return event.timestamp;\n                            }\n                        }));\n\n        dataStream.print(\"in\");\n        // \u200b\u6d4b\u200b\u8f93\u51fa\u200b\u6d41\u200b\u6807\u7b7e\u200b {} \u200b\u9632\u6b62\u200b\u6cdb\u578b\u200b\u67e5\u51fa\u200b \u200b\u5185\u90e8\u200b\u5217\u200b\n        OutputTag&lt;Event&gt; late = new OutputTag&lt;Event&gt;(\"late\"){};\n\n        SingleOutputStreamOperator&lt;UrlCntBO&gt; res = dataStream.keyBy(d -&gt; d.url)\n                .window(TumblingEventTimeWindows.of(Time.seconds(10)))\n                // 1\u200b\u5206\u949f\u200b\u5ef6\u8fdf\u200b \u200b\u6c34\u4f4d\u200b\u7ebf\u67e5\u200b60s \u200b\u5185\u200b \u200b\u4ecd\u7136\u200b\u4f1a\u200b\u8ba1\u7b97\u200b\n                .allowedLateness(Time.minutes(1L))\n                // \u200b\u6ca1\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u653e\u5230\u200b\n                .sideOutputLateData(late)\n                .aggregate(new UrlCntCase.UrlCntAgg(), new UrlCntCase.UrlCntResult());\n\n        res.print(\"res\");\n        DataStream&lt;Event&gt; sideOutput = res.getSideOutput(late);\n        sideOutput.print(\"late\");\n        env.execute();\n    }\n\n\n}\n</code></pre> <p>\u200b\u5982\u4f55\u200b\u8bbe\u7f6e\u200b\u8fdf\u5230\u200b\u65f6\u95f4\u200b\u8fc7\u200b\u4e86\u200b \u200b\u8fd8\u662f\u200b\u4f1a\u200b\u6709\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\u6ca1\u200b\u6765\u200b\uff0c \u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u5c06\u200b\u8fdf\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u5199\u200b\u5230\u200b\u4fa7\u200b\u8f93\u51fa\u200b\u6d41\u200b</p>"},{"location":"bigdata/hadoop/hdfs/","title":"hdfs","text":""},{"location":"bigdata/hadoop/hdfs/#overview","title":"overview","text":""},{"location":"bigdata/hadoop/hdfs/#what","title":"what","text":"<p>hdfs:\u200b\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u200b</p>"},{"location":"bigdata/hadoop/hdfs/#ad-disad","title":"ad disad","text":""},{"location":"bigdata/hadoop/hdfs/#ad","title":"ad","text":"<p>\u200b\u9ad8\u200b\u5bb9\u9519\u6027\u200b\uff1a\u200b\u526f\u672c\u200b</p> <p>\u200b\u9002\u5408\u200b\u5904\u7406\u200b\u5927\u200b\u6570\u636e\u200b:\u200b\u53ef\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u89c4\u6a21\u200b\u5927\u200b</p>"},{"location":"bigdata/hadoop/hdfs/#disad","title":"disad","text":"<p>\u200b\u4e0d\u200b\u9002\u5408\u200b\u4f4e\u200b\u5ef6\u65f6\u200b\u6570\u636e\u200b\u8bbf\u95ee\u200b</p> <p>\u200b\u65e0\u6cd5\u200b\u9ad8\u6548\u200b\u7684\u200b\u5bf9\u200b\u5927\u91cf\u200b\u5c0f\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5b58\u50a8\u200b\uff1a\u200b\u5b58\u50a8\u200b\u5927\u91cf\u200b\u5c0f\u200b\u6587\u4ef6\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5360\u7528\u200bNameNode\u200b\u5927\u91cf\u200b\u7684\u200b\u5185\u5b58\u200b\u6765\u200b\u5b58\u50a8\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u548c\u200b \u200b\u5757\u200b\u4fe1\u606f\u200b</p> <p>\u200b\u4e0d\u200b\u652f\u6301\u200b\u5e76\u53d1\u200b\u5199\u5165\u200b\u3001\u200b\u6587\u4ef6\u200b\u968f\u673a\u200b\u4fee\u6539\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u53ea\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5199\u200b\uff0c\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u591a\u4e2a\u200b\u7ebf\u7a0b\u200b\u540c\u65f6\u200b\u5199\u200b\uff0c\u200b\u4ec5\u200b\u652f\u6301\u200b\u6570\u636e\u200b\u7684\u200b\u8ffd\u52a0\u200b \u200b\u4e0d\u200b\u652f\u6301\u200b\u4fee\u6539\u200b</p>"},{"location":"bigdata/hadoop/hdfs/#framework","title":"framework","text":"<p>1.NameNode\uff08nn\uff09\uff1a\u200b\u5c31\u662f\u200bMaster\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e3b\u7ba1\u200b\u3001\u200b\u7ba1\u7406\u8005\u200b\u3002 \uff081\uff09\u200b\u7ba1\u7406\u200bHDFS\u200b\u7684\u200b\u540d\u79f0\u200b\u7a7a\u95f4\u200b\uff1b \uff082\uff09\u200b\u914d\u7f6e\u200b\u526f\u672c\u200b\u7b56\u7565\u200b\uff1b(\u200b\u6709\u200b\u51e0\u4e2a\u200b\u526f\u672c\u200b) \uff083\uff09\u200b\u7ba1\u7406\u200b\u6570\u636e\u200b\u5757\u200b\uff08Block\uff09\u200b\u6620\u5c04\u200b\u4fe1\u606f\u200b\uff1b \uff084\uff09\u200b\u5904\u7406\u200b\u5ba2\u6237\u7aef\u200b\u8bfb\u5199\u200b\u8bf7\u6c42\u200b\u3002</p> <p>2.DataNode\uff1a\u200b\u5c31\u662f\u200bSlave\u3002NameNode\u200b\u4e0b\u8fbe\u200b\u547d\u4ee4\u200b\uff0cDataNode\u200b\u6267\u884c\u200b\u5b9e\u9645\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002 \uff081\uff09\u200b\u5b58\u50a8\u200b\u5b9e\u9645\u200b\u7684\u200b\u6570\u636e\u200b\u5757\u200b\uff1b \uff082\uff09\u200b\u6267\u884c\u200b\u6570\u636e\u200b\u5757\u200b\u7684\u200b\u8bfb\u200b/\u200b\u5199\u200b\u64cd\u4f5c\u200b\u3002</p> <p>3.Client\uff1a\u200b\u5c31\u662f\u200b\u5ba2\u6237\u7aef\u200b\u3002</p> <p>\uff081\uff09\u200b\u6587\u4ef6\u200b\u5207\u5206\u200b\u3002\u200b\u6587\u4ef6\u200b\u4e0a\u4f20\u200bHDFS\u200b\u7684\u200b\u65f6\u5019\u200b\uff0cClient\u200b\u5c06\u200b\u6587\u4ef6\u200b\u5207\u200b\u5206\u6210\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u7684\u200bBlock\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u4e0a\u4f20\u200b\uff1b</p> <p>// 200mb \u200b\u7684\u200b\u6587\u4ef6\u200b\u5206\u4e3a\u200b 128 72 2\u200b\u5757\u200b \u200b\u9ed8\u8ba4\u200b\u6587\u4ef6\u200b\u5757\u200b\u5927\u5c0f\u200b128mb \u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b</p> <p>\uff082\uff09\u200b\u4e0e\u200bNameNode\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u83b7\u53d6\u200b\u6587\u4ef6\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4fe1\u606f\u200b\uff1b \uff083\uff09\u200b\u4e0e\u200bDataNode\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u8bfb\u53d6\u200b\u6216\u8005\u200b\u5199\u5165\u200b\u6570\u636e\u200b\uff1b \uff084\uff09Client\u200b\u63d0\u4f9b\u200b\u4e00\u4e9b\u200b\u547d\u4ee4\u200b\u6765\u200b\u7ba1\u7406\u200bHDFS\uff0c\u200b\u6bd4\u5982\u200bNameNode\u200b\u683c\u5f0f\u5316\u200b\uff1b \uff085\uff09Client\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4e00\u4e9b\u200b\u547d\u4ee4\u200b\u6765\u200b\u8bbf\u95ee\u200bHDFS\uff0c\u200b\u6bd4\u5982\u200b\u5bf9\u200bHDFS\u200b\u589e\u5220\u200b\u67e5\u6539\u200b\u64cd\u4f5c\u200b\uff1b</p> <p>4.Secondary NameNode\uff1a\u200b\u5e76\u975e\u200bNameNode\u200b\u7684\u200b\u70ed\u5907\u200b\u3002\u200b\u5f53\u200bNameNode\u200b\u6302\u6389\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5b83\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u9a6c\u4e0a\u200b\u66ff\u6362\u200bNameNode\u200b\u5e76\u200b\u63d0\u4f9b\u200b\u670d\u52a1\u200b\u3002 \uff081\uff09\u200b\u8f85\u52a9\u200bNameNode\uff0c\u200b\u5206\u62c5\u200b\u5176\u200b\u5de5\u4f5c\u91cf\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5b9a\u671f\u200b\u5408\u5e76\u200bFsimage\uff08\u200b\u955c\u50cf\u200b\uff09\u200b\u548c\u200bEdits\uff08\u200b\u7f16\u8f91\u200b\u65e5\u5fd7\u200b\uff09\uff0c\u200b\u5e76\u200b\u63a8\u9001\u200b\u7ed9\u200bNameNode\uff1b \uff082\uff09\u200b\u5728\u200b\u7d27\u6025\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u53ef\u200b\u8f85\u52a9\u200b\u6062\u590d\u200bNameNode\u3002</p> <p></p> <p></p> <p>\u200b\u6587\u4ef6\u200b\u5757\u200b\u5927\u5c0f\u200b\u662f\u200b\u4e0a\u9650\u200b</p> <p>\u200b\u5982\u679c\u200b\u5c0f\u4e8e\u200b128mb\u200b\u7684\u200b\u6587\u4ef6\u200b \u200b\u90a3\u4e48\u200b\u6587\u4ef6\u200b\u662f\u200b100mb \u200b\u90a3\u4e48\u200b\u5360\u200b100mb</p> <p>\u200b\u601d\u8003\u200b\uff1a\u200b\u4e3a\u4ec0\u4e48\u200b\u5757\u200b\u7684\u200b\u5927\u5c0f\u200b\u4e0d\u80fd\u200b\u8bbe\u7f6e\u200b\u592a\u5c0f\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u8bbe\u7f6e\u200b\u592a\u200b\u5927\u200b\uff1f </p> <p>\uff081\uff09HDFS\u200b\u7684\u200b\u5757\u200b\u8bbe\u7f6e\u200b\u592a\u5c0f\u200b\uff0c\u200b\u4f1a\u200b\u589e\u52a0\u200b\u5bfb\u5740\u200b\u65f6\u95f4\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u4e00\u76f4\u200b\u5728\u200b\u627e\u200b\u5757\u200b\u7684\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b\uff1b </p> <p>\uff082\uff09\u200b\u5982\u679c\u200b\u5757\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u592a\u5927\u200b\uff0c\u200b\u4ece\u200b\u78c1\u76d8\u200b\u4f20\u8f93\u6570\u636e\u200b\u7684\u200b\u65f6\u95f4\u200b\u4f1a\u200b\u660e\u663e\u200b\u5927\u4e8e\u200b\u5b9a\u4f4d\u200b\u8fd9\u4e2a\u200b\u5757\u200b\u5f00\u200b \u200b\u59cb\u200b\u4f4d\u7f6e\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002\u200b\u5bfc\u81f4\u200b\u7a0b\u5e8f\u200b\u5728\u200b\u5904\u7406\u200b\u8fd9\u5757\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u975e\u5e38\u200b\u6162\u200b\u3002 \u200b\u603b\u7ed3\u200b\uff1aHDFS\u200b\u5757\u200b\u7684\u200b\u5927\u5c0f\u200b\u8bbe\u7f6e\u200b\u4e3b\u8981\u200b\u53d6\u51b3\u4e8e\u200b\u78c1\u76d8\u200b\u4f20\u8f93\u901f\u7387\u200b\u3002</p>"},{"location":"bigdata/hadoop/hdfs/#shell","title":"shell","text":""},{"location":"bigdata/hadoop/hdfs/#help","title":"help","text":"<pre><code>hadoop fs -help rm\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#_1","title":"\u521b\u5efa\u200b\u6587\u4ef6\u5939","text":"<pre><code>hadoop fs -mkdir /sanguo\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#_2","title":"\u526a\u5207","text":"<pre><code>hadoop fs -mv /sanguo/wuguo.txt /\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#_3","title":"\u62f7\u8d1d","text":"<pre><code>hadoop fs -cp /sanguo/shuguo.txt /sanguo/jingguo\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#put","title":"\u4e0a\u4f20\u200b put","text":"<pre><code>hadoop fs -put wuguo.txt /sanguo\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#get","title":"\u4e0b\u8f7d\u200b get","text":"<pre><code>hadoop fs -get /xiyou/test1 ./\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#rm","title":"rm","text":"<pre><code>hadoop fs -rm /sanguo/shuguo.txt\n# \u200b\u9012\u5f52\u200b\u5220\u9664\u200b\nhadoop fs -rm -r /sanguo/shuguo.txt\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#ls","title":"ls","text":"<pre><code>[matt@matt05 stuhadoop]$ hadoop fs -ls /\nFound 4 items\ndrwxr-xr-x   - matt supergroup          0 2021-08-05 23:22 /input\ndrwxr-xr-x   - matt supergroup          0 2021-08-05 00:22 /output\ndrwxr-xr-x   - matt supergroup          0 2021-08-05 23:50 /sanguo\ndrwx------   - matt supergroup          0 2021-08-05 00:21 /tmp\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#cat","title":"cat","text":"<pre><code>[matt@matt05 stuhadoop]$ hadoop fs -cat /sanguo/weiguo.txt\n2021-08-06 00:02:01,065 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\ncaocao\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#tail","title":"tail","text":"<p>-tail\uff1a\u200b\u663e\u793a\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u672b\u5c3e\u200b 1kb \u200b\u7684\u200b\u6570\u636e\u200b</p> <pre><code>hadoop fs -tail /sanguo/wuguo.txt /\n</code></pre> <p></p>"},{"location":"bigdata/hadoop/hdfs/#chmod","title":"\u8bbe\u7f6e\u200b\u6743\u9650\u200bchmod","text":"<pre><code>[matt@matt05 stuhadoop]$ hadoop fs -chmod 777 /sanguo\n[matt@matt05 stuhadoop]$ hadoop fs -ls /\nFound 4 items\ndrwxr-xr-x   - matt supergroup          0 2021-08-05 23:22 /input\ndrwxr-xr-x   - matt supergroup          0 2021-08-05 00:22 /output\ndrwxrwxrwx   - matt supergroup          0 2021-08-05 23:50 /sanguo\ndrwx------   - matt supergroup          0 2021-08-05 00:21 /tmp\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#chown","title":"chown","text":"<pre><code>hadoop fs -chown matt:matt /sanguo/shuguo.txt\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#chgrp","title":"chgrp","text":"<pre><code>hadoop fs -chgrp matt /sanguo/weiguo.txt\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#_4","title":"\u67e5\u770b\u200b\u6587\u4ef6\u5927\u5c0f","text":"<pre><code>hadoop fs -du -h -s /\n</code></pre> <p>\u200b\u4e09\u4e2a\u200b\u526f\u672c\u200b</p> <p></p>"},{"location":"bigdata/hadoop/hdfs/#_5","title":"\u66f4\u52a0\u200b\u8be6\u7ec6\u200b\u5185\u5bb9","text":"<pre><code>hadoop fs -du -h /\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#_6","title":"\u8bbe\u7f6e\u200b\u526f\u672c","text":"<pre><code>hadoop fs -setrep 10 /sanguo\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#api","title":"api","text":""},{"location":"bigdata/hadoop/hdfs/#install","title":"install","text":"<p>\u200b\u89e3\u538b\u200b</p> <p>\u200b\u5982\u679c\u200bwin10\u200b\u8981\u200b\u4f7f\u7528\u200b\u8fd8\u200b\u9700\u8981\u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b\u5e93\u200b</p> <p></p>"},{"location":"bigdata/hadoop/hdfs/#_7","title":"\u914d\u7f6e","text":"<pre><code>HADOOP_HOME\n\n\nD:\\develop\\env\\hadoop-3.1.0 \n</code></pre> <p>path:</p> <pre><code>%HADOOP_HOME%\\bin\n</code></pre> <p></p> <p></p> <p></p> <p>\u200b\u590d\u5236\u200b\u4e0d\u8981\u200b\u5e26\u200b\u7a7a\u683c\u200b\uff0c\u200b\u4e0d\u7136\u200b\u5b83\u200b\u5c31\u200b\u4f1a\u200b\u6362\u884c\u200b</p>"},{"location":"bigdata/hadoop/hdfs/#api_1","title":"api","text":"<p>\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b https://github.com/imattdu/stu-hdfs</p>"},{"location":"bigdata/hadoop/hdfs/#hdfs","title":"hdfs\u200b\u8bfb\u5199\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/hadoop/hdfs/#_8","title":"\u5199\u200b\u6570\u636e\u200b\u6d41\u7a0b","text":""},{"location":"bigdata/hadoop/hdfs/#_9","title":"\u5177\u4f53\u200b\u6d41\u7a0b","text":"<p>1.\u200b\u5ba2\u6237\u7aef\u200b\u901a\u8fc7\u200b Distributed FileSystem \u200b\u6a21\u5757\u200b\u5411\u200b NameNode \u200b\u8bf7\u6c42\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\uff0cNameNode \u200b\u68c0\u67e5\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u662f\u5426\u200b\u5df2\u200b\u5b58\u5728\u200b\uff0c\u200b\u7236\u200b\u76ee\u5f55\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u3002 </p> <p>2.NameNode \u200b\u8fd4\u56de\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u3002 </p> <p>3.\u200b\u5ba2\u6237\u7aef\u200b\u8bf7\u6c42\u200b\u7b2c\u4e00\u4e2a\u200b Block \u200b\u4e0a\u200b\u4f20\u5230\u200b\u54ea\u51e0\u4e2a\u200b DataNode \u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u3002 </p> <p>4.NameNode \u200b\u8fd4\u56de\u200b 3 \u200b\u4e2a\u200b DataNode \u200b\u8282\u70b9\u200b\uff0c\u200b\u5206\u522b\u200b\u4e3a\u200b dn1\u3001dn2\u3001dn3\u3002 </p> <p>5.\u200b\u5ba2\u6237\u7aef\u200b\u901a\u8fc7\u200b FSDataOutputStream \u200b\u6a21\u5757\u200b\u8bf7\u6c42\u200b dn1 \u200b\u4e0a\u4f20\u200b\u6570\u636e\u200b\uff0cdn1 \u200b\u6536\u5230\u200b\u8bf7\u6c42\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u8c03\u7528\u200b dn2\uff0c\u200b\u7136\u540e\u200b dn2 \u200b\u8c03\u7528\u200b dn3\uff0c\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u901a\u4fe1\u200b\u7ba1\u9053\u200b\u5efa\u7acb\u200b\u5b8c\u6210\u200b\u3002 </p> <p>6.dn1\u3001dn2\u3001dn3 \u200b\u9010\u7ea7\u200b\u5e94\u7b54\u200b\u5ba2\u6237\u7aef\u200b\u3002 </p> <p>7.\u200b\u5ba2\u6237\u7aef\u200b\u5f00\u59cb\u200b\u5f80\u200b dn1 \u200b\u4e0a\u4f20\u200b\u7b2c\u4e00\u4e2a\u200b Block\uff08\u200b\u5148\u200b\u4ece\u200b\u78c1\u76d8\u200b\u8bfb\u53d6\u6570\u636e\u200b\u653e\u5230\u200b\u4e00\u4e2a\u200b\u672c\u5730\u200b\u5185\u5b58\u200b\u7f13\u5b58\u200b\uff09\uff0c \u200b\u4ee5\u200b Packet \u200b\u4e3a\u200b\u5355\u4f4d\u200b\uff0cdn1 \u200b\u6536\u5230\u200b\u4e00\u4e2a\u200b Packet \u200b\u5c31\u200b\u4f1a\u200b\u4f20\u7ed9\u200b dn2\uff0cdn2 \u200b\u4f20\u7ed9\u200b dn3\uff1bdn1 \u200b\u6bcf\u4f20\u200b\u4e00\u4e2a\u200b packet \u200b\u4f1a\u200b\u653e\u5165\u200b\u4e00\u4e2a\u200b\u5e94\u7b54\u200b\u961f\u5217\u200b\u7b49\u5f85\u200b\u5e94\u7b54\u200b\u3002 </p> <p>8.\u200b\u5f53\u200b\u4e00\u4e2a\u200b Block \u200b\u4f20\u8f93\u200b\u5b8c\u6210\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5ba2\u6237\u7aef\u200b\u518d\u6b21\u200b\u8bf7\u6c42\u200b NameNode \u200b\u4e0a\u4f20\u200b\u7b2c\u4e8c\u4e2a\u200b Block \u200b\u7684\u200b\u670d\u52a1\u200b \u200b\u5668\u200b\u3002\uff08\u200b\u91cd\u590d\u200b\u6267\u884c\u200b 3-7 \u200b\u6b65\u200b\uff09\u3002</p>"},{"location":"bigdata/hadoop/hdfs/#-","title":"\u7f51\u7edc\u62d3\u6251\u200b-\u200b\u8282\u70b9\u200b\u8ddd\u79bb\u200b\u8ba1\u7b97","text":"<p>\u200b\u5728\u200b HDFS \u200b\u5199\u200b\u6570\u636e\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0cNameNode \u200b\u4f1a\u200b\u9009\u62e9\u200b\u8ddd\u79bb\u200b\u5f85\u200b\u4e0a\u4f20\u200b\u6570\u636e\u200b\u6700\u8fd1\u200b\u8ddd\u79bb\u200b\u7684\u200b DataNode \u200b\u63a5\u200b \u200b\u6536\u200b\u6570\u636e\u200b\u3002\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u6700\u8fd1\u200b\u8ddd\u79bb\u200b\u600e\u4e48\u200b\u8ba1\u7b97\u200b\u5462\u200b\uff1f</p> <p>\u200b\u4fe9\u4e2a\u200b\u8282\u70b9\u200b\u5230\u200b\u6700\u8fd1\u200b\u516c\u5171\u200b\u7956\u5148\u200b\u8282\u70b9\u200b\u7684\u200b\u8ddd\u79bb\u200b\u548c\u200b</p> <p></p> <p>\u200b\u526f\u672c\u200b\u8282\u70b9\u200b\u7684\u200b\u9009\u62e9\u200b</p> <p></p>"},{"location":"bigdata/hadoop/hdfs/#_10","title":"\u8bfb\u6570\u636e","text":""},{"location":"bigdata/hadoop/hdfs/#_11","title":"\u5177\u4f53\u200b\u6d41\u7a0b","text":"<p>1.\u200b\u5ba2\u6237\u7aef\u200b\u901a\u8fc7\u200b DistributedFileSystem \u200b\u5411\u200b NameNode \u200b\u8bf7\u6c42\u200b\u4e0b\u8f7d\u200b\u6587\u4ef6\u200b\uff0cNameNode \u200b\u901a\u8fc7\u200b\u67e5\u8be2\u200b\u5143\u200b\u6570\u636e\u200b\uff0c\u200b\u627e\u5230\u200b\u6587\u4ef6\u200b\u5757\u200b\u6240\u5728\u200b\u7684\u200b DataNode \u200b\u5730\u5740\u200b\u3002 </p> <p>2.\u200b\u6311\u9009\u200b\u4e00\u53f0\u200b DataNode\uff08\u200b\u5c31\u8fd1\u200b\u539f\u5219\u200b\uff0c\u200b\u7136\u540e\u200b\u968f\u673a\u200b\uff09\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u8bf7\u6c42\u200b\u8bfb\u53d6\u6570\u636e\u200b\u3002 </p> <p>3.DataNode \u200b\u5f00\u59cb\u200b\u4f20\u8f93\u6570\u636e\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b\uff08\u200b\u4ece\u200b\u78c1\u76d8\u200b\u91cc\u9762\u200b\u8bfb\u53d6\u6570\u636e\u200b\u8f93\u5165\u200b\u6d41\u200b\uff0c\u200b\u4ee5\u200b Packet \u200b\u4e3a\u200b\u5355\u4f4d\u200b \u200b\u6765\u200b\u505a\u200b\u6821\u9a8c\u200b\uff09\u3002 </p> <p>4.\u200b\u5ba2\u6237\u7aef\u200b\u4ee5\u200b Packet \u200b\u4e3a\u200b\u5355\u4f4d\u200b\u63a5\u6536\u200b\uff0c\u200b\u5148\u200b\u5728\u200b\u672c\u5730\u200b\u7f13\u5b58\u200b\uff0c\u200b\u7136\u540e\u200b\u5199\u5165\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b\u3002</p>"},{"location":"bigdata/hadoop/hdfs/#namenode-secondarynamenode","title":"NameNode \u200b\u548c\u200b SecondaryNameNode","text":""},{"location":"bigdata/hadoop/hdfs/#nn-2nn","title":"NN \u200b\u548c\u200b 2NN \u200b\u5de5\u4f5c\u200b\u673a\u5236","text":"<p>1.\u200b\u7b2c\u4e00\u9636\u6bb5\u200b\uff1aNameNode \u200b\u542f\u52a8\u200b </p> <p>\uff081\uff09\u200b\u7b2c\u4e00\u6b21\u200b\u542f\u52a8\u200b NameNode \u200b\u683c\u5f0f\u5316\u200b\u540e\u200b\uff0c\u200b\u521b\u5efa\u200b Fsimage \u200b\u548c\u200b Edits \u200b\u6587\u4ef6\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u662f\u200b\u7b2c\u4e00\u6b21\u200b\u542f\u52a8\u200b\uff0c\u200b\u76f4\u63a5\u200b\u52a0\u8f7d\u200b\u7f16\u8f91\u200b\u65e5\u5fd7\u200b\u548c\u200b\u955c\u50cf\u6587\u4ef6\u200b\u5230\u200b\u5185\u5b58\u200b\u3002 </p> <p>Fsimage \uff1a\u200b\u955c\u50cf\u6587\u4ef6\u200b</p> <p>Edits \uff1a\u200b\u65e5\u5fd7\u200b</p> <p>\uff082\uff09\u200b\u5ba2\u6237\u7aef\u200b\u5bf9\u5143\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u589e\u5220\u200b\u6539\u200b\u7684\u200b\u8bf7\u6c42\u200b\u3002 </p> <p>\uff083\uff09NameNode \u200b\u8bb0\u5f55\u200b\u64cd\u4f5c\u200b\u65e5\u5fd7\u200b\uff0c\u200b\u66f4\u65b0\u200b\u6eda\u52a8\u200b\u65e5\u5fd7\u200b\u3002 </p> <p>\uff084\uff09NameNode \u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u5bf9\u200b\u5143\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u589e\u5220\u200b\u6539\u200b\u3002 </p> <p>2.\u200b\u7b2c\u4e8c\u9636\u6bb5\u200b\uff1aSecondary NameNode \u200b\u5de5\u4f5c\u200b </p> <p>\uff081\uff09Secondary NameNode \u200b\u8be2\u95ee\u200b NameNode \u200b\u662f\u5426\u200b\u9700\u8981\u200b CheckPoint\u3002\u200b\u76f4\u63a5\u200b\u5e26\u56de\u200b NameNode \u200b\u662f\u5426\u200b\u68c0\u67e5\u200b\u7ed3\u679c\u200b\u3002 </p> <p>\uff082\uff09Secondary NameNode \u200b\u8bf7\u6c42\u200b\u6267\u884c\u200b CheckPoint\u3002 </p> <p>\uff083\uff09NameNode \u200b\u6eda\u52a8\u200b\u6b63\u5728\u200b\u5199\u200b\u7684\u200b Edits \u200b\u65e5\u5fd7\u200b\u3002 </p> <p>\uff084\uff09\u200b\u5c06\u200b\u6eda\u52a8\u200b\u524d\u200b\u7684\u200b\u7f16\u8f91\u200b\u65e5\u5fd7\u200b\u548c\u200b\u955c\u50cf\u6587\u4ef6\u200b\u62f7\u8d1d\u5230\u200b Secondary NameNode\u3002 </p> <p>\uff085\uff09Secondary NameNode \u200b\u52a0\u8f7d\u200b\u7f16\u8f91\u200b\u65e5\u5fd7\u200b\u548c\u200b\u955c\u50cf\u6587\u4ef6\u200b\u5230\u200b\u5185\u5b58\u200b\uff0c\u200b\u5e76\u200b\u5408\u5e76\u200b\u3002 </p> <p>\uff086\uff09\u200b\u751f\u6210\u200b\u65b0\u200b\u7684\u200b\u955c\u50cf\u6587\u4ef6\u200b fsimage.chkpoint\u3002 </p> <p>\uff087\uff09\u200b\u62f7\u8d1d\u200b fsimage.chkpoint \u200b\u5230\u200b NameNode\u3002 </p> <p>\uff088\uff09NameNode \u200b\u5c06\u200b fsimage.chkpoint \u200b\u91cd\u65b0\u547d\u540d\u200b\u6210\u200b fsimage\u3002</p>"},{"location":"bigdata/hadoop/hdfs/#fsimage-edits","title":"Fsimage \u200b\u548c\u200b Edits \u200b\u89e3\u6790","text":"<p>/opt/module/hadoop-3.1.3/data/dfs/name/current</p> <p></p> <p>\uff081\uff09Fsimage\u200b\u6587\u4ef6\u200b\uff1aHDFS\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u5143\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6c38\u4e45\u6027\u200b\u7684\u200b\u68c0\u67e5\u70b9\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200bHDFS\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u7684\u200b\u6240\u6709\u200b\u76ee\u5f55\u200b\u548c\u200b\u6587\u4ef6\u200binode\u200b\u7684\u200b\u5e8f\u5217\u5316\u200b\u4fe1\u606f\u200b\u3002 fsimage_0000000000000000000 fsimage_0000000000000000000.md5 seen_txid VERSION </p> <p>\uff082\uff09Edits\u200b\u6587\u4ef6\u200b\uff1a\u200b\u5b58\u653e\u200bHDFS\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u7684\u200b\u6240\u6709\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u5ba2\u6237\u7aef\u200b\u6267\u884c\u200b\u7684\u200b\u6240\u6709\u200b\u5199\u200b\u64cd\u4f5c\u200b\u9996\u5148\u200b \u200b\u4f1a\u200b\u88ab\u200b\u8bb0\u5f55\u200b\u5230\u200bEdits\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u3002 </p> <p>\uff083\uff09seen_txid\u200b\u6587\u4ef6\u200b\u4fdd\u5b58\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\uff0c\u200b\u5c31\u662f\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200bedits_\u200b\u7684\u200b\u6570\u5b57\u200b </p> <p>\uff084\uff09\u200b\u6bcf\u200b \u200b\u6b21\u200bNameNode\u200b\u542f\u52a8\u200b\u7684\u200b\u65f6\u5019\u200b\u90fd\u200b\u4f1a\u200b\u5c06\u200bFsimage\u200b\u6587\u4ef6\u200b\u8bfb\u5165\u200b\u5185\u5b58\u200b\uff0c\u200b\u52a0\u200b \u200b\u8f7d\u200bEdits\u200b\u91cc\u9762\u200b\u7684\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u5185\u5b58\u200b \u200b\u4e2d\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u4fe1\u606f\u200b\u662f\u200b\u6700\u65b0\u200b\u7684\u200b\u3001\u200b\u540c\u6b65\u200b\u7684\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u6210\u200bNameNode\u200b\u542f\u52a8\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u5c06\u200bFsimage\u200b\u548c\u200bEdits\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5408\u5e76\u200b\u3002</p>"},{"location":"bigdata/hadoop/hdfs/#521-oiv-fsimage","title":"5.2.1 oiv \u200b\u67e5\u770b\u200b Fsimage \u200b\u6587\u4ef6","text":"<p>hdfs oiv -p \u200b\u6587\u4ef6\u7c7b\u578b\u200b -i \u200b\u955c\u50cf\u6587\u4ef6\u200b -o \u200b\u8f6c\u6362\u200b\u540e\u200b\u6587\u4ef6\u200b\u8f93\u51fa\u200b\u8def\u5f84\u200b</p> <pre><code>cd /opt/module/hadoop-3.1.3/data/dfs/name/current\n</code></pre> <pre><code>hdfs oiv -p XML -i fsimage_0000000000000009738 -o /opt/module/hadoop-3.1.3/fsimage.xml\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#522-oev-edits","title":"5.2.2 oev \u200b\u67e5\u770b\u200b Edits \u200b\u6587\u4ef6","text":"<p>hdfs oev -p \u200b\u6587\u4ef6\u7c7b\u578b\u200b -i \u200b\u955c\u50cf\u6587\u4ef6\u200b -o \u200b\u8f6c\u6362\u200b\u540e\u200b\u6587\u4ef6\u200b\u8f93\u51fa\u200b\u8def\u5f84\u200b</p> <pre><code>hdfs oev -p XML -i edits_inprogress_0000000000000008686 -o /opt/module/hadoop-3.1.3/edits.xml\n</code></pre> <p>\u200b\u4e0b\u8f7d\u200b\u6587\u4ef6\u200b\u5230\u200b\u672c\u5730\u200b</p> <pre><code>sz fsimage.xml\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#53checkpoint","title":"5.3CheckPoint \u200b\u65f6\u95f4\u200b\u8bbe\u7f6e","text":"<p>1\uff09\u200b\u901a\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cSecondaryNameNode \u200b\u6bcf\u9694\u200b\u4e00\u200b\u5c0f\u65f6\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u3002 </p> <pre><code>&lt;property&gt;\n     &lt;name&gt;dfs.namenode.checkpoint.period&lt;/name&gt;\n     &lt;value&gt;3600s&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <p>2\uff09\u200b\u4e00\u5206\u949f\u200b\u68c0\u67e5\u200b\u4e00\u6b21\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b\uff0c\u200b\u5f53\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b\u8fbe\u5230\u200b 1 \u200b\u767e\u4e07\u200b\u65f6\u200b\uff0cSecondaryNameNode \u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u3002</p> <pre><code>&lt;property&gt;\n    &lt;name&gt;dfs.namenode.checkpoint.txns&lt;/name&gt;\n     &lt;value&gt;1000000&lt;/value&gt;\n    &lt;description&gt;\u200b\u64cd\u4f5c\u200b\u52a8\u4f5c\u200b\u6b21\u6570\u200b&lt;/description&gt;\n&lt;/property&gt;\n&lt;property&gt;\n     &lt;name&gt;dfs.namenode.checkpoint.check.period&lt;/name&gt;\n     &lt;value&gt;60s&lt;/value&gt;\n    &lt;description&gt; 1 \u200b\u5206\u949f\u200b\u68c0\u67e5\u200b\u4e00\u6b21\u200b\u64cd\u4f5c\u200b\u6b21\u6570\u200b&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>"},{"location":"bigdata/hadoop/hdfs/#datanode","title":"datanode","text":""},{"location":"bigdata/hadoop/hdfs/#datanode_1","title":"datanode \u200b\u5de5\u4f5c\u200b\u673a\u5236","text":"<p>1.\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5757\u200b\u5728\u200b DataNode \u200b\u4e0a\u4ee5\u200b\u6587\u4ef6\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u5305\u62ec\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u6570\u636e\u200b \u200b\u672c\u8eab\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u5143\u200b\u6570\u636e\u200b\u5305\u62ec\u200b\u6570\u636e\u200b\u5757\u200b\u7684\u200b\u957f\u5ea6\u200b\uff0c\u200b\u5757\u200b\u6570\u636e\u200b\u7684\u200b\u6821\u9a8c\u200b\u548c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002 </p> <p>2.DataNode \u200b\u542f\u52a8\u200b\u540e\u200b\u5411\u200b NameNode \u200b\u6ce8\u518c\u200b\uff0c\u200b\u901a\u8fc7\u200b\u540e\u200b\uff0c\u200b\u5468\u671f\u6027\u200b\uff086 \u200b\u5c0f\u65f6\u200b\uff09\u200b\u7684\u200b\u5411\u200b NameNode \u200b\u4e0a\u200b \u200b\u62a5\u200b\u6240\u6709\u200b\u7684\u200b\u5757\u200b\u4fe1\u606f\u200b\u3002</p> <pre><code>&lt;property&gt;\n    &lt;name&gt;dfs.blockreport.intervalMsec&lt;/name&gt;\n    &lt;value&gt;21600000&lt;/value&gt;\n    &lt;description&gt;Determines block reporting interval in\n    milliseconds.&lt;/description&gt;\n&lt;/property&gt;\n</code></pre> <p>DN \u200b\u626b\u63cf\u200b\u81ea\u5df1\u200b\u8282\u70b9\u200b\u5757\u200b\u4fe1\u606f\u200b\u5217\u8868\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 6 \u200b\u5c0f\u65f6\u200b</p> <pre><code>&lt;property&gt;\n    &lt;name&gt;dfs.datanode.directoryscan.interval&lt;/name&gt;\n    &lt;value&gt;21600s&lt;/value&gt;\n    &lt;description&gt;Interval in seconds for Datanode to scan datadirectories and reconcile the difference between blocks in memory and on\n    the disk.\n    Support multiple time unit suffix(case insensitive), as described\n    in dfs.heartbeat.interval.\n    &lt;/description&gt;\n&lt;/property&gt;\n</code></pre> <p>3.\u200b\u5fc3\u8df3\u200b\u662f\u200b\u6bcf\u200b 3 \u200b\u79d2\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5fc3\u8df3\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u5e26\u6709\u200b NameNode \u200b\u7ed9\u200b\u8be5\u200b DataNode \u200b\u7684\u200b\u547d\u4ee4\u200b\u5982\u200b\u590d\u5236\u200b\u5757\u200b \u200b\u6570\u636e\u200b\u5230\u200b\u53e6\u4e00\u53f0\u200b\u673a\u5668\u200b\uff0c\u200b\u6216\u200b\u5220\u9664\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b\u5757\u200b\u3002\u200b\u5982\u679c\u200b\u8d85\u8fc7\u200b 10 \u200b\u5206\u949f\u200b\u6ca1\u6709\u200b\u6536\u5230\u200b\u67d0\u4e2a\u200b DataNode \u200b\u7684\u200b\u5fc3\u8df3\u200b\uff0c \u200b\u5219\u200b\u8ba4\u4e3a\u200b\u8be5\u200b\u8282\u70b9\u200b\u4e0d\u53ef\u200b\u7528\u200b\u3002 </p> <p>4.\u200b\u96c6\u7fa4\u200b\u8fd0\u884c\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u5b89\u5168\u200b\u52a0\u5165\u200b\u548c\u200b\u9000\u51fa\u200b\u4e00\u4e9b\u200b\u673a\u5668\u200b\u3002</p>"},{"location":"bigdata/hadoop/hdfs/#_12","title":"\u6570\u636e\u200b\u6821\u9a8c","text":"<p>\u200b\u4fdd\u8bc1\u200b\u6570\u636e\u5b8c\u6574\u6027\u200b</p> <p>\u200b\u5982\u4e0b\u200b\u662f\u200b DataNode \u200b\u8282\u70b9\u200b\u4fdd\u8bc1\u200b\u6570\u636e\u5b8c\u6574\u6027\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002 </p> <p>1.\u200b\u5f53\u200b DataNode \u200b\u8bfb\u53d6\u200b Block \u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u8ba1\u7b97\u200b CheckSum\u3002 </p> <p>2.\u200b\u5982\u679c\u200b\u8ba1\u7b97\u200b\u540e\u200b\u7684\u200b CheckSum\uff0c\u200b\u4e0e\u200b Block \u200b\u521b\u5efa\u200b\u65f6\u503c\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u8bf4\u660e\u200b Block \u200b\u5df2\u7ecf\u200b\u635f\u574f\u200b\u3002 </p> <p>3.Client \u200b\u8bfb\u53d6\u200b\u5176\u4ed6\u200b DataNode \u200b\u4e0a\u200b\u7684\u200b Block\u3002 </p> <p>4.\u200b\u5e38\u89c1\u200b\u7684\u200b\u6821\u9a8c\u200b\u7b97\u6cd5\u200b crc\uff0832\uff09\uff0cmd5\uff08128\uff09\uff0csha1\uff08160\uff09 </p> <p>5.DataNode \u200b\u5728\u200b\u5176\u200b\u6587\u4ef6\u521b\u5efa\u200b\u540e\u200b\u5468\u671f\u200b\u9a8c\u8bc1\u200b CheckSum\u3002</p> <p>\u200b\u5947\u5076\u6821\u9a8c\u200b</p> <p>1\u200b\u7684\u200b\u4e2a\u6570\u200b \u200b\u5076\u6570\u200b\u662f\u200b0 \u200b\u5426\u5219\u200b\u662f\u200b1</p> <p></p>"},{"location":"bigdata/hadoop/hdfs/#_13","title":"\u6389\u7ebf\u200b\u65f6\u9650\u200b\u53c2\u6570\u8bbe\u7f6e","text":"<p>4\u3001\u200b\u5982\u679c\u200b\u5b9a\u4e49\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u4e3a\u200bTimeOut\uff0c\u200b\u5219\u200b\u8d85\u65f6\u200b\u65f6\u957f\u200b\u7684\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\u4e3a\u200b\uff1a</p> <p>TimeOut = 2 * dfs.namenode.heartbeat.recheck-interval + 10 * dfs.heartbeat.interval\u3002 \u200b\u800c\u200b\u9ed8\u8ba4\u200b\u7684\u200bdfs.namenode.heartbeat.recheck-interval \u200b\u5927\u5c0f\u200b\u4e3a\u200b5\u200b\u5206\u949f\u200b\uff0cdfs.heartbeat.interval\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3\u200b\u79d2\u200b\u3002</p> <pre><code>&lt;property&gt;\n     &lt;name&gt;dfs.namenode.heartbeat.recheck-interval&lt;/name&gt;\n     &lt;value&gt;300000&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n     &lt;name&gt;dfs.heartbeat.interval&lt;/name&gt;\n     &lt;value&gt;3&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/","title":"mapreduce","text":""},{"location":"bigdata/hadoop/mapreduce/#overview","title":"overview","text":""},{"location":"bigdata/hadoop/mapreduce/#what","title":"what","text":"<p>MapReduce \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u5f0f\u200b\u8fd0\u7b97\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u7f16\u7a0b\u200b\u6846\u67b6\u200b\uff0c\u200b\u662f\u200b\u7528\u6237\u200b\u5f00\u53d1\u200b\u201c\u200b\u57fa\u4e8e\u200b Hadoop \u200b\u7684\u200b\u6570\u636e\u5206\u6790\u200b\u5e94\u7528\u200b\u201d\u200b\u7684\u200b\u6838\u5fc3\u200b\u6846\u67b6\u200b\u3002</p> <p>MapReduce \u200b\u6838\u5fc3\u200b\u529f\u80fd\u200b\u662f\u200b\u5c06\u200b\u7528\u6237\u200b\u7f16\u5199\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\u4ee3\u7801\u200b\u548c\u200b\u81ea\u5e26\u200b\u9ed8\u8ba4\u200b\u7ec4\u4ef6\u200b\u6574\u5408\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b \u200b\u5206\u5e03\u5f0f\u200b\u8fd0\u7b97\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u5e76\u53d1\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e00\u4e2a\u200b Hadoop \u200b\u96c6\u7fa4\u200b\u4e0a\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#ad-disad","title":"ad disad","text":""},{"location":"bigdata/hadoop/mapreduce/#ad","title":"ad","text":"<p>1.MapReduce \u200b\u6613\u4e8e\u200b\u7f16\u7a0b\u200b</p> <p>\u200b   \u200b\u5b83\u200b\u7b80\u5355\u200b\u7684\u200b\u5b9e\u73b0\u200b\u4e00\u4e9b\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b8c\u6210\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u5f0f\u200b\u7a0b\u5e8f\u200b\uff0c</p> <p>2.\u200b\u826f\u597d\u200b\u7684\u200b\u6269\u5c55\u6027\u200b</p> <p>\u200b   \u200b\u53ef\u4ee5\u200b\u52a8\u6001\u200b\u589e\u52a0\u200b\u673a\u5668\u200b</p> <p>3.\u200b\u9ad8\u200b\u5bb9\u9519\u6027\u200b</p> <p>\u200b   \u200b\u5176\u4e2d\u200b\u4e00\u53f0\u200b\u673a\u5668\u200b\u6302\u200b\u4e86\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4e0a\u9762\u200b\u7684\u200b\u8ba1\u7b97\u200b\u4efb\u52a1\u200b\u8f6c\u79fb\u200b\u5230\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u4e0a\u200b\u8fd0\u884c\u200b\uff0c \u200b\u4e0d\u81f3\u4e8e\u200b\u8fd9\u4e2a\u200b\u4efb\u52a1\u200b\u8fd0\u884c\u200b\u5931\u8d25\u200b</p>"},{"location":"bigdata/hadoop/mapreduce/#disad","title":"disad","text":"<p>1.\u200b\u4e0d\u200b\u64c5\u957f\u200b\u5b9e\u65f6\u200b\u8ba1\u7b97\u200b</p> <p>\u200b   MapReduce \u200b\u65e0\u6cd5\u200b\u50cf\u200b MySQL \u200b\u4e00\u6837\u200b\uff0c\u200b\u5728\u200b\u6beb\u79d2\u200b\u6216\u8005\u200b\u79d2\u7ea7\u200b\u5185\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u3002</p> <p>2.\u200b\u4e0d\u200b\u64c5\u957f\u200b\u6d41\u5f0f\u200b\u8ba1\u7b97\u200b</p> <p>\u200b   \u200b\u6d41\u5f0f\u200b\u8ba1\u7b97\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\u52a8\u6001\u200b\u7684\u200b\uff0c\u200b\u800c\u200b MapReduce \u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u96c6\u662f\u200b\u9759\u6001\u200b\u7684\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u52a8\u6001\u53d8\u5316\u200b\u3002 \u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b MapReduce \u200b\u81ea\u8eab\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u7279\u70b9\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u6570\u636e\u6e90\u200b\u5fc5\u987b\u200b\u662f\u200b\u9759\u6001\u200b\u7684\u200b\u3002</p> <p>3.\u200b\u4e0d\u200b\u64c5\u957f\u200b DAG\uff08\u200b\u6709\u200b\u5411\u200b\u65e0\u200b\u73af\u56fe\u200b\uff09\u200b\u8ba1\u7b97\u200b</p> <p>\u200b   \u200b\u591a\u4e2a\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5b58\u5728\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\uff0c\u200b\u540e\u200b\u4e00\u4e2a\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u7684\u200b\u8f93\u5165\u200b\u4e3a\u200b\u524d\u200b\u4e00\u4e2a\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c MapReduce \u200b\u5e76\u200b\u4e0d\u662f\u200b\u4e0d\u80fd\u200b\u505a\u200b\uff0c\u200b\u800c\u662f\u200b\u4f7f\u7528\u200b\u540e\u200b\uff0c\u200b\u6bcf\u4e2a\u200b MapReduce \u200b\u4f5c\u4e1a\u200b\u7684\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u90fd\u200b\u4f1a\u200b\u5199\u5165\u200b\u5230\u200b\u78c1\u76d8\u200b\uff0c \u200b\u4f1a\u200b\u9020\u6210\u200b\u5927\u91cf\u200b\u7684\u200b\u78c1\u76d8\u200b IO\uff0c\u200b\u5bfc\u81f4\u200b\u6027\u80fd\u200b\u975e\u5e38\u200b\u7684\u200b\u4f4e\u4e0b\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#_1","title":"\u6838\u5fc3\u601d\u60f3","text":"<p>1.\u200b\u5206\u5e03\u5f0f\u200b\u7684\u200b\u8fd0\u7b97\u200b\u7a0b\u5e8f\u200b\u5f80\u5f80\u200b\u9700\u8981\u200b\u5206\u6210\u200b\u81f3\u5c11\u200b 2 \u200b\u4e2a\u200b\u9636\u6bb5\u200b\u3002 </p> <p>2.\u200b\u7b2c\u4e00\u4e2a\u200b\u9636\u6bb5\u200b\u7684\u200b MapTask \u200b\u5e76\u53d1\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u5b8c\u5168\u200b\u5e76\u884c\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4e92\u200b\u4e0d\u76f8\u5e72\u200b\u3002 </p> <p>3.\u200b\u7b2c\u4e8c\u4e2a\u200b\u9636\u6bb5\u200b\u7684\u200b ReduceTask \u200b\u5e76\u53d1\u200b\u5b9e\u4f8b\u200b\u4e92\u200b\u4e0d\u76f8\u5e72\u200b\uff0c\u200b\u4f46\u662f\u200b\u4ed6\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\u4f9d\u8d56\u4e8e\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u9636\u6bb5\u200b \u200b\u7684\u200b\u6240\u6709\u200b MapTask \u200b\u5e76\u53d1\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002 </p> <p>4.MapReduce \u200b\u7f16\u7a0b\u200b\u6a21\u578b\u200b\u53ea\u80fd\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b Map \u200b\u9636\u6bb5\u200b\u548c\u200b\u4e00\u4e2a\u200b Reduce \u200b\u9636\u6bb5\u200b\uff0c\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u7684\u200b\u4e1a\u200b \u200b\u52a1\u200b\u903b\u8f91\u200b\u975e\u5e38\u590d\u6742\u200b\uff0c\u200b\u90a3\u200b\u5c31\u200b\u53ea\u80fd\u200b\u591a\u4e2a\u200b MapReduce \u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u4e32\u884c\u200b\u8fd0\u884c\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#mapreduce","title":"MapReduce\u200b\u8fdb\u7a0b","text":"<p>\uff081\uff09MrAppMaster\uff1a\u200b\u8d1f\u8d23\u200b\u6574\u4e2a\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u8c03\u5ea6\u200b\u53ca\u200b\u72b6\u6001\u200b\u534f\u8c03\u200b\u3002</p> <p>\uff082\uff09MapTask\uff1a\u200b\u8d1f\u8d23\u200b Map \u200b\u9636\u6bb5\u200b\u7684\u200b\u6574\u4e2a\u200b\u6570\u636e\u5904\u7406\u200b\u6d41\u7a0b\u200b\u3002 </p> <p>\uff083\uff09ReduceTask\uff1a\u200b\u8d1f\u8d23\u200b Reduce \u200b\u9636\u6bb5\u200b\u7684\u200b\u6574\u4e2a\u200b\u6570\u636e\u5904\u7406\u200b\u6d41\u7a0b\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#_2","title":"\u5e8f\u5217\u5316\u200b\u7c7b\u578b","text":""},{"location":"bigdata/hadoop/mapreduce/#mapreduce_1","title":"mapreduce\u200b\u7f16\u7801\u200b\u89c4\u8303","text":"<p>1\uff0eMapper\u200b\u9636\u6bb5\u200b </p> <p>\uff081\uff09\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bMapper\u200b\u8981\u200b\u7ee7\u627f\u200b\u81ea\u5df1\u200b\u7684\u200b\u7236\u7c7b\u200b </p> <p>\uff082\uff09Mapper\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200bKV\u200b\u5bf9\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff08KV\u200b\u7684\u200b\u7c7b\u578b\u200b\u53ef\u200b\u81ea\u5b9a\u4e49\u200b\uff09 </p> <p>\uff083\uff09Mapper\u200b\u4e2d\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\u5199\u200b\u5728\u200bmap()\u200b\u65b9\u6cd5\u200b\u4e2d\u200b </p> <p>\uff084\uff09Mapper\u200b\u7684\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u662f\u200bKV\u200b\u5bf9\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff08KV\u200b\u7684\u200b\u7c7b\u578b\u200b\u53ef\u200b\u81ea\u5b9a\u4e49\u200b\uff09 </p> <p>\uff085\uff09map()\u200b\u65b9\u6cd5\u200b\uff08MapTask\u200b\u8fdb\u7a0b\u200b\uff09\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b</p> <p>2\uff0eReducer\u200b\u9636\u6bb5\u200b </p> <p>\uff081\uff09\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bReducer\u200b\u8981\u200b\u7ee7\u627f\u200b\u81ea\u5df1\u200b\u7684\u200b\u7236\u7c7b\u200b</p> <p>\uff082\uff09Reducer\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u7c7b\u578b\u200b\u5bf9\u5e94\u200bMapper\u200b\u7684\u200b\u8f93\u51fa\u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200bKV </p> <p>\uff083\uff09Reducer\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\u5199\u200b\u5728\u200breduce()\u200b\u65b9\u6cd5\u200b\u4e2d\u200b </p> <p>\uff084\uff09ReduceTask\u200b\u8fdb\u7a0b\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u7ec4\u200b\u76f8\u540c\u200bk\u200b\u7684\u200b\u7ec4\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200breduce()\u200b\u65b9\u6cd5\u200b </p> <p>3\uff0eDriver\u200b\u9636\u6bb5\u200b </p> <p>\u200b\u76f8\u5f53\u4e8e\u200bYARN\u200b\u96c6\u7fa4\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\uff0c\u200b\u7528\u4e8e\u200b\u63d0\u4ea4\u200b\u6211\u4eec\u200b\u6574\u4e2a\u200b\u7a0b\u5e8f\u200b\u5230\u200bYARN\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u63d0\u4ea4\u200b\u7684\u200b\u662f\u200b \u200b\u5c01\u88c5\u200b\u4e86\u200bMapReduce\u200b\u7a0b\u5e8f\u200b\u76f8\u5173\u200b\u8fd0\u884c\u200b\u53c2\u6570\u200b\u7684\u200bjob\u200b\u5bf9\u8c61\u200b</p>"},{"location":"bigdata/hadoop/mapreduce/#_3","title":"\u5b9e\u64cd","text":""},{"location":"bigdata/hadoop/mapreduce/#demo","title":"demo","text":""},{"location":"bigdata/hadoop/mapreduce/#_4","title":"\u524d\u63d0","text":"<p>\u200b\u9700\u8981\u200b\u9996\u5148\u200b\u914d\u7f6e\u200b\u597d\u200b HADOOP_HOME \u200b\u53d8\u91cf\u200b\u4ee5\u53ca\u200b Windows \u200b\u8fd0\u884c\u200b\u4f9d\u8d56\u200b\uff08\u200b\u53c2\u8003\u200bhdfs\uff09</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.matt.stu&lt;/groupId&gt;\n    &lt;artifactId&gt;stu-mapreduce&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--\u200b\u4f9d\u8d56\u200b\u7684\u200bjar\u200b\u5305\u200b\u4e5f\u200b\u6253\u8fdb\u53bb\u200b--&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre> <p>log4j.properties</p> <pre><code>log4j.rootLogger=INFO, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d %p [%c] - %m%n\nlog4j.appender.logfile=org.apache.log4j.FileAppender\nlog4j.appender.logfile.File=target/spring.log\nlog4j.appender.logfile.layout=org.apache.log4j.PatternLayout\nlog4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/#_5","title":"\u5177\u4f53\u200b\u5b9e\u73b0","text":"<p>\u200b\u7edf\u8ba1\u200b\u6587\u672c\u200b\u4e2d\u200b\u6bcf\u4e2a\u200b\u5355\u8bcd\u200b\u51fa\u73b0\u200b\u7684\u200b\u6b21\u6570\u200b</p> <p>map:\u200b\u5355\u8bcd\u200b\u7684\u200b\u5207\u5272\u200b</p> <p>reduce:\u200b\u5355\u8bcd\u200b\u7684\u200b\u7edf\u8ba1\u200b</p> <p>driver:\u200b\u4efb\u52a1\u200b\u7684\u200b\u914d\u7f6e\u200b \u200b\u548c\u200b\u63d0\u4ea4\u200b</p> <p></p>"},{"location":"bigdata/hadoop/mapreduce/#hadoop","title":"hadoop\u200b\u96c6\u7fa4\u200b\u8fd0\u884c","text":""},{"location":"bigdata/hadoop/mapreduce/#_6","title":"\u6253\u5305\u200b\u4f9d\u8d56","text":"<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!--\u200b\u4f9d\u8d56\u200b\u7684\u200bjar\u200b\u5305\u200b\u4e5f\u200b\u6253\u8fdb\u53bb\u200b--&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/#_7","title":"\u8fd0\u884c","text":"<p>\u200b\u4e0d\u5e26\u200b\u4f9d\u8d56\u200b\u7684\u200bjar\u200b\u5305\u200b</p> <pre><code>hadoop jar wc.jar com.matt.mapreduce.wordcount2.WordCountDriver /input /output\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/#_8","title":"\u9ed8\u8ba4\u200b\u6848\u4f8b","text":"<pre><code>/opt/module/hadoop-3.1.3/share/hadoop/mapreduce\n</code></pre> <pre><code>sz hadoop-mapreduce-examples-3.1.3.jar\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/#_9","title":"\u66f4\u200b\u591a\u200b\u6848\u4f8b","text":"<p>\u200b\u53c2\u8003\u200b</p> <p>https://github.com/imattdu/stu-mapreduce</p>"},{"location":"bigdata/hadoop/mapreduce/#mapreduce_2","title":"mapreduce \u200b\u539f\u7406","text":""},{"location":"bigdata/hadoop/mapreduce/#src-job","title":"src-\u200b\u63d0\u4ea4\u200bjob","text":"<p>1.\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b</p> <p></p> <p></p> <p>835\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b</p> <p>2.\u200b\u63d0\u4ea4\u200bjob</p> <p>839\u200b\u63d0\u4ea4\u200b\u4efb\u52a1\u200b -&gt;</p> <p></p> <p>(1)81\u200b\u521b\u5efa\u200b\u7ed9\u200b\u96c6\u7fa4\u200b\u63d0\u4ea4\u200b\u6570\u636e\u200b\u7684\u200b Stag \u200b\u8def\u5f84\u200b</p> <p>(2)90\u200b\u83b7\u53d6\u200b jobid \uff0c\u200b\u5e76\u200b\u521b\u5efa\u200b Job \u200b\u8def\u5f84\u200b</p> <p></p> <p>(3)121\u200b\u62f7\u8d1d\u200b jar \u200b\u5305\u5230\u200b\u96c6\u7fa4\u200b</p> <p>(4)124\u200b\u8ba1\u7b97\u200b\u5207\u7247\u200b\uff0c\u200b\u751f\u6210\u200b\u5207\u7247\u200b\u89c4\u5212\u200b\u6587\u4ef6\u200b</p> <p></p> <p>(5)153\u200b\u5411\u200b Stag \u200b\u8def\u5f84\u200b\u5199\u200b XML \u200b\u914d\u7f6e\u6587\u4ef6\u200b</p> <p>(6)155\u200b\u63d0\u4ea4\u200b Job,\u200b\u8fd4\u56de\u200b\u63d0\u4ea4\u200b\u72b6\u6001\u200b</p> <p></p> <p></p>"},{"location":"bigdata/hadoop/mapreduce/#src-fileinputformat","title":"src-FileInputFormat","text":""},{"location":"bigdata/hadoop/mapreduce/#src","title":"src","text":"<p>1.\u200b\u7a0b\u5e8f\u200b\u5148\u200b\u627e\u5230\u200b\u4f60\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002 </p> <p>2.\u200b\u5f00\u59cb\u200b\u904d\u5386\u200b\u5904\u7406\u200b\uff08\u200b\u89c4\u5212\u200b\u5207\u7247\u200b\uff09\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b </p> <p>3.\u200b\u904d\u5386\u200b\u7b2c\u4e00\u4e2a\u200b\u6587\u4ef6\u200bss.txt </p> <p>\u200b   (1)\u200b\u83b7\u53d6\u200b\u6587\u4ef6\u5927\u5c0f\u200bfs.sizeOf(ss.txt) </p> <p>\u200b   (2)\u200b\u8ba1\u7b97\u200b\u5207\u7247\u200b\u5927\u5c0f\u200b computeSplitSize(Math.max(minSize,Math.min(maxSize,blocksize)))=blocksize=128M </p> <p>\u200b   (3)\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5207\u7247\u200b\u5927\u5c0f\u200b=blocksize</p> <p>\u200b   (4)\u200b\u5f00\u59cb\u200b\u5207\u200b\uff0c\u200b\u5f62\u6210\u200b\u7b2c\u200b1\u200b\u4e2a\u200b\u5207\u7247\u200b\uff1ass.txt\u20140:128M \u200b\u7b2c\u200b2\u200b\u4e2a\u200b\u5207\u7247\u200bss.txt\u2014128:256M \u200b\u7b2c\u200b3\u200b\u4e2a\u200b\u5207\u7247\u200bss.txt\u2014256M:300M \uff08\u200b\u6bcf\u6b21\u200b\u5207\u7247\u200b\u65f6\u200b\uff0c\u200b\u90fd\u200b\u8981\u200b\u5224\u65ad\u200b\u5207\u5b8c\u200b\u5269\u4e0b\u200b\u7684\u200b\u90e8\u5206\u200b\u662f\u5426\u200b\u5927\u4e8e\u200b\u5757\u200b\u7684\u200b1.1\u200b\u500d\u200b\uff0c\u200b\u4e0d\u200b\u5927\u4e8e\u200b1.1\u200b\u500d\u200b\u5c31\u200b\u5212\u5206\u200b\u4e00\u5757\u200b\u5207\u7247\u200b\uff09 </p> <p>\u200b   (5)\u200b\u5c06\u200b\u5207\u7247\u200b\u4fe1\u606f\u200b\u5199\u200b\u5230\u200b\u4e00\u4e2a\u200b\u5207\u7247\u200b\u89c4\u5212\u200b\u6587\u4ef6\u200b\u4e2d\u200b</p> <p>\u200b   (6)\u200b\u6574\u4e2a\u200b\u5207\u7247\u200b\u7684\u200b\u6838\u5fc3\u200b\u8fc7\u7a0b\u200b\u5728\u200bgetSplit()\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u5b8c\u6210\u200b </p> <p>\u200b   (7)inputSplit\u200b\u53ea\u200b\u8bb0\u5f55\u200b\u4e86\u200b\u5207\u7247\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6bd4\u5982\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u3001\u200b\u957f\u5ea6\u200b\u4ee5\u53ca\u200b\u6240\u5728\u200b\u7684\u200b\u8282\u70b9\u200b\u5217\u8868\u200b\u7b49\u200b\u3002 </p> <p>4.\u200b\u63d0\u4ea4\u200b\u5207\u7247\u200b\u89c4\u5212\u200b\u6587\u4ef6\u200b\u5230\u200bYARN\u200b\u4e0a\u200b\uff0cYARN\u200b\u4e0a\u200b\u7684\u200bMrAppMaster\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u5207\u7247\u200b\u89c4\u5212\u200b\u6587\u4ef6\u200b\u8ba1\u7b97\u200b\u5f00\u542f\u200bMapTask\u200b\u4e2a\u6570\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#_10","title":"\u5207\u7247\u200b\u673a\u5236","text":"<p>1.\u200b\u7b80\u5355\u200b\u5730\u200b\u6309\u7167\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u957f\u5ea6\u200b\u8fdb\u884c\u200b\u5207\u7247\u200b </p> <p>2.\u200b\u5207\u7247\u200b\u5927\u5c0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u7b49\u4e8e\u200bBlock\u200b\u5927\u5c0f\u200b </p> <p>3.\u200b\u5207\u7247\u200b\u65f6\u200b\u4e0d\u200b\u8003\u8651\u200b\u6570\u636e\u200b\u96c6\u200b\u6574\u4f53\u200b\uff0c\u200b\u800c\u662f\u200b\u9010\u4e2a\u200b\u9488\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u5355\u72ec\u200b\u5207\u7247\u200b</p>"},{"location":"bigdata/hadoop/mapreduce/#_11","title":"\u5207\u7247\u200b\u53e3\u5f84","text":"<pre><code>Math.max(minSize, Math.min(maxSize, blockSize)); \n\nmapreduce.input.fileinputformat.split.minsize=1 \u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b1 \nmapreduce.input.fileinputformat.split.maxsize= Long.MAXValue \u200b\u9ed8\u8ba4\u503c\u200bLong.MAXValue\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/#_12","title":"\u83b7\u53d6\u200b\u5207\u7247\u200b\u4fe1\u606f","text":"<pre><code>// \u200b\u83b7\u53d6\u200b\u5207\u7247\u200b\u7684\u200b\u6587\u4ef6\u540d\u79f0\u200b\nString name = inputSplit.getPath().getName();\n// \u200b\u6839\u636e\u200b\u6587\u4ef6\u7c7b\u578b\u200b\u83b7\u53d6\u200b\u5207\u7247\u200b\u4fe1\u606f\u200b\nFileSplit inputSplit = (FileSplit) context.getInputSplit();\n</code></pre>"},{"location":"bigdata/hadoop/mapreduce/#fileinputformat","title":"FileInputFormat \u200b\u5e38\u89c1\u200b\u5b9e\u73b0\u200b\u7c7b","text":""},{"location":"bigdata/hadoop/mapreduce/#textinputformat","title":"TextInputFormat","text":"<p>TextInputFormat \u200b\u662f\u200b\u9ed8\u8ba4\u200b\u7684\u200b FileInputFormat \u200b\u5b9e\u73b0\u200b\u7c7b\u200b\u3002\u200b\u6309\u884c\u200b\u8bfb\u53d6\u200b\u6bcf\u6761\u200b\u8bb0\u5f55\u200b\u3002\u200b\u952e\u200b\u662f\u200b\u5b58\u50a8\u200b\u8be5\u884c\u200b\u5728\u200b\u6574\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u8d77\u59cb\u200b\u5b57\u8282\u200b\u504f\u79fb\u91cf\u200b\uff0c LongWritable \u200b\u7c7b\u578b\u200b\u3002\u200b\u503c\u200b\u662f\u200b\u8fd9\u884c\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4e0d\u200b\u5305\u62ec\u200b\u4efb\u4f55\u200b\u884c\u200b\u7ec8\u6b62\u200b \u200b\u7b26\u200b\uff08\u200b\u6362\u884c\u7b26\u200b\u548c\u200b\u56de\u8f66\u7b26\u200b\uff09\uff0cText \u200b\u7c7b\u578b\u200b</p>"},{"location":"bigdata/hadoop/mapreduce/#combinetextinputformat","title":"CombineTextInputFormat","text":"<p>CombineTextInputFormat \u200b\u7528\u4e8e\u200b\u5c0f\u200b\u6587\u4ef6\u200b\u8fc7\u591a\u200b\u7684\u200b\u573a\u666f\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u591a\u4e2a\u200b\u5c0f\u200b\u6587\u4ef6\u200b\u4ece\u200b\u903b\u8f91\u200b\u4e0a\u200b\u89c4\u5212\u200b\u5230\u200b \u200b\u4e00\u4e2a\u200b\u5207\u7247\u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u6837\u200b\uff0c\u200b\u591a\u4e2a\u200b\u5c0f\u200b\u6587\u4ef6\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4ea4\u7ed9\u200b\u4e00\u4e2a\u200b MapTask \u200b\u5904\u7406\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#_13","title":"\u5207\u7247","text":"<p>\u200b\u865a\u62df\u5b58\u50a8\u200b</p> <p>\u200b\u5c06\u200b\u8f93\u5165\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u6240\u6709\u200b\u6587\u4ef6\u5927\u5c0f\u200b\uff0c\u200b\u4f9d\u6b21\u200b\u548c\u200b\u8bbe\u7f6e\u200b\u7684\u200b setMaxInputSplitSize \u200b\u503c\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5927\u4e8e\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6700\u5927\u503c\u200b\uff0c\u200b\u903b\u8f91\u200b\u4e0a\u200b\u5212\u5206\u200b\u4e00\u4e2a\u200b\u5757\u200b\u3002\u200b\u5982\u679c\u200b\u8f93\u5165\u200b\u6587\u4ef6\u200b\u5927\u4e8e\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u4e14\u200b\u5927\u4e8e\u200b\u4e24\u500d\u200b\uff0c \u200b\u90a3\u4e48\u200b\u4ee5\u200b\u6700\u5927\u503c\u200b\u5207\u5272\u200b\u4e00\u5757\u200b\uff1b\u200b\u5f53\u200b\u5269\u4f59\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u8d85\u8fc7\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6700\u5927\u503c\u200b\u4e14\u200b\u4e0d\u200b\u5927\u4e8e\u200b\u6700\u5927\u503c\u200b 2 \u200b\u500d\u200b\uff0c\u200b\u6b64\u65f6\u200b \u200b\u5c06\u200b\u6587\u4ef6\u200b\u5747\u200b\u5206\u6210\u200b 2 \u200b\u4e2a\u200b\u865a\u62df\u5b58\u50a8\u200b\u5757\u200b\uff08\u200b\u9632\u6b62\u51fa\u73b0\u200b\u592a\u5c0f\u200b\u5207\u7247\u200b\uff09\u3002</p> <p>\u200b\u5207\u7247\u200b</p> <p>1.\u200b\u5224\u65ad\u200b\u865a\u62df\u5b58\u50a8\u200b\u7684\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u662f\u5426\u200b\u5927\u4e8e\u200b setMaxInputSplitSize \u200b\u503c\u200b\uff0c\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u5219\u200b\u5355\u72ec\u200b \u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u5207\u7247\u200b\u3002 </p> <p>2.\u200b\u5982\u679c\u200b\u4e0d\u200b\u5927\u4e8e\u200b\u5219\u200b\u8ddf\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u865a\u62df\u5b58\u50a8\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\uff0c\u200b\u5171\u540c\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u5207\u7247\u200b\u3002</p> <p></p>"},{"location":"bigdata/hadoop/mapreduce/#mapreduce_3","title":"mapreduce \u200b\u5de5\u4f5c\u200b\u6d41\u7a0b","text":"<p>1.MapTask \u200b\u6536\u96c6\u200b\u6211\u4eec\u200b\u7684\u200b map()\u200b\u65b9\u6cd5\u200b\u8f93\u51fa\u200b\u7684\u200b kv \u200b\u5bf9\u200b\uff0c\u200b\u653e\u5230\u200b\u5185\u5b58\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b </p> <p>2.\u200b\u4ece\u200b\u5185\u5b58\u200b\u7f13\u51b2\u533a\u200b\u4e0d\u65ad\u200b\u6ea2\u51fa\u200b\u672c\u5730\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6ea2\u51fa\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b </p> <p>3.\u200b\u591a\u4e2a\u200b\u6ea2\u51fa\u200b\u6587\u4ef6\u200b\u4f1a\u200b\u88ab\u200b\u5408\u5e76\u200b\u6210\u5927\u200b\u7684\u200b\u6ea2\u51fa\u200b\u6587\u4ef6\u200b </p> <p>4.\u200b\u5728\u200b\u6ea2\u51fa\u200b\u8fc7\u7a0b\u200b\u53ca\u200b\u5408\u5e76\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u90fd\u200b\u8981\u200b\u8c03\u7528\u200b Partitioner \u200b\u8fdb\u884c\u200b\u5206\u533a\u200b\u548c\u200b\u9488\u5bf9\u200b key \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b </p> <p>5.ReduceTask \u200b\u6839\u636e\u200b\u81ea\u5df1\u200b\u7684\u200b\u5206\u533a\u200b\u53f7\u200b\uff0c\u200b\u53bb\u200b\u5404\u4e2a\u200b MapTask \u200b\u673a\u5668\u200b\u4e0a\u53d6\u200b\u76f8\u5e94\u200b\u7684\u200b\u7ed3\u679c\u200b\u5206\u533a\u200b\u6570\u636e\u200b </p> <p>6.ReduceTask \u200b\u4f1a\u200b\u6293\u53d6\u200b\u5230\u200b\u540c\u4e00\u4e2a\u200b\u5206\u533a\u200b\u7684\u200b\u6765\u81ea\u200b\u4e0d\u540c\u200b MapTask \u200b\u7684\u200b\u7ed3\u679c\u200b\u6587\u4ef6\u200b\uff0cReduceTask \u200b\u4f1a\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u518d\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\uff08\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\uff09 </p> <p>7.\u200b\u5408\u5e76\u200b\u6210\u200b\u5927\u200b\u6587\u4ef6\u200b\u540e\u200b\uff0cShuffle \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e5f\u200b\u5c31\u200b\u7ed3\u675f\u200b\u4e86\u200b\uff0c\u200b\u540e\u9762\u200b\u8fdb\u5165\u200b ReduceTask \u200b\u7684\u200b\u903b\u8f91\u8fd0\u7b97\u200b\u8fc7\u200b \u200b\u7a0b\u200b\uff08\u200b\u4ece\u6587\u4ef6\u200b\u4e2d\u200b\u53d6\u51fa\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u7684\u200b\u952e\u503c\u200b\u5bf9\u200b Group\uff0c\u200b\u8c03\u7528\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b reduce()\u200b\u65b9\u6cd5\u200b\uff09</p>"},{"location":"bigdata/hadoop/mapreduce/#shuffle","title":"shuffle","text":"<p>map\u200b\u4e4b\u540e\u200breduce\u200b\u4e4b\u524d\u200b -&gt; shuffle</p> <p></p>"},{"location":"bigdata/hadoop/mapreduce/#_14","title":"\u6392\u5e8f","text":"<p>\u200b\u5bf9\u4e8e\u200bMapTask\uff0c\u200b\u5b83\u4f1a\u200b\u5c06\u200b\u5904\u7406\u200b\u7684\u200b\u7ed3\u679c\u200b\u6682\u65f6\u200b\u653e\u5230\u200b\u73af\u5f62\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\uff0c\u200b\u5f53\u200b\u73af\u5f62\u200b\u7f13\u51b2\u533a\u200b\u4f7f\u200b \u200b\u7528\u7387\u200b\u8fbe\u5230\u200b\u4e00\u5b9a\u200b\u9608\u503c\u200b\u540e\u200b\uff0c\u200b\u518d\u200b\u5bf9\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u5feb\u901f\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6709\u200b\u5e8f\u6570\u200b \u200b\u636e\u6ea2\u200b\u5199\u200b\u5230\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u800c\u200b\u5f53\u200b\u6570\u636e\u5904\u7406\u200b\u5b8c\u6bd5\u200b\u540e\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5bf9\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200bReduceTask\uff0c\u200b\u5b83\u200b\u4ece\u200b\u6bcf\u4e2a\u200bMapTask\u200b\u4e0a\u200b\u8fdc\u7a0b\u200b\u62f7\u8d1d\u200b\u76f8\u5e94\u200b\u7684\u200b\u6570\u636e\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u5927\u200b \u200b\u5c0f\u200b\u8d85\u8fc7\u200b\u4e00\u5b9a\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u6ea2\u200b\u5199\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u5426\u5219\u200b\u5b58\u50a8\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u6587\u4ef6\u200b\u6570\u76ee\u200b\u8fbe\u5230\u200b \u200b\u4e00\u5b9a\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u4ee5\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u66f4\u5927\u200b\u6587\u4ef6\u200b\uff1b\u200b\u5982\u679c\u200b\u5185\u5b58\u200b\u4e2d\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u6216\u8005\u200b \u200b\u6570\u76ee\u200b\u8d85\u8fc7\u200b\u4e00\u5b9a\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u5408\u5e76\u200b\u540e\u200b\u5c06\u200b\u6570\u636e\u200b\u6ea2\u5199\u200b\u5230\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u3002\u200b\u5f53\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u62f7\u8d1d\u200b\u5b8c\u200b \u200b\u6bd5\u540e\u200b\uff0cReduceTask\u200b\u7edf\u4e00\u200b\u5bf9\u200b\u5185\u5b58\u200b\u548c\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u3002</p> <p>\uff081\uff09\u200b\u90e8\u5206\u200b\u6392\u5e8f\u200b MapReduce\u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u8bb0\u5f55\u200b\u7684\u200b\u952e\u200b\u5bf9\u200b\u6570\u636e\u200b\u96c6\u200b\u6392\u5e8f\u200b\u3002\u200b\u4fdd\u8bc1\u200b\u8f93\u51fa\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u5185\u90e8\u200b\u6709\u5e8f\u200b\u3002 </p> <p>\uff082\uff09\u200b\u5168\u200b\u6392\u5e8f\u200b \u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e14\u200b\u6587\u4ef6\u200b\u5185\u90e8\u200b\u6709\u5e8f\u200b\u3002\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\u662f\u200b\u53ea\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200bReduceTask\u3002\u200b\u4f46\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5728\u200b \u200b\u5904\u7406\u200b\u5927\u578b\u200b\u6587\u4ef6\u200b\u65f6\u200b\u6548\u7387\u200b\u6781\u4f4e\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e00\u53f0\u200b\u673a\u5668\u200b\u5904\u7406\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5b8c\u5168\u200b\u4e27\u5931\u200b\u4e86\u200bMapReduce\u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b\u5e76\u884c\u200b\u67b6\u6784\u200b\u3002 </p> <p>\uff083\uff09\u200b\u8f85\u52a9\u200b\u6392\u5e8f\u200b\uff1a\uff08GroupingComparator\u200b\u5206\u7ec4\u200b\uff09 \u200b\u5728\u200bReduce\u200b\u7aef\u200b\u5bf9\u200bkey\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\u3002\u200b\u5e94\u7528\u200b\u4e8e\u200b\uff1a\u200b\u5728\u200b\u63a5\u6536\u200b\u7684\u200bkey\u200b\u4e3a\u200bbean\u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c\u200b\u60f3\u200b\u8ba9\u200b\u4e00\u4e2a\u200b\u6216\u200b\u51e0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u76f8\u540c\u200b\uff08\u200b\u5168\u90e8\u200b \u200b\u5b57\u200b\u6bb5\u200b\u6bd4\u8f83\u200b\u4e0d\u200b\u76f8\u540c\u200b\uff09\u200b\u7684\u200bkey\u200b\u8fdb\u5165\u200b\u5230\u200b\u540c\u4e00\u4e2a\u200breduce\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u91c7\u7528\u200b\u5206\u7ec4\u200b\u6392\u5e8f\u200b\u3002 \uff084\uff09\u200b\u4e8c\u6b21\u200b\u6392\u5e8f\u200b \u200b\u5728\u200b\u81ea\u5b9a\u4e49\u200b\u6392\u5e8f\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200bcompareTo\u200b\u4e2d\u200b\u7684\u200b\u5224\u65ad\u200b\u6761\u4ef6\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u5373\u200b\u4e3a\u200b\u4e8c\u6b21\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5f85\u200b\u8bb0\u5f55\u200b</p> <p>https://blog.csdn.net/zyw0101/article/details/126626837</p>"},{"location":"bigdata/hadoop/mapreduce/#src-mapreduce","title":"src-mapreduce","text":""},{"location":"bigdata/hadoop/mapreduce/#maptask","title":"maptask","text":"<p>1.Read \u200b\u9636\u6bb5\u200b\uff1aMapTask \u200b\u901a\u8fc7\u200b InputFormat \u200b\u83b7\u5f97\u200b\u7684\u200b RecordReader\uff0c\u200b\u4ece\u200b\u8f93\u5165\u200b InputSplit \u200b\u4e2d\u200b \u200b\u89e3\u6790\u200b\u51fa\u200b\u4e00\u4e2a\u4e2a\u200b key/value\u3002 2.Map \u200b\u9636\u6bb5\u200b\uff1a\u200b\u8be5\u200b\u8282\u70b9\u200b\u4e3b\u8981\u200b\u662f\u200b\u5c06\u200b\u89e3\u6790\u200b\u51fa\u200b\u7684\u200b key/value \u200b\u4ea4\u7ed9\u200b\u7528\u6237\u200b\u7f16\u5199\u200b map()\u200b\u51fd\u6570\u200b\u5904\u7406\u200b\uff0c\u200b\u5e76\u200b \u200b\u4ea7\u751f\u200b\u4e00\u7cfb\u5217\u200b\u65b0\u200b\u7684\u200b key/value\u3002 3.Collect \u200b\u6536\u96c6\u200b\u9636\u6bb5\u200b\uff1a\u200b\u5728\u200b\u7528\u6237\u200b\u7f16\u5199\u200b map()\u200b\u51fd\u6570\u200b\u4e2d\u200b\uff0c\u200b\u5f53\u200b\u6570\u636e\u5904\u7406\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u4e00\u822c\u200b\u4f1a\u200b\u8c03\u7528\u200b OutputCollector.collect()\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u3002\u200b\u5728\u200b\u8be5\u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5c06\u200b\u751f\u6210\u200b\u7684\u200b key/value \u200b\u5206\u533a\u200b\uff08\u200b\u8c03\u7528\u200b Partitioner\uff09\uff0c\u200b\u5e76\u200b\u5199\u5165\u200b\u4e00\u4e2a\u200b\u73af\u5f62\u200b\u5185\u5b58\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\u3002 </p> <p>4.Spill \u200b\u9636\u6bb5\u200b\uff1a\u200b\u5373\u200b\u201c\u200b\u6ea2\u5199\u200b\u201d\uff0c\u200b\u5f53\u200b\u73af\u5f62\u200b\u7f13\u51b2\u533a\u200b\u6ee1\u540e\u200b\uff0cMapReduce \u200b\u4f1a\u200b\u5c06\u200b\u6570\u636e\u200b\u5199\u200b\u5230\u200b\u672c\u5730\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u3002\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u672c\u5730\u200b\u78c1\u76d8\u200b\u4e4b\u524d\u200b\uff0c\u200b\u5148\u8981\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u672c\u5730\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5fc5\u8981\u200b\u65f6\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\u3001\u200b\u538b\u7f29\u200b\u7b49\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u6ea2\u5199\u200b\u9636\u6bb5\u200b\u8be6\u60c5\u200b\uff1a </p> <p>\u200b\u6b65\u9aa4\u200b 1\uff1a\u200b\u5229\u7528\u200b\u5feb\u901f\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b\u5bf9\u200b\u7f13\u5b58\u200b\u533a\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u6392\u5e8f\u200b\u65b9\u5f0f\u200b\u662f\u200b\uff0c\u200b\u5148\u200b\u6309\u7167\u200b\u5206\u533a\u200b\u7f16\u53f7\u200b Partition \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u7136\u540e\u200b\u6309\u7167\u200b key \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u6392\u5e8f\u200b\u540e\u200b\uff0c\u200b\u6570\u636e\u200b\u4ee5\u200b\u5206\u533a\u200b\u4e3a\u200b\u5355\u4f4d\u200b\u805a\u96c6\u200b\u5728\u200b \u200b\u4e00\u8d77\u200b\uff0c\u200b\u4e14\u200b\u540c\u4e00\u200b\u5206\u200b\u533a\u5185\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u6309\u7167\u200b key \u200b\u6709\u5e8f\u200b\u3002 </p> <p>\u200b\u6b65\u9aa4\u200b 2\uff1a\u200b\u6309\u7167\u200b\u5206\u533a\u200b\u7f16\u53f7\u200b\u7531\u5c0f\u5230\u5927\u200b\u4f9d\u6b21\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u4efb\u52a1\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u4e34\u65f6\u200b\u6587\u200b \u200b\u4ef6\u200b output/spillN.out\uff08N \u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u6ea2\u5199\u200b\u6b21\u6570\u200b\uff09\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u7528\u6237\u200b\u8bbe\u7f6e\u200b\u4e86\u200b Combiner\uff0c\u200b\u5219\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b\u4e4b\u200b \u200b\u524d\u200b\uff0c\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u805a\u96c6\u200b\u64cd\u4f5c\u200b\u3002 </p> <p>\u200b\u6b65\u9aa4\u200b 3\uff1a\u200b\u5c06\u200b\u5206\u533a\u200b\u6570\u636e\u200b\u7684\u200b\u5143\u200b\u4fe1\u606f\u200b\u5199\u200b\u5230\u200b\u5185\u5b58\u200b\u7d22\u5f15\u200b\u6570\u636e\u7ed3\u6784\u200b SpillRecord \u200b\u4e2d\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u7684\u200b\u5143\u200b \u200b\u4fe1\u606f\u200b\u5305\u62ec\u200b\u5728\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\u3001\u200b\u538b\u7f29\u200b\u524d\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u548c\u200b\u538b\u7f29\u200b\u540e\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u3002\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u5185\u5b58\u200b\u7d22\u5f15\u200b\u5927\u200b \u200b\u5c0f\u200b\u8d85\u8fc7\u200b 1MB\uff0c\u200b\u5219\u200b\u5c06\u200b\u5185\u5b58\u200b\u7d22\u5f15\u200b\u5199\u200b\u5230\u200b\u6587\u4ef6\u200b output/spillN.out.index \u200b\u4e2d\u200b\u3002 </p> <p>5.Merge \u200b\u9636\u6bb5\u200b\uff1a\u200b\u5f53\u200b\u6240\u6709\u200b\u6570\u636e\u5904\u7406\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0cMapTask \u200b\u5bf9\u200b\u6240\u6709\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u5408\u5e76\u200b\uff0c \u200b\u4ee5\u200b\u786e\u4fdd\u200b\u6700\u7ec8\u200b\u53ea\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u6570\u636e\u6587\u4ef6\u200b\u3002 \u200b\u5f53\u200b\u6240\u6709\u200b\u6570\u636e\u5904\u7406\u200b\u5b8c\u540e\u200b\uff0cMapTask \u200b\u4f1a\u200b\u5c06\u200b\u6240\u6709\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5927\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6587\u4ef6\u200b output/file.out \u200b\u4e2d\u200b\uff0c\u200b\u540c\u65f6\u200b\u751f\u6210\u200b\u76f8\u5e94\u200b\u7684\u200b\u7d22\u5f15\u200b\u6587\u4ef6\u200b output/file.out.index\u3002 \u200b\u5728\u200b\u8fdb\u884c\u200b\u6587\u4ef6\u200b\u5408\u5e76\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0cMapTask \u200b\u4ee5\u200b\u5206\u533a\u200b\u4e3a\u200b\u5355\u4f4d\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u67d0\u4e2a\u200b\u5206\u533a\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u91c7\u7528\u200b\u591a\u200b \u200b\u8f6e\u200b\u9012\u5f52\u200b\u5408\u5e76\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002\u200b\u6bcf\u8f6e\u200b\u5408\u5e76\u200b mapreduce.task.io.sort.factor\uff08\u200b\u9ed8\u8ba4\u200b 10\uff09\u200b\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u4ea7\u751f\u200b\u7684\u200b\u6587\u200b \u200b\u4ef6\u200b\u91cd\u65b0\u52a0\u5165\u200b\u5f85\u200b\u5408\u5e76\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u5bf9\u200b\u6587\u4ef6\u200b\u6392\u5e8f\u200b\u540e\u200b\uff0c\u200b\u91cd\u590d\u200b\u4ee5\u4e0a\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u76f4\u5230\u200b\u6700\u7ec8\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u5927\u200b\u6587\u4ef6\u200b\u3002 \u200b\u8ba9\u200b\u6bcf\u4e2a\u200b MapTask \u200b\u6700\u7ec8\u200b\u53ea\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u6570\u636e\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u200b\u907f\u514d\u200b\u540c\u65f6\u200b\u6253\u5f00\u200b\u5927\u91cf\u6587\u4ef6\u200b\u548c\u200b\u540c\u65f6\u200b\u8bfb\u53d6\u200b\u5927\u91cf\u200b \u200b\u5c0f\u200b\u6587\u4ef6\u200b\u4ea7\u751f\u200b\u7684\u200b\u968f\u673a\u200b\u8bfb\u53d6\u200b\u5e26\u6765\u200b\u7684\u200b\u5f00\u9500\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#reduce","title":"reduce \u200b\u5de5\u4f5c\u200b\u673a\u5236","text":"<p>1.Copy \u200b\u9636\u6bb5\u200b\uff1aReduceTask \u200b\u4ece\u200b\u5404\u4e2a\u200b MapTask \u200b\u4e0a\u200b\u8fdc\u7a0b\u200b\u62f7\u8d1d\u200b\u4e00\u7247\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u9488\u5bf9\u200b\u67d0\u200b\u4e00\u7247\u200b\u6570\u200b \u200b\u636e\u200b\uff0c\u200b\u5982\u679c\u200b\u5176\u200b\u5927\u5c0f\u200b\u8d85\u8fc7\u200b\u4e00\u5b9a\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u5199\u200b\u5230\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u5426\u5219\u200b\u76f4\u63a5\u200b\u653e\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\u3002 </p> <p>2.Sort \u200b\u9636\u6bb5\u200b\uff1a\u200b\u5728\u200b\u8fdc\u7a0b\u200b\u62f7\u8d1d\u200b\u6570\u636e\u200b\u7684\u200b\u540c\u65f6\u200b\uff0cReduceTask \u200b\u542f\u52a8\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u540e\u53f0\u200b\u7ebf\u7a0b\u200b\u5bf9\u200b\u5185\u5b58\u200b\u548c\u200b\u78c1\u200b \u200b\u76d8\u4e0a\u200b\u7684\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\uff0c\u200b\u4ee5\u200b\u9632\u6b62\u200b\u5185\u5b58\u200b\u4f7f\u7528\u200b\u8fc7\u591a\u200b\u6216\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u6587\u4ef6\u200b\u8fc7\u591a\u200b\u3002\u200b\u6309\u7167\u200b MapReduce \u200b\u8bed\u4e49\u200b\uff0c\u200b\u7528\u200b \u200b\u6237\u200b\u7f16\u5199\u200b reduce()\u200b\u51fd\u6570\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\u6309\u200b key \u200b\u8fdb\u884c\u200b\u805a\u96c6\u200b\u7684\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u3002\u200b\u4e3a\u4e86\u200b\u5c06\u200b key \u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u805a\u200b\u5728\u200b\u4e00\u200b \u200b\u8d77\u200b\uff0cHadoop \u200b\u91c7\u7528\u200b\u4e86\u200b\u57fa\u4e8e\u200b\u6392\u5e8f\u200b\u7684\u200b\u7b56\u7565\u200b\u3002\u200b\u7531\u4e8e\u200b\u5404\u4e2a\u200b MapTask \u200b\u5df2\u7ecf\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u81ea\u5df1\u200b\u7684\u200b\u5904\u7406\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u4e86\u200b \u200b\u5c40\u90e8\u200b\u6392\u5e8f\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0cReduceTask \u200b\u53ea\u200b\u9700\u200b\u5bf9\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u5373\u53ef\u200b\u3002 </p> <p>3.Reduce \u200b\u9636\u6bb5\u200b\uff1areduce()\u200b\u51fd\u6570\u200b\u5c06\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u5199\u200b\u5230\u200b HDFS \u200b\u4e0a\u200b\u3002</p> <p></p> <pre><code>=================== ReduceTask ===================\nif (isMapOrReduce()) //reduceTask324 \u200b\u884c\u200b\uff0c\u200b\u63d0\u524d\u200b\u6253\u65ad\u200b\u70b9\u200b\n</code></pre> <p></p>"},{"location":"bigdata/hadoop/mapreduce/#_15","title":"\u538b\u7f29","text":""},{"location":"bigdata/hadoop/mapreduce/#why","title":"why","text":""},{"location":"bigdata/hadoop/mapreduce/#ad-disad_1","title":"ad disad","text":"<p>\u200b\u538b\u7f29\u200b\u7684\u200b\u4f18\u70b9\u200b\uff1a\u200b\u4ee5\u200b\u51cf\u5c11\u200b\u78c1\u76d8\u200b IO\u3001\u200b\u51cf\u5c11\u200b\u78c1\u76d8\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002 </p> <p>\u200b\u538b\u7f29\u200b\u7684\u200b\u7f3a\u70b9\u200b\uff1a\u200b\u589e\u52a0\u200b CPU \u200b\u5f00\u9500\u200b\u3002</p> <p>\u200b\u8fd0\u7b97\u200b\u5bc6\u96c6\u578b\u200b\u7684\u200b Job\uff0c\u200b\u5c11\u200b\u7528\u200b\u538b\u7f29\u200b </p> <p>IO \u200b\u5bc6\u96c6\u578b\u200b\u7684\u200b Job\uff0c\u200b\u591a\u7528\u200b\u538b\u7f29\u200b</p>"},{"location":"bigdata/hadoop/mapreduce/#_16","title":"\u538b\u7f29\u7b97\u6cd5\u200b\u4ecb\u7ecd","text":"<p>\u200b\u7b97\u6cd5\u200b  \u200b\u539f\u59cb\u200b\u5927\u5c0f\u200b    \u200b\u538b\u7f29\u200b\u5927\u5c0f\u200b    \u200b\u538b\u7f29\u200b\u901f\u5ea6\u200b    \u200b\u89e3\u538b\u200b\u901f\u5ea6\u200b </p> <p>gzip    8.3GB   1.8GB    17.5MB/s   58MB/s </p> <p>bzip2   8.3GB   1.1GB   2.4MB/s     9.5MB/s</p> <p>LZO    8.3GB   2.9GB   49.3MB/s    74.6MB/s</p>"},{"location":"bigdata/hadoop/mapreduce/#_17","title":"\u4f4d\u7f6e\u200b\u9009\u62e9","text":"<p>1.\u200b\u8f93\u5165\u200b\u7aef\u200b\u91c7\u7528\u200b\u538b\u7f29\u200b</p> <p>\u200b\u65e0\u987b\u200b\u663e\u793a\u200b\u6307\u5b9a\u200b\u4f7f\u7528\u200b\u7684\u200b\u7f16\u89e3\u7801\u200b\u65b9\u200b \u200b\u5f0f\u200b\u3002Hadoop\u200b\u81ea\u52a8\u200b\u68c0\u67e5\u200b\u6587\u4ef6\u200b\u6269\u200b \u200b\u5c55\u540d\u200b\uff0c\u200b\u5982\u679c\u200b\u6269\u5c55\u540d\u200b\u80fd\u591f\u200b\u5339\u914d\u200b\uff0c \u200b\u5c31\u4f1a\u7528\u200b\u6070\u5f53\u200b\u7684\u200b\u7f16\u89e3\u7801\u200b\u65b9\u5f0f\u200b\u5bf9\u6587\u200b \u200b\u4ef6\u200b\u8fdb\u884c\u200b\u538b\u7f29\u200b\u548c\u200b\u89e3\u538b\u200b\u3002 \u200b\u4f01\u4e1a\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u5982\u4f55\u200b\u9009\u62e9\u200b\uff1a\u200b\u4e3a\u4e86\u200b\u51cf\u200b \u200b\u5c11\u200bMapTask\u200b\u548c\u200bReduceTask\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7f51\u7edc\u200b IO\u3002\u200b\u91cd\u70b9\u200b\u8003\u8651\u200b\u538b\u7f29\u200b\u548c\u200b\u89e3\u538b\u7f29\u200b\u5feb\u200b\u7684\u200b LZO\u3001Snappy\u3002 \u200b\u770b\u200b\u9700\u6c42\u200b\uff1a \u200b\u5982\u679c\u200b\u6570\u636e\u200b\u6c38\u4e45\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u8003\u8651\u200b\u538b\u7f29\u200b \u200b\u7387\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\u7684\u200bBzip2\u200b\u548c\u200bGzip\u3002 \u200b\u5982\u679c\u200b\u4f5c\u4e3a\u200b\u4e0b\u200b\u4e00\u4e2a\u200bMapReduce\u200b\u8f93\u200b \u200b\u5165\u200b\uff0c\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u6570\u636e\u91cf\u200b\u548c\u200b\u662f\u5426\u200b\u652f\u6301\u200b\u5207\u200b \u200b\u4f01\u4e1a\u200b\u5f00\u53d1\u200b\uff1a 1\uff09\u200b\u6570\u636e\u91cf\u200b\u5c0f\u4e8e\u200b\u5757\u200b\u5927\u5c0f\u200b\uff0c\u200b\u91cd\u70b9\u200b \u200b\u8003\u8651\u200b\u538b\u7f29\u200b\u548c\u200b\u89e3\u538b\u7f29\u200b\u901f\u5ea6\u200b\u6bd4\u8f83\u200b\u5feb\u200b \u200b\u7684\u200bLZO/Snappy 2\uff09\u200b\u6570\u636e\u91cf\u200b\u975e\u5e38\u200b\u5927\u200b\uff0c\u200b\u91cd\u70b9\u200b\u8003\u8651\u200b \u200b\u652f\u6301\u200b\u5207\u7247\u200b\u7684\u200bBzip2\u200b\u548c\u200bLZO</p> <p>2.map\u200b\u8f93\u51fa\u200b</p> <p>\u200b\u4f01\u4e1a\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u5982\u4f55\u200b\u9009\u62e9\u200b\uff1a\u200b\u4e3a\u4e86\u200b\u51cf\u5c11\u200bMapTask\u200b\u548c\u200bReduceTask\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7f51\u7edc\u200b IO\u3002\u200b\u91cd\u70b9\u200b\u8003\u8651\u200b\u538b\u7f29\u200b\u548c\u200b\u89e3\u538b\u7f29\u200b\u5feb\u200b\u7684\u200b LZO\u3001Snappy\u3002</p> <p>3.reduce \u200b\u8f93\u51fa\u200b</p> <p>\u200b\u770b\u200b\u9700\u6c42\u200b\uff1a \u200b\u5982\u679c\u200b\u6570\u636e\u200b\u6c38\u4e45\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u8003\u8651\u200b\u538b\u7f29\u200b \u200b\u7387\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\u7684\u200bBzip2\u200b\u548c\u200bGzip\u3002 \u200b\u5982\u679c\u200b\u4f5c\u4e3a\u200b\u4e0b\u200b\u4e00\u4e2a\u200bMapReduce\u200b\u8f93\u200b \u200b\u5165\u200b\uff0c\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u6570\u636e\u91cf\u200b\u548c\u200b\u662f\u5426\u200b\u652f\u6301\u200b\u5207\u7247\u200b\u3002</p>"},{"location":"bigdata/hadoop/mapreduce/#_18","title":"\u538b\u7f29\u200b\u914d\u7f6e","text":""},{"location":"bigdata/hadoop/mapreduce/#_19","title":"\u7b97\u6cd5","text":"\u538b\u7f29\u200b\u683c\u5f0f\u200b \u200b\u538b\u7f29\u200b\u683c\u5f0f\u200b \u200b\u5bf9\u5e94\u200b\u7684\u200b\u7f16\u7801\u200b/\u200b\u89e3\u7801\u5668\u200b DEFLATE org.apache.hadoop.io.compress.DefaultCodec gzip org.apache.hadoop.io.compress.GzipCodec bzip2 org.apache.hadoop.io.compress.BZip2Codec LZO com.hadoop.compression.lzo.LzopCodec Snappy org.apache.hadoop.io.compress.SnappyCodec"},{"location":"bigdata/hadoop/mapreduce/#hadoop_1","title":"hadoop\u200b\u542f\u7528","text":"\u53c2\u6570\u200b \u200b\u9ed8\u8ba4\u503c\u200b \u200b\u9636\u6bb5\u200b \u200b\u5efa\u8bae\u200b io.compression.codecs \uff08\u200b\u5728\u200b core-site.xml \u200b\u4e2d\u200b\u914d\u7f6e\u200b\uff09 \u200b\u65e0\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u9700\u8981\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u8f93\u5165\u200b hadoop checknative \u200b\u67e5\u770b\u200b \u200b\u8f93\u5165\u200b\u538b\u7f29\u200b Hadoop \u200b\u4f7f\u7528\u200b\u6587\u4ef6\u200b\u6269\u5c55\u200b \u200b\u540d\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u652f\u6301\u200b\u67d0\u79cd\u200b \u200b\u7f16\u89e3\u7801\u5668\u200b mapreduce.map.output.compress\uff08\u200b\u5728\u200b mapred-site.xml \u200b\u4e2d\u200b \u200b\u914d\u7f6e\u200b\uff09 false mapper \u200b\u8f93\u51fa\u200b \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u8bbe\u200b\u4e3a\u200b true \u200b\u542f\u200b \u200b\u7528\u200b\u538b\u7f29\u200b mapreduce.map.output.compress.codec\uff08\u200b\u5728\u200b mapredsite.xml \u200b\u4e2d\u200b\u914d\u7f6e\u200b\uff09 org.apache.hadoop.io.com press.DefaultCodec mapper \u200b\u8f93\u51fa\u200b \u200b\u4f01\u4e1a\u200b\u591a\u200b\u4f7f\u7528\u200b LZO \u200b\u6216\u200b Snappy \u200b\u7f16\u89e3\u7801\u5668\u200b\u5728\u200b\u6b64\u200b \u200b\u9636\u6bb5\u200b\u538b\u7f29\u200b\u6570\u636e\u200b mapreduce.output.fileoutpu tformat.compress\uff08\u200b\u5728\u200b mapred-site.xml \u200b\u4e2d\u200b\u914d\u7f6e\u200b\uff09 false reducer \u200b\u8f93\u51fa\u200b \u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u8bbe\u200b\u4e3a\u200b true \u200b\u542f\u200b \u200b\u7528\u200b\u538b\u7f29\u200b mapreduce.output.fileoutpu tformat.compress.codec\uff08\u200b\u5728\u200b mapred-site.xml \u200b\u4e2d\u200b\u914d\u7f6e\u200b\uff09 org.apache.hadoop.io.com press.DefaultCodec reducer \u200b\u8f93\u51fa\u200b \u200b\u4f7f\u7528\u200b\u6807\u51c6\u200b\u5de5\u5177\u200b\u6216\u8005\u200b\u7f16\u200b \u200b\u89e3\u7801\u5668\u200b\uff0c\u200b\u5982\u200b gzip \u200b\u548c\u200b bzip2 <p>\u200b\u6e90\u7801\u200b\u652f\u6301\u200b</p> <p>BZip2Codec\u3001DefaultCodec</p> <pre><code>// \u200b\u5f00\u542f\u200b map \u200b\u7aef\u200b\u8f93\u51fa\u200b\u538b\u7f29\u200b\nconf.setBoolean(\"mapreduce.map.output.compress\", true);\n// \u200b\u8bbe\u7f6e\u200b map \u200b\u7aef\u200b\u8f93\u51fa\u200b\u538b\u7f29\u200b\u65b9\u5f0f\u200b\nconf.setClass(\"mapreduce.map.output.compress.codec\",\nBZip2Codec.class,CompressionCodec.class);\n</code></pre> <pre><code>// \u200b\u8bbe\u7f6e\u200b reduce \u200b\u7aef\u200b\u8f93\u51fa\u200b\u538b\u7f29\u200b\u5f00\u542f\u200b\nFileOutputFormat.setCompressOutput(job, true);\n// \u200b\u8bbe\u7f6e\u200b\u538b\u7f29\u200b\u7684\u200b\u65b9\u5f0f\u200b\n FileOutputFormat.setOutputCompressorClass(job, BZip2Codec.class);\n</code></pre>"},{"location":"bigdata/hadoop/overview/","title":"overview","text":""},{"location":"bigdata/hadoop/overview/#what","title":"what","text":"<p>\u200b\u5927\u200b\u6570\u636e\u200b\u4e3b\u8981\u200b\u89e3\u51b3\u200b\uff0c\u200b\u6d77\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u91c7\u96c6\u200b\u3001\u200b\u5b58\u50a8\u200b\u548c\u200b\u5206\u6790\u200b\u8ba1\u7b97\u200b\u95ee\u9898\u200b\u3002</p>"},{"location":"bigdata/hadoop/overview/#feature","title":"feature","text":"<p>\u200b\u6570\u636e\u200b\u5927\u91cf\u200b\u3001\u200b\u9ad8\u901f\u200b\u4ea7\u751f\u200b\u3001\u200b\u6570\u636e\u683c\u5f0f\u200b\u591a\u6837\u200b\u3001\u200b\u4f4e\u200b\u4ef7\u503c\u200b\u5bc6\u5ea6\u200b\uff08\u200b\u53ef\u80fd\u200b\u5927\u591a\u6570\u200b\u6570\u636e\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6211\u4eec\u200b\u5173\u5fc3\u200b\u7684\u200b\uff09</p>"},{"location":"bigdata/hadoop/overview/#scene","title":"scene","text":"<p>\u200b\u667a\u80fd\u200b\u63a8\u8350\u200b\uff1a\u200b\u63a8\u8350\u200b\u4f60\u200b\u559c\u6b22\u200b\u7684\u200b</p> <p>\u200b\u7269\u6d41\u200b\u4ed3\u5e93\u200b\u6b21\u65e5\u200b\u8fbe\u200b\uff1a\u200b\u667a\u80fd\u200b\u9009\u62e9\u200b\u79bb\u200b\u4f60\u200b\u8fd1\u200b\u7684\u200b\u4ed3\u5e93\u200b</p>"},{"location":"bigdata/hadoop/quickstart/","title":"quickstart","text":""},{"location":"bigdata/hadoop/quickstart/#what","title":"what","text":""},{"location":"bigdata/hadoop/quickstart/#what-hadoop","title":"what hadoop","text":"<p>\u200b\u5206\u5e03\u5f0f\u200b\u57fa\u7840\u67b6\u6784\u200b</p> <p>\u200b\u4e3b\u8981\u200b\u89e3\u51b3\u200b\uff0c\u200b\u6d77\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u548c\u200b\u6d77\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u5206\u6790\u200b\u8ba1\u7b97\u200b\u95ee\u9898\u200b\u3002</p> <p>3.1.3</p> <p>http://hadoop.apache.org/</p>"},{"location":"bigdata/hadoop/quickstart/#advantage","title":"advantage","text":"<p>1.\u200b\u9ad8\u53ef\u9760\u6027\u200b\uff1aHadoop\u200b\u5e95\u5c42\u200b\u7ef4\u62a4\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\u526f\u672c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5373\u4f7f\u200bHadoop\u200b\u67d0\u4e2a\u200b\u8ba1\u7b97\u200b\u5143\u200b \u200b\u7d20\u200b\u6216\u200b\u5b58\u50a8\u200b\u6545\u969c\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u5bfc\u81f4\u200b\u6570\u636e\u200b\u7684\u200b\u4e22\u5931\u200b\u3002</p> <p></p> <p>2.\u200b\u9ad8\u200b\u6269\u5c55\u6027\u200b\uff1a\u200b\u5728\u200b\u96c6\u7fa4\u200b\u95f4\u200b\u5206\u914d\u4efb\u52a1\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u200b\u65b9\u4fbf\u200b\u7684\u200b\u6269\u5c55\u200b\u6570\u4ee5\u5343\u8ba1\u200b\u7684\u200b\u8282\u70b9\u200b\u3002</p> <p></p> <p>3.\u200b\u9ad8\u6548\u6027\u200b\uff1a\u200b\u5728\u200bMapReduce\u200b\u7684\u200b\u601d\u60f3\u200b\u4e0b\u200b\uff0cHadoop\u200b\u662f\u200b\u5e76\u884c\u200b\u5de5\u4f5c\u200b\u7684\u200b\uff0c\u200b\u4ee5\u200b\u52a0\u5feb\u200b\u4efb\u52a1\u200b\u5904\u200b \u200b\u7406\u200b\u901f\u5ea6\u200b\u3002</p> <p></p> <p>4.\u200b\u9ad8\u200b\u5bb9\u9519\u6027\u200b\uff1a\u200b\u80fd\u591f\u200b\u81ea\u52a8\u200b\u5c06\u200b\u5931\u8d25\u200b\u7684\u200b\u4efb\u52a1\u200b\u91cd\u65b0\u5206\u914d\u200b\u3002</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#framework","title":"framework","text":"<p>\u200b\u5728\u200b Hadoop1.x \u200b\u65f6\u200b \u200b\u4ee3\u200b \uff0cHadoop\u200b\u4e2d\u200b\u7684\u200bMapReduce\u200b\u540c\u65f6\u200b\u5904\u7406\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u8fd0\u7b97\u200b\u548c\u200b\u8d44\u6e90\u200b\u7684\u200b\u8c03\u5ea6\u200b\uff0c\u200b\u8026\u5408\u200b\u6027\u200b\u8f83\u5927\u200b\u3002\u200b\u5728\u200bHadoop2.x\u200b\u65f6\u4ee3\u200b\uff0c\u200b\u589e\u52a0\u200b\u4e86\u200bYarn\u3002Yarn\u200b\u53ea\u200b\u8d1f\u8d23\u200b\u8d44\u6e90\u200b\u7684\u200b\u8c03\u5ea6\u200b\uff0cMapReduce \u200b\u53ea\u200b\u8d1f\u8d23\u200b\u8fd0\u7b97\u200b \u3002Hadoop3.x\u200b\u5728\u200b\u7ec4\u6210\u200b\u4e0a\u200b\u6ca1\u6709\u200b\u53d8\u5316\u200b\u3002</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#hdfs","title":"hdfs","text":"<p>\u200b\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u200b</p> <p>1.NameNode\uff08nn\uff09\uff1a\u200b\u5b58\u50a8\u200b\u6587\u4ef6\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u7ed3\u6784\u200b\uff0c\u200b\u6587\u4ef6\u5c5e\u6027\u200b\uff08\u200b\u751f\u6210\u200b\u65f6\u95f4\u200b\u3001\u200b\u526f\u672c\u200b\u6570\u200b\u3001 \u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\uff09\uff0c\u200b\u4ee5\u53ca\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u5757\u200b\u5217\u8868\u200b\u548c\u200b\u5757\u200b\u6240\u5728\u200b\u7684\u200bDataNode\u200b\u7b49\u200b\u3002</p> <p>2.DataNode(dn)\uff1a\u200b\u5728\u200b\u672c\u5730\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u5b58\u50a8\u200b\u6587\u4ef6\u200b\u5757\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u5757\u200b\u6570\u636e\u200b\u7684\u200b\u6821\u9a8c\u200b\u548c\u200b\u3002</p> <p>3.Secondary NameNode(2nn)\uff1a\u200b\u6bcf\u9694\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u5bf9\u200bNameNode\u200b\u5143\u200b\u6570\u636e\u5907\u4efd\u200b\u3002</p>"},{"location":"bigdata/hadoop/quickstart/#yarn","title":"yarn","text":"<p>\u200b\u8d44\u6e90\u200b\u7ba1\u7406\u8005\u200b</p> <p>ResourceManager\uff08RM\uff09\uff1a\u200b\u6574\u4e2a\u200b\u96c6\u7fa4\u200b\u8d44\u6e90\u200b\uff08\u200b\u5185\u5b58\u200b\u3001CPU\u200b\u7b49\u200b\uff09\u200b\u7684\u200b\u8001\u5927\u200b</p> <p>NodeManager\uff08NM\uff09\uff1a\u200b\u5355\u4e2a\u200b\u8282\u70b9\u200b\u670d\u52a1\u5668\u8d44\u6e90\u200b\u8001\u5927\u200b</p> <p>ApplicationMaster\uff08AM\uff09\uff1a\u200b\u5355\u4e2a\u200b\u4efb\u52a1\u200b\u8fd0\u884c\u200b\u7684\u200b\u8001\u5927\u200b</p> <p>Container\uff1a\u200b\u5bb9\u5668\u200b\uff0c\u200b\u76f8\u5f53\u200b\u4e00\u53f0\u200b\u72ec\u7acb\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u91cc\u9762\u200b\u5c01\u88c5\u200b\u4e86\u200b\u4efb\u52a1\u200b\u8fd0\u884c\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u8d44\u6e90\u200b\uff0c\u200b\u5982\u200b\u5185\u5b58\u200b\u3001CPU\u3001\u200b\u78c1\u76d8\u200b\u3001\u200b\u7f51\u7edc\u200b\u7b49\u200b\u3002</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#mapreduce","title":"mapreduce","text":"<p>MapReduce \u200b\u5c06\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\u5206\u4e3a\u200b\u4e24\u4e2a\u200b\u9636\u6bb5\u200b\uff1aMap \u200b\u548c\u200b Reduce 1\uff09Map \u200b\u9636\u6bb5\u200b\u5e76\u884c\u5904\u7406\u200b\u8f93\u5165\u200b\u6570\u636e\u200b 2\uff09Reduce \u200b\u9636\u6bb5\u200b\u5bf9\u200b Map \u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u6c47\u603b\u200b</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#_1","title":"\u4e09\u8005\u200b\u5173\u7cfb","text":""},{"location":"bigdata/hadoop/quickstart/#install","title":"install","text":""},{"location":"bigdata/hadoop/quickstart/#install-centos","title":"install centos","text":"<p>\u200b\u53c2\u8003\u200b\u5b89\u88c5\u200bcentos7.5(4g+50g)</p> <p>\u200b\u5b89\u88c5\u200bcentos\u3001\u200b\u8bbe\u7f6e\u200b\u7f51\u7edc\u200b\u3001\u200b\u5173\u95ed\u200b\u9632\u706b\u5899\u200b\u8bbe\u7f6e\u200b\u4e3b\u673a\u540d\u200b\u3001\u200b\u5b89\u88c5\u200b\u5e38\u89c1\u200b\u8f6f\u4ef6\u5305\u200b(\u200b\u5b89\u88c5\u200bepel-release,jdk,gcc,g++)\u3001\u200b\u8bbe\u7f6e\u200b\u4e3b\u673a\u540d\u200bip\u200b\u6620\u5c04\u200b\u3001\u200b\u521b\u5efa\u200bmatt\u200b\u7528\u6237\u200b\u5e76\u200b\u914d\u7f6e\u200bsudo\uff0c\u200b\u521b\u5efa\u200b\u8f6f\u4ef6\u200b\u76ee\u5f55\u200b\uff0c\u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u6240\u6709\u8005\u200b\uff0c\u200b\u5b89\u88c5\u200bjdk,\u200b\u865a\u62df\u673a\u200b\u514b\u9686\u200b\u7b49\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u6700\u5c0f\u5316\u200b\u5b89\u88c5\u200b\u5219\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bnet-tool,vim</p> <pre><code>yum install -y net-tools \nyum install -y vim\n</code></pre> <p>matt05</p> <p>matt06</p> <p>matt07</p>"},{"location":"bigdata/hadoop/quickstart/#hadoop","title":"\u5355\u673a\u200b\u5b89\u88c5\u200bhadoop","text":""},{"location":"bigdata/hadoop/quickstart/#_2","title":"\u5b89\u88c5","text":"<p>\u200b\u89e3\u538b\u200b</p> <p>hadoop-3.1.3.tar.gz</p> <pre><code>tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/\n\nhadoop version\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_3","title":"\u914d\u7f6e","text":""},{"location":"bigdata/hadoop/quickstart/#path","title":"\u7f16\u5199\u200b\u914d\u7f6e\u200bpath","text":"<pre><code>sudo vim /etc/profile.d/my_env.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#path_1","title":"\u914d\u7f6e\u200bpath","text":"<pre><code>#HADOOP_HOME\nexport HADOOP_HOME=/opt/module/hadoop-3.1.3\nexport PATH=$PATH:$HADOOP_HOME/bin\nexport PATH=$PATH:$HADOOP_HOME/sbin\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_4","title":"\u914d\u7f6e\u200b\u751f\u6548","text":"<pre><code>source /etc/profile\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_5","title":"\u9a8c\u8bc1","text":"<pre><code>hadoop version\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_6","title":"\u76ee\u5f55\u200b\u7ed3\u6784","text":"<ul> <li>bin \u200b\u76ee\u5f55\u200b:\u200b\u5b58\u653e\u200b\u5bf9\u200b Hadoop \u200b\u76f8\u5173\u200b\u670d\u52a1\u200b(hdfs\uff0cyarn\uff0cmapred)\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u7684\u200b\u811a\u672c\u200b </li> <li>etc \u200b\u76ee\u5f55\u200b:Hadoop \u200b\u7684\u200b\u914d\u7f6e\u200b\u6587\u4ef6\u76ee\u5f55\u200b\uff0c\u200b\u5b58\u653e\u200b Hadoop \u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b</li> <li>lib \u200b\u76ee\u5f55\u200b:\u200b\u5b58\u653e\u200b Hadoop \u200b\u7684\u200b\u672c\u5730\u200b\u5e93\u200b(\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u538b\u7f29\u200b\u89e3\u538b\u7f29\u200b\u529f\u80fd\u200b)</li> <li>sbin \u200b\u76ee\u5f55\u200b:\u200b\u5b58\u653e\u200b\u542f\u52a8\u200b\u6216\u200b\u505c\u6b62\u200b Hadoop \u200b\u76f8\u5173\u200b\u670d\u52a1\u200b\u7684\u200b\u811a\u672c\u200b</li> <li>share \u200b\u76ee\u5f55\u200b:\u200b\u5b58\u653e\u200b Hadoop \u200b\u7684\u200b\u4f9d\u8d56\u200b jar \u200b\u5305\u200b\u3001\u200b\u6587\u6863\u200b\u3001\u200b\u548c\u200b\u5b98\u65b9\u200b\u6848\u4f8b\u200b</li> </ul>"},{"location":"bigdata/hadoop/quickstart/#hadoop_1","title":"hadoop\u200b\u8fd0\u884c\u200b\u6a21\u5f0f","text":""},{"location":"bigdata/hadoop/quickstart/#_7","title":"\u4e09\u79cd\u200b\u6a21\u5f0f","text":"<p>Hadoop \u200b\u8fd0\u884c\u200b\u6a21\u5f0f\u200b\u5305\u62ec\u200b:\u200b\u672c\u5730\u200b\u6a21\u5f0f\u200b\u3001\u200b\u4f2a\u200b\u5206\u5e03\u5f0f\u200b\u6a21\u5f0f\u200b\u4ee5\u53ca\u200b\u5b8c\u5168\u200b\u5206\u5e03\u5f0f\u200b\u6a21\u5f0f\u200b\u3002</p> <ul> <li>\u200b\u672c\u5730\u200b\u6a21\u5f0f\u200b:\u200b\u5355\u673a\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53ea\u662f\u200b\u7528\u6765\u200b\u6f14\u793a\u200b\u4e00\u4e0b\u200b\u5b98\u65b9\u200b\u6848\u4f8b\u200b\u3002\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u4e0d\u7528\u200b\u3002</li> <li>\u200b\u4f2a\u200b\u5206\u5e03\u5f0f\u200b\u6a21\u5f0f\u200b:\u200b\u4e5f\u200b\u662f\u200b\u5355\u673a\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4f46\u662f\u200b\u5177\u5907\u200bHadoop\u200b\u96c6\u7fa4\u200b\u7684\u200b\u6240\u6709\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e00\u53f0\u200b\u670d\u52a1\u5668\u200b\u6a21\u200b \u200b\u62df\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u5f0f\u200b\u7684\u200b\u73af\u5883\u200b\u3002</li> <li>\u200b\u5b8c\u5168\u200b\u5206\u5e03\u5f0f\u200b\u6a21\u5f0f\u200b:\u200b\u591a\u53f0\u200b\u670d\u52a1\u5668\u200b\u7ec4\u6210\u200b\u5206\u5e03\u5f0f\u200b\u73af\u5883\u200b\u3002\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u4f7f\u7528\u200b\u3002</li> </ul>"},{"location":"bigdata/hadoop/quickstart/#_8","title":"\u672c\u5730\u200b\u6a21\u5f0f\u200b\u4f7f\u7528","text":"<p>\u200b\u5728\u200bhadoop\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b</p> <pre><code>mkdir wcinput\n\ncd wcinput\n\nvim hello.txt\n</code></pre> <pre><code>a a\nb c\na d\n</code></pre> <p>\u200b\u8f93\u51fa\u200b\u76ee\u5f55\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u5b58\u5728\u200b</p> <pre><code>hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount wcinput wcoutput\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u7ed3\u679c\u200b</p> <pre><code>cat wcoutput/part-r-00000\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_9","title":"\u5b8c\u5168\u200b\u5206\u5e03\u5f0f\u200b\u5b89\u88c5","text":""},{"location":"bigdata/hadoop/quickstart/#_10","title":"\u6d41\u7a0b","text":"<ol> <li>\u200b\u51c6\u5907\u200b 3 \u200b\u53f0\u200b\u5ba2\u6237\u673a\u200b(\u200b\u5173\u95ed\u200b\u9632\u706b\u5899\u200b\u3001\u200b\u9759\u6001\u200b IP\u3001\u200b\u4e3b\u673a\u200b\u540d\u79f0\u200b)</li> <li>\u200b\u5b89\u88c5\u200b JDK</li> <li>\u200b\u914d\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b</li> <li>\u200b\u5b89\u88c5\u200b Hadoop</li> <li>\u200b\u914d\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b</li> <li>\u200b\u914d\u7f6e\u200b\u96c6\u7fa4\u200b</li> <li>\u200b\u5355\u70b9\u200b\u542f\u52a8\u200b</li> <li>\u200b\u914d\u7f6e\u200bssh</li> <li>\u200b\u7fa4\u8d77\u200b\u5e76\u200b\u6d4b\u8bd5\u200b\u96c6\u7fa4\u200b</li> </ol>"},{"location":"bigdata/hadoop/quickstart/#_11","title":"\u6587\u4ef6\u4f20\u8f93","text":""},{"location":"bigdata/hadoop/quickstart/#scp","title":"scp","text":""},{"location":"bigdata/hadoop/quickstart/#_12","title":"\u6982\u5ff5","text":"<p>scp \u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u670d\u52a1\u5668\u200b\u4e0e\u200b\u670d\u52a1\u5668\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u200b\u62f7\u8d1d\u200b\u3002</p>"},{"location":"bigdata/hadoop/quickstart/#_13","title":"\u8bed\u6cd5","text":"<p>scp -r $pdir/$fname $user@$host:$pdir/$fname</p> <p>\u200b\u547d\u4ee4\u200b \u200b\u9012\u5f52\u200b \u200b\u8981\u200b\u62f7\u8d1d\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b/\u200b\u540d\u79f0\u200b \u200b\u76ee\u7684\u5730\u200b\u7528\u6237\u200b@\u200b\u4e3b\u673a\u200b:\u200b\u76ee\u7684\u5730\u200b\u8def\u5f84\u200b/\u200b\u540d\u79f0\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u76ee\u6807\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u6307\u5b9a\u200b</p> <pre><code>scp -r /opt/software/aa.txt matt@123.56.135.43:/matt/opt/software\n</code></pre> <pre><code>scp -r /opt/module/jdk1.8.0_212 matt@192.168.96.132:/opt/module\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#rsync","title":"rsync \u200b\u8fdc\u7a0b\u200b\u540c\u6b65\u200b\u5de5\u5177","text":""},{"location":"bigdata/hadoop/quickstart/#what_1","title":"what","text":"<p>rsync \u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5907\u4efd\u200b\u548c\u200b\u955c\u50cf\u200b\u3002\u200b\u5177\u6709\u200b\u901f\u5ea6\u200b\u5feb\u200b\u3001\u200b\u907f\u514d\u200b\u590d\u5236\u200b\u76f8\u540c\u200b\u5185\u5bb9\u200b\u548c\u200b\u652f\u6301\u200b\u7b26\u53f7\u200b\u94fe\u63a5\u200b\u7684\u200b\u4f18\u70b9\u200b\u3002 rsync \u200b\u548c\u200b scp \u200b\u533a\u522b\u200b:\u200b\u7528\u200b rsync \u200b\u505a\u200b\u6587\u4ef6\u200b\u7684\u200b\u590d\u5236\u200b\u8981\u200b\u6bd4\u200b scp \u200b\u7684\u200b\u901f\u5ea6\u200b\u5feb\u200b\uff0crsync \u200b\u53ea\u200b\u5bf9\u200b\u5dee\u5f02\u200b\u6587\u4ef6\u200b\u505a\u200b\u66f4\u65b0\u200b\u3002scp \u200b\u662f\u200b\u628a\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u90fd\u200b\u590d\u5236\u200b\u8fc7\u53bb\u200b\u3002</p>"},{"location":"bigdata/hadoop/quickstart/#how","title":"how","text":"<pre><code>rsync -av $pdir/$fname $user@$host:$pdir/$fname\n\u200b\u547d\u4ee4\u200b \u200b\u9009\u9879\u200b\u53c2\u6570\u200b \u200b\u8981\u200b\u62f7\u8d1d\u200b\u7684\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b/\u200b\u540d\u79f0\u200b \u200b\u76ee\u7684\u5730\u200b\u7528\u6237\u200b@\u200b\u4e3b\u673a\u200b:\u200b\u76ee\u7684\u5730\u200b\u8def\u5f84\u200b/\u200b\u540d\u79f0\u200b\n</code></pre> <pre><code>a --archive  \uff1a\u200b\u5f52\u6863\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u8868\u793a\u200b\u9012\u5f52\u200b\u4f20\u8f93\u200b\u5e76\u200b\u4fdd\u6301\u200b\u6587\u4ef6\u5c5e\u6027\u200b\u3002\u200b\u7b49\u540c\u4e8e\u200b\"-rtopgDl\"\u3002\n</code></pre> <pre><code>rsync -av /home/matt/hello.txt matt@192.168.96.135:/home/matt\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#xsync","title":"xsync\u200b\u5206\u53d1\u200b\u96c6\u7fa4\u200b\u811a\u672c","text":"<p>\u200b\u5e95\u5c42\u200b\u4f7f\u7528\u200brxync</p>"},{"location":"bigdata/hadoop/quickstart/#bin","title":"\u8fdb\u5165\u200b\u5f53\u524d\u200b\u5bb6\u200b\u76ee\u5f55\u200b\u7684\u200bbin\u200b\u76ee\u5f55\u200b\u4e0b","text":"<pre><code>cd ~/bin\nvim xsync\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_14","title":"\u7f16\u5199\u200b\u811a\u672c","text":"<p>\u200b\u8bb0\u5f97\u200b\u4fee\u6539\u200bip</p> <pre><code>#!/bin/bash\n\n#1. \u200b\u5224\u65ad\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b\nif [ $# -lt 1 ]\nthen\n    echo Not Enough Arguement!\n    exit;\nfi\n\n#2. \u200b\u904d\u5386\u200b\u96c6\u7fa4\u200b\u6240\u6709\u200b\u673a\u5668\u200b\nfor host in matt05 matt06 matt07\ndo\n    echo ==================== $host ====================\n    #3. \u200b\u904d\u5386\u200b\u6240\u6709\u200b\u76ee\u5f55\u200b\uff0c\u200b\u6328\u4e2a\u200b\u53d1\u9001\u200b\n    for file in $@\n    do\n        #4. \u200b\u5224\u65ad\u200b\u6587\u4ef6\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\n        if [ -e $file ]\n            then\n                #5. \u200b\u83b7\u53d6\u200b\u7236\u200b\u76ee\u5f55\u200b\n                pdir=$(cd -P $(dirname $file); pwd)\n\n                #6. \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u6587\u4ef6\u200b\u7684\u200b\u540d\u79f0\u200b\n                fname=$(basename $file)\n                ssh $host \"mkdir -p $pdir\"\n                rsync -av $pdir/$fname $host:$pdir\n            else\n                echo $file does not exists!\n        fi\n    done\ndone\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_15","title":"\u6dfb\u52a0\u200b\u6267\u884c\u200b\u6743\u9650","text":"<pre><code>chmod u+x xsync\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_16","title":"\u914d\u7f6e\u200b\u73af\u5883","text":"<pre><code>echo $PATH\n</code></pre> <pre><code>vim /etc/profile.d/my_env.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#bin_1","title":"\u811a\u672c\u200b\u590d\u5236\u5230\u200bbin\u200b\u76ee\u5f55\u200b\u4e0b","text":"<p>\u200b\u4f7f\u7528\u200bsudo\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u5168\u200b\u8def\u5f84\u200b\u3002\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u76f8\u5bf9\u8def\u5f84\u200b</p> <pre><code>sudo cp /home/matt/bin/xsync /bin\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_17","title":"\u5206\u53d1\u200b\u811a\u672c\u200b\u73af\u5883\u53d8\u91cf\u200b\u751f\u6548","text":"<pre><code>sudo xsync /home/matt/bin/xsync /bin/xsync /etc/profile.d/my_env.sh\n</code></pre> <pre><code>source /etc/profile\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#ssh","title":"ssh","text":"<p>ssh \u200b\u7528\u6237\u540d\u200b@ip</p> <pre><code>ssh root@123.56.135.43\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_18","title":"\u514d\u5bc6\u200b\u767b\u5f55","text":"<pre><code>cd ~/.ssh\n\nls -a\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_19","title":"\u751f\u6210\u200b\u516c\u94a5\u200b\u79c1\u94a5","text":"<pre><code>ssh-keygen -t rsa\n</code></pre> <p>\u200b\u7136\u540e\u200b\u6572\u200b(\u200b\u4e09\u4e2a\u200b\u56de\u8f66\u200b)\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b id_rsa(\u200b\u79c1\u94a5\u200b)\u3001id_rsa.pub(\u200b\u516c\u94a5\u200b)</p>"},{"location":"bigdata/hadoop/quickstart/#_20","title":"\u5c06\u200b\u516c\u94a5\u200b\u62f7\u8d1d\u5230\u200b\u8981\u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u7684\u200b\u76ee\u6807\u200b\u673a\u5668\u200b\u4e0a","text":"<pre><code>ssh-copy-id -i id_rsa.pub matt@192.168.96.128\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#ssh_1","title":".ssh \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6587\u4ef6\u200b\u89e3\u91ca","text":"<p>a\u200b\u7ed9\u200bb\u200b\u516c\u94a5\u200b a\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u514d\u5bc6\u200b\u767b\u5f55\u200bb</p> <p>\u200b\u5206\u522b\u200b\u914d\u7f6e\u200bmatt,root\u200b\u7528\u6237\u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b\u5176\u4ed6\u200b\u670d\u52a1\u5668\u200b</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#_21","title":"\u96c6\u7fa4\u200b\u90e8\u7f72","text":"<p>\u200b\u96c6\u7fa4\u200b\u89c4\u5212\u200b</p> <p>NameNode\u200b\u548c\u200bSecondaryNameNode\u200b\u4e0d\u8981\u200b\u5b89\u88c5\u200b\u5728\u200b\u540c\u4e00\u200b\u53f0\u200b\u670d\u52a1\u5668\u200b</p> <p>ResourceManager\u200b\u4e5f\u200b\u5f88\u200b\u6d88\u8017\u200b\u5185\u5b58\u200b\uff0c\u200b\u4e0d\u8981\u200b\u548c\u200bNameNode\u3001SecondaryNameNode\u200b\u914d\u7f6e\u200b\u5728\u200b\u540c\u4e00\u200b\u53f0\u200b\u673a\u5668\u200b\u4e0a\u200b</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#_22","title":"\u914d\u7f6e\u6587\u4ef6\u200b\u8bf4\u660e","text":"<p>Hadoop \u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5206\u200b\u4e24\u7c7b\u200b:\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u548c\u200b\u81ea\u5b9a\u4e49\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u53ea\u6709\u200b\u7528\u6237\u200b\u60f3\u200b\u4fee\u6539\u200b\u67d0\u4e00\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b\u503c\u65f6\u200b\uff0c\u200b\u624d\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u81ea\u5b9a\u4e49\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u66f4\u6539\u200b\u76f8\u5e94\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002</p>"},{"location":"bigdata/hadoop/quickstart/#_23","title":"\u9ed8\u8ba4\u200b\u914d\u7f6e\u6587\u4ef6","text":""},{"location":"bigdata/hadoop/quickstart/#_24","title":"\u81ea\u5b9a\u4e49\u200b\u914d\u7f6e\u6587\u4ef6","text":"<p>core-site.xml\u3001hdfs-site.xml\u3001yarn-site.xml\u3001mapred-site.xml \u200b\u56db\u4e2a\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5b58\u653e\u200b\u5728\u200b $HADOOP_HOME/etc/hadoop \u200b\u8fd9\u4e2a\u200b\u8def\u5f84\u200b\u4e0a\u200b\uff0c\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9879\u76ee\u200b\u9700\u6c42\u200b\u91cd\u65b0\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\u914d\u7f6e\u200b\u3002</p>"},{"location":"bigdata/hadoop/quickstart/#_25","title":"\u914d\u7f6e\u200b\u96c6\u7fa4","text":""},{"location":"bigdata/hadoop/quickstart/#1-matt05","title":"1.\u200b\u6838\u5fc3\u200b\u914d\u7f6e\u6587\u4ef6\u200b-matt05","text":"<p>\u200b\u914d\u7f6e\u200b core-site.xml</p> <pre><code>vim core-site.xml\n</code></pre> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;\n&lt;configuration&gt;\n    &lt;!-- \u200b\u6307\u5b9a\u200b NameNode \u200b\u7684\u200b\u5730\u5740\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;fs.defaultFS&lt;/name&gt;\n        &lt;value&gt;hdfs://matt05:8020&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u6307\u5b9a\u200b hadoop \u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u76ee\u5f55\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;\n        &lt;value&gt;/opt/module/hadoop-3.1.3/data&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u914d\u7f6e\u200b HDFS \u200b\u7f51\u9875\u200b\u767b\u5f55\u200b\u4f7f\u7528\u200b\u7684\u200b\u9759\u6001\u200b\u7528\u6237\u200b\u4e3a\u200b matt --&gt;\n    &lt;property&gt;\n        &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;\n        &lt;value&gt;matt&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#2hdfs-matt05","title":"2.HDFS \u200b\u914d\u7f6e\u6587\u4ef6\u200b-matt05","text":"<p>\u200b\u914d\u7f6e\u200b hdfs-site.xml</p> <pre><code>vim hdfs-site.xml\n</code></pre> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;\n&lt;configuration&gt;\n    &lt;!-- nn web \u200b\u7aef\u200b\u8bbf\u95ee\u200b\u5730\u5740\u200b--&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;\n        &lt;value&gt;matt05:9870&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- 2nn web \u200b\u7aef\u200b\u8bbf\u95ee\u200b\u5730\u5740\u200b--&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;\n        &lt;value&gt;matt07:9868&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#3yarn-matt05","title":"3.YARN \u200b\u914d\u7f6e\u6587\u4ef6\u200b-matt05","text":"<pre><code>vim yarn-site.xml\n</code></pre> <pre><code>&lt;configuration&gt;\n    &lt;!-- \u200b\u6307\u5b9a\u200b MR \u200b\u8d70\u200b shuffle --&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u6307\u5b9a\u200b ResourceManager \u200b\u7684\u200b\u5730\u5740\u200b--&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\n        &lt;value&gt;matt06&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u73af\u5883\u53d8\u91cf\u200b\u7684\u200b\u7ee7\u627f\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;         &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#4mapreduce-matt05","title":"4.MapReduce \u200b\u914d\u7f6e\u6587\u4ef6\u200b-matt05","text":"<pre><code>vim mapred-site.xml\n</code></pre> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;\n&lt;configuration&gt;\n    &lt;!-- \u200b\u6307\u5b9a\u200b MapReduce \u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u5728\u200b Yarn \u200b\u4e0a\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n        &lt;value&gt;yarn&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_26","title":"\u5206\u53d1\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>xsync /opt/module/hadoop-3.1.3/etc/hadoop/\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_27","title":"\u7fa4\u8d77","text":""},{"location":"bigdata/hadoop/quickstart/#workers","title":"\u914d\u7f6e\u200bworkers","text":"<pre><code>vim /opt/module/hadoop-3.1.3/etc/hadoop/workers\n</code></pre> <p>\u200b\u6dfb\u52a0\u200b\u5982\u4e0b\u200b\u5185\u5bb9\u200b</p> <pre><code>matt05\nmatt06\nmatt07\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_28","title":"\u5206\u53d1\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>xsync /opt/module/hadoop-3.1.3/etc\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_29","title":"\u542f\u52a8\u200b\u96c6\u7fa4","text":""},{"location":"bigdata/hadoop/quickstart/#_30","title":"\u683c\u5f0f\u5316","text":"<p>1.\u200b\u5982\u679c\u200b\u96c6\u7fa4\u200b\u662f\u200b\u7b2c\u4e00\u6b21\u200b\u542f\u52a8\u200b\uff0c\u200b\u9700\u8981\u200b\u5728\u200b matt05 \u200b\u8282\u70b9\u200b\u683c\u5f0f\u5316\u200b NameNode(\u200b\u6ce8\u610f\u200b:\u200b\u683c\u5f0f\u5316\u200b NameNode\uff0c\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u65b0\u200b\u7684\u200b\u96c6\u7fa4\u200b id\uff0c\u200b\u5bfc\u81f4\u200b NameNode \u200b\u548c\u200b DataNode \u200b\u7684\u200b\u96c6\u7fa4\u200b id \u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u96c6\u7fa4\u200b\u627e\u200b \u200b\u4e0d\u5230\u200b\u5df2\u5f80\u200b\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u96c6\u7fa4\u200b\u5728\u200b\u8fd0\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u62a5\u9519\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u683c\u5f0f\u5316\u200b NameNode \u200b\u7684\u8bdd\u200b\uff0c\u200b\u4e00\u5b9a\u200b\u8981\u200b\u5148\u505c\u200b \u200b\u6b62\u200b namenode \u200b\u548c\u200b datanode \u200b\u7a0b\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8981\u200b\u5220\u9664\u200b\u6240\u6709\u200b\u673a\u5668\u200b\u7684\u200b data \u200b\u548c\u200b logs \u200b\u76ee\u5f55\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u8fdb\u884c\u200b\u683c\u5f0f\u5316\u200b\u3002)</p> <pre><code>hdfs namenode -format\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#hdfs_1","title":"\u542f\u52a8\u200bhdfs","text":"<pre><code>sbin/start-dfs.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#yarn_1","title":"\u542f\u52a8\u200byarn","text":"<p>\u200b\u5728\u200b\u914d\u7f6e\u200b\u4e86\u200b ResourceManager \u200b\u7684\u200b\u8282\u70b9\u200b(matt06)\u200b\u542f\u52a8\u200b YARN</p> <p>yarn:\u200b\u5fc5\u987b\u200b\u5728\u200bmatt06\u200b\u5f00\u542f\u200b\u5173\u95ed\u200b</p> <pre><code>sbin/start-yarn.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_31","title":"\u9a8c\u8bc1","text":""},{"location":"bigdata/hadoop/quickstart/#web","title":"web","text":"<p>Web \u200b\u7aef\u200b\u67e5\u770b\u200b HDFS \u200b\u7684\u200b NameNode</p> <p>(a)\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8f93\u5165\u200b:http://matt05:9870</p> <p>(b)\u200b\u67e5\u770b\u200b HDFS \u200b\u4e0a\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u200b\u4fe1\u606f\u200b </p> <p>Web \u200b\u7aef\u200b\u67e5\u770b\u200b YARN \u200b\u7684\u200b ResourceManager</p> <p>(a)\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8f93\u5165\u200b:http://matt06:8088</p> <p>(b)\u200b\u67e5\u770b\u200b YARN \u200b\u4e0a\u200b\u8fd0\u884c\u200b\u7684\u200b Job \u200b\u4fe1\u606f\u200b</p>"},{"location":"bigdata/hadoop/quickstart/#_32","title":"\u6d4b\u8bd5\u200b\u914d\u7f6e\u200b\u662f\u5426\u200b\u6210\u529f","text":"<p>\u200b\u521b\u5efa\u200b\u6587\u4ef6\u5939\u200b\u5e76\u200b\u4e0a\u4f20\u200b</p> <pre><code>hadoop fs -mkdir /input\n\nhadoop fs -put $HADOOP_HOME/wcinput/word.txt /input\n</code></pre> <p>hadoop\u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b</p> <pre><code>/opt/module/hadoop-3.1.3/data/dfs/data/current/BP-1436128598- 192.168.10.102-1610603650062/current/finalized/subdir0/subdir0\n</code></pre> <p>\u200b\u4e0b\u8f7d\u200b\u6587\u4ef6\u200b</p> <pre><code>hadoop fs -get /jdk-8u212-linux- x64.tar.gz ./\n</code></pre> <pre><code>[matt@matt05 subdir0]$ cat blk_1073741825\nhello word\nhello matt\ntencent \n[matt@matt05 subdir0]$ pwd\n/opt/module/hadoop-3.1.3/data/dfs/data/current/BP-1324950131-192.168.96.135-1628037446040/current/finalized/subdir0/subdir0\n[matt@matt05 subdir0]$\n</code></pre> <pre><code>[atguigu@hadoop102 subdir0]$ cat blk_1073741836&gt;&gt;tmp.tar.gz\n[atguigu@hadoop102 subdir0]$ cat blk_1073741837&gt;&gt;tmp.tar.gz\n[atguigu@hadoop102 subdir0]$ tar -zxvf tmp.tar.gz\n</code></pre> <p>\u200b\u6267\u884c\u200bjar\u200b\u5305\u200b</p> <pre><code>hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /input /output\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_33","title":"\u914d\u7f6e\u200b\u5386\u53f2\u200b\u670d\u52a1\u5668","text":"<p>\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u5386\u53f2\u200b\u8fd0\u884c\u200b\u60c5\u51b5\u200b</p>"},{"location":"bigdata/hadoop/quickstart/#_34","title":"\u7f16\u5199\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>vim mapred-site.xml\n</code></pre> <pre><code>    &lt;!-- \u200b\u5386\u53f2\u200b\u670d\u52a1\u5668\u7aef\u200b\u5730\u5740\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;\n        &lt;value&gt;matt05:10020&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u5386\u53f2\u200b\u670d\u52a1\u5668\u200b web \u200b\u7aef\u200b\u5730\u5740\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;\n        &lt;value&gt;matt05:19888&lt;/value&gt;\n    &lt;/property&gt;\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_35","title":"\u5206\u53d1\u200b\u914d\u7f6e","text":"<pre><code>xsync $HADOOP_HOME/etc/hadoop/mapred-site.xml\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#matt05","title":"matt05\u200b\u542f\u52a8\u200b\u5386\u53f2\u200b\u670d\u52a1\u5668","text":"<p>$HADOOP_HOME/bin</p> <pre><code>[matt@matt05 bin]$ mapred --daemon start historyserver\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_36","title":"\u6d4b\u8bd5","text":"<pre><code>jps\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_37","title":"\u65e5\u5fd7\u200b\u805a\u96c6","text":"<p>\u200b\u65e5\u5fd7\u200b\u805a\u96c6\u200b\u6982\u5ff5\u200b\uff1a\u200b\u5e94\u7528\u200b\u8fd0\u884c\u200b\u5b8c\u6210\u200b\u4ee5\u540e\u200b\uff0c\u200b\u5c06\u200b\u7a0b\u5e8f\u200b\u8fd0\u884c\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\u4e0a\u200b\u4f20\u5230\u200b HDFS \u200b\u7cfb\u7edf\u200b\u4e0a\u200b\u3002</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#matt05_1","title":"\u7f16\u5199\u200b\u914d\u7f6e\u6587\u4ef6\u200bmatt05","text":"<pre><code>vim yarn-site.xml\n</code></pre> <pre><code>    &lt;!-- \u200b\u5f00\u542f\u200b\u65e5\u5fd7\u200b\u805a\u96c6\u200b\u529f\u80fd\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u8bbe\u7f6e\u200b\u65e5\u5fd7\u200b\u805a\u96c6\u200b\u670d\u52a1\u5668\u200b\u5730\u5740\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.log.server.url&lt;/name&gt;\n        &lt;value&gt;http://matt05:19888/jobhistory/logs&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;!-- \u200b\u8bbe\u7f6e\u200b\u65e5\u5fd7\u200b\u4fdd\u7559\u200b\u65f6\u95f4\u200b\u4e3a\u200b 7 \u200b\u5929\u200b --&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;\n        &lt;value&gt;604800&lt;/value&gt;\n    &lt;/property&gt;\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_38","title":"\u5206\u53d1\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>xsync $HADOOP_HOME/etc/hadoop/yarn-site.xml\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#nodemanager-resourcemanager-historyserver","title":"\u5173\u95ed\u200b NodeManager \u3001ResourceManager \u200b\u548c\u200b HistoryServer","text":"<pre><code># matt06\u200b\u670d\u52a1\u5668\u200b\nsbin/stop-yarn.sh\n# matt05\u200b\u670d\u52a1\u5668\u200b\nmapred --daemon stop historyserver\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#nodemanager-resourcemanage-historyserver","title":"\u542f\u52a8\u200b NodeManager \u3001ResourceManage \u200b\u548c\u200b HistoryServer","text":"<pre><code>./start-yarn.sh\nmapred --daemon start historyserver\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#how_1","title":"how","text":""},{"location":"bigdata/hadoop/quickstart/#_39","title":"\u6574\u4f53\u200b\u542f\u52a8","text":""},{"location":"bigdata/hadoop/quickstart/#hdfs_2","title":"\u6574\u4f53\u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b HDFS","text":"<pre><code>start-dfs.sh/stop-dfs.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#yarn_2","title":"\u6574\u4f53\u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b YARN","text":"<pre><code>start-yarn.sh/stop-yarn.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_40","title":"\u5404\u4e2a\u200b\u670d\u52a1\u200b\u7ec4\u4ef6\u200b\u9010\u4e00\u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62","text":""},{"location":"bigdata/hadoop/quickstart/#hdfs_3","title":"\u5206\u522b\u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b HDFS \u200b\u7ec4\u4ef6","text":"<pre><code>hdfs --daemon start/stop namenode/datanode/secondarynamenode\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#yarn_3","title":"\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b YARN","text":"<pre><code>yarn --daemon start/stop resourcemanager/nodemanager\n</code></pre> <p>matt\u200b\u7528\u6237\u200b\u4e0b\u200b\u542f\u52a8\u200b</p>"},{"location":"bigdata/hadoop/quickstart/#_41","title":"\u542f\u52a8\u200b\u811a\u672c","text":"<p>myhadoop.sh</p> <pre><code>cd ~/bin\n\n\nvim myhadoop.sh\n</code></pre> <pre><code>#!/bin/bash\nif [ $# -lt 1 ]\nthen\n    echo \"No Args Input...\"\n    exit ;\nfi\n\ncase $1 in\n\"start\")\n    echo \" =================== \u200b\u542f\u52a8\u200b hadoop \u200b\u96c6\u7fa4\u200b ===================\"\n\n    echo \" --------------- \u200b\u542f\u52a8\u200b hdfs ---------------\"\n    ssh matt05 \"/opt/module/hadoop-3.1.3/sbin/start-dfs.sh\"\n    echo \" --------------- \u200b\u542f\u52a8\u200b yarn ---------------\"\n    ssh matt06 \"/opt/module/hadoop-3.1.3/sbin/start-yarn.sh\"\n    echo \" --------------- \u200b\u542f\u52a8\u200b historyserver ---------------\"\n    ssh matt05 \"/opt/module/hadoop-3.1.3/bin/mapred --daemon start historyserver\"\n;;\n\"stop\")\n    echo \" =================== \u200b\u5173\u95ed\u200b hadoop \u200b\u96c6\u7fa4\u200b ===================\"\n\n    echo \" --------------- \u200b\u5173\u95ed\u200b historyserver ---------------\"\n    ssh matt05 \"/opt/module/hadoop-3.1.3/bin/mapred --daemon stop historyserver\"\n    echo \" --------------- \u200b\u5173\u95ed\u200b yarn ---------------\"\n    ssh matt06 \"/opt/module/hadoop-3.1.3/sbin/stop-yarn.sh\"\n    echo \" --------------- \u200b\u5173\u95ed\u200b hdfs ---------------\"\n    ssh matt05 \"/opt/module/hadoop-3.1.3/sbin/stop-dfs.sh\"\n;;\n*)\n    echo \"Input Args Error...\"\n;;\nesac\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_42","title":"\u6dfb\u52a0\u200b\u6743\u9650","text":"<pre><code>chmod 777 myhadoop.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#bin_2","title":"\u811a\u672c\u200b\u590d\u5236\u5230\u200bbin\u200b\u76ee\u5f55\u200b\u4e0b","text":"<p>\u200b\u4f7f\u7528\u200bsudo\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u5168\u200b\u8def\u5f84\u200b\u3002\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u76f8\u5bf9\u8def\u5f84\u200b</p> <pre><code>sudo cp /home/matt/bin/xsync /bin\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_43","title":"\u5206\u53d1\u200b\u811a\u672c","text":"<pre><code>sudo xsync /home/matt/bin/xsync /bin/xsync /etc/profile.d/my_env.sh\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_44","title":"\u73af\u5883\u53d8\u91cf\u200b\u751f\u6548","text":"<pre><code>source /etc/profile\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#jpsall","title":"JPSALL","text":"<pre><code>vim jpsall\n</code></pre> <pre><code>#!/bin/bash\n\nfor host in matt05 matt06 matt07\ndo\n    echo =============== $host ===============\n    ssh $host jps\ndone\n</code></pre> <pre><code>chmod 777 jpsall\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_45","title":"\u5e38\u7528\u200b\u7aef\u53e3\u53f7","text":"<p>\u200b\u5e38\u7528\u200b\u914d\u7f6e\u6587\u4ef6\u200b</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#_46","title":"\u65f6\u95f4\u200b\u540c\u6b65","text":""},{"location":"bigdata/hadoop/quickstart/#_47","title":"\u9700\u6c42","text":"<p>\u200b\u5982\u679c\u200b\u670d\u52a1\u5668\u200b\u5728\u200b\u516c\u7f51\u200b\u73af\u5883\u200b\uff08\u200b\u80fd\u200b\u8fde\u63a5\u200b\u5916\u200b\u7f51\u200b\uff09\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u91c7\u7528\u200b\u96c6\u7fa4\u200b\u65f6\u95f4\u200b\u540c\u6b65\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u670d\u52a1\u5668\u200b\u4f1a\u200b\u5b9a\u671f\u200b \u200b\u548c\u200b\u516c\u7f51\u200b\u65f6\u95f4\u200b\u8fdb\u884c\u200b\u6821\u51c6\u200b\uff1b \u200b\u5982\u679c\u200b\u670d\u52a1\u5668\u200b\u5728\u5185\u200b\u7f51\u200b\u73af\u5883\u200b\uff0c\u200b\u5fc5\u987b\u200b\u8981\u200b\u914d\u7f6e\u200b\u96c6\u7fa4\u200b\u65f6\u95f4\u200b\u540c\u6b65\u200b\uff0c\u200b\u5426\u5219\u200b\u65f6\u95f4\u200b\u4e45\u200b\u4e86\u200b\uff0c\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u65f6\u95f4\u200b\u504f\u5dee\u200b\uff0c \u200b\u5bfc\u81f4\u200b\u96c6\u7fa4\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\u65f6\u95f4\u200b\u4e0d\u200b\u540c\u6b65\u200b</p> <p>\u200b\u627e\u200b\u4e00\u4e2a\u200b\u673a\u5668\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u65f6\u95f4\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u673a\u5668\u200b\u4e0e\u200b\u8fd9\u53f0\u200b\u96c6\u7fa4\u200b\u65f6\u95f4\u200b\u8fdb\u884c\u200b\u5b9a\u65f6\u200b\u7684\u200b\u540c\u6b65\u200b\uff0c\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b \u200b\u6839\u636e\u200b\u4efb\u52a1\u200b\u5bf9\u200b\u65f6\u95f4\u200b\u7684\u200b\u51c6\u786e\u200b\u7a0b\u5ea6\u200b\u8981\u6c42\u200b\u5468\u671f\u200b\u540c\u6b65\u200b\u3002\u200b\u6d4b\u8bd5\u73af\u5883\u200b\u4e3a\u4e86\u200b\u5c3d\u5feb\u200b\u770b\u5230\u200b\u6548\u679c\u200b\uff0c\u200b\u91c7\u7528\u200b 1 \u200b\u5206\u949f\u200b\u540c\u6b65\u200b\u4e00\u200b \u200b\u6b21\u200b\u3002</p> <p></p>"},{"location":"bigdata/hadoop/quickstart/#config","title":"config","text":""},{"location":"bigdata/hadoop/quickstart/#ntpd","title":"\u67e5\u770b\u200b\u6240\u6709\u200b\u8282\u70b9\u200b ntpd \u200b\u670d\u52a1\u200b\u72b6\u6001\u200b\u548c\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\u72b6\u6001","text":"<pre><code>sudo su root\n\n\nsystemctl status ntpd\n\nsystemctl start ntpd\n\n\nsystemctl is-enabled ntpd\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#hadoop102-ntpconf","title":"\u4fee\u6539\u200b hadoop102 \u200b\u7684\u200b ntp.conf \u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>vim /etc/ntp.conf\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#1-192168960-19216810255","title":"\u4fee\u6539\u200b 1\uff08\u200b\u6388\u6743\u200b 192.168.96.0-192.168.10.255 \u200b\u7f51\u6bb5\u200b\u4e0a\u200b\u7684\u200b\u6240\u6709\u200b\u673a\u5668\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u8fd9\u53f0\u200b\u673a\u5668\u200b\u4e0a\u67e5","text":"<p>\u200b\u8be2\u200b\u548c\u200b\u540c\u6b65\u200b\u65f6\u95f4\u200b\uff09</p> <pre><code>estrict 192.168.96.0 mask 255.255.255.0 nomodify notrap\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#2","title":"\u4fee\u6539\u200b 2\uff08\u200b\u96c6\u7fa4\u200b\u5728\u200b\u5c40\u57df\u7f51\u200b\u4e2d\u200b\uff0c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u5176\u4ed6\u200b\u4e92\u8054\u7f51\u200b\u4e0a\u200b\u7684\u200b\u65f6\u95f4\u200b\uff09","text":"<pre><code>#server 0.centos.pool.ntp.org iburst\n#server 1.centos.pool.ntp.org iburst\n#server 2.centos.pool.ntp.org iburst\n#server 3.centos.pool.ntp.org iburst\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#3","title":"\u6dfb\u52a0\u200b 3\uff08\u200b\u5f53\u8be5\u200b\u8282\u70b9\u200b\u4e22\u5931\u200b\u7f51\u7edc\u8fde\u63a5\u200b\uff0c\u200b\u4f9d\u7136\u200b\u53ef\u4ee5\u200b\u91c7\u7528\u200b\u672c\u5730\u200b\u65f6\u95f4\u200b\u4f5c\u4e3a\u200b\u65f6\u95f4\u200b\u670d\u52a1\u5668\u200b\u4e3a\u200b\u96c6\u7fa4\u200b\u4e2d","text":"<p>\u200b\u7684\u200b\u5176\u4ed6\u200b\u8282\u70b9\u200b\u63d0\u4f9b\u200b\u65f6\u95f4\u200b\u540c\u6b65\u200b\uff09</p> <pre><code>server 127.127.1.0\nfudge 127.127.1.0 stratum 10\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#matt05-etcsysconfigntpd","title":"\u4fee\u6539\u200b matt05 \u200b\u7684\u200b/etc/sysconfig/ntpd \u200b\u6587\u4ef6","text":"<pre><code>vim /etc/sysconfig/ntpd\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_48","title":"\u589e\u52a0\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff08\u200b\u8ba9\u200b\u786c\u4ef6\u200b\u65f6\u95f4\u200b\u4e0e\u200b\u7cfb\u7edf\u200b\u65f6\u95f4\u200b\u4e00\u8d77\u200b\u540c\u6b65\u200b\uff09","text":"<pre><code>SYNC_HWCLOCK=yes\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#ntpd_1","title":"\u91cd\u65b0\u542f\u52a8\u200b ntpd \u200b\u670d\u52a1","text":"<pre><code>systemctl start ntpd\n\nsystemctl enable ntpd\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#root-ntp","title":"\u5176\u4ed6\u200b\u673a\u5668\u914d\u7f6e\u200broot\u200b\u7528\u6237\u200b\u4e0b\u200b\u5173\u95ed\u200b\u6240\u6709\u200b\u8282\u70b9\u200b\u4e0a\u200b ntp \u200b\u670d\u52a1\u200b\u548c\u200b\u81ea\u542f\u52a8","text":"<pre><code>systemctl stop ntpd\n\n\nsystemctl disable ntpd\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#1","title":"\u5728\u200b\u5176\u4ed6\u200b\u673a\u5668\u914d\u7f6e\u200b 1 \u200b\u5206\u949f\u200b\u4e0e\u200b\u65f6\u95f4\u200b\u670d\u52a1\u5668\u200b\u540c\u6b65\u200b\u4e00\u6b21","text":"<pre><code>crontab -e\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_49","title":"\u7f16\u5199\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u5982\u4e0b\u200b\uff1a","text":"<pre><code>*/1 * * * * /usr/sbin/ntpdate matt05\n</code></pre>"},{"location":"bigdata/hadoop/quickstart/#_50","title":"\u6d4b\u8bd5","text":"<pre><code>date -s \"2021-9-11 11:11:11\"\n\n\ndate\n</code></pre> <p>\u200b\u6587\u4ef6\u200b\u5757\u200b\u5927\u5c0f\u200b\uff1a128m</p> <p>\u200b\u4e0a\u9650\u200b\u662f\u200b128m \u200b\u5982\u679c\u200b\u662f\u200b1kb\u200b\u7684\u200b\u6587\u4ef6\u200b\u90a3\u4e48\u200b\u5269\u4f59\u200b\u7684\u200b\u7a7a\u95f4\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b</p>"},{"location":"bigdata/hadoop/quickstart/#_51","title":"\u95ee\u9898","text":""},{"location":"bigdata/hadoop/quickstart/#_52","title":"\u7248\u672c\u200b\u4e0d\u200b\u4e00\u81f4","text":"<p>\u200b\u56e0\u4e3a\u200b\u6bcf\u4e2a\u200bdatanode\u200b\u8282\u70b9\u200b\u90fd\u200b\u6709\u200b\u7248\u672c\u53f7\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u5c31\u200b\u4f1a\u200b\u542f\u52a8\u200b\u62a5\u9519\u200b</p> <pre><code>sbin/stop-dfs.sh\n</code></pre> <p>\u200b\u5220\u9664\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u7684\u200bdata logs \u200b\u5373\u53ef\u200b</p> <pre><code>rm -rvf data\nrm -rvf logs\n</code></pre> <p>\u200b\u683c\u5f0f\u5316\u200b</p> <pre><code>hdfs namenode -format\n</code></pre> <p>\u200b\u542f\u52a8\u200b</p> <pre><code>sbin/start-dfs.sh\n</code></pre> <p>http://matt05:9870/</p>"},{"location":"bigdata/hadoop/quickstart/#_53","title":"\u5176\u4ed6\u200b\u9519\u8bef","text":"<p>1\uff09\u200b\u9632\u706b\u5899\u200b\u6ca1\u200b\u5173\u95ed\u200b\u3001\u200b\u6216\u8005\u200b\u6ca1\u6709\u200b\u542f\u52a8\u200b YARN </p> <p>INFO client.RMProxy: Connecting to ResourceManager at hadoop108/192.168.10.108:8032  </p> <p>2\uff09root \u200b\u7528\u6237\u200b\u548c\u200b matt05 \u200b\u4e24\u4e2a\u200b\u7528\u6237\u200b\u542f\u52a8\u200b\u96c6\u7fa4\u200b\u4e0d\u200b\u7edf\u4e00\u200b  </p> <p>3\uff09\u200b\u4e0d\u200b\u8bc6\u522b\u200b\u4e3b\u673a\u200b\u540d\u79f0\u200b</p> <pre><code>java.net.UnknownHostException: hadoop102: hadoop102 at java.net.InetAddress.getLocalHost(InetAddress.java:1475) at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(Job Submitter.java:146) at org.apache.hadoop.mapreduce.Job$10.run(Job.java:1290) at org.apache.hadoop.mapreduce.Job$10.run(Job.java:1287) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:415)\n</code></pre> <p>\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a </p> <p>\u200b   \uff081\uff09\u200b\u5728\u200b/etc/hosts \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u6dfb\u52a0\u200b 192.168.10.102 hadoop102 </p> <p>\u200b   \uff082\uff09\u200b\u4e3b\u673a\u200b\u540d\u79f0\u200b\u4e0d\u8981\u200b\u8d77\u200b hadoop hadoop000 \u200b\u7b49\u200b\u7279\u6b8a\u200b\u540d\u79f0\u200b</p> <p>4\uff09jps \u200b\u53d1\u73b0\u200b\u8fdb\u7a0b\u200b\u5df2\u7ecf\u200b\u6ca1\u6709\u200b\uff0c\u200b\u4f46\u662f\u200b\u91cd\u65b0\u542f\u52a8\u200b\u96c6\u7fa4\u200b\uff0c\u200b\u63d0\u793a\u200b\u8fdb\u7a0b\u200b\u5df2\u7ecf\u200b\u5f00\u542f\u200b\u3002 \u200b\u539f\u56e0\u200b\u662f\u200b\u5728\u200b Linux \u200b\u7684\u200b\u6839\u76ee\u5f55\u200b\u4e0b\u200b/tmp \u200b\u76ee\u5f55\u200b\u4e2d\u200b\u5b58\u5728\u200b\u542f\u52a8\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4e34\u65f6\u6587\u4ef6\u200b\uff0c\u200b\u5c06\u200b\u96c6\u7fa4\u200b\u76f8\u5173\u200b\u8fdb\u7a0b\u200b\u5220\u200b \u200b\u9664\u6389\u200b\uff0c\u200b\u518d\u200b\u91cd\u65b0\u542f\u52a8\u200b\u96c6\u7fa4\u200b\u3002 </p> <p>5\uff09jps \u200b\u4e0d\u200b\u751f\u6548\u200b </p> <p>\u200b\u539f\u56e0\u200b\uff1a\u200b\u5168\u5c40\u53d8\u91cf\u200b hadoop java \u200b\u6ca1\u6709\u200b\u751f\u6548\u200b\u3002</p> <p>\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a\u200b\u9700\u8981\u200b source /etc/profile \u200b\u6587\u4ef6\u200b\u3002 </p> <p>6\uff098088 \u200b\u7aef\u53e3\u200b\u8fde\u63a5\u200b\u4e0d\u4e0a\u200b</p> <pre><code>cat /etc/hosts \n</code></pre> <p>\u200b\u6ce8\u91ca\u200b\u6389\u200b\u5982\u4e0b\u200b\u4ee3\u7801\u200b</p> <pre><code>#127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4\n#::1 matt05\n</code></pre>"},{"location":"bigdata/hadoop/yarn/","title":"Yarn","text":"<p>\u200b\u9759\u6001\u6570\u636e\u200b</p>"},{"location":"bigdata/hadoop/yarn/#matt","title":"matt","text":"<p>DAG\u200b\u6709\u200b\u5411\u200b\u65e0\u200b\u73af\u56fe\u200b:\u200b\u4efb\u52a1\u200b1\u200b\u6267\u884c\u200b\u8f93\u51fa\u200b\u7684\u200b\u7ed3\u679c\u200b\u4f5c\u4e3a\u200b\u4efb\u52a1\u200b2\u200b\u7684\u200b\u8f93\u5165\u200b \u3002\u3002\u3002\u3002\u3002</p> <pre><code>cd /opt/module/hadoop-3.1.3/share/hadoop/mapreduce\n\n\n\nsz hadoop-mapreduce-examples-3.1.3.jar    \n</code></pre> <p></p> <p>FIFO\u200b\u8c03\u5ea6\u200b\u5668\u200b:job1\u200b\u8fd0\u884c\u200b\u5b8c\u624d\u200b\u53ef\u4ee5\u200b\u8fd0\u884c\u200bjob2</p> <p>c7\u200b\u5173\u95ed\u200b \u200b\u865a\u62df\u5185\u5b58\u200b\u68c0\u67e5\u200b</p> <pre><code>&lt;!-- \u200b\u9009\u62e9\u200b\u8c03\u5ea6\u200b\u5668\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5bb9\u91cf\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;The class to use as the resource scheduler.&lt;/description&gt;\n&lt;name&gt;yarn.resourcemanager.scheduler.class&lt;/name&gt;\n&lt;value&gt;org.apache.hadoop.yarn.server.resourcemanager.scheduler.capaci\nty.CapacityScheduler&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- ResourceManager \u200b\u5904\u7406\u200b\u8c03\u5ea6\u200b\u5668\u200b\u8bf7\u6c42\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u6570\u91cf\u200b,\u200b\u9ed8\u8ba4\u200b 50\uff1b\u200b\u5982\u679c\u200b\u63d0\u4ea4\u200b\u7684\u200b\u4efb\u52a1\u200b\u6570\u200b\u5927\u4e8e\u200b 50\uff0c\u200b\u53ef\u4ee5\u200b\n\u200b\u589e\u52a0\u200b\u8be5\u503c\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b 3 \u200b\u53f0\u200b * 4 \u200b\u7ebf\u7a0b\u200b = 12 \u200b\u7ebf\u7a0b\u200b\uff08\u200b\u53bb\u9664\u200b\u5176\u4ed6\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5b9e\u9645\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b 8\uff09 --&gt;\n&lt;property&gt;\n&lt;description&gt;Number of threads to handle scheduler\ninterface.&lt;/description&gt;\n&lt;name&gt;yarn.resourcemanager.scheduler.client.thread-count&lt;/name&gt;\n&lt;value&gt;8&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;!-- \u200b\u662f\u5426\u200b\u8ba9\u200b yarn \u200b\u81ea\u52a8\u68c0\u6d4b\u200b\u786c\u4ef6\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b false\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u8282\u70b9\u200b\u6709\u200b\u5f88\u591a\u200b\u5176\u4ed6\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\uff0c\u200b\u5efa\u8bae\u200b\n\u200b\u624b\u52a8\u200b\u914d\u7f6e\u200b\u3002\u200b\u5982\u679c\u200b\u8be5\u200b\u8282\u70b9\u200b\u6ca1\u6709\u200b\u5176\u4ed6\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u91c7\u7528\u200b\u81ea\u52a8\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;Enable auto-detection of node capabilities such as\nmemory and CPU.\n&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.resource.detect-hardware-capabilities&lt;/name&gt;\n&lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u662f\u5426\u200b\u5c06\u200b\u865a\u62df\u200b\u6838\u6570\u200b\u5f53\u4f5c\u200b CPU \u200b\u6838\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b false\uff0c\u200b\u91c7\u7528\u200b\u7269\u7406\u200b CPU \u200b\u6838\u6570\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;Flag to determine if logical processors(such as\nhyperthreads) should be counted as cores. Only applicable on Linux\nwhen yarn.nodemanager.resource.cpu-vcores is set to -1 and\nyarn.nodemanager.resource.detect-hardware-capabilities is true.\n&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.resource.count-logical-processors-ascores&lt;/name&gt;\n&lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u865a\u62df\u200b\u6838\u6570\u200b\u548c\u200b\u7269\u7406\u200b\u6838\u6570\u200b\u4e58\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b 1.0 --&gt;\n&lt;property&gt;\n&lt;description&gt;Multiplier to determine how to convert phyiscal cores to\nvcores. This value is used if yarn.nodemanager.resource.cpu-vcores\nis set to -1(which implies auto-calculate vcores) and\nyarn.nodemanager.resource.detect-hardware-capabilities is set to true.\nThe number of vcores will be calculated as number of CPUs * multiplier.\n&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.resource.pcores-vcores-multiplier&lt;/name&gt;\n&lt;value&gt;1.0&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- NodeManager \u200b\u4f7f\u7528\u200b\u5185\u5b58\u200b\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 8G\uff0c\u200b\u4fee\u6539\u200b\u4e3a\u200b 4G \u200b\u5185\u5b58\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;Amount of physical memory, in MB, that can be allocated\nfor containers. If set to -1 and\nyarn.nodemanager.resource.detect-hardware-capabilities is true, it is\nautomatically calculated(in case of Windows and Linux).\nIn other cases, the default is 8192MB.\n&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;\n&lt;value&gt;2048&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- nodemanager \u200b\u7684\u200b CPU \u200b\u6838\u6570\u200b\uff0c\u200b\u4e0d\u200b\u6309\u7167\u200b\u786c\u4ef6\u200b\u73af\u5883\u200b\u81ea\u52a8\u200b\u8bbe\u5b9a\u200b\u65f6\u200b\u9ed8\u8ba4\u200b\u662f\u200b 8 \u200b\u4e2a\u200b\uff0c\u200b\u4fee\u6539\u200b\u4e3a\u200b 4 \u200b\u4e2a\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;Number of vcores that can be allocated\nfor containers. This is used by the RM scheduler when allocating\nresources for containers. This is not used to limit the number of\nCPUs used by YARN containers. If it is set to -1 and\nyarn.nodemanager.resource.detect-hardware-capabilities is true, it is\nautomatically determined from the hardware in case of Windows and Linux.\nIn other cases, number of vcores is 8 by default.&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;\n&lt;value&gt;2&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u5bb9\u5668\u200b\u6700\u5c0f\u200b\u5185\u5b58\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 1G --&gt;\n&lt;property&gt;\n&lt;description&gt;The minimum allocation for every container request at theRM in MBs. Memory requests lower than this will be set to the value of\nthis property. Additionally, a node manager that is configured to have\nless memory than this value will be shut down by the resource manager.\n&lt;/description&gt;\n&lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;\n&lt;value&gt;1024&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u5bb9\u5668\u200b\u6700\u5927\u200b\u5185\u5b58\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 8G\uff0c\u200b\u4fee\u6539\u200b\u4e3a\u200b 2G --&gt;\n&lt;property&gt;\n&lt;description&gt;The maximum allocation for every container request at the\nRM in MBs. Memory requests higher than this will throw an\nInvalidResourceRequestException.\n&lt;/description&gt;\n&lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;\n&lt;value&gt;2048&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u5bb9\u5668\u200b\u6700\u5c0f\u200b CPU \u200b\u6838\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 1 \u200b\u4e2a\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;The minimum allocation for every container request at the\nRM in terms of virtual CPU cores. Requests lower than this will be set to\nthe value of this property. Additionally, a node manager that is configured\nto have fewer virtual cores than this value will be shut down by the\nresource manager.\n&lt;/description&gt;\n&lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;\n&lt;value&gt;1&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u5bb9\u5668\u200b\u6700\u5927\u200b CPU \u200b\u6838\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 4 \u200b\u4e2a\u200b\uff0c\u200b\u4fee\u6539\u200b\u4e3a\u200b 2 \u200b\u4e2a\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;The maximum allocation for every container request at the\nRM in terms of virtual CPU cores. Requests higher than this will throw an\nInvalidResourceRequestException.&lt;/description&gt;\n&lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;\n&lt;value&gt;2&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u865a\u62df\u5185\u5b58\u200b\u68c0\u67e5\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6253\u5f00\u200b\uff0c\u200b\u4fee\u6539\u200b\u4e3a\u200b\u5173\u95ed\u200b --&gt;\n&lt;property&gt;\n&lt;description&gt;Whether virtual memory limits will be enforced for\ncontainers.&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\n&lt;value&gt;false&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u865a\u62df\u5185\u5b58\u200b\u548c\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u8bbe\u7f6e\u200b\u6bd4\u4f8b\u200b,\u200b\u9ed8\u8ba4\u200b 2.1 --&gt;\n&lt;property&gt;\n&lt;description&gt;Ratio between virtual memory to physical memory when\nsetting memory limits for containers. Container allocations are\nexpressed in terms of physical memory, and virtual memory usage is\nallowed to exceed this allocation by this ratio.\n&lt;/description&gt;\n&lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\n&lt;value&gt;2.1&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <pre><code>hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount /input /o2\n</code></pre> <pre><code>&lt;!-- \u200b\u6307\u5b9a\u200b\u591a\u200b\u961f\u5217\u200b\uff0c\u200b\u589e\u52a0\u200b hive \u200b\u961f\u5217\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.queues&lt;/name&gt;\n &lt;value&gt;default,hive&lt;/value&gt;\n &lt;description&gt;\n The queues at the this level (root is the root queue).\n &lt;/description&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u964d\u4f4e\u200b default \u200b\u961f\u5217\u200b\u8d44\u6e90\u200b\u989d\u5b9a\u200b\u5bb9\u91cf\u200b\u4e3a\u200b 40%\uff0c\u200b\u9ed8\u8ba4\u200b 100% --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.default.capacity&lt;/name&gt;\n &lt;value&gt;40&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u964d\u4f4e\u200b default \u200b\u961f\u5217\u200b\u8d44\u6e90\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b\u4e3a\u200b 60%\uff0c\u200b\u9ed8\u8ba4\u200b 100% --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.default.maximum-capacity&lt;/name&gt;\n &lt;value&gt;60&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <pre><code>&lt;!-- \u200b\u6307\u5b9a\u200b hive \u200b\u961f\u5217\u200b\u7684\u200b\u8d44\u6e90\u200b\u989d\u5b9a\u200b\u5bb9\u91cf\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.capacity&lt;/name&gt;\n &lt;value&gt;60&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u7528\u6237\u200b\u6700\u200b\u591a\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u961f\u5217\u200b\u591a\u5c11\u200b\u8d44\u6e90\u200b\uff0c1 \u200b\u8868\u793a\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.user-limit-factor&lt;/name&gt;\n &lt;value&gt;1&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u6307\u5b9a\u200b hive \u200b\u961f\u5217\u200b\u7684\u200b\u8d44\u6e90\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.maximum-capacity&lt;/name&gt;\n &lt;value&gt;80&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u542f\u52a8\u200b hive \u200b\u961f\u5217\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.state&lt;/name&gt;\n &lt;value&gt;RUNNING&lt;/value&gt;\n&lt;/property&gt;\n\n\n&lt;!-- \u200b\u54ea\u4e9b\u200b\u7528\u6237\u200b\u6709\u6743\u200b\u5411\u200b\u961f\u5217\u200b\u63d0\u4ea4\u200b\u4f5c\u4e1a\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.acl_submit_applications&lt;/name&gt;\n &lt;value&gt;*&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u54ea\u4e9b\u200b\u7528\u6237\u200b\u6709\u6743\u200b\u64cd\u4f5c\u200b\u961f\u5217\u200b\uff0c\u200b\u7ba1\u7406\u5458\u200b\u6743\u9650\u200b\uff08\u200b\u67e5\u770b\u200b/\u200b\u6740\u6b7b\u200b\uff09 --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.acl_administer_queue&lt;/name&gt;\n &lt;value&gt;*&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u54ea\u4e9b\u200b\u7528\u6237\u200b\u6709\u6743\u200b\u914d\u7f6e\u200b\u63d0\u4ea4\u200b\u4efb\u52a1\u200b\u4f18\u5148\u7ea7\u200b --&gt;\n&lt;property&gt;\n\n&lt;name&gt;yarn.scheduler.capacity.root.hive.acl_application_max_priority&lt;/nam\ne&gt;\n &lt;value&gt;*&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u4efb\u52a1\u200b\u7684\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u8bbe\u7f6e\u200b\uff1ayarn application -appId appId -updateLifetime Timeout\n\u200b\u53c2\u8003\u8d44\u6599\u200b\uff1a https://blog.cloudera.com/enforcing-application-lifetime-slasyarn/ --&gt;\n&lt;!-- \u200b\u5982\u679c\u200b application \u200b\u6307\u5b9a\u200b\u4e86\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5219\u200b\u63d0\u4ea4\u200b\u5230\u200b\u8be5\u200b\u961f\u5217\u200b\u7684\u200b application \u200b\u80fd\u591f\u200b\u6307\u5b9a\u200b\u7684\u200b\u6700\u5927\u200b\u8d85\u65f6\u200b\n\u200b\u65f6\u95f4\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u8be5\u503c\u200b\u3002\n--&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.maximum-applicationlifetime&lt;/name&gt;\n &lt;value&gt;-1&lt;/value&gt;\n&lt;/property&gt;\n&lt;!-- \u200b\u5982\u679c\u200b application \u200b\u6ca1\u200b\u6307\u5b9a\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5219\u200b\u7528\u200b default-application-lifetime \u200b\u4f5c\u4e3a\u200b\u9ed8\u8ba4\u200b\n\u200b\u503c\u200b --&gt;\n&lt;property&gt;\n &lt;name&gt;yarn.scheduler.capacity.root.hive.default-applicationlifetime&lt;/name&gt;\n &lt;value&gt;-1&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <pre><code>vim capacity-scheduler.xml\n</code></pre> <pre><code>hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar wordcount -D mapreduce.job.queuename=hive /input /o3\n</code></pre> <p>\u200b\u4f18\u5148\u7ea7\u200b</p> <pre><code>hadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar pi 5 2000000\n\n\n# \u200b\u4f18\u5148\u7ea7\u200b\u9ad8\u200b\nhadoop jar /opt/module/hadoop-3.1.3/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar pi -D mapreduce.job.priority=5 5 2000000\n</code></pre> <p>yarn tool \u200b\u89e3\u51b3\u200b\u81ea\u5b9a\u4e49\u200b\u7a0b\u5e8f\u200b\u65e0\u6cd5\u200b\u6307\u5b9a\u200byarn\u200b\u53c2\u6570\u200b</p> <pre><code>yarn jar stu-yarn-1.0-SNAPSHOT.jar com.matt.yarn.WordCountDriver wordcount /input /o4\n\n\n\nyarn jar stu-yarn-1.0-SNAPSHOT.jar com.matt.yarn.WordCountDriver wordcount -Dmapreduce.job.priority=5 /input /041\n\nyarn jar stu-yarn-1.0-SNAPSHOT.jar com.matt.yarn.WordCountDriver wordcount -D mapreduce.job.priority=5 /input /042\n\n\nstu-yarn-1.0-SNAPSHOT.jar\n</code></pre>"},{"location":"bigdata/hbase/111/","title":"4.hbase\u200b\u8fdb\u9636","text":""},{"location":"bigdata/hbase/111/#41","title":"4.1\u200b\u8be6\u7ec6\u200b\u67b6\u6784\u56fe","text":"<p>1.StoreFile  \u200b\u4fdd\u5b58\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u7684\u200b\u7269\u7406\u200b\u6587\u4ef6\u200b\uff0cStoreFile \u200b\u4ee5\u200b HFile \u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b HDFS \u200b\u4e0a\u200b\u3002\u200b\u6bcf\u4e2a\u200b Store \u200b\u4f1a\u200b\u6709\u200b \u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b StoreFile\uff08HFile\uff09\uff0c\u200b\u6570\u636e\u200b\u5728\u200b\u6bcf\u4e2a\u200b StoreFile \u200b\u4e2d\u200b\u90fd\u200b\u662f\u200b\u6709\u5e8f\u200b\u7684\u200b\u3002  2.MemStore  \u200b\u5199\u200b\u7f13\u5b58\u200b\uff0c\u200b\u7531\u4e8e\u200b HFile \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u8981\u6c42\u200b\u662f\u200b\u6709\u5e8f\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6570\u636e\u200b\u662f\u200b\u5148\u200b\u5b58\u50a8\u200b\u5728\u200b MemStore \u200b\u4e2d\u200b\uff0c\u200b\u6392\u597d\u5e8f\u200b\u540e\u200b\uff0c\u200b\u7b49\u200b\u5230\u8fbe\u200b\u5237\u5199\u200b\u65f6\u673a\u200b\u624d\u200b\u4f1a\u200b\u5237\u5199\u200b\u5230\u200b HFile\uff0c\u200b\u6bcf\u6b21\u200b\u5237\u5199\u200b\u90fd\u200b\u4f1a\u200b\u5f62\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b HFile\u3002  3.WAL  \u200b\u7531\u4e8e\u200b\u6570\u636e\u200b\u8981\u7ecf\u200b MemStore \u200b\u6392\u5e8f\u200b\u540e\u200b\u624d\u80fd\u200b\u5237\u5199\u200b\u5230\u200b HFile\uff0c\u200b\u4f46\u200b\u628a\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u4f1a\u200b\u6709\u200b\u5f88\u200b\u9ad8\u200b\u7684\u200b \u200b\u6982\u7387\u200b\u5bfc\u81f4\u200b\u6570\u636e\u200b\u4e22\u5931\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u6570\u636e\u200b\u4f1a\u5148\u200b\u5199\u200b\u5728\u200b\u4e00\u4e2a\u200b\u53eb\u505a\u200b Write-Ahead logfile \u200b\u7684\u200b\u6587\u4ef6\u200b \u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u5199\u5165\u200b MemStore \u200b\u4e2d\u200b\u3002\u200b\u6240\u4ee5\u200b\u5728\u200b\u7cfb\u7edf\u200b\u51fa\u73b0\u200b\u6545\u969c\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6570\u636e\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8fd9\u4e2a\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u91cd\u200b \u200b\u5efa\u200b\u3002</p>"},{"location":"bigdata/hbase/111/#42","title":"4.2\u200b\u5199\u200b\u6570\u636e","text":""},{"location":"bigdata/hbase/111/#_1","title":"\u539f\u7406\u56fe","text":"<p>\u200b\u5199\u200b\u6d41\u7a0b\u200b\uff1a  1.Client \u200b\u5148\u200b\u8bbf\u95ee\u200b zookeeper\uff0c\u200b\u83b7\u53d6\u200b hbase:meta \u200b\u8868\u200b\u4f4d\u4e8e\u200b\u54ea\u4e2a\u200b Region Server\u3002  2.\u200b\u8bbf\u95ee\u200b\u5bf9\u5e94\u200b\u7684\u200b Region Server\uff0c\u200b\u83b7\u53d6\u200b hbase:meta \u200b\u8868\u200b\uff0c\u200b\u6839\u636e\u200b\u8bfb\u200b\u8bf7\u6c42\u200b\u7684\u200b namespace:table/rowkey\uff0c\u200b\u67e5\u8be2\u200b\u51fa\u200b\u76ee\u6807\u200b\u6570\u636e\u200b\u4f4d\u4e8e\u200b\u54ea\u4e2a\u200b Region Server \u200b\u4e2d\u200b\u7684\u200b\u54ea\u4e2a\u200b Region \u200b\u4e2d\u200b\u3002\u200b\u5e76\u200b\u5c06\u200b\u8be5\u200b table \u200b\u7684\u200b region \u200b\u4fe1\u606f\u200b\u4ee5\u53ca\u200b meta \u200b\u8868\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u4fe1\u606f\u200b\u7f13\u5b58\u200b\u5728\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b meta cache\uff0c\u200b\u65b9\u4fbf\u200b\u4e0b\u200b\u6b21\u8bbf\u95ee\u200b\u3002  3.\u200b\u4e0e\u200b\u76ee\u6807\u200b Region Server \u200b\u8fdb\u884c\u200b\u901a\u8baf\u200b\uff1b  4.\u200b\u5c06\u200b\u6570\u636e\u200b\u987a\u5e8f\u200b\u5199\u5165\u200b\uff08\u200b\u8ffd\u52a0\u200b\uff09\u200b\u5230\u200b WAL\uff1b  5.\u200b\u5c06\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u5bf9\u5e94\u200b\u7684\u200b MemStore\uff0c\u200b\u6570\u636e\u200b\u4f1a\u200b\u5728\u200b MemStore \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff1b  6.\u200b\u5411\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u9001\u200b ack\uff1b  7.\u200b\u7b49\u200b\u8fbe\u5230\u200b MemStore \u200b\u7684\u200b\u5237\u5199\u200b\u65f6\u673a\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u5237\u5199\u200b\u5230\u200b HFile\u3002</p> <p>\u200b\u83b7\u53d6\u200b\u9501\u200b</p> <p>\u200b\u6dfb\u52a0\u200b\u65f6\u95f4\u200b\u6233\u200b</p> <p>\u200b\u6784\u5efa\u200bwal,\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b</p> <p>\u200b\u5185\u5b58\u200b\u4e2d\u200b\u6dfb\u52a0\u200bwal</p> <p>\u200b\u5199\u5165\u200b\u5185\u5b58\u200b</p> <p>\u200b\u91ca\u653e\u200b\u9501\u200b</p> <p>\u200b\u540c\u6b65\u200bwal(\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u51fa\u9519\u200b\uff0c\u200b\u51fa\u9519\u200b\u5219\u200b\u56de\u6eda\u200b)</p> <p>\u200b\u5224\u65ad\u200b\u540c\u6b65\u200b\u662f\u5426\u200b\u5931\u8d25\u200b</p> <p>4.\u200b\u8001\u200b\u7248\u672c\u200b\uff0c\u200b\u73b0\u5728\u200b\u4e0d\u200b\u63d0\u4f9b\u200b\u7ed9\u200b\u7528\u6237\u200b</p> <p>\u200b\u5f53\u200b WAL \u200b\u6587\u4ef6\u200b\u7684\u200b\u6570\u91cf\u200b\u8d85\u8fc7\u200b hbase.regionserver.max.logs\uff0cregion \u200b\u4f1a\u200b\u6309\u7167\u200b\u65f6\u95f4\u200b\u987a\u5e8f\u200b\u4f9d\u6b21\u200b\u8fdb\u200b \u200b\u884c\u200b\u5237\u5199\u200b\uff0c\u200b\u76f4\u5230\u200b WAL \u200b\u6587\u4ef6\u200b\u6570\u91cf\u200b\u51cf\u5c0f\u200b\u5230\u200b hbase.regionserver.max.log \u200b\u4ee5\u4e0b\u200b\uff08\u200b\u8be5\u200b\u5c5e\u6027\u200b\u540d\u200b\u5df2\u7ecf\u200b\u5e9f\u5f03\u200b\uff0c \u200b\u73b0\u200b\u65e0\u9700\u200b\u624b\u52a8\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u6700\u5927\u503c\u200b\u4e3a\u200b 32\uff09\u3002</p> <p>\u200b\u6587\u4ef6\u200b\u6570\u200b\u5c0f\u4e8e\u200b\u4e09\u4e2a\u200b\u5c0f\u200b\u5408\u5e76\u200b\u76f8\u5f53\u4e8e\u200b\u5927\u200b\u5408\u5e76\u200b</p> <p>compact:\u200b\u5c0f\u200b\u5408\u5e76\u200b</p> <p>compactmajor:\u200b\u5927\u200b\u5408\u5e76\u200b</p> <p>\u200b\u5199\u5165\u200b\u65e5\u5fd7\u200b</p> <p>\u200b\u5199\u5165\u200b\u7f13\u5b58\u200b</p> <p>\u200b\u65e5\u5fd7\u200b\u5199\u5165\u200b\u6587\u4ef6\u200b</p> <p>\u200b\u4e0d\u540c\u200b\u5217\u200bddf</p> <p>0.4:\u200b\u963b\u585e\u200b</p> <p>0.4*0.95:\u200b\u4e0d\u200b\u963b\u585e\u200b</p> <p>\u200b\u6700\u540e\u200b\u4e00\u6761\u200b\u5230\u8fbe\u200b1h\u200b\u5c31\u200b\u4f1a\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\u4e2d\u200b</p> <p>\u200b\u6bcf\u6b21\u200bflush\u200b\u90fd\u200b\u4f1a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200bhfile\u200b\u6587\u4ef6\u200b</p> <p>flush:\u200b\u90fd\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u5219\u200b\u4f1a\u200b\u5220\u9664\u200b</p> <p>\u200b\u5927\u200b\u5408\u5e76\u200b</p> <p>R:region\u200b\u6570\u200b</p> <p>\u200b\u5b98\u7f51\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u591a\u5217\u200b\u7ec4\u5408\u200b</p> <p>\u200b\u5982\u679c\u200b\u6709\u200bn1, n2, n3</p> <p>n2, n3\u200b\u5217\u7ec4\u200b\u6570\u636e\u200b\u5c11\u200b\uff0c\u200b\u6bcf\u6b21\u200bflush n2, n3 \u200b\u5c31\u200b\u4f1a\u200b\u6709\u200b\u5f88\u591a\u200b\u5c0f\u200b\u6587\u4ef6\u200b</p> <p>\u200b    </p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/","title":"1.hbase\u200b\u7b80\u4ecb","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#11","title":"1.1\u200b\u5b9a\u4e49","text":"<p>HBase \u200b\u662f\u200b\u4e00\u79cd\u200b\u5206\u5e03\u5f0f\u200b\u3001\u200b\u53ef\u200b\u6269\u5c55\u200b\u3001\u200b\u652f\u6301\u200b\u6d77\u91cf\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u7684\u200b NoSQL\uff08\u200b\u975e\u200b\u5173\u7cfb\u200b\u578b\u200b\uff09 \u200b\u6570\u636e\u5e93\u200b\u3002</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#12","title":"1.2\u200b\u6570\u636e\u6a21\u578b","text":"<p>\u200b\u903b\u8f91\u200b\u4e0a\u200b\uff0cHBase \u200b\u7684\u200b\u6570\u636e\u6a21\u578b\u200b\u540c\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u5f88\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5728\u200b\u4e00\u5f20\u200b\u8868\u4e2d\u200b\uff0c\u200b\u6709\u884c\u200b\u6709\u5217\u200b\u3002 \u200b\u4f46\u200b\u4ece\u200b HBase \u200b\u7684\u200b\u5e95\u5c42\u200b\u7269\u7406\u200b\u5b58\u50a8\u200b\u7ed3\u6784\u200b\uff08K-V\uff09\u200b\u6765\u770b\u200b\uff0cHBase \u200b\u66f4\u200b\u50cf\u662f\u200b\u4e00\u4e2a\u200b multi-dimensional map\u3002</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#121","title":"1.2.1\u200b\u903b\u8f91\u200b\u7ed3\u6784","text":"<p>store:\u200b\u771f\u6b63\u200b\u5b58\u50a8\u200b\u7684\u200b\u4e1c\u897f\u200b</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#122","title":"1.2.2\u200b\u7269\u7406\u200b\u7ed3\u6784","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#123","title":"1.2.3\u200b\u6570\u636e\u6a21\u578b","text":"<p>1.Name Space  \u200b\u547d\u540d\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u7684\u200b DatabBase \u200b\u6982\u5ff5\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u547d\u540d\u200b\u7a7a\u95f4\u200b\u4e0b\u200b\u6709\u200b\u591a\u4e2a\u200b\u8868\u200b\u3002HBase \u200b\u6709\u200b\u4e24\u4e2a\u200b\u81ea\u5e26\u200b\u7684\u200b\u547d\u540d\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b hbase \u200b\u548c\u200b default\uff0chbase \u200b\u4e2d\u200b\u5b58\u653e\u200b\u7684\u200b\u662f\u200b HBase \u200b\u5185\u7f6e\u200b\u7684\u200b\u8868\u200b\uff0c default \u200b\u8868\u662f\u200b\u7528\u6237\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7684\u200b\u547d\u540d\u200b\u7a7a\u95f4\u200b\u3002  2.Region  \u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u8868\u200b\u6982\u5ff5\u200b\u3002\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0cHBase \u200b\u5b9a\u4e49\u200b\u8868\u65f6\u200b\u53ea\u200b\u9700\u8981\u200b\u58f0\u660e\u200b\u5217\u65cf\u200b\u5373\u53ef\u200b\uff0c\u200b\u4e0d\u9700\u200b \u200b\u8981\u200b\u58f0\u660e\u200b\u5177\u4f53\u200b\u7684\u200b\u5217\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5f80\u200b HBase \u200b\u5199\u5165\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u5b57\u200b\u6bb5\u200b\u53ef\u4ee5\u200b\u52a8\u6001\u200b\u3001\u200b\u6309\u200b\u9700\u200b\u6307\u5b9a\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u548c\u5173\u200b \u200b\u7cfb\u578b\u200b\u6570\u636e\u5e93\u200b\u76f8\u6bd4\u200b\uff0cHBase \u200b\u80fd\u591f\u200b\u8f7b\u677e\u200b\u5e94\u5bf9\u200b\u5b57\u200b\u6bb5\u200b\u53d8\u66f4\u200b\u7684\u200b\u573a\u666f\u200b\u3002  3.Row  HBase \u200b\u8868\u4e2d\u200b\u7684\u200b\u6bcf\u884c\u200b\u6570\u636e\u200b\u90fd\u200b\u7531\u200b\u4e00\u4e2a\u200b RowKey \u200b\u548c\u200b\u591a\u4e2a\u200b Column\uff08\u200b\u5217\u200b\uff09\u200b\u7ec4\u6210\u200b\uff0c\u200b\u6570\u636e\u200b\u662f\u200b\u6309\u7167\u200b RowKey \u200b\u7684\u200b\u5b57\u5178\u200b\u987a\u5e8f\u5b58\u50a8\u200b\u7684\u200b\uff0c\u200b\u5e76\u4e14\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\u65f6\u200b\u53ea\u80fd\u200b\u6839\u636e\u200b RowKey \u200b\u8fdb\u884c\u200b\u68c0\u7d22\u200b\uff0c\u200b\u6240\u4ee5\u200b RowKey \u200b\u7684\u200b\u8bbe\u8ba1\u200b\u5341\u5206\u200b\u91cd\u200b \u200b\u8981\u200b\u3002  4.Column  HBase \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5217\u200b\u90fd\u200b\u7531\u200b Column Family(\u200b\u5217\u65cf\u200b)\u200b\u548c\u200b Column Qualifier\uff08\u200b\u5217\u200b\u9650\u5b9a\u7b26\u200b\uff09\u200b\u8fdb\u884c\u200b\u9650\u200b \u200b\u5b9a\u200b\uff0c\u200b\u4f8b\u5982\u200b info\uff1aname\uff0cinfo\uff1aage\u3002\u200b\u5efa\u8868\u65f6\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u6307\u660e\u200b\u5217\u65cf\u200b\uff0c\u200b\u800c\u5217\u200b\u9650\u5b9a\u7b26\u200b\u65e0\u9700\u200b\u9884\u5148\u200b\u5b9a\u4e49\u200b\u3002  5.Time Stamp  \u200b\u7528\u4e8e\u200b\u6807\u8bc6\u200b\u6570\u636e\u200b\u7684\u200b\u4e0d\u540c\u200b\u7248\u672c\u200b\uff08version\uff09\uff0c\u200b\u6bcf\u6761\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u4f1a\u200b \u200b\u81ea\u52a8\u200b\u4e3a\u200b\u5176\u200b\u52a0\u4e0a\u200b\u8be5\u5b57\u6bb5\u200b\uff0c\u200b\u5176\u503c\u200b\u4e3a\u200b\u5199\u5165\u200b HBase \u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</p> <p>6.Cell  \u200b\u7531\u200b{rowkey, column Family\uff1acolumn Qualifier, time Stamp} \u200b\u552f\u4e00\u200b\u786e\u5b9a\u200b\u7684\u200b\u5355\u5143\u200b\u3002cell \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u6ca1\u6709\u200b\u7c7b\u578b\u200b\u7684\u200b\uff0c\u200b\u5168\u90e8\u200b\u662f\u200b\u5b57\u8282\u200b\u7801\u200b\u5f62\u5f0f\u200b\u5b58\u8d2e\u200b\u3002</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#13","title":"1.3\u200b\u57fa\u7840\u67b6\u6784","text":"<p>\u200b\u67b6\u6784\u200b\u89d2\u8272\u200b\uff1a  1.Region Server  Region Server \u200b\u4e3a\u200b Region \u200b\u7684\u200b\u7ba1\u7406\u8005\u200b\uff0c\u200b\u5176\u200b\u5b9e\u73b0\u200b\u7c7b\u4e3a\u200b HRegionServer\uff0c\u200b\u4e3b\u8981\u200b\u4f5c\u7528\u200b\u5982\u4e0b\u200b:  \u200b\u5bf9\u4e8e\u200b\u6570\u636e\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff1aget, put, delete\uff1b  \u200b\u5bf9\u4e8e\u200b Region \u200b\u7684\u200b\u64cd\u4f5c\u200b\uff1asplitRegion\u3001compactRegion\u3002  2.Master  Master \u200b\u662f\u200b\u6240\u6709\u200b Region Server \u200b\u7684\u200b\u7ba1\u7406\u8005\u200b\uff0c\u200b\u5176\u200b\u5b9e\u73b0\u200b\u7c7b\u4e3a\u200b HMaster\uff0c\u200b\u4e3b\u8981\u200b\u4f5c\u7528\u200b\u5982\u4e0b\u200b\uff1a   \u200b\u5bf9\u4e8e\u200b\u8868\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff1acreate, delete, alter  \u200b\u5bf9\u4e8e\u200b RegionServer \u200b\u7684\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u5206\u914d\u200b regions \u200b\u5230\u200b\u6bcf\u4e2a\u200b RegionServer\uff0c\u200b\u76d1\u63a7\u200b\u6bcf\u4e2a\u200b RegionServer\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u8d1f\u8f7d\u200b\u5747\u8861\u200b\u548c\u200b\u6545\u969c\u200b\u8f6c\u79fb\u200b\u3002  3.Zookeeper HBase \u200b\u901a\u8fc7\u200b Zookeeper \u200b\u6765\u200b\u505a\u200b Master \u200b\u7684\u200b\u9ad8\u200b\u53ef\u7528\u200b\u3001RegionServer \u200b\u7684\u200b\u76d1\u63a7\u200b\u3001\u200b\u5143\u200b\u6570\u636e\u200b\u7684\u200b\u5165\u53e3\u200b\u4ee5\u53ca\u200b\u96c6\u7fa4\u200b\u914d\u7f6e\u200b\u7684\u200b\u7ef4\u62a4\u200b\u7b49\u200b\u5de5\u4f5c\u200b\u3002  4.HDFS  HDFS \u200b\u4e3a\u200b HBase \u200b\u63d0\u4f9b\u200b\u6700\u7ec8\u200b\u7684\u200b\u5e95\u5c42\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u670d\u52a1\u200b\uff0c\u200b\u540c\u65f6\u200b\u4e3a\u200b HBase \u200b\u63d0\u4f9b\u200b\u9ad8\u200b\u53ef\u7528\u200b\u7684\u200b\u652f\u6301\u200b\u3002</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#2","title":"2.\u200b\u5b89\u88c5","text":"<p>\u200b\u63d0\u524d\u200b\u5b89\u88c5\u200bzk,hadoop\u3002\u200b\u4e8c\u8005\u200b\u90fd\u200b\u4e3a\u200b\u96c6\u7fa4\u200b</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#21","title":"2.1\u200b\u5b89\u88c5","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#1","title":"1.\u200b\u89e3\u538b","text":"<pre><code>tar -zxvf hbase-1.3.1-bin.tar.gz -C /opt/module/\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#22","title":"2.2\u200b\u914d\u7f6e","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#1_1","title":"1.\u200b\u8fdb\u5165\u200b\u914d\u7f6e\u200b\u76ee\u5f55","text":"<pre><code>/opt/module/hbase-1.3.1/conf\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#2-java_home","title":"2.\u200b\u8bb0\u5f55\u200b JAVA_HOME \u200b\u8def\u5f84","text":"<pre><code>echo $JAVA_HOME\n\n/opt/module/jdk1.8.0_212\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#3hbase-envsh","title":"3.\u200b\u7f16\u5199\u200b\u914d\u7f6e\u6587\u4ef6\u200bhbase-env.sh","text":"<pre><code>vim hbase-env.sh\n</code></pre> <pre><code>// The java implementation to use.  Java 1.7+ required.\nexport JAVA_HOME=/opt/module/jdk1.8.0_212\n\n// hbase \u200b\u6709\u200b\u81ea\u5e26\u200b\u7684\u200bzk,\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b\u81ea\u5e26\u200b\u7684\u200b\n// Tell HBase whether it should manage it's own instance of Zookeeper or not.\nexport HBASE_MANAGES_ZK=false\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#4hbase-sitexml","title":"4.hbase-site.xml","text":"<pre><code>vim hbase-site.xml\n</code></pre> <p>hbase-site.xml=core-site.xml</p> <p>hbase.rootdir=fs.defaultFS</p> <pre><code>&lt;property&gt;\n    &lt;name&gt;fs.defaultFS&lt;/name&gt;\n    &lt;value&gt;hdfs://matt05:8020&lt;/value&gt;\n&lt;/property&gt;\n</code></pre> <pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\n        &lt;value&gt;hdfs://matt05:8020/HBase&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;property&gt;\n        &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n    &lt;/property&gt;\n\n    &lt;!-- 0.98 \u200b\u540e\u200b\u7684\u200b\u65b0\u200b\u53d8\u52a8\u200b\uff0c\u200b\u4e4b\u524d\u200b\u7248\u672c\u200b\u6ca1\u6709\u200b.port,\u200b\u9ed8\u8ba4\u200b\u7aef\u53e3\u200b\u4e3a\u200b 60000 --&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.master.port&lt;/name&gt;\n        &lt;value&gt;16000&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\n        &lt;value&gt;/opt/module/zookeeper-3.5.7/zkData&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n        &lt;value&gt;matt05,matt06,matt07&lt;/value&gt;\n    &lt;/property&gt;\n\n&lt;/configuration&gt;\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#5regionservers","title":"5.\u200b\u96c6\u7fa4\u200b\u6587\u4ef6\u200bregionservers","text":"<pre><code>vim regionservers \n</code></pre> <pre><code>matt05\nmatt06\nmatt07\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#6hadoop","title":"6\u200b\u5efa\u7acb\u200bhadoop\u200b\u5feb\u6377\u65b9\u5f0f","text":"<pre><code>ln -s /opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml /opt/module/hbase-1.3.1/conf/core-site.xml\n</code></pre> <pre><code>ln -s /opt/module/hadoop-3.1.3/etc/hadoop/hdfs-site.xml /opt/module/hbase-1.3.1/conf/hdfs-site.xml\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#7","title":"7.\u200b\u5206\u53d1\u200b\u5b89\u88c5","text":"<pre><code>xsync hbase-1.3.1/\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#23","title":"2.3\u200b\u542f\u52a8","text":"<p>\u200b\u8bb0\u5f97\u200b\u5f00\u542f\u200b\u540c\u6b65\u200b\u65f6\u95f4\u200b</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_1","title":"\u65b9\u5f0f\u200b\u4e00","text":"<pre><code>[matt@matt05 bin]$ ./hbase-daemon.sh start master\n</code></pre> <pre><code>./hbase-daemon.sh start regionserver\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_2","title":"\u65b9\u5f0f\u200b\u4e8c","text":"<pre><code>bin/start-hbase.sh\n\nbin/stop-hbase.sh\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#24","title":"2.4\u200b\u8bbf\u95ee","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#web","title":"web\u200b\u9875\u9762","text":"<p>ip:port</p> <p>192.168.96.135:16010</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#3","title":"3.\u200b\u4f7f\u7528","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#31","title":"3.1\u200b\u57fa\u7840","text":""},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#hbase-shell","title":"\u8fdb\u5165\u200bhbase shell","text":"<pre><code>./hbase shell\n\n\nquit\nexit\n</code></pre> <p>\u200b\u9000\u51fa\u200b\uff1b</p>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_3","title":"\u5e2e\u52a9","text":"<pre><code>help\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_4","title":"\u67e5\u770b\u200b\u6709\u200b\u54ea\u4e9b\u200b\u8868","text":"<pre><code>list\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_5","title":"\u547d\u540d\u200b\u76f8\u5173","text":"<pre><code>// \u200b\u521b\u5efa\u200b\u547d\u540d\u200b\u7a7a\u95f4\u200b\ncreate_namespace 'test1'\n\n\n\ncreate 'test1:student','info1'\n\n\n// \u200b\u9700\u8981\u200b\u5148\u200b\u5220\u9664\u200b\u8be5\u200b\u547d\u540d\u200b\u7a7a\u95f4\u200b\u4e0b\u200b\u7684\u200b\u8868\u200b\ndrop_namespace 'test1'\n\n\nlist_namespace\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#ddl","title":"\u8868\u200b\u76f8\u5173\u200bddl","text":"<pre><code>hbase(main):023:0&gt; create\n\nERROR: wrong number of arguments (0 for 1)\n\nHere is some help for this command:\nCreates a table. Pass a table name, and a set of column family\nspecifications (at least one), and, optionally, table configuration.\nColumn specification can be a simple string (name), or a dictionary\n(dictionaries are described below in main help output), necessarily \nincluding NAME attribute. \nExamples:\n\nCreate a table with namespace=ns1 and table qualifier=t1\n  hbase&gt; create 'ns1:t1', {NAME =&gt; 'f1', VERSIONS =&gt; 5}\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_6","title":"\u521b\u5efa\u200b\u8868","text":"<pre><code>create 't2','info'\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_7","title":"\u5220\u9664\u200b\u8868","text":"<pre><code>disable 'test'\ndrop 'test'\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_8","title":"\u4fee\u6539\u200b\u5217\u7ec4\u200b\u7248\u672c","text":"<pre><code>alter 't1', {NAME =&gt; 'info', VERSIONS =&gt; 1}\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_9","title":"\u67e5\u770b\u200b\u8868\u200b\u7684\u200b\u4fe1\u606f","text":"<pre><code>describe 't1'\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#_10","title":"\u67e5\u770b\u200b\u6240\u6709\u200b\u8868","text":"<pre><code>list\n</code></pre>"},{"location":"bigdata/hbase/hbase%E6%A6%82%E8%BF%B0/#dml-crud","title":"dml crud","text":"<pre><code>put 'student','1001','info1:name','matt'\n\n\n\nscan 'student'\n\n// \u200b\u8868\u540d\u200b rowKey\nget 'student','1001'\n\n\nscan 'student',{COLUMNS =&gt; ['info1:name', 'info2:sex'], LIMIT =&gt; 10, STARTROW =&gt; '1001',STOPROW =&gt; '1003'}\n\n\n\nscan 'student', {RAW =&gt; true, VERSIONS =&gt; 3}\n</code></pre> <pre><code>hbase(main):010:0&gt; scan 't2', {RAW =&gt; true, VERSIONS =&gt; 3}\nROW                    COLUMN+CELL                                                    \n 1001                  column=info:, timestamp=1630203659417, type=DeleteColumn       \n 1001                  column=info:name, timestamp=1630203905379, type=DeleteColumn   \n 1001                  column=info:name, timestamp=1630203448221, value=b             \n 1001                  column=info:name, timestamp=1630203437357, value=a             \n1 row(s) in 0.0240 seconds\n</code></pre> <pre><code>// update\nput 'student','1001','info1:name','matt1'\n\n\n// \u200b\u6307\u5b9a\u200b\u5230\u5217\u200b\u7ec4\u5219\u200b\u4e0d\u4f1a\u200b\u5220\u9664\u200b\ndelete 'student','1001','info1:sex'\n\n\n\ndeleteall 'student','1002'\n\n\n\ntruncate 'student'\n</code></pre>"},{"location":"cs/cs/","title":"Cs","text":"<p>\u200b\u6709\u200b\u7b26\u53f7\u200b\u548c\u200b\u65e0\u200b\u7b26\u53f7\u200b\u53c2\u4e0e\u200b\u8ba1\u7b97\u200b\u7684\u200b\u65f6\u5019\u200b \u200b\u6709\u200b\u7b26\u53f7\u200b-\u300b\u200b\u65e0\u200b\u7b26\u53f7\u200b</p> <p>sizeof \u200b\u8fd4\u56de\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6570\u200b</p> <p>\u200b\u53cd\u7801\u200b \u200b\u6309\u4f4d\u200b\u53d6\u53cd\u200b\uff0c \u200b\u52a0\u200b1</p> <p>\u200b\u53ea\u6709\u200b\u662f\u200b\u8d1f\u6570\u200b\u7684\u200b\u65f6\u5019\u200b \u200b\u53f3\u79fb\u200b\u624d\u200b\u662f\u200b\u7b97\u672f\u200b\u53f3\u79fb\u200b</p> <p>0</p> <p>0&lt;=exp &lt;= 255</p> <p>-127&lt;=e &lt;= 128</p> <p>1000 -8(8-0)</p> <pre><code>pip install --global-option=build_ext --global-option=\"-I$(brew --prefix graphviz)/include/\" --global-option=\"-L$(brew --prefix graphviz)/lib/\" pygraphviz\n</code></pre> <pre><code>apt install graphviz \napt install\n\ngraphviz-dev\n</code></pre>"},{"location":"cs/csapp/2/","title":"2","text":"<p>gcc -Og</p> <p>O\u200b\u4f18\u5316\u200b</p> <p>g debug</p> <p>\"-S\"\u200b\u53c2\u6570\u200b\u8868\u793a\u200b\u5c06\u200b\u6e90\u4ee3\u7801\u200b\u7f16\u8bd1\u200b\u4e3a\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4ee3\u7801\u200b\uff08Assembly code\uff09</p> <p>\u200b\u5bc4\u5b58\u5668\u200b</p> <p></p> <p>sarq \u200b\u7b97\u672f\u200b\u53f3\u79fb\u200b</p> <p>%rsp : \u200b\u4fdd\u5b58\u200b\u6808\u200b\u6307\u9488\u200b</p> <p>cf :\u200b\u8fdb\u4f4d\u200b</p> <p>sf:\u200b\u7ed3\u679c\u200b\u4e3a\u200b\u8d1f\u6570\u200b</p> <p>\u200b\u4f4e\u5b57\u8282\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b1/0 \u200b\u5269\u4f59\u200b7\u200b\u4e2a\u200b\u5b57\u8282\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0</p> <pre><code># %rax \u200b\u5269\u4e0b\u200b\u7684\u200b\u5b57\u8282\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0\nmovzbl %al, %eax # Zero rest of %ra \n</code></pre> <p>eax \u200b\u662f\u200brax\u200b\u7684\u200b\u4f4e\u200b32\u200b\u4f4d\u200b</p> <p>x86-64 \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5c06\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u4e3a\u200b32\u200b\u4f4d\u200b\u7684\u200b\u503c\u200b \u200b\u9ad8\u200b32\u200b\u4f4d\u200b\u4e5f\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0</p> <p><code>movzbl</code> \u200b\u662f\u200bx86\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\uff088\u200b\u4f4d\u200b\uff09\u200b\u7684\u200b\u503c\u200b\u4ece\u6e90\u200b\u64cd\u4f5c\u6570\u200b\u79fb\u52a8\u200b\u5230\u200b\u76ee\u6807\u200b\u64cd\u4f5c\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u96f6\u200b\u6269\u5c55\u200b\u4e3a\u200b\u4e00\u4e2a\u53cc\u200b\u5b57\u200b\uff0832\u200b\u4f4d\u200b\uff09\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u65e0\u8bba\u200b\u6e90\u200b\u64cd\u4f5c\u6570\u200b\u7684\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u662f\u5426\u200b\u4e3a\u200b1\uff0c\u200b\u76ee\u6807\u200b\u64cd\u4f5c\u6570\u200b\u7684\u200b\u9ad8\u4f4d\u200b\u90fd\u200b\u4f1a\u200b\u586b\u5145\u200b\u4e3a\u200b0\u3002</p> <p></p> <p>s</p> <p>condition jump</p> <p>condition move</p> <p>jump table</p> <p>\u200b\u5728\u200bx86\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\uff0c\"andl\"\u200b\u662f\u200b\"and long\"\u200b\u7684\u200b\u7f29\u5199\u200b\uff0c\u200b\u8868\u793a\u200b\u903b\u8f91\u200b\u4e0e\u200b\u8fd0\u7b97\u200b\uff08bitwise AND\uff09\u200b\u9488\u5bf9\u200b\u53cc\u5b57\u200b\uff0832\u200b\u4f4d\u200b\uff09\u200b\u6574\u6570\u200b\u6570\u636e\u200b\u3002\u200b\u8be5\u200b\u6307\u4ee4\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u64cd\u4f5c\u6570\u200b\u6267\u884c\u200b\u6309\u4f4d\u200b\u4e0e\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u5b58\u50a8\u200b\u5728\u200b\u76ee\u6807\u200b\u64cd\u4f5c\u6570\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b\uff0c\"source\"\u200b\u662f\u200b\u7b2c\u4e00\u4e2a\u200b\u64cd\u4f5c\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u7acb\u5373\u200b\u6570\u200b\u3001\u200b\u5bc4\u5b58\u5668\u200b\u6216\u8005\u200b\u5185\u5b58\u5730\u5740\u200b\uff1b\"destination\"\u200b\u662f\u200b\u7b2c\u4e8c\u4e2a\u200b\u64cd\u4f5c\u6570\u200b\uff0c\u200b\u901a\u5e38\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u6216\u8005\u200b\u5185\u5b58\u5730\u5740\u200b\u3002\u200b\u6267\u884c\u200b\u8be5\u200b\u6307\u4ee4\u200b\u540e\u200b\uff0c\"destination\"\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u5c06\u200b\u88ab\u200b\"source\"\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u4e0e\u200b\u539f\u6765\u200b\u7684\u200b\u503c\u200b\u6309\u4f4d\u200b\u4e0e\u200b\u540e\u200b\u7684\u200b\u7ed3\u679c\u200b\u8986\u76d6\u200b\u3002</p> <p>19 -- xx --yy</p> <pre><code>objdump -d bomb &gt; bomb.txt\n</code></pre> <pre><code>string_length\n\nin: (%rdi)\nout:%rax\n</code></pre> <pre><code>strings_not_equal:\n\nin: %rdi, %rsi\n# 1.1\u200b\u83b7\u53d6\u200b%rdi \u200b\u957f\u5ea6\u200b\ns1: %rdi ==&gt; %rbx | %rax ==&gt; %r12d \n\n#1.2\u200b\u83b7\u53d6\u200b%rsi\u200b\u957f\u5ea6\u200b\ns2: 1.%rsi ==&gt; $rbp 2. %rbp ==&gt; $rdi\n\n# 2.1\u200b\u5224\u65ad\u200b%rdi \u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\n(%rbx) ==&gt; %eax \ntest %al,%al\n\n\nout %rax\n</code></pre> <p>\u200b\u901a\u8fc7\u200b2.1\u200b\u53ef\u200b\u77e5\u9053\u200b %rdi \u200b\u4e3a\u200b\u8f93\u5165\u200b\u5b57\u7b26\u4e32\u200b %rsi\u200b\u4e3a\u200b\u6807\u51c6\u200b\u5b57\u7b26\u4e32\u200b</p> <pre><code>Border relations with Canada have never been better.\n</code></pre> <pre><code>rsp ==&gt;-40  rsp==&gt;rsi\nrsp -=24 ==&gt; -64\nrsi ==&gt; rdx\n\n(rsi) + 4 ==&gt; rcx\n(rsi) + 20 ==&gt; rax\n\nrax == &gt; -64+8\nrsi+16 ==&gt;rax\n\nrax ==&gt; (rsp)\n\n\n\n\n# \u200b\u8df3\u51fa\u200b\u5f53\u524d\u200b\u51fd\u6570\u200b\nfin\n\n\n\n\nrsp+4 =&gt; rbx\nrsp+20 =&gt; rbp\n</code></pre> <p>\u200b\u4ece\u200b\u4e0a\u200b\u5f80\u200b\u4e0b\u200b\u7531\u200b\u9ad8\u5230\u200b\u4f4e\u200b</p> <pre><code># \u200b\u5185\u5b58\u5730\u5740\u200b+12\u200b\u4e2a\u200b\u5b57\u8282\u200b\nlea 0xc(%rsp), %rcx\n</code></pre> <p>3333</p> <p>rsp - 24</p> <p>mov    $0x137,%eax</p> <p>lea 0xc(%rsp), %rcx</p> <p>eax: 8</p> <p>rsp+8</p> <ol> <li><code>mov</code> \u200b\u6307\u4ee4\u200b\uff08Move\uff09\uff1a<ul> <li><code>mov</code> \u200b\u7528\u4e8e\u200b\u5c06\u200b\u6570\u636e\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\u590d\u5236\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\u3002\u200b\u8fd9\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5c06\u200b\u6570\u636e\u200b\u4ece\u200b\u5185\u5b58\u200b\u590d\u5236\u5230\u200b\u5bc4\u5b58\u5668\u200b\u3001\u200b\u4ece\u200b\u5bc4\u5b58\u5668\u200b\u590d\u5236\u5230\u200b\u5185\u5b58\u200b\u6216\u8005\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u590d\u5236\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u3002</li> <li><code>mov</code> \u200b\u6307\u4ee4\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u6570\u636e\u4f20\u8f93\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b\u7684\u200b\u5b9e\u9645\u200b\u503c\u200b\u3002</li> <li>\u200b\u4f8b\u5982\u200b\uff0c<code>mov %eax, %ebx</code> \u200b\u5c06\u200b <code>%eax</code> \u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u590d\u5236\u5230\u200b <code>%ebx</code> \u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u3002</li> </ul> </li> <li><code>lea</code> \u200b\u6307\u4ee4\u200b\uff08Load Effective Address\uff09\uff1a<ul> <li><code>lea</code> \u200b\u7528\u4e8e\u200b\u6267\u884c\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u590d\u5236\u200b\u3002\u200b\u5b83\u200b\u8ba1\u7b97\u200b\u4e00\u4e2a\u200b\u6709\u6548\u200b\u5730\u5740\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u7ed3\u679c\u200b\u5b58\u50a8\u200b\u5728\u200b\u76ee\u6807\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u7684\u200b\u79fb\u52a8\u200b\u3002</li> <li><code>lea</code> \u200b\u5e38\u7528\u200b\u4e8e\u200b\u6267\u884c\u200b\u590d\u6742\u200b\u7684\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u4f8b\u5982\u200b\u8ba1\u7b97\u200b\u6570\u7ec4\u200b\u5143\u7d20\u200b\u7684\u200b\u5730\u5740\u200b\u3001\u200b\u6267\u884c\u200b\u6307\u9488\u200b\u8fd0\u7b97\u200b\u7b49\u200b\u3002</li> <li>\u200b\u4f8b\u5982\u200b\uff0c<code>lea (%rdi, %rax, 4), %rcx</code> \u200b\u8ba1\u7b97\u200b\u5e76\u200b\u5c06\u200b <code>%rdi + 4 * %rax</code> \u200b\u7684\u200b\u5730\u5740\u200b\u5b58\u50a8\u200b\u5728\u200b <code>%rcx</code> \u200b\u4e2d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u590d\u5236\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u3002</li> </ul> </li> </ol> <p>\u200b\u603b\u7ed3\u200b\uff1a</p> <ul> <li><code>mov</code> \u200b\u7528\u4e8e\u200b\u6570\u636e\u4f20\u8f93\u200b\uff0c\u200b\u5b9e\u9645\u200b\u590d\u5236\u200b\u6570\u636e\u200b\u7684\u200b\u503c\u200b\u3002</li> <li><code>lea</code> \u200b\u7528\u4e8e\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u6709\u6548\u200b\u5730\u5740\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u5b58\u50a8\u200b\u5728\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\uff0c\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u7684\u200b\u590d\u5236\u200b\u3002</li> <li><code>mov</code> \u200b\u7528\u4e8e\u200b\u5c06\u200b\u6570\u636e\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\u590d\u5236\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\uff0c\u200b\u800c\u200b <code>lea</code> \u200b\u7528\u4e8e\u200b\u6267\u884c\u200b\u590d\u6742\u200b\u7684\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\u3002\u200b\u4e24\u8005\u200b\u5728\u200b\u529f\u80fd\u200b\u548c\u200b\u7528\u9014\u200b\u4e0a\u200b\u6709\u200b\u5f88\u5927\u200b\u5dee\u5f02\u200b\u3002</li> </ul> <p>\u200b\u5e26\u200bq\u200b\u5f0f\u200b64\u200b\u5b57\u8282\u200b \u200b\u4e0d\u5e26\u200b\u662f\u200b32\u200b\u5b57\u8282\u200b</p> <p><code>ja</code> \u200b\u548c\u200b <code>jb</code> \u200b\u662f\u200bx86\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b\u6761\u4ef6\u200b\u8df3\u8f6c\u200b\u6307\u4ee4\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7528\u4e8e\u200b\u6839\u636e\u200b\u6807\u5fd7\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u72b6\u6001\u200b\u6765\u200b\u6267\u884c\u200b\u6761\u4ef6\u6027\u200b\u8df3\u8f6c\u200b\u3002\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u6307\u4ee4\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u6bd4\u8f83\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p> <ul> <li><code>ja</code> \u200b\u4ee3\u8868\u200b \"Jump if Above\"\uff0c\u200b\u4e5f\u200b\u53eb\u200b \"Jump if Not Below or Equal\"\u3002\u200b\u5b83\u200b\u6267\u884c\u200b\u7684\u200b\u6761\u4ef6\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u6bd4\u8f83\u200b\u4e2d\u200b\u76ee\u6807\u200b\u64cd\u4f5c\u6570\u200b\u5927\u4e8e\u200b\u6e90\u200b\u64cd\u4f5c\u6570\u200b\uff0c\u200b\u5219\u200b\u8fdb\u884c\u200b\u8df3\u8f6c\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u5982\u679c\u200b CF\uff08Carry Flag\uff09\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u548c\u200b ZF\uff08Zero Flag\uff09\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u90fd\u200b\u4e0d\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\uff08\u200b\u5373\u200b\uff0cCF=0\u200b\u4e14\u200bZF=0\uff09\uff0c\u200b\u5219\u200b\u8df3\u8f6c\u200b\u53d1\u751f\u200b\u3002</li> <li><code>jb</code> \u200b\u4ee3\u8868\u200b \"Jump if Below\"\uff0c\u200b\u4e5f\u200b\u53eb\u200b \"Jump if Not Above or Equal\"\u3002\u200b\u5b83\u200b\u6267\u884c\u200b\u7684\u200b\u6761\u4ef6\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\u6bd4\u8f83\u200b\u4e2d\u200b\u76ee\u6807\u200b\u64cd\u4f5c\u6570\u200b\u5c0f\u4e8e\u200b\u6e90\u200b\u64cd\u4f5c\u6570\u200b\uff0c\u200b\u5219\u200b\u8fdb\u884c\u200b\u8df3\u8f6c\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c\u200b\u5982\u679c\u200b CF\uff08Carry Flag\uff09\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\uff08CF=1\uff09\uff0c\u200b\u5219\u200b\u8df3\u8f6c\u200b\u53d1\u751f\u200b\u3002</li> </ul> <pre><code>(gdb) x/16x 0x402470\n0x402470:       0x00400f7c      0x00000000      0x00400fb9      0x00000000\n0x402480:       0x00400f83      0x00000000      0x00400f8a      0x00000000\n0x402490:       0x00400f91      0x00000000      0x00400f98      0x00000000\n0x4024a0:       0x00400f9f      0x00000000      0x00400fa6      0x00000000\n</code></pre> <p>4444</p> <pre><code>b *0x40103a\n</code></pre> <pre><code>0000000000400fce &lt;func4&gt;:\n  400fce:   48 83 ec 08             sub    $0x8,%rsp\n  400fd2:   89 d0                   mov    %edx,%eax\n  400fd4:   29 f0                   sub    %esi,%eax\n  400fd6:   89 c1                   mov    %eax,%ecx\n  400fd8:   c1 e9 1f                shr    $0x1f,%ecx\n  400fdb:   01 c8                   add    %ecx,%eax\n  400fdd:   d1 f8                   sar    %eax\n  400fdf:   8d 0c 30                lea    (%rax,%rsi,1),%ecx\n  400fe2:   39 f9                   cmp    %edi,%ecx\n  400fe4:   7e 0c                   jle    400ff2 &lt;func4+0x24&gt;\n  400fe6:   8d 51 ff                lea    -0x1(%rcx),%edx\n  400fe9:   e8 e0 ff ff ff          callq  400fce &lt;func4&gt;\n  400fee:   01 c0                   add    %eax,%eax\n  400ff0:   eb 15                   jmp    401007 &lt;func4+0x39&gt;\n  400ff2:   b8 00 00 00 00          mov    $0x0,%eax\n  400ff7:   39 f9                   cmp    %edi,%ecx\n  400ff9:   7d 0c                   jge    401007 &lt;func4+0x39&gt;\n  400ffb:   8d 71 01                lea    0x1(%rcx),%esi\n  400ffe:   e8 cb ff ff ff          callq  400fce &lt;func4&gt;\n  401003:   8d 44 00 01             lea    0x1(%rax,%rax,1),%eax\n  401007:   48 83 c4 08             add    $0x8,%rsp\n  40100b:   c3                      retq   \n</code></pre> <p><code>mov %fs:0x28,%rax</code> \u200b\u662f\u200bx86\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c06\u200b\u4f4d\u4e8e\u200b\u5bc4\u5b58\u5668\u200b<code>%fs</code>\u200b\u7684\u200b\u6bb5\u200b\u5bc4\u5b58\u5668\u200b\u6240\u200b\u5f15\u7528\u200b\u7684\u200b\u5185\u5b58\u5730\u5740\u200b\u504f\u79fb\u200b\u4e3a\u200b0x28\u200b\u7684\u200b\u503c\u200b\u52a0\u8f7d\u200b\u5230\u200b\u901a\u7528\u5bc4\u5b58\u5668\u200b<code>%rax</code>\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u5728\u200bx86\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\uff0c\u200b\u6bb5\u200b\u5bc4\u5b58\u5668\u200b\uff08\u200b\u5982\u200b<code>%fs</code>\uff09\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u6bb5\u200b\u9009\u62e9\u200b\u5b50\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u5185\u5b58\u5730\u5740\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6bb5\u200b\u9009\u62e9\u200b\u5b50\u200b\u88ab\u200b\u7528\u6765\u200b\u8bbf\u95ee\u200b\u4e00\u4e2a\u200b\u6bb5\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u200b\uff0c\u200b\u4ee5\u200b\u83b7\u53d6\u200b\u5b9e\u9645\u200b\u7684\u200b\u5185\u5b58\u5730\u5740\u200b\u3002\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c<code>%fs</code>\u200b\u5bc4\u5b58\u5668\u200b\u5f15\u7528\u200b\u7684\u200b\u6bb5\u200b\u63cf\u8ff0\u7b26\u200b\u8868\u4e2d\u200b\u7684\u200b\u504f\u79fb\u200b\u4e3a\u200b0x28\u200b\u7684\u200b\u9879\u200b\u7684\u200b\u503c\u4f1a\u200b\u88ab\u200b\u52a0\u8f7d\u200b\u5230\u200b<code>%rax</code>\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u3002</p> <p>pdf \u200b\u4e2d\u200bbottom top\u200b\u753b\u53cd\u200b\u4e86\u200b</p> <p>stack bottom \u200b\u5730\u5740\u200b\u9ad8\u4f4d\u200b</p> <p>stack --</p> <p>push\u200b\u65e0\u6cd5\u200b\u5c06\u200b\u5185\u5b58\u200b\u7684\u200b\u6570\u636e\u200b stack</p> <p>\u200b\u5fc5\u987b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5bc4\u5b58\u5668\u200b</p> <p>req \u200b\u5ffd\u7565\u200b \u200b\u7528\u6765\u200b\u4f18\u5316\u200b</p> <p>req; ret</p> <p>rax: \u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u4f7f\u7528\u200b</p> <pre><code>/observe-chain/user/list\napply\njoin\ndelte\n</code></pre> <p>\u200b\u6570\u7ec4\u200b\u6307\u9488\u200b a3 \u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b</p> <p>int (*A3)[3] </p> <pre><code>\u200b\u5148\u200b\u548c\u200b* \u200b\u7ed3\u5408\u200b \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b\n</code></pre> <p>\u200b\u8de8\u200b\u6570\u636e\u7c7b\u578b\u200b\u5176\u5b9e\u200b\u5730\u5740\u200b8\u200b\u7684\u200b\u500d\u6570\u200b</p> <p>\u200b\u672a\u200b\u5bf9\u9f50\u200b\uff1a\u200b\u8ba1\u7b97\u200b\u4f1a\u6162\u200b</p> <p>addss %xmm0, % xmm1</p> <pre><code>addss xmm. xmm/m32\n\n\u200b\u7b2c\u4e8c\u4e2a\u200bs\u200b\u662f\u200bscalar \u200b\u53ea\u200b\u5bf9\u200bxmm\u200b\u5bc4\u5b58\u5668\u200b\u6700\u4f4e\u200b32\u200b\u4f4d\u200b\u6d6e\u70b9\u6570\u200b\u8ba1\u7b97\u200b\uff0c \u200b\u9ad8\u200b96\u200b\u4f4d\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\n</code></pre> <p>xmm0 \u200b\u8fd4\u56de\u200b</p> <p>\u200b\u53ea\u6709\u200bcaller saved \u200b\u6ca1\u6709\u200bcallee saved</p> <p>=====</p> <p>stack push \u200b\u65f6\u200b \u200b\u5730\u5740\u200b\u4ece\u200b\u9ad8\u4f4d\u200b\u5230\u200b\u4f4e\u4f4d\u200b\u589e\u957f\u200b</p> <pre><code># \u200b\u67e5\u770b\u200b\u9650\u5236\u200b stack\nulimit -a\n</code></pre> <p>\u200b\u7f13\u5b58\u200b\u533a\u200b\u6ea2\u51fa\u200b \u200b\u8fb9\u754c\u200b\u68c0\u67e5\u200b</p> <pre><code>123\\0\n</code></pre> <p>\u200b\u91d1\u4e1d\u96c0\u200b\u6700\u540e\u200b2\u200b\u4f4d\u662f\u200b00</p> <p>ROP   Execu\ufffdon  </p> <p>\u200b\u4e00\u4e2a\u200b\u6307\u4ee4\u200b\u7ed3\u5c3e\u200b \u200b\u8df3\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5f00\u5934\u200b \u200b\u65e0\u9700\u200b\u8fd4\u56de\u200b\u5730\u5740\u200b push pop</p>"},{"location":"cs/csapp/2/#lab","title":"lab","text":""},{"location":"cs/csapp/2/#bomb","title":"bomb","text":""},{"location":"cs/csapp/2/#phase_1","title":"phase_1","text":"<pre><code>0000000000400ee0 &lt;phase_1&gt;:\n  400ee0:   48 83 ec 08             sub    $0x8,%rsp\n  400ee4:   be 00 24 40 00          mov    $0x402400,%esi\n  400ee9:   e8 4a 04 00 00          callq  401338 &lt;strings_not_equal&gt;\n  400eee:   85 c0                   test   %eax,%eax\n  400ef0:   74 05                   je     400ef7 &lt;phase_1+0x17&gt;\n  400ef2:   e8 43 05 00 00          callq  40143a &lt;explode_bomb&gt;\n  400ef7:   48 83 c4 08             add    $0x8,%rsp\n  400efb:   c3                      retq\n</code></pre>"},{"location":"cs/csapp/2/#_1","title":"\u5206\u6790","text":"<p>main\u200b\u51fd\u6570\u200b\u53ef\u77e5\u200b rdi\u200b\u4e3a\u200b\u8f93\u5165\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u4e0a\u200b\u56fe\u200b\u8c03\u7528\u200bstrings_not_equal\u200b\u51fd\u6570\u200b\uff0cstrings_not_equal\u200b\u6bd4\u8f83\u200brdi,rsi\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b</p> <p>\u200b\u6240\u4ee5\u200b0x402400\u200b\u5373\u200b\u4e3a\u200b\u76ee\u6807\u200b\u5b57\u7b26\u4e32\u200b</p>"},{"location":"cs/csapp/2/#ans","title":"ans","text":"<pre><code>Border relations with Canada have never been better.\n</code></pre>"},{"location":"cs/csapp/2/#phase_2","title":"phase_2","text":"<pre><code>0000000000400efc &lt;phase_2&gt;:\n  400efc:   55                      push   %rbp\n  400efd:   53                      push   %rbx\n  400efe:   48 83 ec 28             sub    $0x28,%rsp\n  400f02:   48 89 e6                mov    %rsp,%rsi\n  400f05:   e8 52 05 00 00          callq  40145c &lt;read_six_numbers&gt;\n  400f0a:   83 3c 24 01             cmpl   $0x1,(%rsp)\n  400f0e:   74 20                   je     400f30 &lt;phase_2+0x34&gt;\n  400f10:   e8 25 05 00 00          callq  40143a &lt;explode_bomb&gt;\n  400f15:   eb 19                   jmp    400f30 &lt;phase_2+0x34&gt;\n  400f17:   8b 43 fc                mov    -0x4(%rbx),%eax\n  400f1a:   01 c0                   add    %eax,%eax\n  400f1c:   39 03                   cmp    %eax,(%rbx)\n  400f1e:   74 05                   je     400f25 &lt;phase_2+0x29&gt;\n  400f20:   e8 15 05 00 00          callq  40143a &lt;explode_bomb&gt;\n  400f25:   48 83 c3 04             add    $0x4,%rbx\n  400f29:   48 39 eb                cmp    %rbp,%rbx\n  400f2c:   75 e9                   jne    400f17 &lt;phase_2+0x1b&gt;\n  400f2e:   eb 0c                   jmp    400f3c &lt;phase_2+0x40&gt;\n  400f30:   48 8d 5c 24 04          lea    0x4(%rsp),%rbx\n  400f35:   48 8d 6c 24 18          lea    0x18(%rsp),%rbp\n  400f3a:   eb db                   jmp    400f17 &lt;phase_2+0x1b&gt;\n  400f3c:   48 83 c4 28             add    $0x28,%rsp\n  400f40:   5b                      pop    %rbx\n  400f41:   5d                      pop    %rbp\n  400f42:   c3                      retq  \n</code></pre> <pre><code>000000000040145c &lt;read_six_numbers&gt;:\n  40145c:   48 83 ec 18             sub    $0x18,%rsp\n  401460:   48 89 f2                mov    %rsi,%rdx\n  401463:   48 8d 4e 04             lea    0x4(%rsi),%rcx\n  401467:   48 8d 46 14             lea    0x14(%rsi),%rax\n  40146b:   48 89 44 24 08          mov    %rax,0x8(%rsp)\n  401470:   48 8d 46 10             lea    0x10(%rsi),%rax\n  401474:   48 89 04 24             mov    %rax,(%rsp)\n  401478:   4c 8d 4e 0c             lea    0xc(%rsi),%r9\n  40147c:   4c 8d 46 08             lea    0x8(%rsi),%r8\n  401480:   be c3 25 40 00          mov    $0x4025c3,%esi\n  401485:   b8 00 00 00 00          mov    $0x0,%eax\n  40148a:   e8 61 f7 ff ff          callq  400bf0 &lt;__isoc99_sscanf@plt&gt;\n  40148f:   83 f8 05                cmp    $0x5,%eax\n  401492:   7f 05                   jg     401499 &lt;read_six_numbers+0x3d&gt;\n  401494:   e8 a1 ff ff ff          callq  40143a &lt;explode_bomb&gt;\n  401499:   48 83 c4 18             add    $0x18,%rsp\n  40149d:   c3                      retq  \n</code></pre> <p>read_six_numbers: \u200b\u8f93\u5165\u200b6\u200b\u4e2a\u200b\u6570\u5b57\u200b\uff0c\u200b\u5982\u679c\u200b\u4e2a\u6570\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b5\u200b\u4f1a\u200b\u5f15\u7206\u200b\u70b8\u5f39\u200b</p>"},{"location":"cs/csapp/2/#_2","title":"\u5206\u6790","text":"<p>phase_2 \u200b\u4e3b\u8981\u200b\u903b\u8f91\u200b</p> <pre><code>rsp -= 40, rsi = rsp, read_siz_numbers() // \u200b\u8f93\u5165\u200b\u7684\u200b\u5143\u7d20\u200b\u4f9d\u6b21\u200b\u5165\u6808\u200b \nif (rsp) != 1 bomb // arr[0] != 1 bomb\nj .L1\n\n\n\n.L1\n    rbx = rsp + 4, rbp = rsp + 40\n\n\n.L2 400f17\n    eax = (rbx - 4)\n    eax += eax\n    if (rbx) != eax bomb // arr[i-1] * 2 != arr[i] bomb \n    rbx += 4\n    if rbx == rbp retq\n    j .L2\n</code></pre> <p>\u200b\u8f93\u5165\u200b&gt;=6\u200b\u4e2a\u6570\u200b &amp;&amp; arr[0] == 1 &amp;&amp; arr[i-1]*2==arr[i]</p>"},{"location":"cs/csapp/2/#ans_1","title":"ans","text":"<pre><code>1 2 4 8 16 32\n</code></pre>"},{"location":"cs/csapp/2/#phase_3","title":"phase_3","text":"<pre><code>0000000000400f43 &lt;phase_3&gt;:\n  400f43:   48 83 ec 18             sub    $0x18,%rsp\n  400f47:   48 8d 4c 24 0c          lea    0xc(%rsp),%rcx\n  400f4c:   48 8d 54 24 08          lea    0x8(%rsp),%rdx\n  400f51:   be cf 25 40 00          mov    $0x4025cf,%esi\n  400f56:   b8 00 00 00 00          mov    $0x0,%eax\n  400f5b:   e8 90 fc ff ff          callq  400bf0 &lt;__isoc99_sscanf@plt&gt;\n  400f60:   83 f8 01                cmp    $0x1,%eax\n  400f63:   7f 05                   jg     400f6a &lt;phase_3+0x27&gt;\n  400f65:   e8 d0 04 00 00          callq  40143a &lt;explode_bomb&gt;\n  400f6a:   83 7c 24 08 07          cmpl   $0x7,0x8(%rsp)\n  400f6f:   77 3c                   ja     400fad &lt;phase_3+0x6a&gt;\n  400f71:   8b 44 24 08             mov    0x8(%rsp),%eax\n  400f75:   ff 24 c5 70 24 40 00    jmpq   *0x402470(,%rax,8)\n  400f7c:   b8 cf 00 00 00          mov    $0xcf,%eax\n  400f81:   eb 3b                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400f83:   b8 c3 02 00 00          mov    $0x2c3,%eax\n  400f88:   eb 34                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400f8a:   b8 00 01 00 00          mov    $0x100,%eax\n  400f8f:   eb 2d                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400f91:   b8 85 01 00 00          mov    $0x185,%eax\n  400f96:   eb 26                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400f98:   b8 ce 00 00 00          mov    $0xce,%eax\n  400f9d:   eb 1f                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400f9f:   b8 aa 02 00 00          mov    $0x2aa,%eax\n  400fa4:   eb 18                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400fa6:   b8 47 01 00 00          mov    $0x147,%eax\n  400fab:   eb 11                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400fad:   e8 88 04 00 00          callq  40143a &lt;explode_bomb&gt;\n  400fb2:   b8 00 00 00 00          mov    $0x0,%eax\n  400fb7:   eb 05                   jmp    400fbe &lt;phase_3+0x7b&gt;\n  400fb9:   b8 37 01 00 00          mov    $0x137,%eax\n  400fbe:   3b 44 24 0c             cmp    0xc(%rsp),%eax\n  400fc2:   74 05                   je     400fc9 &lt;phase_3+0x86&gt;\n  400fc4:   e8 71 04 00 00          callq  40143a &lt;explode_bomb&gt;\n  400fc9:   48 83 c4 18             add    $0x18,%rsp\n  400fcd:   c3                      retq \n</code></pre>"},{"location":"cs/csapp/2/#_3","title":"\u5206\u6790","text":"<pre><code>rsp -= 24\nrcx = rsp + 12, rdx = rsp + 8\nesi = $0x4025cf // \"%d %d\"\n// (gdb) x/s 0x4025cf\n// 0x4025cf:       \"%d %d\"\neax = 0, scanf // rax \u200b\u5e94\u8be5\u200b\u662f\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u4e2a\u6570\u200b\nif eax &lt;= 1 bomb\nif (8+rsp) &gt; 7 bomb // \u200b\u8f93\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u653e\u5728\u200brsp+8 ja \u200b\u65e0\u200b\u7b26\u53f7\u200b\u5927\u4e8e\u200b\u8df3\u8f6c\u200b jb 0x400f60\neax = (rsp + 8)\nj *0x402470 + rax * 8 // \u200b\u8df3\u8f6c\u200b\u5230\u200b (0x402470 + rax * 8) \u200b\u6240\u200b\u5b58\u50a8\u200b\u7684\u200b\u5730\u5740\u200b\u5904\u200b \u200b\u4e0d\u59a8\u200b\u770b\u200b\u4e0b\u9762\u200b\u7684\u200b\u5206\u6790\u200b\n\n\u200b\u4e0b\u9762\u200b\u4e00\u957f\u200b\u6bb5\u200b\u4ee3\u7801\u200b\u90fd\u200b\u662f\u200b\neax = xxx, j .L1\n\n\n.L1 400fbe\nif eax != (rsp+12) bomb  // mov () \u200b\u4e5f\u200b\u4f1a\u53d6\u200b\u5185\u5b58\u200b\u7684\u200b\u503c\u200b\nretq\n</code></pre> <p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u5206\u6790\u200b\uff1a </p> <p>\u200b\u8f93\u51fa\u200b\u7684\u200b\u6765\u200b \u200b\u627e\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u4ee4\u200b</p> <pre><code>(gdb) x/16x 0x402470\n0x402470:       0x00400f7c      0x00000000      0x00400fb9      0x00000000\n0x402480:       0x00400f83      0x00000000      0x00400f8a      0x00000000\n0x402490:       0x00400f91      0x00000000      0x00400f98      0x00000000\n0x4024a0:       0x00400f9f      0x00000000      0x00400fa6      0x00000000\n</code></pre> <p>ans</p> <pre><code>0 207\n</code></pre>"},{"location":"cs/csapp/2/#phase_4","title":"phase_4","text":"<pre><code>000000000040100c &lt;phase_4&gt;:\n  40100c:   48 83 ec 18             sub    $0x18,%rsp\n  401010:   48 8d 4c 24 0c          lea    0xc(%rsp),%rcx\n  401015:   48 8d 54 24 08          lea    0x8(%rsp),%rdx\n  40101a:   be cf 25 40 00          mov    $0x4025cf,%esi\n  40101f:   b8 00 00 00 00          mov    $0x0,%eax\n  401024:   e8 c7 fb ff ff          callq  400bf0 &lt;__isoc99_sscanf@plt&gt;\n  401029:   83 f8 02                cmp    $0x2,%eax\n  40102c:   75 07                   jne    401035 &lt;phase_4+0x29&gt;\n  40102e:   83 7c 24 08 0e          cmpl   $0xe,0x8(%rsp)\n  401033:   76 05                   jbe    40103a &lt;phase_4+0x2e&gt;\n  401035:   e8 00 04 00 00          callq  40143a &lt;explode_bomb&gt;\n  40103a:   ba 0e 00 00 00          mov    $0xe,%edx\n  40103f:   be 00 00 00 00          mov    $0x0,%esi\n  401044:   8b 7c 24 08             mov    0x8(%rsp),%edi\n  401048:   e8 81 ff ff ff          callq  400fce &lt;func4&gt;\n  40104d:   85 c0                   test   %eax,%eax\n  40104f:   75 07                   jne    401058 &lt;phase_4+0x4c&gt;\n  401051:   83 7c 24 0c 00          cmpl   $0x0,0xc(%rsp)\n  401056:   74 05                   je     40105d &lt;phase_4+0x51&gt;\n  401058:   e8 dd 03 00 00          callq  40143a &lt;explode_bomb&gt;\n  40105d:   48 83 c4 18             add    $0x18,%rsp\n  401061:   c3                      retq \n</code></pre> <pre><code>0000000000400fce &lt;func4&gt;:\n  400fce:   48 83 ec 08             sub    $0x8,%rsp\n  400fd2:   89 d0                   mov    %edx,%eax\n  400fd4:   29 f0                   sub    %esi,%eax\n  400fd6:   89 c1                   mov    %eax,%ecx\n  400fd8:   c1 e9 1f                shr    $0x1f,%ecx\n  400fdb:   01 c8                   add    %ecx,%eax\n  400fdd:   d1 f8                   sar    %eax\n  400fdf:   8d 0c 30                lea    (%rax,%rsi,1),%ecx\n  400fe2:   39 f9                   cmp    %edi,%ecx\n  400fe4:   7e 0c                   jle    400ff2 &lt;func4+0x24&gt;\n  400fe6:   8d 51 ff                lea    -0x1(%rcx),%edx\n  400fe9:   e8 e0 ff ff ff          callq  400fce &lt;func4&gt;\n  400fee:   01 c0                   add    %eax,%eax\n  400ff0:   eb 15                   jmp    401007 &lt;func4+0x39&gt;\n  400ff2:   b8 00 00 00 00          mov    $0x0,%eax\n  400ff7:   39 f9                   cmp    %edi,%ecx\n  400ff9:   7d 0c                   jge    401007 &lt;func4+0x39&gt;\n  400ffb:   8d 71 01                lea    0x1(%rcx),%esi\n  400ffe:   e8 cb ff ff ff          callq  400fce &lt;func4&gt;\n  401003:   8d 44 00 01             lea    0x1(%rax,%rax,1),%eax\n  401007:   48 83 c4 08             add    $0x8,%rsp\n  40100b:   c3                      retq   \n</code></pre>"},{"location":"cs/csapp/2/#_4","title":"\u5206\u6790","text":"<p>rdx \u200b\u53ef\u80fd\u200b\u662f\u200b\u8fd4\u56de\u200b\u51fd\u6570\u200b</p> <pre><code>rsp -= 24\nrcx = rsp + 12, rdx = rsp + 8\nesi = 0x4025cf, eax = 0\ncall scanf\nif eax != 2 bomb\n\n(rsp + 8) &gt; 14 bomb\n\nedx = 14, esi = 0\nedi = (rsp + 8) // \u200b\u7b2c\u4e00\u4e2a\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\ncall func4\n\n\n\n\nrax != 0 bomb\nif (rsp + 12) !=0 bomb\nretq\n</code></pre> <p>func4</p> <pre><code>rsp += 8\neax = edx, eax -= esi // eax = 14 - param2\necx = eax\necx &gt;&gt; 31 // ecx=0\neax += ecx \neax &gt;&gt; 1 // 7\n\n\n\n\necx = rax + rsi\nif ecx &lt;= edi j .L1\nedx = rcx - 1 call func4\n\n\n.L1 400ff2\neax = 0\nif ecx &gt;= edi req\nesi = rcx + 1\ncall func4\n\n\n(14 - p2) / 2 + p2 == p1\n7 + 0.5p2 = p1\n</code></pre>"},{"location":"cs/csapp/2/#ans_2","title":"ans","text":"<pre><code>7 0\n</code></pre>"},{"location":"cs/csapp/2/#phase_5","title":"phase_5","text":"<pre><code>0000000000401062 &lt;phase_5&gt;:\n  401062:   53                      push   %rbx\n  401063:   48 83 ec 20             sub    $0x20,%rsp\n  401067:   48 89 fb                mov    %rdi,%rbx\n  40106a:   64 48 8b 04 25 28 00    mov    %fs:0x28,%rax\n  401071:   00 00 \n  401073:   48 89 44 24 18          mov    %rax,0x18(%rsp)\n  401078:   31 c0                   xor    %eax,%eax\n  40107a:   e8 9c 02 00 00          callq  40131b &lt;string_length&gt;\n  40107f:   83 f8 06                cmp    $0x6,%eax\n  401082:   74 4e                   je     4010d2 &lt;phase_5+0x70&gt;\n  401084:   e8 b1 03 00 00          callq  40143a &lt;explode_bomb&gt;\n  401089:   eb 47                   jmp    4010d2 &lt;phase_5+0x70&gt;\n  40108b:   0f b6 0c 03             movzbl (%rbx,%rax,1),%ecx\n  40108f:   88 0c 24                mov    %cl,(%rsp)\n  401092:   48 8b 14 24             mov    (%rsp),%rdx\n  401096:   83 e2 0f                and    $0xf,%edx\n  401099:   0f b6 92 b0 24 40 00    movzbl 0x4024b0(%rdx),%edx\n  4010a0:   88 54 04 10             mov    %dl,0x10(%rsp,%rax,1)\n  4010a4:   48 83 c0 01             add    $0x1,%rax\n  4010a8:   48 83 f8 06             cmp    $0x6,%rax\n  4010ac:   75 dd                   jne    40108b &lt;phase_5+0x29&gt;\n  4010ae:   c6 44 24 16 00          movb   $0x0,0x16(%rsp)\n  4010b3:   be 5e 24 40 00          mov    $0x40245e,%esi\n  4010b8:   48 8d 7c 24 10          lea    0x10(%rsp),%rdi\n  4010bd:   e8 76 02 00 00          callq  401338 &lt;strings_not_equal&gt;\n  4010c2:   85 c0                   test   %eax,%eax\n  4010c4:   74 13                   je     4010d9 &lt;phase_5+0x77&gt;\n  4010c6:   e8 6f 03 00 00          callq  40143a &lt;explode_bomb&gt;\n  4010cb:   0f 1f 44 00 00          nopl   0x0(%rax,%rax,1)\n  4010d0:   eb 07                   jmp    4010d9 &lt;phase_5+0x77&gt;\n  4010d2:   b8 00 00 00 00          mov    $0x0,%eax\n  4010d7:   eb b2                   jmp    40108b &lt;phase_5+0x29&gt;\n  4010d9:   48 8b 44 24 18          mov    0x18(%rsp),%rax\n  4010de:   64 48 33 04 25 28 00    xor    %fs:0x28,%rax\n  4010e5:   00 00 \n  4010e7:   74 05                   je     4010ee &lt;phase_5+0x8c&gt;\n  4010e9:   e8 42 fa ff ff          callq  400b30 &lt;__stack_chk_fail@plt&gt;\n  4010ee:   48 83 c4 20             add    $0x20,%rsp\n  4010f2:   5b                      pop    %rbx\n  4010f3:   c3                      retq   \n</code></pre>"},{"location":"cs/csapp/2/#_5","title":"\u5206\u6790","text":"<pre><code>rsp -= 32, rbx = rdi\nrax =fs:0x28, (rsp + 24) = rax, xor eax\nif len(rdi) != 6 bomb\nj .L1\n\n\n\n\n.L1\neax = 0\nj .L2\n\n\n.L2 40108b\necx = (rbx + rax) \n(rsp) = cl,  rdx = (rsp)\nedx &amp;= oxf\nedx = (0x4024b0 + rdx)\n(16 + rsp +rax) = dl\nrax += 1\nif rax != 6 j .L2\n\n\n(rsp+22) = 0\nesi = 0x40245e\nrdi = (rsp + 16)\nif rdi != rsi bomb\nj .L3 4010d9\n\n\n\n.L3\nrax = (rsp + 24)\nrax or= fs:0x28\nif == 0 retq\nelse bomb\n</code></pre> <pre><code>(gdb) x/s 0x4024b0\n0x4024b0 &lt;array.3449&gt;:  \"maduiersnfotvbylSo you think you can stop the bomb with ctrl-c, do you?\"\n\n\n\n\n\n(gdb) x/s 0x40245e\n0x40245e:       \"flyers\"\n(gdb)\n\n\n\n\n\n0x_9 = \u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u662f\u200bi\n</code></pre>"},{"location":"cs/csapp/2/#ans_3","title":"ans","text":"<pre><code>ionefg\n</code></pre> <p>ascii \u200b\u8868\u200b</p> \u200b\u4e8c\u8fdb\u5236\u200b \u200b\u5341\u8fdb\u5236\u200b \u200b\u5341\u516d\u8fdb\u5236\u200b \u200b\u5b57\u7b26\u200b/\u200b\u7f29\u5199\u200b \u200b\u89e3\u91ca\u200b 00000000 0 00 NUL (NULL) \u200b\u7a7a\u5b57\u7b26\u200b 00000001 1 01 SOH (Start Of Headling) \u200b\u6807\u9898\u200b\u5f00\u59cb\u200b 00000010 2 02 STX (Start Of Text) \u200b\u6b63\u6587\u200b\u5f00\u59cb\u200b 00000011 3 03 ETX (End Of Text) \u200b\u6b63\u6587\u200b\u7ed3\u675f\u200b 00000100 4 04 EOT (End Of Transmission) \u200b\u4f20\u8f93\u200b\u7ed3\u675f\u200b 00000101 5 05 ENQ (Enquiry) \u200b\u8bf7\u6c42\u200b 00000110 6 06 ACK (Acknowledge) \u200b\u56de\u5e94\u200b/\u200b\u54cd\u5e94\u200b/\u200b\u6536\u5230\u200b\u901a\u77e5\u200b 00000111 7 07 BEL (Bell) \u200b\u54cd\u94c3\u200b 00001000 8 08 BS (Backspace) \u200b\u9000\u683c\u200b 00001001 9 09 HT (Horizontal Tab) \u200b\u6c34\u5e73\u200b\u5236\u8868\u7b26\u200b 00001010 10 0A LF/NL(Line Feed/New Line) \u200b\u6362\u884c\u200b\u952e\u200b 00001011 11 0B VT (Vertical Tab) \u200b\u5782\u76f4\u200b\u5236\u8868\u7b26\u200b 00001100 12 0C FF/NP (Form Feed/New Page) \u200b\u6362\u9875\u200b\u952e\u200b 00001101 13 0D CR (Carriage Return) \u200b\u56de\u8f66\u952e\u200b 00001110 14 0E SO (Shift Out) \u200b\u4e0d\u7528\u200b\u5207\u6362\u200b 00001111 15 0F SI (Shift In) \u200b\u542f\u7528\u200b\u5207\u6362\u200b 00010000 16 10 DLE (Data Link Escape) \u200b\u6570\u636e\u94fe\u200b\u8def\u200b\u8f6c\u4e49\u200b 00010001 17 11 DC1/XON (Device Control 1/Transmission On) \u200b\u8bbe\u5907\u200b\u63a7\u5236\u200b1/\u200b\u4f20\u8f93\u200b\u5f00\u59cb\u200b 00010010 18 12 DC2 (Device Control 2) \u200b\u8bbe\u5907\u200b\u63a7\u5236\u200b2 00010011 19 13 DC3/XOFF (Device Control 3/Transmission Off) \u200b\u8bbe\u5907\u200b\u63a7\u5236\u200b3/\u200b\u4f20\u8f93\u200b\u4e2d\u65ad\u200b 00010100 20 14 DC4 (Device Control 4) \u200b\u8bbe\u5907\u200b\u63a7\u5236\u200b4 00010101 21 15 NAK (Negative Acknowledge) \u200b\u65e0\u200b\u54cd\u5e94\u200b/\u200b\u975e\u6b63\u5e38\u200b\u54cd\u5e94\u200b/\u200b\u62d2\u7edd\u200b\u63a5\u6536\u200b 00010110 22 16 SYN (Synchronous Idle) \u200b\u540c\u6b65\u200b\u7a7a\u95f2\u200b 00010111 23 17 ETB (End of Transmission Block) \u200b\u4f20\u8f93\u200b\u5757\u200b\u7ed3\u675f\u200b/\u200b\u5757\u200b\u4f20\u8f93\u200b\u7ec8\u6b62\u200b 00011000 24 18 CAN (Cancel) \u200b\u53d6\u6d88\u200b 00011001 25 19 EM (End of Medium) \u200b\u5df2\u5230\u200b\u4ecb\u8d28\u200b\u672b\u7aef\u200b/\u200b\u4ecb\u8d28\u200b\u5b58\u50a8\u200b\u5df2\u6ee1\u200b/\u200b\u4ecb\u8d28\u200b\u4e2d\u65ad\u200b 00011010 26 1A SUB (Substitute) \u200b\u66ff\u8865\u200b/\u200b\u66ff\u6362\u200b 00011011 27 1B ESC (Escape) \u200b\u9003\u79bb\u200b/\u200b\u53d6\u6d88\u200b 00011100 28 1C FS (File Separator) \u200b\u6587\u4ef6\u200b\u5206\u5272\u200b\u7b26\u200b 00011101 29 1D GS (Group Separator) \u200b\u7ec4\u200b\u5206\u9694\u7b26\u200b/\u200b\u5206\u7ec4\u200b\u7b26\u200b 00011110 30 1E RS (Record Separator) \u200b\u8bb0\u5f55\u200b\u5206\u79bb\u200b\u7b26\u200b 00011111 31 1F US (Unit Separator) \u200b\u5355\u5143\u200b\u5206\u9694\u7b26\u200b 00100000 32 20 (Space) \u200b\u7a7a\u683c\u200b 00100001 33 21 ! 00100010 34 22 \" 00100011 35 23 # 00100100 36 24 $ 00100101 37 25 % 00100110 38 26 &amp; 00100111 39 27 ' 00101000 40 28 ( 00101001 41 29 ) 00101010 42 2A * 00101011 43 2B + 00101100 44 2C , 00101101 45 2D - 00101110 46 2E . 00101111 47 2F / 00110000 48 30 0 00110001 49 31 1 00110010 50 32 2 00110011 51 33 3 00110100 52 34 4 00110101 53 35 5 00110110 54 36 6 00110111 55 37 7 00111000 56 38 8 00111001 57 39 9 00111010 58 3A : 00111011 59 3B ; 00111100 60 3C &lt; 00111101 61 3D = 00111110 62 3E &gt; 00111111 63 3F ? 01000000 64 40 @ 01000001 65 41 A 01000010 66 42 B 01000011 67 43 C 01000100 68 44 D 01000101 69 45 E 01000110 70 46 F 01000111 71 47 G 01001000 72 48 H 01001001 73 49 I 01001010 74 4A J 01001011 75 4B K 01001100 76 4C L 01001101 77 4D M 01001110 78 4E N 01001111 79 4F O 01010000 80 50 P 01010001 81 51 Q 01010010 82 52 R 01010011 83 53 S 01010100 84 54 T 01010101 85 55 U 01010110 86 56 V 01010111 87 57 W 01011000 88 58 X 01011001 89 59 Y 01011010 90 5A Z 01011011 91 5B [ 01011100 92 5C \\ 01011101 93 5D ] 01011110 94 5E ^ 01011111 95 5F _ 01100000 96 60 ` 01100001 97 61 a 01100010 98 62 b 01100011 99 63 c 01100100 100 64 d 01100101 101 65 e 01100110 102 66 f 01100111 103 67 g 01101000 104 68 h 01101001 105 69 i 01101010 106 6A j 01101011 107 6B k 01101100 108 6C l 01101101 109 6D m 01101110 110 6E n 01101111 111 6F o 01110000 112 70 p 01110001 113 71 q 01110010 114 72 r 01110011 115 73 s 01110100 116 74 t 01110101 117 75 u 01110110 118 76 v 01110111 119 77 w 01111000 120 78 x 01111001 121 79 y 01111010 122 7A z 01111011 123 7B { 01111100 124 7C | 01111101 125 7D } 01111110 126 7E ~ 01111111 127 7F DEL (Delete) \u200b\u5220\u9664"},{"location":"cs/csapp/2/#phase_6","title":"phase_6","text":"<pre><code>00000000004010f4 &lt;phase_6&gt;:\n  4010f4:   41 56                   push   %r14\n  4010f6:   41 55                   push   %r13\n  4010f8:   41 54                   push   %r12\n  4010fa:   55                      push   %rbp\n  4010fb:   53                      push   %rbx\n  4010fc:   48 83 ec 50             sub    $0x50,%rsp\n  401100:   49 89 e5                mov    %rsp,%r13\n  401103:   48 89 e6                mov    %rsp,%rsi\n  401106:   e8 51 03 00 00          callq  40145c &lt;read_six_numbers&gt;\n  40110b:   49 89 e6                mov    %rsp,%r14\n  40110e:   41 bc 00 00 00 00       mov    $0x0,%r12d\n  401114:   4c 89 ed                mov    %r13,%rbp\n  401117:   41 8b 45 00             mov    0x0(%r13),%eax\n  40111b:   83 e8 01                sub    $0x1,%eax\n  40111e:   83 f8 05                cmp    $0x5,%eax\n  401121:   76 05                   jbe    401128 &lt;phase_6+0x34&gt;\n  401123:   e8 12 03 00 00          callq  40143a &lt;explode_bomb&gt;\n  401128:   41 83 c4 01             add    $0x1,%r12d\n  40112c:   41 83 fc 06             cmp    $0x6,%r12d\n  401130:   74 21                   je     401153 &lt;phase_6+0x5f&gt;\n  401132:   44 89 e3                mov    %r12d,%ebx\n  401135:   48 63 c3                movslq %ebx,%rax\n  401138:   8b 04 84                mov    (%rsp,%rax,4),%eax\n  40113b:   39 45 00                cmp    %eax,0x0(%rbp)\n  40113e:   75 05                   jne    401145 &lt;phase_6+0x51&gt;\n  401140:   e8 f5 02 00 00          callq  40143a &lt;explode_bomb&gt;\n  401145:   83 c3 01                add    $0x1,%ebx\n  401148:   83 fb 05                cmp    $0x5,%ebx\n  40114b:   7e e8                   jle    401135 &lt;phase_6+0x41&gt;\n  40114d:   49 83 c5 04             add    $0x4,%r13\n  401151:   eb c1                   jmp    401114 &lt;phase_6+0x20&gt;\n  401153:   48 8d 74 24 18          lea    0x18(%rsp),%rsi\n  401158:   4c 89 f0                mov    %r14,%rax\n  40115b:   b9 07 00 00 00          mov    $0x7,%ecx\n  401160:   89 ca                   mov    %ecx,%edx\n  401162:   2b 10                   sub    (%rax),%edx\n  401164:   89 10                   mov    %edx,(%rax)\n  401166:   48 83 c0 04             add    $0x4,%rax\n  40116a:   48 39 f0                cmp    %rsi,%rax\n  40116d:   75 f1                   jne    401160 &lt;phase_6+0x6c&gt;\n  40116f:   be 00 00 00 00          mov    $0x0,%esi\n  401174:   eb 21                   jmp    401197 &lt;phase_6+0xa3&gt;\n  401176:   48 8b 52 08             mov    0x8(%rdx),%rdx\n  40117a:   83 c0 01                add    $0x1,%eax\n  40117d:   39 c8                   cmp    %ecx,%eax\n  40117f:   75 f5                   jne    401176 &lt;phase_6+0x82&gt;\n  401181:   eb 05                   jmp    401188 &lt;phase_6+0x94&gt;\n  401183:   ba d0 32 60 00          mov    $0x6032d0,%edx\n  401188:   48 89 54 74 20          mov    %rdx,0x20(%rsp,%rsi,2)\n  40118d:   48 83 c6 04             add    $0x4,%rsi\n  401191:   48 83 fe 18             cmp    $0x18,%rsi\n  401195:   74 14                   je     4011ab &lt;phase_6+0xb7&gt;\n  401197:   8b 0c 34                mov    (%rsp,%rsi,1),%ecx\n  40119a:   83 f9 01                cmp    $0x1,%ecx\n  40119d:   7e e4                   jle    401183 &lt;phase_6+0x8f&gt;\n  40119f:   b8 01 00 00 00          mov    $0x1,%eax\n  4011a4:   ba d0 32 60 00          mov    $0x6032d0,%edx\n  4011a9:   eb cb                   jmp    401176 &lt;phase_6+0x82&gt;\n  4011ab:   48 8b 5c 24 20          mov    0x20(%rsp),%rbx\n  4011b0:   48 8d 44 24 28          lea    0x28(%rsp),%rax\n  4011b5:   48 8d 74 24 50          lea    0x50(%rsp),%rsi\n  4011ba:   48 89 d9                mov    %rbx,%rcx\n  4011bd:   48 8b 10                mov    (%rax),%rdx\n  4011c0:   48 89 51 08             mov    %rdx,0x8(%rcx)\n  4011c4:   48 83 c0 08             add    $0x8,%rax\n  4011c8:   48 39 f0                cmp    %rsi,%rax\n  4011cb:   74 05                   je     4011d2 &lt;phase_6+0xde&gt;\n  4011cd:   48 89 d1                mov    %rdx,%rcx\n  4011d0:   eb eb                   jmp    4011bd &lt;phase_6+0xc9&gt;\n  4011d2:   48 c7 42 08 00 00 00    movq   $0x0,0x8(%rdx)\n  4011d9:   00 \n  4011da:   bd 05 00 00 00          mov    $0x5,%ebp\n  4011df:   48 8b 43 08             mov    0x8(%rbx),%rax\n  4011e3:   8b 00                   mov    (%rax),%eax\n  4011e5:   39 03                   cmp    %eax,(%rbx)\n  4011e7:   7d 05                   jge    4011ee &lt;phase_6+0xfa&gt;\n  4011e9:   e8 4c 02 00 00          callq  40143a &lt;explode_bomb&gt;\n  4011ee:   48 8b 5b 08             mov    0x8(%rbx),%rbx\n  4011f2:   83 ed 01                sub    $0x1,%ebp\n  4011f5:   75 e8                   jne    4011df &lt;phase_6+0xeb&gt;\n  4011f7:   48 83 c4 50             add    $0x50,%rsp\n  4011fb:   5b                      pop    %rbx\n  4011fc:   5d                      pop    %rbp\n  4011fd:   41 5c                   pop    %r12\n  4011ff:   41 5d                   pop    %r13\n  401201:   41 5e                   pop    %r14\n  401203:   c3                      retq   \n</code></pre> <pre><code>rsp-=80\nr13 = rsp, rsi = rsp, call(red_six+numbers), r14 = rsp\n\nr12d=0\n\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8f93\u5165\u200b\u7684\u200b\u6570\u200bx x&lt;=6\uff0c  \u200b\u540e\u9762\u200b\u7684\u200b\u6570\u200b\u548c\u200b\u524d\u9762\u200b\u7684\u200b\u6570\u200b\u4e0d\u80fd\u200b\u76f8\u7b49\u200b\n```\nfor (int i = 0; i &lt; len; i++) {\n    if (arr[i] &gt; 6) bomb\n    for (int j = i+1; j &lt; len; j++) {\n        if arr[j] == arr[i] bomb\n    }\n}\n```\n.L2\n    rbp = r13 // r13 == rsp\n    eax = (r13)\n    eax-=1, if eax &gt; 5 bomb\n\n    r12d += 1\n    if r12d == 6 j .L3\n\n    ebx = 12d, rax = ebx\n\n\n\n.L1\n    eax = (rsp + 4 * rax) \n    if eax == (rbp) bomb\n    ebx += 1\n    if ebx &lt;= 5 j .L1\n    r13 += 4\n    j .L2\n\n\n---- archive\n\n.L3 400153\n    rsp + 24 -&gt; rsi,\n    r14 -&gt; rax, 7 -&gt; ecx \n.L4\n    ecx -&gt; edx\n    edx -= (rax), edx -&gt; (rax) // (rsp) = 7 - (rsp)\n    rax += 4\n    if rax != rsi j .L4\n\n\n\n\nstep == 3\nesi=0 j .L7\n\n.L8 401176\n    rdx = (8 + rdx)\n    eax += 1, if eax != ecx: j .L8\n    j .L9\n\n.L5 401183\n    $0x6032d0 -&gt; edx, \n.l9 401188\n    rdx -&gt; (rsp + 2*rsi + 32)\n    rsi += 4, if rsi == 24 j .L6        // \u200b\u6bcf\u6b21\u200b\u504f\u79fb\u91cf\u200b\u662f\u200b8 \n\n.L7 401197\n    (rsp+rsi) -&gt; ecx, if ecx &lt;= 1 j.L5     6\n    if ecx &gt; 1 {\n        eax=1, edx=0x6032d0 j .L8\n    }\n\n\n.L6 4011ab\n    \uff08rsp+32\uff09 -&gt; rbx, rsp+40 -&gt; rax, rsp+80 -&gt; rsi     48/2=24 \n    rbx -&gt; rcx, \n.l61\n    (rax) -&gt; rdx, rdx -&gt; (8+rcx)\n    rax += 8,\n    if rax == rsi j .L10\n    rdx -&gt; rcx\n    j .L61\n\n\n.L10 4011d2\n    0 -&gt; (rdx + 8)  // rsp+40 &lt;&gt; a\n    5 -&gt; ebp\n.L11\n    (rbx + 8) -&gt; rax \n    (rax) -&gt; eax // \u200b\u524d\u200b\u4e00\u4e2a\u200b \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u540e\u200b\u4e00\u4e2a\u200b\n    if (rbx) &lt; eax {\n        bomb\n    }\n    (rbx+8) -&gt; rbx\n    ebp -=1\n    if ebp != 0 j .L11\n</code></pre> <p><code>movzbl</code> \u200b\u662f\u200b x86 \u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6307\u4ee4\u200b\uff0c\u200b\u5b83\u200b\u7528\u4e8e\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\uff088\u200b\u4f4d\u200b\uff09\u200b\u7684\u200b\u6570\u636e\u200b\u4ece\u6e90\u200b\u64cd\u4f5c\u6570\u200b\u590d\u5236\u5230\u200b\u76ee\u6807\u200b\u64cd\u4f5c\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u96f6\u200b\u6269\u5c55\u200b\u4e3a\u200b\u4e00\u4e2a\u53cc\u200b\u5b57\u200b\uff0832\u200b\u4f4d\u200b\uff09\u3002</p> <ol> <li>x\uff1a\u200b\u5341\u516d\u8fdb\u5236\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u5341\u516d\u8fdb\u5236\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>d\uff1a\u200b\u5341\u8fdb\u5236\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u5341\u8fdb\u5236\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>u\uff1a\u200b\u65e0\u200b\u7b26\u53f7\u200b\u5341\u8fdb\u5236\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u65e0\u200b\u7b26\u53f7\u200b\u5341\u8fdb\u5236\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>o\uff1a\u200b\u516b\u8fdb\u5236\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u516b\u8fdb\u5236\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>t\uff1a\u200b\u4e8c\u8fdb\u5236\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u4e8c\u8fdb\u5236\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>c\uff1a\u200b\u5b57\u7b26\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u5b57\u7b26\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>f\uff1a\u200b\u6d6e\u70b9\u6570\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u6d6e\u70b9\u6570\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\uff08\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b\u6d6e\u70b9\u6570\u200b\uff09\u3002</li> <li>a\uff1a\u200b\u5730\u5740\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u5185\u5b58\u5730\u5740\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\u3002</li> <li>i\uff1a\u200b\u6c47\u7f16\u200b\u683c\u5f0f\u200b\u3002\u200b\u4ee5\u200b\u6c47\u7f16\u200b\u6307\u4ee4\u200b\u5f62\u5f0f\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u5185\u5bb9\u200b\uff08\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u673a\u5668\u7801\u200b\uff09\u3002</li> </ol> <pre><code>lea ox1(%rax, %rax, 1), %rbx mov ox1(%rax, %rax, 1), %rbx \u200b\u533a\u522b\u200b\n\n\u200b\u5728\u200b\u6c47\u7f16\u8bed\u8a00\u200b\u4e2d\u200b\uff0clea\uff08Load Effective Address\uff09\u200b\u6307\u4ee4\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u6709\u6548\u200b\u5730\u5740\u200b\uff0c\u200b\u4f46\u200b\u5b83\u200b\u4e0d\u4f1a\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\u3002\u200b\u800c\u200bmov\uff08Move\uff09\u200b\u6307\u4ee4\u200b\u7528\u4e8e\u200b\u5c06\u200b\u6570\u636e\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u590d\u5236\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\u3002\n\n\u200b\u4e0b\u9762\u200b\u8ba9\u200b\u6211\u4eec\u200b\u5206\u522b\u200b\u89e3\u91ca\u200b\u4e24\u6761\u200b\u6307\u4ee4\u200b\u7684\u200b\u533a\u522b\u200b\uff1a\n\nlea 0x1(%rax, %rax, 1), %rbx\uff1a\n\n\u200b\u8fd9\u200b\u6761\u200b\u6307\u4ee4\u200b\u9996\u5148\u200b\u6267\u884c\u200b\u4e86\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u51fa\u200b2 * %rax + 1\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\n\u200b\u7136\u540e\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u5730\u5740\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b%rbx\u200b\u4e2d\u200b\uff0c\u200b\u4f46\u200b\u5e76\u200b\u4e0d\u200b\u52a0\u8f7d\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u3002%rbx\u200b\u73b0\u5728\u200b\u5305\u542b\u200b\u4e86\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u5730\u5740\u200b\u3002\nmov 0x1(%rax, %rax, 1), %rbx\uff1a\n\n\u200b\u8fd9\u200b\u6761\u200b\u6307\u4ee4\u200b\u9996\u5148\u200b\u6267\u884c\u200b\u4e86\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u51fa\u200b2 * %rax + 1\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\n\u200b\u7136\u540e\u200b\uff0c\u200b\u5b83\u200b\u4ece\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u5730\u5740\u200b\u5904\u200b\u8bfb\u53d6\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u590d\u5236\u5230\u200b\u5bc4\u5b58\u5668\u200b%rbx\u200b\u4e2d\u200b\u3002%rbx\u200b\u73b0\u5728\u200b\u5305\u542b\u200b\u4e86\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u52a0\u8f7d\u200b\u7684\u200b\u6570\u636e\u200b\u3002\n\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e3b\u8981\u200b\u533a\u522b\u200b\u5728\u4e8e\u200blea\u200b\u6267\u884c\u200b\u7684\u200b\u662f\u200b\u5730\u5740\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u800c\u200bmov\u200b\u6267\u884c\u200b\u7684\u200b\u662f\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\u3002lea\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u5730\u5740\u200b\uff0c\u200b\u800c\u200bmov\u200b\u7528\u4e8e\u200b\u6570\u636e\u4f20\u8f93\u200b\u3002\n</code></pre> <p>movslq </p>"},{"location":"cs/csapp/3/","title":"3","text":"<p>alu \u200b\u7b97\u672f\u200b\u903b\u8f91\u200b\u5355\u5143\u200b \u200b\u8bfb\u53d6\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b</p> <p>\u200b\u76ee\u6807\u200b\u78c1\u9053\u200b -\u300b \u200b\u76ee\u6807\u200b\u6247\u533a\u200b </p>"},{"location":"cs/csapp/c/","title":"C","text":"<pre><code>gcc -Og -S -o a a.c\n</code></pre> <p>cccdd</p>"},{"location":"cs/csapp/install/","title":"Install","text":""},{"location":"cs/csapp/install/#_1","title":"\u5bb9\u5668\u200b\u5b89\u88c5\u200b\u53ca\u200b\u914d\u7f6e","text":"<pre><code>Starting program: /csapp/test/a.out\nwarning: Error disabling address space randomization: Operation not permitted\nwarning: Could not trace the inferior process.\nwarning: ptrace: Function not implemented\nDuring startup program exited with code 127\n</code></pre> <pre><code>docker run --platform=linux/amd64 -it -v /Users/matt/workspace/cs/csapp:/csapp --network host ubuntu:20.04 /bin/bash\n\n\n\n\ndocker\u200b\u53ea\u6709\u200b\u4ee5\u200b--security-opt seccomp=unconfined\u200b\u7684\u200b\u6a21\u5f0f\u200b\u8fd0\u884c\u200bcontainer\u200b\u624d\u80fd\u200b\u5229\u7528\u200bGDB\u200b\u8c03\u8bd5\u200b\n# --security-opt seccomp=unconfined\n# privileged root\u200b\u6743\u9650\u200b\n\n\ndocker run --platform=linux/amd64 --privileged=true --cap-add=CAP_SYS_PTRACE --security-opt seccomp=unconfined --name=csapp3 -it -v /Users/matt/workspace/cs/csapp:/csapp --network host ubuntu:20.04 /bin/bash\n</code></pre> <pre><code>apt update\n\napt install sudo\nsudo apt install build-essential\n</code></pre> <p>\u200b\u8fd9\u200b\u5c06\u200b\u5b89\u88c5\u200b\u4e00\u4e9b\u200b\u5fc5\u8981\u200b\u7684\u200b\u7f16\u8bd1\u200b\u5de5\u5177\u200b\uff0c\u200b\u5982\u200bgcc\uff08GNU C\u200b\u7f16\u8bd1\u5668\u200b\uff09\u3001g++\uff08GNU C++\u200b\u7f16\u8bd1\u5668\u200b\uff09\u200b\u548c\u200bmake\u200b\u7b49\u200b\u3002</p> <pre><code>sudo apt install gcc-multilib\n</code></pre> <pre><code>sudo apt install gdb\n\nsudo apt install vim\n</code></pre> <p>gcc --version</p>"},{"location":"cs/csapp/m/","title":"M","text":"<p>linker \u200b\u4e0d\u540c\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b</p> <p>docker exec -it 1ef47b7b55ae /bin/bash</p> <pre><code># \u200b\u751f\u6210\u200b\u6c47\u7f16\u200b\u4ee3\u7801\u200b -Og \u200b\u4ee3\u7801\u4f18\u5316\u200b \u200b\u53ef\u4ee5\u200b\u770b\u200b\u61c2\u200b -S \u200b\u505c\u6b62\u200b\ngcc \u2013Og \u2013S sum.c\n</code></pre>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/","title":"1.\u200b\u8ba1\u7b97\u200b\u7f51\u7edc\u200b\u6982\u8ff0","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#internet","title":"\u4ec0\u4e48\u200b\u662f\u200b Internet?","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_1","title":"\u5177\u4f53\u200b\u6784\u6210","text":"<p>\u200b\u8282\u70b9\u200b\u3001\u200b\u8fb9\u200b\u548c\u200b\u534f\u8bae\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_2","title":"\u8be6\u7ec6\u200b\u4ecb\u7ecd","text":"<p>\u200b\u8282\u70b9\u200b</p> <ul> <li>\u200b\u4e3b\u673a\u200b\u53ca\u5176\u200b\u4e0a\u9762\u200b\u8fd0\u884c\u200b\u7684\u200b\u5e94\u7528\u7a0b\u5e8f\u200b</li> <li>\u200b\u8def\u7531\u5668\u200b\u3001\u200b\u4ea4\u6362\u5668\u200b\u7b49\u200b\u7f51\u7edc\u200b\u4ea4\u6362\u200b\u8bbe\u5907\u200b    </li> </ul> <p>\u200b\u8fb9\u200b</p> <ul> <li>\u200b\u63a5\u5165\u7f51\u200b\u94fe\u8def\u200b\uff1a\u200b\u4e3b\u673a\u200b\u8fde\u63a5\u200b\u5230\u200b\u4e92\u8054\u7f51\u200b\u7684\u200b\u94fe\u8def\u200b</li> <li>\u200b\u6838\u5fc3\u200b\u94fe\u8def\u200b\uff1a\u200b\u8def\u7531\u5668\u200b\u4e4b\u95f4\u200b\u7684\u200b\u94fe\u8def\u200b</li> </ul> <p>\u200b\u534f\u8bae\u200b</p> <ul> <li>\u200b\u5bf9\u200b\u7b49\u200b\u5c42\u200b\u5b9e\u4f53\u200b\uff0c\u200b\u901a\u4fe1\u200b\u9075\u5b88\u200b\u7684\u200b\u89c4\u5219\u200b\u96c6\u5408\u200b</li> </ul>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_3","title":"\u5177\u4f53\u200b\u6982\u5ff5","text":"<p>\u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b\u662f\u200b\u6307\u200b\u901a\u8fc7\u200b\u901a\u4fe1\u200b\u8bbe\u5907\u200b\u548c\u200b\u901a\u4fe1\u200b\u4ecb\u8d28\u200b\u5c06\u200b\u591a\u53f0\u8ba1\u7b97\u673a\u200b\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\uff0c\u200b\u4f7f\u200b\u5b83\u4eec\u200b\u80fd\u591f\u200b\u76f8\u4e92\u200b\u4f20\u8f93\u6570\u636e\u200b\u548c\u200b\u5171\u4eab\u8d44\u6e90\u200b\u7684\u200b\u7cfb\u7edf\u200b</p> <p>\u200b\u4e92\u8054\u7f51\u200b\u662f\u200b\u6307\u200b\u5168\u7403\u200b\u8303\u56f4\u200b\u5185\u200b\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u7684\u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b\u7684\u200b\u603b\u79f0\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_4","title":"\u7f51\u7edc\u200b\u8fb9\u7f18","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_5","title":"\u7f51\u7edc\u7ed3\u6784","text":"<p>\u200b\u7f51\u7edc\u200b\u8fb9\u7f18\u200b</p> <ul> <li>\u200b\u4e3b\u673a\u200b\u53ca\u200b\u5e94\u7528\u7a0b\u5e8f\u200b</li> </ul> <p>\u200b\u7f51\u7edc\u200b\u6838\u5fc3\u200b</p> <ul> <li>\u200b\u4e92\u8fde\u200b\u7740\u200b\u7684\u200b\u8def\u7531\u5668\u200b</li> </ul> <p>\u200b\u63a5\u5165\u7f51\u200b\u3001\u200b\u7269\u7406\u200b\u5a92\u4f53\u200b</p> <ul> <li>\u200b\u6709\u7ebf\u200b\u6216\u8005\u200b\u65e0\u7ebf\u901a\u4fe1\u200b\u94fe\u8def\u200b</li> </ul>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_6","title":"\u7f51\u7edc\u200b\u8fb9\u7f18\u200b\u6982\u8ff0","text":"<p>\u200b\u4e3b\u673a\u200b\u53ca\u5176\u200b\u4e0a\u200b\u8fd0\u884c\u200b\u7684\u200b\u5e94\u7528\u7a0b\u5e8f\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_7","title":"\u7f51\u7edc\u200b\u6838\u5fc3","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_8","title":"\u6982\u8ff0","text":"<p>\u200b\u8def\u7531\u5668\u200b\u7684\u200b\u7f51\u7edc\u200b\uff0c\u200b\u8fde\u63a5\u200b\u7740\u200b\u7684\u200b\u8def\u7531\u5668\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_9","title":"\u6570\u636e\u200b\u4f20\u8f93\u65b9\u5f0f","text":"<p>\u200b\u7535\u8def\u200b\u4ea4\u6362\u200b\uff1a\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u547c\u53eb\u200b\u9884\u7559\u200b\u4e00\u6761\u200b\u4e13\u6709\u200b\u94fe\u8def\u200b\uff0c\u200b\u5982\u200b\u7535\u8bdd\u7f51\u200b</p> <p>\u200b\u5206\u7ec4\u200b\u4ea4\u6362\u200b\uff1a</p> <ul> <li>\u200b\u5c06\u8981\u200b\u4f20\u8f93\u200b\u7684\u200b\u6570\u636e\u200b\u5206\u6210\u200b\u4e00\u4e2a\u4e2a\u200b\u5355\u4f4d\u200b\uff0c\u200b\u5206\u7ec4\u200b</li> <li>\u200b\u5c06\u200b\u5206\u7ec4\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u8def\u7531\u200b\u4f20\u8f93\u200b\u5230\u200b\u76f8\u90bb\u200b\u7684\u200b\u8def\u7531\u5668\u200b\uff0c\u200b\u4e00\u6bb5\u6bb5\u200b\u6700\u7ec8\u200b\u4ece\u6e90\u7aef\u200b\u4f20\u5230\u200b\u76ee\u7684\u200b\u7aef\u200b</li> <li>\u200b\u6bcf\u200b\u6bb5\u200b\u91c7\u7528\u200b\u94fe\u8def\u200b\u4f20\u8f93\u200b\u6700\u5927\u200b\u80fd\u529b\u200b</li> </ul>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_10","title":"\u7535\u8def\u200b\u547c\u53eb","text":"<p>\u200b\u5efa\u7acb\u200b\u547c\u53eb\u200b\u8fde\u63a5\u200b\u3001\u200b\u8d44\u6e90\u200b\u72ec\u4eab\u200b\uff08\u200b\u94fe\u8def\u200b\u4e0d\u200b\u5171\u7528\u200b\uff09\u3001\u200b\u5982\u679c\u200b\u547c\u53eb\u200b\u6ca1\u6709\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\uff0c\u200b\u88ab\u200b\u5206\u914d\u200b\u7684\u200b\u8d44\u6e90\u200b\u5c31\u200b\u4f1a\u200b\u6d6a\u8d39\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_11","title":"\u5206\u7247","text":"<p>\u200b\u5c06\u200b\u5e26\u5bbd\u200b\u5206\u6210\u200b\u7247\u200b\uff1a\u200b\u9891\u5206\u200bfdm\u3001\u200b\u65f6\u5206\u200btdm\u3001\u200b\u6ce2\u5206\u200bwdm</p> <p></p> <p>\u200b\u6ce2\u5206\u200b\uff1a\u200b\u91c7\u7528\u200b\u5149\u7ea4\u901a\u4fe1\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7528\u6237\u200b\u91c7\u7528\u200b\u7684\u200b\u5c0f\u200b\u6ce2\u6bb5\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_12","title":"\u7535\u8def\u200b\u4ea4\u6362\u200b\u4e0d\u200b\u9002\u5408\u200b\u8ba1\u7b97\u673a\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1","text":"<ul> <li>\u200b\u8fde\u63a5\u200b\u5efa\u7acb\u200b\u65f6\u95f4\u200b\u957f\u200b</li> <li>\u200b\u8ba1\u7b97\u673a\u200b\u4e4b\u95f4\u200b\u901a\u4fe1\u200b\u5177\u6709\u200b\u7a81\u53d1\u6027\u200b\uff0c\u200b\u4f7f\u7528\u200b\u7535\u8def\u200b\u4ea4\u6362\u200b\u6d6a\u8d39\u8d44\u6e90\u200b\u6bd4\u8f83\u200b\u591a\u200b</li> <li>\u200b\u53ef\u9760\u6027\u200b\u4e0d\u9ad8\u200b</li> </ul>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_13","title":"\u5206\u7ec4\u200b\u4ea4\u6362","text":"<ul> <li>\u200b\u4ee5\u200b\u5206\u7ec4\u200b\u4e3a\u200b\u5355\u4f4d\u200b\u5b58\u50a8\u8f6c\u53d1\u200b</li> <li>\u200b\u8f6c\u53d1\u200b\u4e4b\u524d\u200b\uff0c\u200b\u8282\u70b9\u200b\u5fc5\u987b\u200b\u6536\u5230\u200b\u6574\u4e2a\u200b\u5206\u7ec4\u200b</li> <li>\u200b\u4f1a\u200b\u6709\u200b\u6392\u961f\u200b\u65f6\u95f4\u200b</li> <li>\u200b\u8d44\u6e90\u5171\u4eab\u200b\u3001\u200b\u6309\u200b\u9700\u200b\u4f7f\u7528\u200b</li> </ul> <p>\u200b\u8def\u7531\u200b: \u200b\u51b3\u5b9a\u200b\u5206\u7ec4\u200b\u91c7\u7528\u200b\u7684\u200b\u6e90\u200b\u5230\u200b\u76ee\u6807\u200b\u7684\u200b\u8def\u5f84\u200b</p> <p>\u200b\u8f6c\u53d1\u200b: \u200b\u5c06\u200b\u5206\u7ec4\u200b\u4ece\u200b\u8def\u7531\u5668\u200b\u7684\u200b\u8f93\u5165\u200b\u94fe\u8def\u200b\u8f6c\u79fb\u200b\u5230\u200b\u8f93\u51fa\u200b\u94fe\u8def\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#2","title":"2\u200b\u79cd\u200b\u65b9\u5f0f","text":"<p>\u200b\u5206\u7ec4\u200b\u4ea4\u6362\u200b: \u200b\u5206\u7ec4\u200b\u7684\u200b\u5b58\u50a8\u8f6c\u53d1\u200b\u4e00\u6bb5\u200b\u4e00\u6bb5\u200b\u4ece\u6e90\u7aef\u200b\u4f20\u5230\u200b\u76ee\u6807\u200b\u7aef\u200b \uff0c\u200b\u6309\u7167\u200b\u6709\u65e0\u200b\u7f51\u7edc\u5c42\u200b\u7684\u200b\u8fde\u63a5\u200b\uff0c\u200b\u5206\u6210\u200b\u6570\u636e\u200b\u62a5\u200b\u7f51\u7edc\u200b\u548c\u200b\u865a\u200b\u7535\u8def\u200b\u7f51\u7edc\u200b</p> <p>\u200b\u6570\u636e\u200b\u62a5\u200b\u7f51\u7edc\u200b</p> <ul> <li>\u200b\u5206\u7ec4\u200b\u7684\u200b\u76ee\u6807\u200b\u5730\u5740\u200b\u51b3\u5b9a\u200b\u4e0b\u200b\u4e00\u200b\u8df3\u200b</li> <li>\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u9636\u6bb5\u200b\uff0c\u200b\u8def\u7531\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200b</li> </ul> <p>\u200b\u865a\u200b\u7535\u8def\u200b\u7f51\u7edc\u200b</p> <ul> <li>\u200b\u547c\u53eb\u200b\u5efa\u7acb\u200b\u65f6\u200b\u51b3\u5b9a\u200b\u8def\u5f84\u200b\uff0c\u200b\u6574\u4e2a\u200b\u547c\u53eb\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u8def\u5f84\u200b\u4e0d\u53d8\u200b</li> <li>\u200b\u6bcf\u4e2a\u200b\u5206\u7ec4\u200b\u90fd\u200b\u5e26\u200b\u6807\u7b7e\u200b\uff0c\u200b\u6807\u7b7e\u200b\u51b3\u5b9a\u200b\u4e0b\u200b\u4e00\u200b\u8df3\u200b</li> <li>\u200b\u8def\u7531\u5668\u200b\u7ef4\u6301\u200b\u6bcf\u4e2a\u200b\u547c\u53eb\u200b\u7684\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b</li> </ul> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_14","title":"\u63a5\u5165\u7f51\u200b\u548c\u200b\u7269\u7406\u200b\u5a92\u4f53","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_15","title":"\u63a5\u5165\u7f51","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#modem","title":"\u4f4f\u5b85\u200b\u63a5\u5165\u200b:modem","text":"<p>\u200b\u5c06\u200b\u4e0a\u7f51\u200b\u6570\u636e\u200b\u8c03\u5236\u200b\u52a0\u8f7d\u200b\u97f3\u9891\u200b\u4fe1\u53f7\u200b\u4e0a\u200b\uff0c \u200b\u5728\u200b\u7535\u8bdd\u7ebf\u200b\u4e0a\u200b\u4f20\u8f93\u200b\uff0c\u200b\u5728\u200b\u5c40\u7aef\u200b\u5c06\u200b\u5176\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u89e3\u8c03\u200b\u51fa\u6765\u200b;\u200b\u53cd\u4e4b\u4ea6\u7136\u200b</p> <p>\u200b\u4e0a\u7f51\u200b\u548c\u200b\u7535\u8bdd\u200b\u4e0d\u80fd\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#digital-subscriber-line-dsl","title":"\u63a5\u5165\u7f51\u200b: digital subscriber line (DSL)","text":"<p>\u200b\u91c7\u7528\u200b\u73b0\u5b58\u200b\u7684\u200b\u5230\u200b\u4ea4\u6362\u200b\u5c40\u200bDSLAM\u200b\u7684\u200b\u7535\u8bdd\u7ebf\u200b \uff0cDSL\u200b\u7ebf\u8def\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\u88ab\u200b\u4f20\u5230\u200b\u4e92\u8054\u7f51\u200b \uff0cDSL\u200b\u7ebf\u8def\u200b\u4e0a\u200b\u7684\u200b\u8bed\u97f3\u200b\u88ab\u200b\u4f20\u5230\u200b\u7535\u8bdd\u7f51\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_16","title":"\u63a5\u5165\u7f51\u200b \u200b\u7ebf\u7f06\u200b\u7f51\u7edc","text":"<p>\u200b\u5404\u200b\u7528\u6237\u200b\u5171\u4eab\u200b\u5230\u200b\u7ebf\u7f06\u200b\u5934\u200b\u7aef\u7684\u200b\u63a5\u5165\u200b\u7f51\u7edc\u200b</p> <p>\u200b   \u200b\u4e0e\u200bDSL\u200b\u4e0d\u540c\u200b, DSL\u200b\u6bcf\u4e2a\u200b\u7528\u6237\u200b\u4e00\u4e2a\u200b\u4e13\u7528\u7ebf\u8def\u200b\u5230\u200bCO(central office)</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_17","title":"\u4f4f\u5b85\u200b\u63a5\u5165\u200b \u200b\u7535\u7f06","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_18","title":"\u63a5\u5165\u7f51\u200b \u200b\u5bb6\u5ead\u7f51\u7edc","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_19","title":"\u63a5\u5165\u7f51\u200b \u200b\u4f01\u4e1a\u200b\u63a5\u5165","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_20","title":"\u65e0\u7ebf\u200b\u63a5\u5165\u200b\u7f51\u7edc","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_21","title":"\u7269\u7406\u200b\u5a92\u4f53","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_22","title":"\u5bfc\u5f15\u200b\u578b","text":"<p>\u200b\u4fe1\u53f7\u200b\u6cbf\u7740\u200b\u56fa\u4f53\u200b\u5a92\u4ecb\u200b\u88ab\u200b\u5bfc\u5f15\u200b:\u200b\u540c\u8f74\u7535\u7f06\u200b\u3001\u200b\u5149\u7ea4\u200b\u3001 \u200b\u53cc\u7ede\u7ebf\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_23","title":"\u975e\u200b\u5bfc\u5f15\u200b\u578b","text":"<p>\u200b\u5f00\u653e\u200b\u7684\u200b\u7a7a\u95f4\u200b\u4f20\u8f93\u200b\u7535\u78c1\u6ce2\u200b\u6216\u8005\u200b\u5149\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5728\u200b\u7535\u78c1\u200b\u6216\u8005\u200b\u5149\u200b\u4fe1\u53f7\u200b\u4e2d\u200b\u627f\u8f7d\u200b\u6570\u5b57\u200b\u6570\u636e\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#internet-isp","title":"Internet \u200b\u7ed3\u6784\u200b\u548c\u200b isp","text":"<p>\u200b\u7aef\u7cfb\u7edf\u200b\u901a\u8fc7\u200b\u63a5\u5165\u200bISPs (Internet Service Providers)\u200b\u8fde\u200b \u200b\u63a5\u5230\u200b\u4e92\u8054\u7f51\u200b</p> <p>isp\u200b\u4e4b\u95f4\u200b\u901a\u8fc7\u200b ixp \u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#16","title":"1.6\u200b\u5206\u7ec4\u200b\u5ef6\u8fdf\u200b \u200b\u541e\u5410\u91cf","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_24","title":"\u56db\u79cd\u200b\u5ef6\u8fdf","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_25","title":"\u8282\u70b9\u200b\u5904\u7406\u200b\u5ef6\u8fdf","text":"<ul> <li>\u200b\u68c0\u67e5\u200b bit \u200b\u7ea7\u5dee\u200b\u9519\u200b</li> <li>\u200b\u68c0\u67e5\u200b\u5206\u7ec4\u200b\u9996\u90e8\u200b\u548c\u200b\u51b3\u5b9a\u200b\u5c06\u200b\u5206\u7ec4\u200b\u5bfc\u5411\u200b\u4f55\u5904\u200b</li> </ul>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_26","title":"\u6392\u961f\u200b\u5ef6\u8fdf","text":"<p>\u200b\u8f93\u51fa\u200b\u94fe\u8def\u200b\u7b49\u5f85\u200b\u4f20\u8f93\u200b\u7684\u200b\u65f6\u95f4\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_27","title":"\u4f20\u8f93\u200b\u5ef6\u8fdf","text":"<p>\u200b\u5c06\u200b\u5206\u7ec4\u200b\u6253\u200b\u5230\u200b\u94fe\u8def\u200b\u7684\u200b\u5ef6\u8fdf\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_28","title":"\u4f20\u64ad\u200b\u5ef6\u8fdf","text":"<p>\u200b\u5206\u7ec4\u200b\u5728\u200b\u94fe\u8def\u200b\u4e0a\u200b\u7684\u200b\u4f20\u64ad\u200b\u5ef6\u8fdf\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_29","title":"\u6392\u961f\u200b\u5ef6\u65f6","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_30","title":"\u541e\u5410\u91cf","text":"<p>\u200b\u541e\u5410\u91cf\u200b\uff1a\u200b\u5728\u200b\u6e90\u7aef\u200b\u548c\u200b\u76ee\u7aef\u200b\u4f20\u8f93\u200b\u7684\u200b\u901f\u7387\u200b\uff08\u200b\u6570\u636e\u91cf\u200b/\u200b\u5355\u4f4d\u200b\u65f6\u95f4\u200b\uff09</p> <p>\u200b\u77ac\u95f4\u200b\u541e\u5410\u91cf\u200b\uff1a\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u65f6\u523b\u200b\u7684\u200b\u541e\u5410\u91cf\u200b</p> <p>\u200b\u5e73\u5747\u200b\u541e\u5410\u91cf\u200b\uff1a\u200b\u67d0\u4e00\u65f6\u95f4\u200b\u6bb5\u200b\u5185\u200b\u7684\u200b\u5e73\u5747\u200b\u541e\u5410\u91cf\u200b</p> <p>\u200b\u7aef\u5230\u200b\u7aef\u200b\u5e73\u5747\u200b\u541e\u5410\u200b=min{R1\uff0cR2,...,Rn}\uff0c \u200b\u4f9d\u8d56\u200b\u74f6\u9888\u200b\u94fe\u8def\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_31","title":"\u534f\u8bae\u200b\u5c42\u6b21\u200b\u548c\u200b\u7f51\u7edc\u200b\u6a21\u578b","text":""},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_32","title":"\u5206\u5c42\u200b\u5b9e\u73b0","text":"<p>\u200b\u5c06\u200b\u7f51\u7edc\u200b\u590d\u6742\u200b\u7684\u200b\u529f\u80fd\u200b\u5206\u5c42\u200b\u5b9e\u73b0\u200b</p> <p>\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u901a\u8fc7\u200b\u63a5\u53e3\u200b\u4f7f\u7528\u200b\u4e0b\u5c42\u200b\u63d0\u4f9b\u200b\u7684\u200b\u670d\u52a1\u200b\u5b9e\u73b0\u200b\u672c\u5c42\u200b\u534f\u8bae\u200b\uff0c\u200b\u4ece\u800c\u200b\u901a\u8fc7\u200b\u63a5\u53e3\u200b\u4e3a\u200b\u4e0a\u5c42\u200b\u63d0\u4f9b\u200b\u670d\u52a1\u200b</p> <p>\u200b\u670d\u52a1\u200b\uff1a\u200b\u4e0b\u5c42\u200b\u4e3a\u200b\u4e0a\u5c42\u200b\u63d0\u4f9b\u200b\u4ed6\u4eec\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b\u80fd\u529b\u200b</p> <p>\u200b\u670d\u52a1\u200b\u539f\u8bed\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u901a\u4fe1\u200b\u7684\u200b\u57fa\u672c\u64cd\u4f5c\u200b</p> <p>\u200b\u670d\u52a1\u200b\u8bbf\u95ee\u200b\u70b9\u200b\uff1a\u200b\u4e0a\u5c42\u200b\u4f7f\u7528\u200b\u4e0b\u5c42\u200b\u63d0\u4f9b\u200b\u670d\u52a1\u200b\u7684\u200b\u5c42\u63a5\u200b\u7684\u200b\u63a5\u53e3\u200b</p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%E8%AE%A1%E7%AE%97%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/#_33","title":"\u670d\u52a1\u200b\u4e0e\u200b\u534f\u8bae","text":"<p>\u200b\u670d\u52a1\u200b\uff1a\u200b\u4e0b\u5c42\u200b\u4e3a\u200b\u4e0a\u5c42\u200b\u63d0\u4f9b\u200b\u4ed6\u4eec\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b\u80fd\u529b\u200b\uff0c\u200b\u901a\u8fc7\u200b\u539f\u8bed\u200b\u6765\u200b\u64cd\u4f5c\u200b</p> <p>\u200b\u534f\u8bae\u200b\uff1a\u200b\u5bf9\u200b\u7b49\u200b\u5c42\u200b\u5b9e\u4f53\u200b\u901a\u4fe1\u200b\u9075\u5b88\u200b\u7684\u200b\u89c4\u5219\u200b\u96c6\u5408\u200b</p> <p></p>"},{"location":"cs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/a/","title":"A","text":"<p>\u200b\u7f51\u7edc\u5c42\u200b\uff1a \u200b\u673a\u5668\u200b\u5230\u200b\u673a\u5668\u200b</p> <p>\u200b\u4f20\u8f93\u5c42\u200b\uff1a\u200b\u4e0d\u540c\u200b\u4e3b\u673a\u200b\u7684\u200b\u5e94\u7528\u200b\u8fdb\u7a0b\u200b</p> <p>\u200b\u6570\u636e\u200b\u94fe\u8def\u5c42\u200b\uff1a\u200b\u70b9\u5230\u70b9\u200b</p> <p>\u200b\u7269\u7406\u5c42\u200b\uff1a\u200b\u6570\u636e\u4fe1\u53f7\u200b-\u300b\u200b\u7269\u7406\u200b\u4fe1\u53f7\u200b</p> <p>ip \u200b\u5c42\u200b\uff1a\u200b\u8def\u7531\u5668\u200b</p> <p>\u200b\u8def\u7531\u200b\u5c42\u200b\uff1a\u200b\u67e5\u200b\u8def\u7531\u8868\u200b\uff0c\u200b\u67e5\u200b\u5230\u200b\u8f6c\u53d1\u200b\uff0c\u200b\u67e5\u4e0d\u5230\u200b\u8f6c\u200b\u8d70\u200b</p> <p>sdn:</p> <p>\u200b\u6570\u636e\u200b\u5e73\u9762\u200b \u200b\u4ea4\u6362\u673a\u200b</p> <p>\u200b\u63a7\u5236\u200b\u5e73\u9762\u200b\uff1a \u200b\u7f51\u7edc\u64cd\u4f5c\u7cfb\u7edf\u200b</p> <p>\u200b\u534f\u8bae\u200b\uff1a\u200b\u5bf9\u200b\u7b49\u200b\u5c42\u200b\u7684\u200b\u5b9e\u4f53\u200b \u200b\u901a\u4fe1\u200b\u9075\u5b88\u200b\u7684\u200b\u89c4\u5219\u200b\u96c6\u5408\u200b</p> <p>\u200b\u53ef\u9760\u6027\u200b\u4e0d\u9ad8\u200b\uff1f\u200b\u9700\u8981\u200b\u7ef4\u62a4\u200b\u5f88\u591a\u200b\u5bf9\u200b\u4e3b\u673a\u200b\u5173\u7cfb\u200b\u7684\u200b\u7ef4\u62a4\u200b</p> <p>\u200b\u8def\u7531\u8868\u200b\u4e0d\u200b\u7ef4\u62a4\u200b host\u200b\u5230\u200b host \u200b\u5173\u7cfb\u200b</p> <p>\u200b\u865a\u200b\u7535\u8def\u200b\uff1a\u200b\u4f9d\u9760\u200b\u4fe1\u4ee4\u200b</p> <p>isp:\u200b\u4e00\u4e2a\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u7684\u200b\u8bbe\u5907\u200b</p> <p>r = 1mbps</p> <p>1 \u200b\u79d2\u949f\u200b\u53ef\u4ee5\u200b\u6253\u200b 100 0000 \u200b\u4e2a\u200b bit</p> <p>\u200b\u4e0a\u6b21\u200b\u77e5\u9053\u200b\u4e0b\u5c42\u200b\u4f4d\u7f6e\u200b</p> <p>type=ns \u200b\u5b50\u57df\u200b\u7684\u200b\u5730\u5740\u200b</p> <p>\u200b\u6709\u200b\u7f13\u5b58\u200b</p> <p>Gnutella \u200b\u968f\u673a\u200b\u62bd\u53d6\u200b\u6536\u5230\u200b pong \u200b\u547d\u4ee4\u200b \u200b\u4f5c\u4e3a\u200b\u81ea\u5df1\u200b\u7684\u200b\u5bf9\u200b\u7b49\u200b\u65b9\u200b</p> <p>\u200b\u5411\u200b\u81ea\u5df1\u200b\u7684\u200b\u9886\u5c45\u200b \u200b\u6c47\u62a5\u200b\u81ea\u5df1\u200b\u9000\u51fa\u200b</p> <p>\u200b\u96c6\u4e2d\u5f0f\u200b\u76ee\u5f55\u200b</p> <p>\u200b\u5b8c\u5168\u200b\u5206\u5e03\u5f0f\u200b</p> <p>\u200b\u6df7\u5408\u5f0f\u200b</p> <p>BitTorrent\uff1a\u200b\u6df7\u5408\u200b\u72ee\u200b</p> <p>\u200b\u68c0\u7d22\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u83b7\u53d6\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u5173\u8054\u200b\u7684\u200b peer \u200b\u5217\u8868\u200b</p> <p>ip \u200b\u5730\u5740\u200b hash \u200b\u503c\u200b \u200b\u552f\u4e00\u200b id</p> <p>\u200b\u6309\u7167\u200b\u5927\u5c0f\u200b\u6784\u6210\u200b\u6536\u5c3e\u200b\u76f8\u8fde\u200b\u7684\u200b\u73af\u200b</p> <p>\u200b\u5185\u5bb9\u200b\u6309\u7167\u200b\u7ea6\u5b9a\u200b \u200b\u5b58\u50a8\u200b\u5728\u200b\u54ea\u91cc\u200b</p> <pre><code>struct sockaddr_in {\nshort sin_family; //AF_INET \u200b\u5730\u5740\u200b\u7c3f\u200b\nu_short sin_port; // port struct \u200b\u7aef\u53e3\u200b\nin_addr sin_addr ; // IP address, ip\u200b\u5730\u5740\u200b\nunsigned long char sin_zero[8]; // align \u200b\u5730\u5740\u200b\u5bf9\u9f50\u200b\n};\n</code></pre> <pre><code>struct hostent // \u200b\u57df\u540d\u89e3\u6790\u200b\n{\n  char *h_name; // \u200b\u57df\u540d\u200b\n  char **h_aliases; // \u200b\u522b\u540d\u200b\n  int h_addrtype; \n  int h_length; /*\u200b\u5730\u5740\u200b\u957f\u5ea6\u200b*/ \n  char **h_addr_list; // \u200b\u5730\u5740\u200b\u7684\u200b\u94fe\u8868\u200b\n    #define h_addr h_addr_list[0]; \n}\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/","title":"\u5b89\u88c5","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_1","title":"\u6982\u8ff0","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_2","title":"\u6301\u4e45\u200b\u5316","text":"<p>\u200b\u6301\u4e45\u200b\u5316\u200b(persistence): \u200b\u628a\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5230\u200b\u53ef\u200b\u6389\u7535\u200b\u5f0f\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u4e2d\u4ee5\u200b\u4f9b\u200b\u4e4b\u540e\u200b\u4f7f\u7528\u200b</p> <p>\u200b\u6389\u7535\u200b\u8bbe\u5907\u200b\uff1a\u200b\u6570\u636e\u5e93\u200b\u3001\u200b\u6587\u4ef6\u200b\u3001\u200b\u5176\u4ed6\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_3","title":"\u6570\u636e\u5e93\u200b\u6982\u5ff5","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#db","title":"\u6570\u636e\u5e93\u200b db","text":"<p>\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#dbmsdatabase-management-system","title":"DBMS:\u200b\u6570\u636e\u5e93\u200b\u7ba1\u7406\u7cfb\u7edf\u200b(Database Management System)","text":"<p>\u200b\u5bf9\u200b\u6570\u636e\u5e93\u200b\u8fdb\u884c\u200b\u7edf\u4e00\u200b\u7ba1\u7406\u200b\u548c\u200b\u63a7\u5236\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#sqlstructured-query-language","title":"SQL:\u200b\u7ed3\u6784\u5316\u200b\u67e5\u8be2\u8bed\u8a00\u200b(Structured Query Language)","text":"<p>\u200b\u4e13\u95e8\u200b\u7528\u6765\u200b\u4e0e\u200b\u6570\u636e\u5e93\u200b\u901a\u4fe1\u200b\u7684\u200b\u8bed\u8a00\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_4","title":"\u6570\u636e\u5e93\u200b\u5206\u7c7b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_5","title":"\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_6","title":"\u6982\u8ff0","text":"<p>\u200b\u8fd9\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u662f\u200b \u200b\u6700\u200b\u53e4\u8001\u200b \u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u6a21\u578b\u200b\u662f\u200b\u628a\u200b\u590d\u6742\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u5f52\u7ed3\u4e3a\u200b\u7b80\u5355\u200b\u7684\u200b</p> <p>\u200b\u4e8c\u5143\u5173\u7cfb\u200b (\u200b\u5373\u200b\u4e8c\u7ef4\u200b\u8868\u683c\u200b\u5f62\u5f0f\u200b)\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_7","title":"\u4f18\u7f3a\u70b9","text":"<p>\u200b\u590d\u6742\u200b\u67e5\u8be2\u200b \u200b\u53ef\u4ee5\u200b\u7528\u200bSQL\u200b\u8bed\u53e5\u200b\u65b9\u4fbf\u200b\u7684\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8868\u200b\u4ee5\u53ca\u200b\u591a\u4e2a\u200b\u8868\u200b\u4e4b\u95f4\u200b\u505a\u200b\u975e\u5e38\u590d\u6742\u200b\u7684\u200b\u6570\u636e\u200b\u67e5\u8be2\u200b\u3002</p> <p>\u200b\u4e8b\u52a1\u200b\u652f\u6301\u200b \u200b\u4f7f\u5f97\u200b\u5bf9\u4e8e\u200b\u5b89\u5168\u200b\u6027\u80fd\u200b\u5f88\u200b\u9ad8\u200b\u7684\u200b\u6570\u636e\u200b\u8bbf\u95ee\u200b\u8981\u6c42\u200b\u5f97\u4ee5\u200b\u5b9e\u73b0\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_8","title":"\u975e\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93","text":"<p>\u200b\u975e\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u53ef\u200b\u770b\u6210\u200b\u4f20\u7edf\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u529f\u80fd\u200b \u200b\u9609\u5272\u200b\u7248\u672c\u200b \uff0c\u200b\u57fa\u4e8e\u200b\u952e\u503c\u200b\u5bf9\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u7ecf\u8fc7\u200bSQL\u200b\u5c42\u200b</p> <p>\u200b\u7684\u200b\u89e3\u6790\u200b\uff0c \u200b\u6027\u80fd\u200b\u975e\u5e38\u200b\u9ad8\u200b \u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u901a\u8fc7\u200b\u51cf\u5c11\u200b\u4e0d\u200b\u5e38\u7528\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u8fdb\u4e00\u6b65\u63d0\u9ad8\u200b\u6027\u80fd\u200b\u3002</p> <p>\u200b\u952e\u503c\u200b\u6570\u636e\u5e93\u200b</p> <p>\u200b\u6587\u6863\u200b\u6570\u636e\u5e93\u200b</p> <p>\u200b\u641c\u7d22\u5f15\u64ce\u200b\u6570\u636e\u5e93\u200b</p> <p>\u200b\u5217\u5f0f\u200b\u6570\u636e\u5e93\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_9","title":"\u5b89\u88c5","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#mac","title":"mac","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_10","title":"\u5b89\u88c5","text":"<p>\u200b\u5b98\u7f51\u200b\uff1ahttps://dev.mysql.com/downloads/mysql/</p> <p></p> <p>\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p> <p>\u200b\u8fd9\u91cc\u200b\u9009\u62e9\u200b5.x\u200b\u52a0\u5bc6\u200b</p> <p></p> <p>\u200b\u8bbe\u7f6e\u200broot\u200b\u5bc6\u7801\u200b</p> <p></p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_11","title":"\u542f\u52a8","text":"<p>\u200b\u5728\u200b\u7cfb\u7edf\u200b\u504f\u597d\u200b\u8bbe\u7f6e\u200b\u91cc\u200b\u542f\u52a8\u200b\u6216\u8005\u200b\u5173\u95ed\u200b\u670d\u52a1\u200b</p> <p></p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_12","title":"\u914d\u7f6e","text":"<pre><code>vim .zshrc\n</code></pre> <pre><code># mysql\n\nPATH=$PATH:/usr/local/mysql/bin\nexport PATH\n</code></pre> <pre><code>mysql -h \u200b\u4e3b\u673a\u540d\u200b -P \u200b\u7aef\u53e3\u53f7\u200b -u \u200b\u7528\u6237\u540d\u200b -p\u200b\u5bc6\u7801\u200b\n</code></pre> <pre><code>mysql -h localhost -P 3306 -u root -prootroot\n\n\nmysql -u root -prootroot\n\n\nexit\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_13","title":"\u9ed8\u8ba4\u200b\u7684\u200b\u5e93\u200b\u4ecb\u7ecd","text":"<p>\u201cinformation_schema\u201d\u200b\u662f\u200b MySQL \u200b\u7cfb\u7edf\u200b\u81ea\u5e26\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u4e3b\u8981\u200b\u4fdd\u5b58\u200b MySQL \u200b\u6570\u636e\u5e93\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7cfb\u7edf\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u540d\u79f0\u200b\u3001\u200b\u6570\u636e\u8868\u200b\u7684\u200b\u540d\u79f0\u200b\u3001\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b\u3001\u200b\u5b58\u53d6\u200b\u6743\u9650\u200b\u3001\u200b\u6570\u636e\u6587\u4ef6\u200b \u200b\u6240\u5728\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u548c\u200b\u7cfb\u7edf\u200b\u4f7f\u7528\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u7b49\u7b49\u200b</p> <p>\u201cperformance_schema\u201d\u200b\u662f\u200b MySQL \u200b\u7cfb\u7edf\u200b\u81ea\u5e26\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u76d1\u63a7\u200b MySQL \u200b\u7684\u200b\u5404\u7c7b\u200b\u6027\u80fd\u6307\u6807\u200b\u3002 </p> <p>\u201csys\u201d\u200b\u6570\u636e\u5e93\u200b\u662f\u200b MySQL \u200b\u7cfb\u7edf\u200b\u81ea\u5e26\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u4e3b\u8981\u200b\u4f5c\u7528\u200b\u662f\u200b\u4ee5\u200b\u4e00\u79cd\u200b\u66f4\u200b\u5bb9\u6613\u200b\u88ab\u200b\u7406\u89e3\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5c55\u793a\u200b MySQL \u200b\u6570\u636e\u5e93\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5404\u7c7b\u200b\u6027\u80fd\u6307\u6807\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u7cfb\u7edf\u7ba1\u7406\u5458\u200b\u548c\u200b\u5f00\u53d1\u4eba\u5458\u200b\u76d1\u63a7\u200b MySQL \u200b\u7684\u200b\u6280\u672f\u200b\u6027\u80fd\u200b\u3002</p> <p>\u201cmysql\u201d\u200b\u6570\u636e\u5e93\u200b\u4fdd\u5b58\u200b\u4e86\u200b MySQL \u200b\u6570\u636e\u5e93\u200b\u670d\u52a1\u5668\u200b\u8fd0\u884c\u200b\u65f6\u200b\u9700\u8981\u200b\u7684\u200b\u7cfb\u7edf\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6570\u636e\u200b\u6587\u4ef6\u5939\u200b\u3001\u200b\u5f53\u524d\u200b\u4f7f\u7528\u200b\u7684\u200b\u5b57\u7b26\u96c6\u200b\u3001\u200b\u7ea6\u675f\u200b\u68c0\u67e5\u200b\u4fe1\u606f\u200b\uff0c\u200b\u7b49\u7b49\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/0-init/#_14","title":"\u7f16\u7801","text":"<pre><code> show variables like 'character_%';\n\n show variables like 'collation_%';\n</code></pre> <p>mysql8.0\u200b\u4ee5\u4e0a\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u91c7\u7528\u200butf8</p> <p></p> <p>\u200b\u5982\u679c\u200b\u4e0d\u662f\u200b8.0</p> <p>\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u4e0b\u9762\u200b\u6587\u7ae0\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b</p> <p>Mac MySql - \u200b\u67e5\u770b\u200b\u4ee5\u53ca\u200b\u4fee\u6539\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b - \u200b\u6398\u91d1\u200b</p> <pre><code>\u200b\u767b\u5f55\u200b - MySQL\u200b\u5185\u90e8\u200b\nmysql -u root -p\n\nMySQL\u200b\u5185\u90e8\u200b - \u200b\u67e5\u770b\u200b\u6570\u636e\u5e93\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b \uff08\u200b\u63a8\u8350\u200b\u7528\u200b\u8fd9\u4e2a\u200b\uff0c\u200b\u6211\u7528\u200b\u7684\u200b\u8fd9\u4e2a\u200b\uff01\uff09\nshow variables like 'character%';\n\nMySQL\u200b\u5185\u90e8\u200b - \u200b\u67e5\u770b\u200b\u6570\u636e\u5e93\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b \uff08\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b\u6570\u636e\u5e93\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b\uff09\nshow variables like \u2018collation%\u2019;\n</code></pre> <ul> <li> <p><code>character_set_database</code> \u200b\u548c\u200b <code>character_set_server</code> \u200b\u662f\u200b <code>latin1</code> \u200b\u7684\u200b\u5b57\u7b26\u96c6\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b <code>mysql</code> \u200b\u540e\u7eed\u200b\u521b\u5efa\u200b\u7684\u200b\u8868\u200b\u90fd\u200b\u662f\u200b <code>latin1</code> \u200b\u5b57\u7b26\u96c6\u200b\u7684\u200b\uff0c\u200b\u4e0d\u662f\u200b <code>utf8</code>\uff0c\u200b\u4f1a\u200b\u9020\u6210\u200b\u4e00\u4e9b\u200b\u9ebb\u70e6\u200b\u3002</p> </li> <li> <p>\u200b\u4ece\u200b\u4ee5\u4e0a\u200b\u4fe1\u606f\u200b\u53ef\u77e5\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u7f16\u7801\u200b\u4e3a\u200b <code>latin1</code>\uff0c\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u4e3a\u200b <code>gbk</code> \u200b\u6216\u8005\u200b\u662f\u200b <code>utf8</code> \uff1b</p> </li> <li> <p><code>character_set_client</code>\uff1a\u200b\u4e3a\u200b\u5ba2\u6237\u7aef\u200b\u7f16\u7801\u65b9\u5f0f\u200b\uff1b</p> </li> <li><code>character_set_connection</code>\uff1a\u200b\u4e3a\u200b\u5efa\u7acb\u200b\u8fde\u63a5\u200b\u4f7f\u7528\u200b\u7684\u200b\u7f16\u7801\u200b\uff1b</li> <li><code>character_set_database</code>\uff1a\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u7f16\u7801\u200b\uff1b</li> <li><code>character_set_results</code>\uff1a\u200b\u7ed3\u679c\u200b\u96c6\u200b\u7684\u200b\u7f16\u7801\u200b\uff1b</li> <li><code>character_set_server</code>\uff1a\u200b\u6570\u636e\u5e93\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u7f16\u7801\u200b\uff1b</li> <li>\u200b\u53ea\u8981\u200b\u4fdd\u8bc1\u200b\u4ee5\u4e0a\u200b\u4e94\u4e2a\u200b\u91c7\u7528\u200b\u7684\u200b\u7f16\u7801\u65b9\u5f0f\u200b\u4e00\u6837\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u4e71\u7801\u200b\u95ee\u9898\u200b\u3002</li> </ul> <p>\u200b\u60f3\u8981\u200b\u4fee\u6539\u200b\u7f16\u7801\u200b, \u200b\u5c31\u200b\u9700\u8981\u200b\u4fee\u6539\u200b <code>mysql</code> \u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b <code>my.cnf</code>\u3002</p> <p>\u200b\u91cd\u8981\u200b\u95ee\u9898\u200b\uff1a\u200b\u5728\u200b\u4fee\u6539\u200b <code>my.cnf</code> \u200b\u4e4b\u524d\u200b\u4e00\u5b9a\u200b\u8981\u200b\u5173\u95ed\u200b <code>mysql</code> \u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5173\u95ed\u200b <code>mysql</code>\uff0c\u200b\u4e0d\u7136\u200b\u4f1a\u200b\u9047\u5230\u200b <code>mysql</code> \u200b\u7684\u200b <code>sock</code> \u200b\u4e0d\u80fd\u200b\u8fde\u63a5\u200b\u7684\u200b\u95ee\u9898\u200b!</p> <p>\u200b\u627e\u5230\u200b\u4e0b\u9762\u200b\u8def\u5f84\u200b</p> <pre><code>/usr/local/mysql/support-files\n</code></pre> <p>\u200b\u5728\u200b\u6587\u4ef6\u5939\u200b\u91cc\u9762\u200b\u627e\u5230\u200b <code>my-default.cnf</code> \u200b\u6216\u8005\u200b <code>my-default</code> \u200b\u7684\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u5c06\u200b\u5176\u200b\u590d\u5236\u5230\u200b\u684c\u9762\u4e0a\u200b\uff0c\u200b\u6539\u540d\u200b\u4e3a\u200b <code>my.cnf</code>\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\uff0c\u200b\u76f4\u63a5\u200b\u684c\u9762\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6587\u4ef6\u200b\u6539\u4e3a\u200b <code>my.cnf</code></p> <pre><code>[mysqld]\ndefault-storage-engine=INNODB\ncharacter-set-server=utf8\nport = 3306\n\n[client]\ndefault-character-set=utf8\n</code></pre> <p>\u200b\u4fdd\u5b58\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u627e\u5230\u200b <code>/etc</code> \u200b\u8def\u5f84\u200b, \u200b\u5c06\u200b <code>my.cnf</code> \u200b\u590d\u5236\u200b\u8d34\u200b\u8d34\u200b\u5230\u200b <code>/etc</code> \u200b\u8fd9\u4e2a\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u3002\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u5feb\u6377\u952e\u200b <code>command + shift + G</code> \u200b\u524d\u9762\u200b\u6587\u4ef6\u200b:</p> <p>\u200b\u91cd\u542f\u200b\u7535\u8111\u200b\u67e5\u770b\u200bmysql\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b</p> <p>command + shift + G\uff1a\u200b\u79fb\u52a8\u200b\u6587\u4ef6\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/","title":"1-\u200b\u57fa\u7840","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#sql","title":"sql\u200b\u4ecb\u7ecd","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#sql_1","title":"sql\u200b\u5206\u7c7b","text":"<p>SQL\u200b\u8bed\u8a00\u200b\u5728\u200b\u529f\u80fd\u200b\u4e0a\u200b\u4e3b\u8981\u200b\u5206\u4e3a\u200b\u5982\u4e0b\u200b3\u200b\u5927\u200b\u7c7b\u200b:</p> <p>DDL(Data Definition Languages\u3001\u200b\u6570\u636e\u200b\u5b9a\u4e49\u8bed\u8a00\u200b)\uff0c\u200b\u8fd9\u4e9b\u200b\u8bed\u53e5\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u3001\u200b\u8868\u200b\u3001\u200b\u89c6\u56fe\u200b\u3001\u200b\u7d22\u200b \u200b\u5f15\u7b49\u200b\u6570\u636e\u5e93\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u521b\u5efa\u200b\u3001\u200b\u5220\u9664\u200b\u3001\u200b\u4fee\u6539\u200b\u6570\u636e\u5e93\u200b\u548c\u200b\u6570\u636e\u8868\u200b\u7684\u200b\u7ed3\u6784\u200b\u3002</p> <p>\u200b\u4e3b\u8981\u200b\u7684\u200b\u8bed\u53e5\u200b\u5173\u952e\u5b57\u200b\u5305\u62ec\u200b CREATE \u3001 DROP \u3001 ALTER \u200b\u7b49\u200b\u3002</p> <p>DML(Data Manipulation Language\u3001\u200b\u6570\u636e\u200b\u64cd\u4f5c\u200b\u8bed\u8a00\u200b)\uff0c\u200b\u7528\u4e8e\u200b\u6dfb\u52a0\u200b\u3001\u200b\u5220\u9664\u200b\u3001\u200b\u66f4\u65b0\u200b\u548c\u200b\u67e5\u8be2\u6570\u636e\u5e93\u200b\u8bb0\u200b \u200b\u5f55\u200b\uff0c\u200b\u5e76\u200b\u68c0\u67e5\u200b\u6570\u636e\u5b8c\u6574\u6027\u200b\u3002</p> <p>\u200b\u4e3b\u8981\u200b\u7684\u200b\u8bed\u53e5\u200b\u5173\u952e\u5b57\u200b\u5305\u62ec\u200b INSERT \u3001 DELETE \u3001 UPDATE \u3001 SELECT \u200b\u7b49\u200b\u3002</p> <p>SELECT\u200b\u662f\u200bSQL\u200b\u8bed\u8a00\u200b\u7684\u200b\u57fa\u7840\u200b\uff0c\u200b\u6700\u4e3a\u200b\u91cd\u8981\u200b\u3002 ** DCL(Data Control Language\u3001\u200b\u6570\u636e\u200b\u63a7\u5236\u200b\u8bed\u8a00\u200b)**\uff0c\u200b\u7528\u4e8e\u200b\u5b9a\u4e49\u200b\u6570\u636e\u5e93\u200b\u3001\u200b\u8868\u200b\u3001\u200b\u5b57\u200b\u6bb5\u200b\u3001\u200b\u7528\u6237\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u548c\u200b \u200b\u5b89\u5168\u7ea7\u522b\u200b\u3002</p> <p>\u200b\u4e3b\u8981\u200b\u7684\u200b\u8bed\u53e5\u200b\u5173\u952e\u5b57\u200b\u5305\u62ec\u200b GRANT \u3001 REVOKE \u3001 COMMIT \u3001 ROLLBACK \u3001 SAVEPOINT \u200b\u7b49\u200b\u3002</p> <p>\u200b\u56e0\u4e3a\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u4f7f\u7528\u200b\u7684\u200b\u975e\u5e38\u200b\u7684\u200b\u9891\u7e41\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5f88\u591a\u200b\u4eba\u200b\u628a\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u5355\u200b\u62ce\u200b\u51fa\u6765\u200b\u4e00\u7c7b\u200b:DQL(\u200b\u6570\u636e\u200b\u67e5\u8be2\u8bed\u8a00\u200b)\u3002</p> <p>\u200b\u8fd8\u6709\u200b\u5355\u72ec\u200b\u5c06\u200b COMMIT \u3001 ROLLBACK \u200b\u53d6\u51fa\u200b\u6765\u200b\u79f0\u4e3a\u200bTCL (Transaction Control Language\uff0c\u200b\u4e8b\u52a1\u200b\u63a7\u5236\u200b\u8bed\u8a00\u200b)\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_1","title":"\u89c4\u8303","text":"<p>\u200b\u5fc5\u987b\u200b\u4f7f\u7528\u200b\u82f1\u6587\u200b\u72b6\u6001\u200b\u4e0b\u200b\u7684\u200b\u534a\u89d2\u200b\u8f93\u5165\u200b\u65b9\u5f0f\u200b </p> <p>\u200b\u5b57\u7b26\u4e32\u200b\u578b\u200b\u548c\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5355\u5f15\u53f7\u200b(' ')\u200b\u8868\u793a\u200b </p> <p>\u200b\u5217\u200b\u7684\u200b\u522b\u540d\u200b\uff0c\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u53cc\u5f15\u53f7\u200b(\" \")\uff0c\u200b\u800c\u4e14\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u7701\u7565\u200bas</p> <p>\u200b\u6570\u636e\u5e93\u200b\u540d\u200b\u3001\u200b\u8868\u540d\u200b\u3001\u200b\u8868\u200b\u522b\u540d\u200b\u3001\u200b\u5b57\u6bb5\u540d\u200b\u3001\u200b\u5b57\u200b\u6bb5\u200b\u522b\u540d\u200b\u7b49\u200b\u90fd\u200b\u5c0f\u5199\u200b </p> <p>SQL \u200b\u5173\u952e\u5b57\u200b\u3001\u200b\u51fd\u6570\u200b\u540d\u200b\u3001\u200b\u7ed1\u5b9a\u200b\u53d8\u91cf\u200b\u7b49\u200b\u90fd\u200b\u5927\u5199\u200b</p> <p>\u200b\u5355\u884c\u200b\u6ce8\u91ca\u200b: #\u200b\u6ce8\u91ca\u200b\u6587\u5b57\u200b(MySQL\u200b\u7279\u6709\u200b\u7684\u200b\u65b9\u5f0f\u200b) </p> <p>\u200b\u5355\u884c\u200b\u6ce8\u91ca\u200b:-- \u200b\u6ce8\u91ca\u200b\u6587\u5b57\u200b(--\u200b\u540e\u9762\u200b\u5fc5\u987b\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\u3002)</p> <p>\u200b\u591a\u884c\u200b\u6ce8\u91ca\u200b:/ \u200b\u6ce8\u91ca\u200b\u6587\u5b57\u200b /</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_2","title":"\u57fa\u7840\u200b\u64cd\u4f5c","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_3","title":"\u5bfc\u5165","text":"<pre><code>source xxx.sql\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_4","title":"\u57fa\u7840\u200b\u67e5\u8be2","text":"<pre><code>SELECT * FROM `user`;\n\nSELECT `name` \nFROM `user`;\n\n# \u200b\u522b\u540d\u200b\nSELECT id, `name` as \"\u200b\u59d3\u540d\u200b\"\nFROM user;\n\n\n# \u200b\u53bb\u200b\u91cd\u200b\nselect DISTINCT id\nfrom `user`;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_5","title":"\u53bb\u200b\u91cd","text":"<p>DISTINCT \u200b\u5176\u5b9e\u200b\u662f\u200b\u5bf9\u200b\u540e\u9762\u200b\u6240\u6709\u200b\u5217\u540d\u200b\u7684\u200b\u7ec4\u5408\u200b\u8fdb\u884c\u200b\u53bb\u200b\u91cd\u200b\uff0c\u200b\u4f60\u200b\u80fd\u200b\u770b\u5230\u200b\u6700\u540e\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b 74 \u200b\u6761\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u200b 74 \u200b\u4e2a\u200ba\u200b\u4e0d\u540c\u200b\uff0c\u200b\u90fd\u200b\u6709\u200b b \u200b\u8fd9\u4e2a\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u8981\u200b\u770b\u200b\u90fd\u200b\u6709\u200b\u54ea\u4e9b\u200b\u4e0d\u540c\u200b\u7684\u200ba\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5199\u200b a\u200b\u5373\u53ef\u200b\uff0c\u200b\u540e\u9762\u200b\u4e0d\u200b\u9700\u8981\u200b\u518d\u200b\u52a0\u200b\u5176\u4ed6\u200b\u7684\u200b\u5217\u540d\u200b\u4e86\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#null","title":"\u7a7a\u503c\u200b null","text":"<p>\u200b\u5728\u200b MySQL \u200b\u91cc\u9762\u200b\uff0c \u200b\u7a7a\u503c\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\u3002\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u662f\u200b 0\uff0c\u200b\u800c\u200b\u4e00\u4e2a\u200b\u7a7a\u503c\u200b\u7684\u200b\u957f\u5ea6\u200b\u662f\u200b\u7a7a\u200b\u3002\u200b\u800c\u4e14\u200b\uff0c\u200b\u5728\u200b MySQL \u200b\u91cc\u9762\u200b\uff0c\u200b\u7a7a\u503c\u200b\u662f\u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b\u7684\u200b\u3002</p> <p>\u200b\u6240\u6709\u200b\u8fd0\u7b97\u7b26\u200b\u6216\u5217\u503c\u200b\u9047\u5230\u200bnull\u200b\u503c\u200b\uff0c\u200b\u8fd0\u7b97\u200b\u7684\u200b\u7ed3\u679c\u200b\u90fd\u200b\u4e3a\u200bnull</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_6","title":"\u53cd\u200b\u5f15\u53f7","text":"<p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4fdd\u8bc1\u200b\u8868\u4e2d\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u3001\u200b\u8868\u540d\u200b\u7b49\u200b\u6ca1\u6709\u200b\u548c\u200b\u4fdd\u7559\u5b57\u200b\u3001\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u6216\u200b\u5e38\u7528\u200b\u65b9\u6cd5\u200b\u51b2\u7a81\u200b\u3002\u200b\u5982\u679c\u200b\u771f\u7684\u200b\u76f8\u540c\u200b\uff0c\u200b\u8bf7\u200b\u5728\u200b</p> <p>SQL\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e00\u5bf9\u200b``(\u200b\u7740\u91cd\u53f7\u200b)\u200b\u5f15\u8d77\u200b\u6765\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_7","title":"\u5e38\u6570\u200b\u5217","text":"<pre><code>SELECT id, `name`, 'matt'\nFROM `user`\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#desc","title":"desc","text":"<pre><code>desc user;\n</code></pre> <ul> <li>Field:\u200b\u8868\u793a\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b\u3002</li> <li>Type:\u200b\u8868\u793a\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8fd9\u91cc\u200b barcode\u3001goodsname \u200b\u662f\u200b\u6587\u672c\u200b\u578b\u200b\u7684\u200b\uff0cprice \u200b\u662f\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b\u7684\u200b\u3002 </li> <li>Null:\u200b\u8868\u793a\u200b\u8be5\u5217\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200bNULL\u200b\u503c\u200b\u3002 </li> <li>Key:\u200b\u8868\u793a\u200b\u8be5\u5217\u200b\u662f\u5426\u200b\u5df2\u200b\u7f16\u5236\u200b\u7d22\u5f15\u200b\u3002PRI\u200b\u8868\u793a\u200b\u8be5\u5217\u200b\u662f\u200b\u8868\u200b\u4e3b\u952e\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b;UNI\u200b\u8868\u793a\u200b\u8be5\u5217\u200b\u662f\u200bUNIQUE\u200b\u7d22\u5f15\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b;MUL\u200b\u8868\u793a\u200b\u5728\u200b\u5217\u4e2d\u200b\u67d0\u4e2a\u200b\u7ed9\u5b9a\u200b\u503c\u200b\u5141\u8bb8\u200b\u51fa\u73b0\u200b\u591a\u6b21\u200b\u3002 </li> <li>Default:\u200b\u8868\u793a\u200b\u8be5\u5217\u200b\u662f\u5426\u200b\u6709\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\uff0c\u200b\u90a3\u4e48\u200b\u503c\u200b\u662f\u200b\u591a\u5c11\u200b\u3002</li> <li>Extra:\u200b\u8868\u793a\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u7684\u200b\u4e0e\u200b\u7ed9\u5b9a\u200b\u5217\u200b\u6709\u5173\u200b\u7684\u200b\u9644\u52a0\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f8b\u5982\u200bAUTO_INCREMENT\u200b\u7b49\u200b\u3002</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_8","title":"\u8fd0\u7b97\u7b26","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_9","title":"\u7b97\u6570\u200b\u8fd0\u7b97\u7b26","text":"<pre><code>+ - * / % \n</code></pre> <p>\u200b\u5728\u200bJava\u200b\u4e2d\u200b\uff0c+\u200b\u7684\u200b\u5de6\u53f3\u200b\u4e24\u8fb9\u200b\u5982\u679c\u200b\u6709\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8868\u793a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u62fc\u63a5\u200b\u3002\u200b\u4f46\u662f\u200b\u5728\u200bMySQL\u200b\u4e2d\u200b+\u200b\u53ea\u200b\u8868\u793a\u200b\u6570\u200b \u200b\u503c\u200b\u76f8\u52a0\u200b\u3002\u200b\u5982\u679c\u200b\u9047\u5230\u200b\u975e\u200b\u6570\u503c\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5148\u200b\u5c1d\u8bd5\u200b\u8f6c\u200b\u6210\u200b\u6570\u503c\u200b\uff0c\u200b\u5982\u679c\u200b\u8f6c\u200b\u5931\u8d25\u200b\uff0c\u200b\u5c31\u200b\u6309\u200b0\u200b\u8ba1\u7b97\u200b\u3002(\u200b\u8865\u5145\u200b:MySQL \u200b\u4e2d\u200b\u5b57\u7b26\u4e32\u200b\u62fc\u63a5\u200b\u8981\u200b\u4f7f\u7528\u200b\u5b57\u7b26\u4e32\u200b\u51fd\u6570\u200bCONCAT()\u200b\u5b9e\u73b0\u200b)</p> <p>\u200b\u4e00\u4e2a\u200b\u6570\u200b\u9664\u4ee5\u200b\u6574\u6570\u200b\u540e\u200b\uff0c\u200b\u4e0d\u7ba1\u200b\u662f\u5426\u200b\u80fd\u200b\u9664\u5c3d\u200b\uff0c\u200b\u7ed3\u679c\u200b\u90fd\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6d6e\u70b9\u6570\u200b; \u200b\u4e00\u4e2a\u200b\u6570\u200b\u9664\u4ee5\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u6570\u200b\uff0c\u200b\u9664\u4e0d\u5c3d\u200b\u65f6\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u6d6e\u70b9\u6570\u200b\uff0c\u200b\u5e76\u200b\u4fdd\u7559\u200b\u5230\u200b\u5c0f\u6570\u70b9\u200b\u540e\u200b4\u200b\u4f4d\u200b;</p> <p>\u200b\u5728\u200b\u6570\u5b66\u200b\u8fd0\u7b97\u200b\u4e2d\u200b\uff0c0\u200b\u4e0d\u80fd\u200b\u7528\u4f5c\u200b\u9664\u6570\u200b\uff0c\u200b\u5728\u200bMySQL\u200b\u4e2d\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u6570\u200b\u9664\u4ee5\u200b0\u200b\u4e3a\u200bNULL\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_10","title":"\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26","text":"<pre><code>&gt;\n&gt;=\n&lt;\n&lt;=\n!=\n\n=\n\n# \u200b\u4e0d\u200b\u7b49\u4e8e\u200b\n&lt;&gt;\n# \u200b\u5b89\u5168\u200b\u7b49\u4e8e\u200b\n&lt;=&gt;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_11","title":"\u7b49\u200b\u53f7","text":"<p>\u200b\u5982\u679c\u200b\u7b49\u200b\u53f7\u200b\u4e24\u8fb9\u200b\u7684\u200b\u503c\u200b\u3001\u200b\u5b57\u7b26\u4e32\u200b\u6216\u200b\u8868\u8fbe\u5f0f\u200b\u90fd\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5219\u200bMySQL\u200b\u4f1a\u200b\u6309\u7167\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u5176\u200b\u6bd4\u8f83\u200b\u7684\u200b \u200b\u662f\u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u5b57\u7b26\u200b\u7684\u200bANSI\u200b\u7f16\u7801\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u7b49\u200b\u53f7\u200b\u4e24\u8fb9\u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u662f\u200b\u6574\u6570\u200b\uff0c\u200b\u5219\u200bMySQL\u200b\u4f1a\u200b\u6309\u7167\u200b\u6574\u6570\u200b\u6765\u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u503c\u200b\u7684\u200b\u5927\u5c0f\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u7b49\u200b\u53f7\u200b\u4e24\u8fb9\u200b\u7684\u200b\u503c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u6574\u6570\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5219\u200bMySQL\u200b\u4f1a\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u6570\u5b57\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u3002 </p> <p>\u200b\u5982\u679c\u200b\u7b49\u200b\u53f7\u200b\u4e24\u8fb9\u200b\u7684\u200b\u503c\u200b\u3001\u200b\u5b57\u7b26\u4e32\u200b\u6216\u200b\u8868\u8fbe\u5f0f\u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b\u4e3a\u200bNULL\uff0c\u200b\u5219\u200b\u6bd4\u8f83\u200b\u7ed3\u679c\u200b\u4e3a\u200bNULL\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#null_1","title":"null","text":"<pre><code>SELECT 1 is NULL, 1 is NOT NULL\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#least-greatest","title":"least greatest","text":"<p>\u200b\u6700\u5c0f\u503c\u200b \u200b\u6700\u5927\u503c\u200b</p> <pre><code>SELECT LEAST(1,2), GREATEST(1, 2)\n</code></pre> <p>\u200b\u53c2\u6570\u200b\u662f\u200b\u6574\u6570\u200b\u6216\u8005\u200b\u6d6e\u70b9\u6570\u200b\u65f6\u200b\uff0cLEAST\u200b\u5c06\u200b\u8fd4\u56de\u200b\u5176\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b\u503c\u200b;\u200b\u5f53\u200b\u53c2\u6570\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u65f6\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5b57\u200b \u200b\u6bcd\u8868\u4e2d\u200b\u987a\u5e8f\u200b\u6700\u9760\u200b\u524d\u200b\u7684\u200b\u5b57\u7b26\u200b;\u200b\u5f53\u200b\u6bd4\u8f83\u200b\u503c\u200b\u5217\u8868\u200b\u4e2d\u6709\u200bNULL\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5224\u65ad\u200b\u5927\u5c0f\u200b\uff0c\u200b\u8fd4\u56de\u503c\u200b\u4e3a\u200bNULL\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#between-and","title":"between and","text":"<pre><code># 1 &lt;= id &lt;= 3\nSELECT *\nFROM `user`\nWHERE id BETWEEN 1 AND 3\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#in-not-in","title":"in not in","text":"<p>in:\u200b\u5728\u200b</p> <p>not in:\u200b\u4e0d\u200b\u5728\u200b</p> <pre><code>SELECT *\nFROM `user`\nWHERE id in(2, 4)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#like","title":"like","text":"<p>\u200b\u6a21\u7cca\u200b\u5339\u914d\u200b</p> <pre><code>SELECT *\nFROM `user`\nWHERE `name` like '%m%'\n</code></pre> <p>\u201c%\u201d:\u200b\u5339\u914d\u200b0\u200b\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u200b\u3002</p> <p>\u201c_\u201d:\u200b\u53ea\u80fd\u200b\u5339\u914d\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#escape","title":"ESCAPE","text":"<pre><code>SELECT job_id\nFROM jobs\nWHERE job_id LIKE \u2018IT\\_%\u2018;\n</code></pre> <p>\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\\\u200b\u8868\u793a\u200b\u8f6c\u4e49\u200b\uff0c\u200b\u8981\u200b\u7701\u7565\u200bESCAPE\u3002\u200b\u5982\u679c\u200b\u4e0d\u662f\u200b\\\uff0c\u200b\u5219\u200b\u8981\u200b\u52a0\u4e0a\u200bESCAPE\u3002</p> <pre><code>SELECT job_id\nFROM jobs\nWHERE job_id LIKE \u2018IT$_%\u2018 escape \u2018$\u2018;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#regexp","title":"REGEXP\u200b\u8fd0\u7b97\u7b26","text":"<p>\uff081\uff09\u2018^\u2019\u200b\u5339\u914d\u200b\u4ee5\u8be5\u200b\u5b57\u7b26\u200b\u540e\u9762\u200b\u7684\u200b\u5b57\u7b26\u200b\u5f00\u5934\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002 </p> <p>\uff082\uff09\u2018$\u2019\u200b\u5339\u914d\u200b\u4ee5\u8be5\u200b\u5b57\u7b26\u200b\u524d\u9762\u200b\u7684\u200b\u5b57\u7b26\u200b\u7ed3\u5c3e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002 </p> <p>\uff083\uff09\u2018.\u2019\u200b\u5339\u914d\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u5355\u200b\u5b57\u7b26\u200b\u3002 </p> <p>\uff084\uff09\u201c[...]\u201d\u200b\u5339\u914d\u200b\u5728\u200b\u65b9\u62ec\u53f7\u200b\u5185\u200b\u7684\u200b\u4efb\u4f55\u200b\u5b57\u7b26\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u201c[abc]\u201d\u200b\u5339\u914d\u200b\u201ca\u201d\u200b\u6216\u200b\u201cb\u201d\u200b\u6216\u200b\u201cc\u201d\u3002\u200b\u4e3a\u4e86\u200b\u547d\u540d\u200b\u5b57\u7b26\u200b\u7684\u200b\u8303\u56f4\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e00\u200b \u200b\u4e2a\u200b\u2018-\u2019\u3002\u201c[a-z]\u201d\u200b\u5339\u914d\u200b\u4efb\u4f55\u200b\u5b57\u6bcd\u200b\uff0c\u200b\u800c\u200b\u201c[0-9]\u201d\u200b\u5339\u914d\u200b\u4efb\u4f55\u200b\u6570\u5b57\u200b\u3002 </p> <p>\uff085\uff09\u2018\u2019\u200b\u5339\u914d\u200b\u96f6\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u5728\u200b\u5b83\u200b\u524d\u9762\u200b\u7684\u200b\u5b57\u7b26\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u201cx\u201d\u200b\u5339\u914d\u200b\u4efb\u4f55\u200b\u6570\u91cf\u200b\u7684\u200b\u2018x\u2019\u200b\u5b57\u7b26\u200b\uff0c\u201c[0-9]\u201d\u200b\u5339\u914d\u200b\u4efb\u4f55\u200b\u6570\u91cf\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c \u200b\u800c\u200b\u201c\u201d\u200b\u5339\u914d\u200b\u4efb\u4f55\u200b\u6570\u91cf\u200b\u7684\u200b\u4efb\u4f55\u200b\u5b57\u7b26\u200b\u3002</p> <pre><code> SELECT 'shkstart' REGEXP '^s', 'shkstart' REGEXP 't$', 'shkstart' REGEXP 'hk';\n</code></pre> <pre><code>SELECT *\nFROM `user`\nWHERE `name` REGEXP 'Lo'\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_12","title":"\u903b\u8f91\u200b\u8fd0\u7b97\u7b26","text":"<p>and \u200b\u4e0e\u200b</p> <p>or \u200b\u6216\u200b</p> <p>not \u200b\u975e\u200b</p> <p>xor \u200b\u5f02\u6216\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_13","title":"\u4f4d\u200b\u8fd0\u7b97","text":"\u8fd0\u7b97\u7b26\u200b \u200b\u4f5c\u7528\u200b &amp; \u200b\u6309\u4f4d\u200b\u4e0e\u200b | \u200b\u6309\u4f4d\u200b\u6216\u200b ^ \u200b\u6309\u4f4d\u200b\u5f02\u6216\u200b ~ \u200b\u6309\u4f4d\u200b\u53d6\u53cd\u200b &gt;&gt; \u200b\u53f3\u79fb\u200b &lt;&lt; \u200b\u5de6\u79fb"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_14","title":"\u6392\u5e8f\u200b \u200b\u5206\u9875","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_15","title":"\u6392\u5e8f","text":"<pre><code>select *\nfrom `user`\norder by id desc, name desc\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_16","title":"\u5206\u9875","text":"<p>LIMIT [\u200b\u4f4d\u7f6e\u200b\u504f\u79fb\u91cf\u200b,] \u200b\u884c\u200b\u6570\u200b</p> <p>\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b</p> <p>10\uff1a10\u200b\u6761\u200b\u8bb0\u5f55\u200b</p> <p>0 9</p> <pre><code>select *\nfrom `user`\norder by id desc, name desc\nLIMIT 0, 10\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_17","title":"\u591a\u8868\u200b\u67e5\u8be2","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_18","title":"\u57fa\u7840","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_19","title":"\u7b49\u503c\u200b\u8fde\u63a5","text":"<pre><code>SELECT a.a1, b.b1, b.a1\nFROM ABC a, BCD b\nWHERE a.a1 = b.a1\n</code></pre> <p>\u200b\u591a\u4e2a\u200b\u8868\u4e2d\u200b\u6709\u200b\u76f8\u540c\u200b\u5217\u65f6\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5728\u200b\u5217\u540d\u200b\u4e4b\u524d\u200b\u52a0\u4e0a\u200b\u8868\u540d\u200b\u524d\u7f00\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_20","title":"\u975e\u200b\u7b49\u503c\u200b\u8fde\u63a5","text":"<pre><code>SELECT a.a1, b.b1, b.a1\nFROM ABC a, BCD b\nWHERE a.a1 &gt; b.a1\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_21","title":"\u81ea\u200b\u8fde\u63a5\u200b \u200b\u975e\u81ea\u200b\u8fde\u63a5","text":"<p>\u200b\u4e00\u5f20\u200b\u8868\u200b</p> <p>\u200b\u4fe9\u200b\u5f20\u53ca\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u8868\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_22","title":"\u5185\u200b\u8fde\u63a5\u200b \u200b\u5916\u200b\u8fde\u63a5","text":"<p>1.\u200b\u5185\u200b\u8fde\u63a5\u200b\u5c31\u662f\u200b\u53d6\u200b\u4ea4\u96c6\u200b\u7684\u200b\u90e8\u5206\u200b\u3002 2.\u200b\u5de6\u200b\u8fde\u63a5\u200b\u5c31\u662f\u200b\u5de6\u8868\u200b\u5168\u90e8\u200b\u7684\u200b\u6570\u636e\u200b\u52a0\u4e0a\u200b\u4ea4\u96c6\u200b\u7684\u200b\u6570\u636e\u200b\u3002 3.\u200b\u53f3\u200b\u8fde\u63a5\u200b\u5c31\u662f\u200b\u53f3\u8868\u200b\u5168\u90e8\u200b\u7684\u200b\u6570\u636e\u200b\u52a0\u4e0a\u200b\u4ea4\u96c6\u200b\u7684\u200b\u6570\u636e\u200b\u3002 4.\u200b\u4ea4\u53c9\u200b\u8fde\u63a5\u200b\u5c31\u662f\u200b\u5168\u90fd\u200b\u8981\u200b</p> <p>\u200b\u5de6\u5916\u200b\u8fde\u63a5\u200b\uff1a\u200b\u5de6\u8868\u662f\u200b\u4e3b\u8868\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#c99","title":"c99","text":"<pre><code>SELECT a.*\nFROM A a INNER JOIN B b\nON a.id = b.id\nINNER JOIN C c\nON c.id = b.id\n</code></pre> <pre><code>SELECT a.*\nFROM A a LEFT OUTER JOIN B b\nON a.id = b.id\n</code></pre> <pre><code>SELECT a.*\nFROM A a RIGHT OUTER JOIN B b\nON a.id = b.id\n</code></pre> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0cLEFT JOIN \u200b\u548c\u200b RIGHT JOIN \u200b\u53ea\u200b\u5b58\u5728\u200b\u4e8e\u200b SQL99 \u200b\u53ca\u200b\u4ee5\u540e\u200b\u7684\u200b\u6807\u51c6\u200b\u4e2d\u200b\uff0c\u200b\u5728\u200b SQL92 \u200b\u4e2d\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c \u200b\u53ea\u80fd\u200b\u7528\u200b (+) \u200b\u8868\u793a\u200b\u3002</p> <p>\u200b\u6ee1\u5916\u200b\u8fde\u63a5\u200b\u7684\u200b\u7ed3\u679c\u200b = \u200b\u5de6\u53f3\u200b\u8868\u200b\u5339\u914d\u200b\u7684\u200b\u6570\u636e\u200b + \u200b\u5de6\u8868\u200b\u6ca1\u6709\u200b\u5339\u914d\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b + \u200b\u53f3\u8868\u200b\u6ca1\u6709\u200b\u5339\u914d\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u3002 </p> <p>SQL99\u200b\u662f\u200b\u652f\u6301\u200b\u6ee1\u5916\u200b\u8fde\u63a5\u200b\u7684\u200b\u3002\u200b\u4f7f\u7528\u200bFULL JOIN \u200b\u6216\u200b FULL OUTER JOIN\u200b\u6765\u200b\u5b9e\u73b0\u200b\u3002 </p> <p>\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0cMySQL\u200b\u4e0d\u200b\u652f\u6301\u200bFULL JOIN\uff0c\u200b\u4f46\u662f\u200b\u53ef\u4ee5\u200b\u7528\u200b LEFT JOIN UNION RIGHT join\u200b\u4ee3\u66ff\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#union","title":"union","text":"<p>union:\u200b\u53bb\u200b\u91cd\u200b (a, b, ab)</p> <p>union all:\u200b\u4e0d\u53bb\u200b\u91cd\u200b (a, b, ab, ab)</p> <pre><code>select * from a\nunion\nselect * from b\n</code></pre> <p></p> <p>\u200b\u5de6\u4e2d\u56fe\u200b</p> <pre><code>#\u200b\u5b9e\u73b0\u200bA - A\u2229B\nselect \u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\nfrom A\u200b\u8868\u200b left join B\u200b\u8868\u200b\non \u200b\u5173\u8054\u200b\u6761\u4ef6\u200b\nwhere \u200b\u4ece\u8868\u200b\u5173\u8054\u200b\u5b57\u200b\u6bb5\u200b is null and \u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b50\u53e5\u200b;\n</code></pre> <p>\u200b\u53f3\u4e2d\u56fe\u200b</p> <pre><code>#\u200b\u5b9e\u73b0\u200bB - A\u2229B\nselect \u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\nfrom A\u200b\u8868\u200b right join B\u200b\u8868\u200b\non \u200b\u5173\u8054\u200b\u6761\u4ef6\u200b\nwhere \u200b\u4ece\u8868\u200b\u5173\u8054\u200b\u5b57\u200b\u6bb5\u200b is null and \u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b50\u53e5\u200b;\n</code></pre> <p>\u200b\u5de6\u200b\u4e0b\u56fe\u200b</p> <pre><code>\u200b\u5b9e\u73b0\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u662f\u200bA\u222aB\n#\u200b\u7528\u200b\u5de6\u5916\u200b\u7684\u200bA\uff0cunion \u200b\u53f3\u5916\u200b\u7684\u200bB\nselect \u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\nfrom A\u200b\u8868\u200b left join B\u200b\u8868\u200b\non \u200b\u5173\u8054\u200b\u6761\u4ef6\u200b\nwhere \u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b50\u53e5\u200b\nunion\nselect \u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\nfrom A\u200b\u8868\u200b right join B\u200b\u8868\u200b\non \u200b\u5173\u8054\u200b\u6761\u4ef6\u200b\nwhere \u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b50\u53e5\u200b;\n</code></pre> <pre><code>#\u200b\u5b9e\u73b0\u200bA\u222aB - A\u2229B \u200b\u6216\u200b (A - A\u2229B) \u222a \uff08B - A\u2229B\uff09\n#\u200b\u4f7f\u7528\u200b\u5de6\u5916\u200b\u7684\u200b (A - A\u2229B) union \u200b\u53f3\u5916\u200b\u7684\u200b\uff08B - A\u2229B\uff09\nselect \u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\nfrom A\u200b\u8868\u200b left join B\u200b\u8868\u200b\non \u200b\u5173\u8054\u200b\u6761\u4ef6\u200b\nwhere \u200b\u4ece\u8868\u200b\u5173\u8054\u200b\u5b57\u200b\u6bb5\u200b is null and \u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b50\u53e5\u200b\nunion\nselect \u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\nfrom A\u200b\u8868\u200b right join B\u200b\u8868\u200b\non \u200b\u5173\u8054\u200b\u6761\u4ef6\u200b\nwhere \u200b\u4ece\u8868\u200b\u5173\u8054\u200b\u5b57\u200b\u6bb5\u200b is null and \u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b50\u53e5\u200b\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_23","title":"\u805a\u5408\u200b\u51fd\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_24","title":"\u51fd\u6570\u200b\u4ecb\u7ecd","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#avg-sum","title":"AVG SUM","text":"<p>\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u6570\u503c\u200b\u578b\u200b\u6570\u636e\u200b\u4f7f\u7528\u200bAVG \u200b\u548c\u200b SUM \u200b\u51fd\u6570\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#min-max","title":"MIN MAX","text":"<p>\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u4efb\u610f\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b\u4f7f\u7528\u200b MIN \u200b\u548c\u200b MAX \u200b\u51fd\u6570\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#count","title":"COUNT","text":"<p>COUNT(*)\u200b\u8fd4\u56de\u200b\u8868\u4e2d\u200b\u8bb0\u5f55\u200b\u603b\u6570\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u4efb\u610f\u200b\u6570\u636e\u7c7b\u578b\u200b\u3002</p> <p>COUNT(expr) \u200b\u8fd4\u56de\u200bexpr\u200b\u4e0d\u4e3a\u200b\u7a7a\u200b\u7684\u200b\u8bb0\u5f55\u200b\u603b\u6570\u200b\u3002</p> <p>\u200b\u95ee\u9898\u200b\uff1a\u200b\u7528\u200bcount(*)\uff0ccount(1)\uff0ccount(\u200b\u5217\u540d\u200b)\u200b\u8c01\u200b\u597d\u200b\u5462\u200b?</p> <p>\u200b\u5bf9\u4e8e\u200bMyISAM\u200b\u5f15\u64ce\u200b\u7684\u200b\u8868\u662f\u200b\u6ca1\u6709\u200b\u533a\u522b\u200b\u7684\u200b\u3002\u200b\u8fd9\u79cd\u200b\u5f15\u64ce\u200b\u5185\u90e8\u200b\u6709\u200b\u4e00\u200b\u8ba1\u6570\u5668\u200b\u5728\u200b\u7ef4\u62a4\u200b\u7740\u200b\u884c\u6570\u200b\u3002 Innodb\u200b\u5f15\u64ce\u200b\u7684\u200b\u8868\u7528\u200bcount(*),count(1)\u200b\u76f4\u63a5\u200b\u8bfb\u884c\u6570\u200b\uff0c\u200b\u590d\u6742\u5ea6\u200b\u662f\u200bO(n)\uff0c\u200b\u56e0\u4e3a\u200binnodb\u200b\u771f\u7684\u200b\u8981\u200b\u53bb\u200b\u6570\u4e00\u904d\u200b\u3002\u200b\u4f46\u200b\u597d\u200b \u200b\u4e8e\u200b\u5177\u4f53\u200b\u7684\u200bcount(\u200b\u5217\u540d\u200b)\u3002 </p> <p>\u200b\u95ee\u9898\u200b\uff1a\u200b\u80fd\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200bcount(\u200b\u5217\u540d\u200b)\u200b\u66ff\u6362\u200bcount(*)? *</p> <p>\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b count(\u200b\u5217\u540d\u200b)\u200b\u6765\u200b\u66ff\u4ee3\u200b count() \uff0c count() \u200b\u662f\u200b SQL92 \u200b\u5b9a\u4e49\u200b\u7684\u200b\u6807\u51c6\u200b\u7edf\u8ba1\u200b\u884c\u6570\u200b\u7684\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u8ddf\u6570\u200b \u200b\u636e\u5e93\u200b\u65e0\u5173\u200b\uff0c\u200b\u8ddf\u200b NULL \u200b\u548c\u200b\u975e\u200b NULL \u200b\u65e0\u5173\u200b\u3002 \u200b\u8bf4\u660e\u200b\uff1acount(*)\u200b\u4f1a\u200b\u7edf\u8ba1\u200b\u503c\u4e3a\u200b NULL \u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u800c\u200b count(\u200b\u5217\u540d\u200b)\u200b\u4e0d\u4f1a\u200b\u7edf\u8ba1\u200b\u6b64\u200b\u5217\u4e3a\u200b NULL \u200b\u503c\u200b\u7684\u200b\u884c\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#group-by","title":"GROUP BY","text":"<pre><code>SELECT id, `name`, SUM(id)\nFROM user\nwhere age &gt; 18\nGROUP BY id, name\n</code></pre> <p>\u200b\u5728\u200bSELECT\u200b\u5217\u8868\u200b\u4e2d\u200b\u6240\u6709\u200b\u672a\u200b\u5305\u542b\u200b\u5728\u200b\u7ec4\u200b\u51fd\u6570\u200b\u4e2d\u200b\u7684\u200b\u5217\u200b\u90fd\u200b\u5e94\u8be5\u200b\u5305\u542b\u200b\u5728\u200b GROUP BY\u200b\u5b50\u53e5\u200b\u4e2d\u200b</p> <pre><code>SELECT id, `name`, SUM(id)\nFROM user\nwhere age &gt; 18\nGROUP BY id, name WITH ROLLUP\n</code></pre> <p>WITH ROLLUP:\u200b\u6240\u6709\u200b\u8bb0\u5f55\u200b\u6c42\u200b\u805a\u5408\u200b,</p> <p>\u200b\u5f53\u200b\u4f7f\u7528\u200bROLLUP\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200bORDER BY\u200b\u5b50\u53e5\u200b\u8fdb\u884c\u200b\u7ed3\u679c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5373\u200bROLLUP\u200b\u548c\u200bORDER BY\u200b\u662f\u200b\u4e92\u76f8\u200b\u6392\u65a5\u200b \u200b\u7684\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#having","title":"HAVING","text":"<p>having \u200b\u9700\u8981\u200b\u548c\u200bgroup by\u200b\u642d\u914d\u200b\u4f7f\u7528\u200b</p> <pre><code>SELECT `name` ,max(id)\nFROM `user`\nGROUP BY name\nHAVING max(ID) &gt; 1\n</code></pre> <p>\u200b\u533a\u522b\u200b1\uff1aWHERE \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u8868\u4e2d\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4f5c\u4e3a\u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u5206\u7ec4\u200b\u4e2d\u200b\u7684\u200b\u8ba1\u7b97\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u7b5b\u9009\u200b</p> <p>\u200b\u533a\u522b\u200b2\uff1a\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u8fde\u63a5\u200b\u4ece\u200b\u5173\u8054\u200b\u8868\u4e2d\u200b\u83b7\u53d6\u200b\u9700\u8981\u200b\u7684\u200b\u6570\u636e\u200b\uff0cWHERE \u200b\u662f\u200b\u5148\u200b\u7b5b\u9009\u200b\u540e\u200b\u8fde\u63a5\u200b\uff0c\u200b\u800c\u200b HAVING \u200b\u662f\u200b\u5148\u200b\u8fde\u63a5\u200b \u200b\u540e\u200b\u7b5b\u9009\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_25","title":"\u5b50\u200b\u67e5\u8be2","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_26","title":"\u5355\u884c\u200b\u5b50\u200b\u67e5\u8be2","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#operator","title":"operator","text":"op meaning = \u200b\u7b49\u4e8e\u200b &gt; \u200b\u5927\u4e8e\u200b &gt;= \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b &lt; \u200b\u5c0f\u4e8e\u200b &lt;= \u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b &lt;&gt; \u200b\u4e0d\u200b\u7b49\u4e8e"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_27","title":"\u6848\u4f8b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#last_namejob_idsalary","title":"\u8fd4\u56de\u200b\u516c\u53f8\u200b\u5de5\u8d44\u200b\u6700\u5c11\u200b\u7684\u200b\u5458\u5de5\u200b\u7684\u200blast_name,job_id\u200b\u548c\u200bsalary","text":"<pre><code>SELECT last_name, job_ib, salary\nFROM employees\nWHERE salary = (\n    SELECT MIN(salary)\n  FROM employees\u00a0\n)\nAND employee_id NOT IN (174, 141)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#141174manager_iddepartment_idemployee_id-manager_iddepartment_id","title":"\u67e5\u8be2\u200b\u4e0e\u200b141\u200b\u53f7\u200b\u6216\u200b174\u200b\u53f7\u200b\u5458\u5de5\u200b\u7684\u200bmanager_id\u200b\u548c\u200bdepartment_id\u200b\u76f8\u540c\u200b\u7684\u200b\u5176\u4ed6\u200b\u5458\u5de5\u200b\u7684\u200bemployee_id\uff0c manager_id\uff0cdepartment_id","text":"<p>\u200b\u4e0d\u6210\u200b\u5bf9\u200b\u6bd4\u8f83\u200b</p> <pre><code>SELECT employee_id, manager_id, department_id\nFROM employees\nWHERE manager_id in (\n    SELECT manager_id\n  FROM employees\n  WHERE employee_id IN (174, 141)\n)\nAND department_id IN (\n    SELECT department_id \n  FROM employees\n  WHERE employee_id IN (174, 141)\n)\nAND employee_id NOT IN (174, 141)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#case","title":"case \u200b\u5b50\u200b\u67e5\u8be2","text":"<p>\u200b\u663e\u5f0f\u200b\u5458\u5de5\u200b\u7684\u200bemployee_id,last_name\u200b\u548c\u200blocation\u3002\u200b\u5176\u4e2d\u200b\uff0c\u200b\u82e5\u200b\u5458\u5de5\u200bdepartment_id\u200b\u4e0e\u200blocation_id\u200b\u4e3a\u200b1800 \u200b\u7684\u200bdepartment_id\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200blocation\u200b\u4e3a\u200b\u2019Canada\u2019\uff0c\u200b\u5176\u4f59\u200b\u5219\u200b\u4e3a\u200b\u2019USA\u2019\u3002</p> <pre><code>SELECT employee_id, last_name, (\n    CASE department_id\n  WHEN \n    (SELECT department_id\n    FROM departments\n    WHERE location_id = 1800)\n    THEN 'Canada' \n    ELSE 'USA' \n    END\n  ) \n) location\nFROM employees\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_28","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u200b\u5982\u679c\u200b\u5b50\u200b\u67e5\u8be2\u200b\u8fd4\u56de\u200b\u7a7a\u5219\u200b\u4e3b\u200b\u67e5\u8be2\u200b\u4e5f\u200b\u6ca1\u200b\u6570\u636e\u200b</p> <p>\u200b\u591a\u884c\u200b\u5b50\u200b\u67e5\u8be2\u200b\u4f7f\u7528\u200b\u5355\u884c\u200b\u6bd4\u8f83\u200b\u7b26\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_29","title":"\u591a\u884c\u200b\u5b50\u200b\u67e5\u8be2","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_30","title":"\u64cd\u4f5c\u7b26","text":"op meaning \u200b\u542b\u4e49\u200b IN \u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b ANY \u200b\u9700\u8981\u200b\u548c\u200b\u5355\u884c\u200b\u6bd4\u8f83\u200b\u64cd\u4f5c\u7b26\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\uff0c\u200b\u548c\u5b50\u200b\u67e5\u8be2\u200b\u8fd4\u56de\u200b\u7684\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u503c\u200b\u6bd4\u8f83\u200b ALL \u200b\u9700\u8981\u200b\u548c\u200b\u5355\u884c\u200b\u6bd4\u8f83\u200b\u64cd\u4f5c\u7b26\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\uff0c\u200b\u548c\u5b50\u200b\u67e5\u8be2\u200b\u8fd4\u56de\u200b\u7684\u200b\u6240\u6709\u200b\u503c\u200b\u6bd4\u8f83\u200b SOME \u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200bANY\u200b\u7684\u200b\u522b\u540d\u200b\uff0c\u200b\u4f5c\u7528\u200b\u76f8\u540c\u200b\uff0c\u200b\u4e00\u822c\u200b\u5e38\u200b\u4f7f\u7528\u200bANY"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_31","title":"\u6848\u4f8b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#job_idjob_idit_progjob_id-salary","title":"\u8fd4\u56de\u200b\u5176\u5b83\u200bjob_id\u200b\u4e2d\u200b\u6bd4\u200bjob_id\u200b\u4e3a\u200b'IT_PROG'\u200b\u90e8\u95e8\u200b\u4efb\u4e00\u200b\u5de5\u8d44\u200b\u4f4e\u200b\u7684\u200b\u5458\u5de5\u200b\u7684\u200b\u5458\u5de5\u200b\u53f7\u200b\u3001\u200b\u59d3\u540d\u200b\u3001job_id \u200b\u4ee5\u53ca\u200bsalary","text":"<pre><code>SELECT employee_id, last_name, job_id, salary\nFROM employee\nWHERE salary &lt; ANY (\n    SELECT salary\n  FROM employees\n  WHERE job_id = 'IT_PROG'\n)\n</code></pre> <p>\u200b\u8fd4\u56de\u200b\u5176\u5b83\u200bjob_id\u200b\u4e2d\u200b\u6bd4\u200bjob_id\u200b\u4e3a\u200b'IT_PROG'\u200b\u90e8\u95e8\u200b\u6240\u6709\u200b\u5de5\u8d44\u200b\u4f4e\u200b\u7684\u200b\u5458\u5de5\u200b\u7684\u200b\u5458\u5de5\u200b\u53f7\u200b\u3001\u200b\u59d3\u540d\u200b\u3001job_id \u200b\u4ee5\u53ca\u200bsalary</p> <pre><code>SELECT employee_id, last_name, job_id, salary\nFROM employee\nWHERE salary &lt; ALL (\n    SELECT salary\n  FROM employees\n  WHERE job_id = 'IT_PROG'\n)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#id","title":"\u67e5\u8be2\u200b\u5e73\u5747\u5de5\u8d44\u200b\u6700\u4f4e\u200b\u7684\u200b\u90e8\u95e8\u200bid","text":"<p>\u200b\u65b9\u5f0f\u200b\u4e00\u200b</p> <pre><code>SELECT department_id\nFROM employee\nGROUP BY department_id\nHAVING AVG(salary) = (\n    SELECT MIN(avg_sal)\n  FROM (\n    SELECT department_id, AVG(salary) avg_sal\n    FROM employees\n    GROUP BY department_id\n  ) dept_avg_sal\n)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#all","title":"\u65b9\u5f0f\u200b\u4e8c\u200b &lt;= ALL","text":"<pre><code>SELECT department_id\nFROM employee\nGROUP BY department_id\nHAVING AVG(salary) &lt;= ALL (\n    SELECT avg_sal\n  FROM (\n    SELECT department_id, AVG(salary) avg_sal\n    FROM employees\n    GROUP BY department_id\n  ) dept_avg_sal\n)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_32","title":"\u5173\u8054\u200b\u67e5\u8be2","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#definitiondefine","title":"definition/define \u200b\u5b9a\u4e49","text":"<p>\u200b\u5173\u8054\u200b\u5b50\u200b\u67e5\u8be2\u200b\uff1a\u200b\u6bcf\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u5916\u90e8\u200b\u67e5\u8be2\u200b\uff0c\u200b\u5b50\u200b\u67e5\u8be2\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u8ba1\u7b97\u200b\u4e00\u6b21\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#_33","title":"\u57fa\u7840\u200b\u6848\u4f8b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#last_namesalarydepartment_id","title":"\u67e5\u8be2\u200b\u5458\u5de5\u200b\u4e2d\u200b\u5de5\u8d44\u200b\u5927\u4e8e\u200b\u672c\u200b\u90e8\u95e8\u200b\u5e73\u5747\u5de5\u8d44\u200b\u7684\u200b\u5458\u5de5\u200b\u7684\u200blast_name,salary\u200b\u548c\u200b\u5176\u200bdepartment_id","text":"<p>\u200b\u76f8\u5173\u200b\u5b50\u200b\u67e5\u8be2\u200b</p> <pre><code>SELECT last_name, salary, department_id\nFROM employees emp_out\nWHERE salary &gt; (\n    SELECT AVG(salary)\n  FROM employee\n  WHERE department_id = emp_out.deparment_id\n)\n</code></pre> <p>from\u200b\u5b50\u200b\u67e5\u8be2\u200b</p> <pre><code>SELECT e1.last_name, e1.salary, e1.department_id\nFROM employees e1, (\n  SELECT deaparment_id, AVG(salary) avg_sal_dept\n  FROM employeees\n  GROUP BY deparment_id\n) e2\nWHERE e1.department_id = e2.department_id\nAND e1.salary &gt; e2.avg_sal_dept\n</code></pre> <p>order by \u200b\u5b50\u200b\u67e5\u8be2\u200b</p> <p>\u200b\u67e5\u8be2\u200b\u5458\u5de5\u200b\u7684\u200bid,salary,\u200b\u6309\u7167\u200bdepartment_name \u200b\u6392\u5e8f\u200b</p> <pre><code>SELECT employee_id, salary\nFROM employee e\nORDER BY (\n    SELECT department_name\n  FROM departments d\n  where e.department_id = d.department_id\n)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#exists","title":"exists","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#what","title":"what","text":"<p>EXISTS</p> <p>\u200b\u5b58\u5728\u200b\u5219\u200b\u4e0d\u200b\u7ee7\u7eed\u200b\u67e5\u627e\u200b\u4e86\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200bTRUE</p> <p>NOT EXISTS</p> <p>\u200b\u5b58\u5728\u200b\u5219\u200b\u4e0d\u200b\u7ee7\u7eed\u200b\u67e5\u627e\u200b\u4e86\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200bTRUE</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/1-%E5%9F%BA%E7%A1%80/#how","title":"how","text":"<p>\u200b\u67e5\u8be2\u200b\u516c\u53f8\u200b\u7ba1\u7406\u8005\u200b\u7684\u200bemployee_id\uff0clast_name\uff0cjob_id\uff0cdepartment_id\u200b\u4fe1\u606f\u200b</p> <pre><code>SELECT employee_id, last_name, department_id\nFROM employees e1\nWHERE EXISTS (\n  SELECT *\n  FROM employee e2\n  WHERE e1.manager_id = e2.employee_id\n)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/","title":"\u7ba1\u7406\u200b\u6570\u636e\u5e93\u200b\u548c\u8868","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_2","title":"\u547d\u540d","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_3","title":"\u6807\u8bc6\u7b26\u200b\u547d\u540d\u200b\u89c4\u5219","text":"<ul> <li>\u200b\u6570\u636e\u5e93\u200b\u540d\u200b\u3001\u200b\u8868\u540d\u200b\u4e0d\u5f97\u200b\u8d85\u8fc7\u200b30\u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u53d8\u91cf\u540d\u200b\u9650\u5236\u200b\u4e3a\u200b29\u200b\u4e2a\u200b </li> <li>\u200b\u5fc5\u987b\u200b\u53ea\u80fd\u200b\u5305\u542b\u200b A\u2013Z, a\u2013z, 0\u20139, _\u200b\u5171\u200b63\u200b\u4e2a\u5b57\u7b26\u200b </li> <li>\u200b\u540c\u4e00\u4e2a\u200bMySQL\u200b\u8f6f\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u4e0d\u80fd\u200b\u540c\u540d\u200b\uff1b\u200b\u540c\u4e00\u4e2a\u200b\u5e93\u4e2d\u200b\uff0c\u200b\u8868\u200b\u4e0d\u80fd\u200b\u91cd\u540d\u200b\uff1b\u200b\u540c\u4e00\u4e2a\u200b\u8868\u4e2d\u200b\uff0c\u200b\u5b57\u200b\u6bb5\u200b\u4e0d\u80fd\u200b\u91cd\u540d\u200b</li> <li>\u200b\u5fc5\u987b\u200b\u4fdd\u8bc1\u200b\u4f60\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6ca1\u6709\u200b\u548c\u200b\u4fdd\u7559\u5b57\u200b\u3001\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u6216\u200b\u5e38\u7528\u200b\u65b9\u6cd5\u200b\u51b2\u7a81\u200b\u3002\u200b\u5982\u679c\u200b\u575a\u6301\u200b\u4f7f\u7528\u200b\uff0c\u200b\u8bf7\u200b\u5728\u200bSQL\u200b\u8bed\u53e5\u200b\u4e2d\u4f7f\u200b \u200b\u7528\u200b`\uff08\u200b\u7740\u91cd\u53f7\u200b\uff09\u200b\u5f15\u8d77\u200b\u6765\u200b </li> <li>\u200b\u4fdd\u6301\u200b\u5b57\u6bb5\u540d\u200b\u548c\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e00\u81f4\u6027\u200b\uff1a\u200b\u5728\u200b\u547d\u200b\u540d\u5b57\u200b\u6bb5\u200b\u5e76\u200b\u4e3a\u200b\u5176\u200b\u6307\u5b9a\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\u65f6\u5019\u200b\u4e00\u5b9a\u200b\u8981\u200b\u4fdd\u8bc1\u200b\u4e00\u81f4\u6027\u200b\uff0c\u200b\u5047\u5982\u200b\u6570\u636e\u200b \u200b\u7c7b\u578b\u200b\u5728\u200b\u4e00\u4e2a\u200b\u8868\u91cc\u200b\u662f\u200b\u6574\u6570\u200b\uff0c\u200b\u90a3\u200b\u5728\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8868\u91cc\u200b\u53ef\u200b\u5c31\u200b\u522b\u200b\u53d8\u6210\u200b\u5b57\u7b26\u200b\u578b\u200b\u4e86\u200b</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_4","title":"\u7ba1\u7406\u200b\u6570\u636e\u5e93","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_5","title":"\u521b\u5efa\u200b\u6570\u636e\u5e93","text":"<pre><code>CREATE DATABASE IF NOT EXISTS stu_go_1 CHARACTER SET utf8 COLLATE utf8_general_ci\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_6","title":"\u67e5\u770b\u200b\u5e93\u8868","text":"<pre><code># \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u670d\u52a1\u5668\u200b\u6709\u200b\u54ea\u4e9b\u200b\u6570\u636e\u5e93\u200b\nSHOW DATABASES\n\n# \u200b\u4f7f\u7528\u200b\u54ea\u4e2a\u200b\u5e93\u200b\nUSE stu_go\n\n# \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u4f7f\u7528\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\nSHOW DATABASE()\n\n# \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u4f7f\u7528\u200b\u6570\u636e\u5e93\u200b\u6709\u200b\u54ea\u4e9b\u200b\u8868\u200b\nSHOW TABLES;\n\nSHOW TABLES FROM stu_go_1\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_7","title":"\u6570\u636e\u5e93\u200b\u4fee\u6539","text":"<pre><code>DROP DATABASE IF EXISTS stu_go_1\n\n\nALTER DATABASE s1 CHARACTER SET utf8 COLLATE utf8_general_ci;\n</code></pre> <pre><code>CREATE TABLE IF NOT EXISTS t2 (\n    id INT(11) AUTO_INCREMENT COMMENT 'id',\n    `name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u59d3\u540d\u200b',\n    `age` INT(11) NOT NULL DEFAULT 0 COMMENT '\u200b\u5e74\u9f84\u200b',  \n    PRIMARY KEY(id)\n)\n</code></pre> <pre><code>CREATE TABLE IF NOT EXISTS t3\nAS \nSELECT * FROM `user\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_8","title":"\u7ba1\u7406\u200b\u8868","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_9","title":"\u521b\u5efa\u200b\u8868","text":"<pre><code># \u200b\u521b\u5efa\u200b\u8868\u200b\nCREATE TABLE IF NOT EXISTS t2 (\n    id INT(11) AUTO_INCREMENT COMMENT 'id',\n    `name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u59d3\u540d\u200b',\n    `age` INT(11) NOT NULL DEFAULT 0 COMMENT '\u200b\u5e74\u9f84\u200b',  \n    PRIMARY KEY(id)\n)\n\n\n\n# \u200b\u521b\u5efa\u200b\u8868\u200b + \u200b\u63d2\u5165\u200b\u8868\u200b \u200b\u5408\u4e8c\u4e3a\u4e00\u200b\nCREATE TABLE IF NOT EXISTS t3\nAS \nSELECT * FROM `user`\n\n\n# \u200b\u67e5\u770b\u200b\u8868\u200b\u7684\u200b\u7ed3\u6784\u200b\nDESC user\n\n\nSHOW CREATE TABLE t1;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/10-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/#_10","title":"\u4fee\u6539\u200b\u8868","text":"<pre><code># \u200b\u6dfb\u52a0\u200b\u5217\u200b\nALTER TABLE t3 \nADD COLUMN f4 VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u6d4b\u8bd5\u200b\u6dfb\u52a0\u200b\u5217\u200b'\n\n\n# \u200b\u4fee\u6539\u200b\u5217\u200b\u7684\u200b\u7c7b\u578b\u200b\nALTER TABLE t3 \nMODIFY COLUMN f4 VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u6d4b\u8bd5\u200b\u6dfb\u52a0\u200b\u5217\u200b'\n\n\n\n\n# \u200b\u4e0d\u80fd\u200b\u628a\u200bstring \u200b\u4fee\u6539\u200b\u4e3a\u200bint\n# \u200b\u4fee\u6539\u200b\u5217\u200b\u7684\u200b\u540d\u5b57\u200b\nALTER TABLE t3\nCHANGE COLUMN f4 f5 VARCHAR(11)\n\n\n# \u200b\u5220\u9664\u200b\u5217\u200b\nALTER TABLE t3\nDROP COLUMN f5\n\n# \u200b\u91cd\u547d\u540d\u200b\u8868\u200b1\nRENAME TABLE t3\nTO t4\n\n\n# \u200b\u91cd\u547d\u540d\u200b\u8868\u200b2\nALTER TABLE t4\nRENAME TO t3\n\n\n# \u200b\u5220\u9664\u200b\u8868\u200b\nDROP TABLE IF EXISTS t3\n\n# \u200b\u6e05\u7a7a\u200b\u8868\u200b\nTRUNCATE TABLE `user`\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/11-%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%88%A0%E6%94%B9/","title":"\u6570\u636e\u200b\u589e\u5220\u200b\u6539","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/11-%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%88%A0%E6%94%B9/#_2","title":"\u63d2\u5165\u200b\u3001\u200b\u66f4\u65b0\u200b\u3001\u200b\u5220\u9664","text":"<pre><code>INSERT INTO emp(last_name, age, dept_id)\nVALUES\n('n1', 11, 1),\n('n2', 12, 2),\n('n3', 11, 2)\n\nUPDATE emp\nSET last_name = 'matt', age = 99\nWHERE id = 6\n\nDELETE FROM emp\nWHERE id = 6\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_2","title":"\u6574\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_3","title":"\u57fa\u7840","text":"<p>\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b\u4e00\u5171\u200b\u6709\u200b 5 \u200b\u79cd\u200b\uff0c\u200b\u5305\u62ec\u200b TINYINT\u3001SMALLINT\u3001MEDIUMINT\u3001INT\uff08INTEGER\uff09\u200b\u548c\u200b BIGINT\u3002</p> <p></p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_4","title":"\u53ef\u200b\u9009\u200b\u5c5e\u6027","text":"<p>UNSIGNED, ZEROFILL, \u200b\u5bbd\u5ea6\u200b</p> <pre><code>CREATE TABLE t31(\n    id int(8) UNSIGNED ZEROFILL \n)\n</code></pre> <p>\u200b\u5bbd\u5ea6\u200b\u662f\u200b8,\u200b\u642d\u914d\u200bZEROFILL\u200b\u5f53\u200b\u8f93\u5165\u200b\u7684\u200b\u5b57\u7b26\u200b\u4e0d\u8db3\u200b8\u200b\u4f4d\u200b\u65f6\u4f1a\u200b\u4f7f\u7528\u200b0\u200b\u586b\u5145\u200b\uff0c\u200b\u8d85\u8fc7\u200b8\u200b\u4f4d\u200b\u4e5f\u200b\u4e0d\u200b\u5f71\u54cd\u200b</p> <p>\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u548c\u200b\u5bbd\u5ea6\u200b\u65e0\u5173\u200b\uff0c\u200b\u548c\u200b\u5b9e\u9645\u200b\u7c7b\u578b\u200b\u6709\u5173\u200b</p> <p>\u200b\u4ece\u200bMySQL 8.0.17\u200b\u5f00\u59cb\u200b\uff0c\u200b\u6574\u6570\u200b\u6570\u636e\u7c7b\u578b\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u663e\u793a\u200b\u5bbd\u5ea6\u200b\u5c5e\u6027\u200b</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8d1f\u6570\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bUNSIGNED</p> <p>TINYINT: -255-255</p> <p>\u200b\u9ed8\u8ba4\u200b\u5360\u200b4\u200b\u4e2a\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u5360\u200b1\u200b\u4f4d\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_5","title":"\u5982\u4f55\u200b\u4f7f\u7528","text":"<p>\u200b\u5728\u200b\u4fdd\u8bc1\u200b\u53ef\u7528\u200b\u7684\u200b\u8303\u56f4\u200b\u4e0b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u4f7f\u7528\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_6","title":"\u5c0f\u6570","text":"<p>\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u6d6e\u70b9\u6570\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_7","title":"\u6d6e\u70b9\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_8","title":"\u57fa\u7840","text":"<p>MySQL\u200b\u652f\u6301\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b FLOAT\u3001DOUBLE\u3001REAL\u3002</p> <p></p> <p>REAL\u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200b DOUBLE\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u628a\u200b SQL \u200b\u6a21\u5f0f\u200b\u8bbe\u5b9a\u200b\u4e3a\u200b\u542f\u7528\u200b\u201c REAL_AS_FLOAT \u201d\uff0c\u200b\u90a3\u200b \u200b\u4e48\u200b\uff0cMySQL \u200b\u5c31\u200b\u8ba4\u4e3a\u200b REAL \u200b\u662f\u200b FLOAT\u3002</p> <pre><code>SET sql_mode = \u201cREAL_AS_FLOAT\u201d;\n</code></pre> <p>MySQL \u200b\u5b58\u50a8\u200b\u6d6e\u70b9\u6570\u200b\u7684\u200b\u683c\u5f0f\u200b\u4e3a\u200b\uff1a \u200b\u7b26\u53f7\u200b(S) \u3001 \u200b\u5c3e\u6570\u200b(M) \u200b\u548c\u200b \u200b\u9636\u7801\u200b(E) \u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u65e0\u8bba\u200b\u6709\u6ca1\u6709\u200b\u7b26\u53f7\u200b\uff0cMySQL \u200b\u7684\u200b\u6d6e\u200b \u200b\u70b9\u6570\u200b\u90fd\u200b\u4f1a\u200b\u5b58\u50a8\u200b\u8868\u793a\u200b\u7b26\u53f7\u200b\u7684\u200b\u90e8\u5206\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c \u200b\u6240\u8c13\u200b\u7684\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6570\u200b\u53d6\u503c\u200b\u8303\u56f4\u200b\uff0c\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u6709\u200b\u7b26\u53f7\u200b\u6570\u200b\u53d6\u503c\u200b\u8303\u56f4\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u96f6\u200b\u7684\u200b\u90e8\u5206\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_9","title":"\u7cbe\u5ea6\u200b\u8bf4\u660e","text":"<p>FLOAT(M,D) \u200b\u6216\u200b DOUBLE(M,D) \u3002\u200b\u8fd9\u91cc\u200b\uff0cM\u200b\u79f0\u4e3a\u200b \u200b\u7cbe\u5ea6\u200b \uff0cD\u200b\u79f0\u4e3a\u200b \u200b\u6807\u5ea6\u200b \u3002(M,D)\u200b\u4e2d\u200b M=\u200b\u6574\u6570\u200b\u4f4d\u200b+\u200b\u5c0f\u6570\u200b \u200b\u4f4d\u200b\uff0cD=\u200b\u5c0f\u6570\u4f4d\u200b\u3002 D&lt;=M&lt;=255\uff0c0&lt;=D&lt;=30\u3002</p> <p>1.\u200b\u56db\u820d\u4e94\u5165\u200b\u540e\u200b\u6574\u6570\u200b\u8d85\u8fc7\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u8303\u56f4\u200b\u5219\u200b\u62a5\u9519\u200b</p> <p>2.\u200b\u5c0f\u6570\u200b\u8d85\u8fc7\u200b\u5219\u200b\u4e0d\u200b\u62a5\u9519\u200b\uff0c\u200b\u5220\u9664\u200b\u591a\u4f59\u200b\u7684\u200b\u5c0f\u6570\u4f4d\u200b\u5e76\u200b\u4fdd\u5b58\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_10","title":"\u4e3a\u4ec0\u4e48\u200b\u6d6e\u70b9\u6570\u200b\u8868\u793a\u200b\u7684\u200b\u4e0d\u200b\u7cbe\u51c6","text":"<p>\u200b\u5982\u679c\u200b\u5c3e\u6570\u200b\u4e0d\u662f\u200b 0 \u200b\u6216\u200b 5\uff08\u200b\u6bd4\u5982\u200b 9.624\uff09\uff0c\u200b\u4f60\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u7528\u200b\u4e00\u4e2a\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u6765\u200b\u7cbe\u786e\u200b\u8868\u8fbe\u200b\u3002\u200b\u8fdb\u800c\u200b\uff0c\u200b\u5c31\u200b\u53ea\u597d\u200b\u5728\u200b\u53d6\u503c\u200b\u5141\u8bb8\u200b\u7684\u200b\u8303\u200b \u200b\u56f4\u5185\u200b\u8fdb\u884c\u200b\u56db\u820d\u4e94\u5165\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_11","title":"\u5b9a\u70b9\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_12","title":"\u57fa\u7840","text":"<p>DECIMAL(M,D),DEC,NUMERIC      M+2\u200b\u5b57\u8282\u200b       \u200b\u6709\u6548\u200b\u8303\u56f4\u200b\u7531\u200bM\u200b\u548c\u200bD\u200b\u51b3\u5b9a\u200b</p> <p>DECIMAL(M,D) ,M\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u7cbe\u5ea6\u200b\uff0cD\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u6807\u5ea6\u200b\u30020&lt;=M&lt;=65\uff0c 0&lt;=D&lt;=30\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bDECIMAL(10,0)\u3002</p> <p>\u200b\u5b9a\u70b9\u6570\u200b\u5728\u200bMySQL\u200b\u5185\u90e8\u200b\u662f\u200b\u4ee5\u200b \u200b\u5b57\u7b26\u4e32\u200b \u200b\u7684\u200b\u5f62\u5f0f\u200b\u8fdb\u884c\u200b\u5b58\u50a8\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u5b83\u200b\u4e00\u5b9a\u200b\u662f\u200b\u7cbe\u51c6\u200b\u7684\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u8d85\u8fc7\u200b\u4e86\u200b\u5b9a\u70b9\u6570\u200b\u6307\u5b9a\u200b\u7684\u200b\u8303\u56f4\u200b\u4e5f\u200b\u56db\u820d\u4e94\u5165\u200b\u5904\u7406\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_13","title":"\u5b9a\u70b9\u6570\u200b \u200b\u6d6e\u70b9\u6570\u200b \u200b\u533a\u522b","text":"<p>\u200b\u6d6e\u70b9\u6570\u200b\uff1a\u200b\u8868\u793a\u200b\u7684\u200b\u8303\u56f4\u200b\u5927\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u200b\u7cbe\u51c6\u200b</p> <p>\u200b\u5b9a\u70b9\u6570\u200b\uff1a\u200b\u8303\u56f4\u200b\u5c0f\u200b\u4f46\u662f\u200b\u7cbe\u51c6\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_14","title":"\u65e5\u671f\u200b\u65f6\u95f4","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_15","title":"\u57fa\u7840","text":"<ul> <li>YEAR \u200b\u7c7b\u578b\u200b\u901a\u5e38\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5e74\u200b</li> <li>DATE \u200b\u7c7b\u578b\u200b\u901a\u5e38\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5e74\u200b\u3001\u200b\u6708\u200b\u3001\u200b\u65e5\u200b</li> <li>TIME \u200b\u7c7b\u578b\u200b\u901a\u5e38\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u65f6\u200b\u3001\u200b\u5206\u200b\u3001\u200b\u79d2\u200b</li> <li>DATETIME \u200b\u7c7b\u578b\u200b\u901a\u5e38\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5e74\u200b\u3001\u200b\u6708\u200b\u3001\u200b\u65e5\u200b\u3001\u200b\u65f6\u200b\u3001\u200b\u5206\u200b\u3001\u200b\u79d2\u200b </li> <li>TIMESTAMP \u200b\u7c7b\u578b\u200b\u901a\u5e38\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5e26\u65f6\u533a\u200b\u7684\u200b\u5e74\u200b\u3001\u200b\u6708\u200b\u3001\u200b\u65e5\u200b\u3001\u200b\u65f6\u200b\u3001\u200b\u5206\u200b\u3001\u200b\u79d2\u200b</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#year","title":"YEAR","text":"<p>YEAR\u200b\u7c7b\u578b\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u5e74\u4efd\u200b\uff0c\u200b\u5728\u200b\u6240\u6709\u200b\u7684\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\u7c7b\u578b\u200b\u4e2d\u200b\u6240\u200b\u5360\u7528\u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u6700\u5c0f\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b 1\u200b\u4e2a\u200b\u5b57\u8282\u200b \u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002</p> <p>\u200b\u4ee5\u200b4\u200b\u4f4d\u200b\u5b57\u7b26\u4e32\u200b\u6216\u200b\u6570\u5b57\u200b\u683c\u5f0f\u200b\u8868\u793a\u200bYEAR\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5176\u200b\u683c\u5f0f\u200b\u4e3a\u200bYYYY\uff0c\u200b\u6700\u5c0f\u503c\u200b\u4e3a\u200b1901\uff0c\u200b\u6700\u5927\u503c\u200b\u4e3a\u200b2155\u3002 </p> <p>\u200b\u4ee5\u200b2\u200b\u4f4d\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\u8868\u793a\u200bYEAR\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6700\u5c0f\u503c\u200b\u4e3a\u200b00\uff0c\u200b\u6700\u5927\u503c\u200b\u4e3a\u200b99\u3002 \u200b\u5f53\u200b\u53d6\u503c\u200b\u4e3a\u200b01\u200b\u5230\u200b69\u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b2001\u200b\u5230\u200b2069\uff1b \u200b\u5f53\u200b\u53d6\u503c\u200b\u4e3a\u200b70\u200b\u5230\u200b99\u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b1970\u200b\u5230\u200b1999\uff1b \u200b\u5f53\u200b\u53d6\u503c\u200b\u6574\u6570\u200b\u7684\u200b0\u200b\u6216\u200b00\u200b\u6dfb\u52a0\u200b\u7684\u8bdd\u200b\uff0c\u200b\u90a3\u4e48\u200b\u662f\u200b0000\u200b\u5e74\u200b\uff1b \u200b\u5f53\u200b\u53d6\u503c\u200b\u662f\u200b\u65e5\u671f\u200b/\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b'0'\u200b\u6dfb\u52a0\u200b\u7684\u8bdd\u200b\uff0c\u200b\u662f\u200b2000\u200b\u5e74\u200b\u3002</p> <p>\u200b\u4ece\u200bMySQL5.5.27\u200b\u5f00\u59cb\u200b\uff0c2\u200b\u4f4d\u200b\u683c\u5f0f\u200b\u7684\u200bYEAR\u200b\u5df2\u7ecf\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u3002YEAR\u200b\u9ed8\u8ba4\u200b\u683c\u5f0f\u200b\u5c31\u662f\u200b\u201cYYYY\u201d\uff0c\u200b\u6ca1\u200b\u5fc5\u8981\u200b\u5199\u6210\u200bYEAR(4)\uff0c \u200b\u4ece\u200bMySQL 8.0.19\u200b\u5f00\u59cb\u200b\uff0c\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u6307\u5b9a\u200b\u663e\u793a\u200b\u5bbd\u5ea6\u200b\u7684\u200bYEAR(4)\u200b\u6570\u636e\u7c7b\u578b\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#date","title":"DATE","text":"<p>\u200b\u683c\u5f0f\u200b\u4e3a\u200b YYYY-MM-DD \uff0c\u200b\u5176\u4e2d\u200b\uff0cYYYY\u200b\u8868\u793a\u200b\u5e74\u4efd\u200b\uff0cMM\u200b\u8868\u793a\u200b\u6708\u4efd\u200b\uff0cDD\u200b\u8868\u793a\u200b \u200b\u65e5\u671f\u200b\u3002\u200b\u9700\u8981\u200b 3\u200b\u4e2a\u200b\u5b57\u8282\u200b \u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002</p> <p>1.\u200b\u4ee5\u200b YYYY-MM-DD \u200b\u683c\u5f0f\u200b\u6216\u8005\u200b YYYYMMDD \u200b\u683c\u5f0f\u200b\u8868\u793a\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u65e5\u671f\u200b\uff0c\u200b\u5176\u200b\u6700\u5c0f\u200b\u53d6\u503c\u200b\u4e3a\u200b1000-01-01\uff0c\u200b\u6700\u5927\u200b\u53d6\u503c\u200b\u4e3a\u200b 9999-12-03\u3002YYYYMMDD\u200b\u683c\u5f0f\u200b\u4f1a\u200b\u88ab\u200b\u8f6c\u5316\u200b\u4e3a\u200bYYYY-MM-DD\u200b\u683c\u5f0f\u200b\u3002 </p> <p>2.\u200b\u4ee5\u200b YY-MM-DD \u200b\u683c\u5f0f\u200b\u6216\u8005\u200b YYMMDD \u200b\u683c\u5f0f\u200b\u8868\u793a\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u65e5\u671f\u200b\uff0c\u200b\u6b64\u200b\u683c\u5f0f\u200b\u4e2d\u200b\uff0c\u200b\u5e74\u4efd\u200b\u4e3a\u200b\u4e24\u4f4d\u200b\u6570\u503c\u200b\u6216\u200b\u5b57\u7b26\u4e32\u200b\u6ee1\u8db3\u200b YEAR\u200b\u7c7b\u578b\u200b\u7684\u200b\u683c\u5f0f\u200b\u6761\u4ef6\u200b\u4e3a\u200b\uff1a\u200b\u5f53\u200b\u5e74\u4efd\u200b\u53d6\u503c\u200b\u4e3a\u200b00\u200b\u5230\u200b69\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u88ab\u200b\u8f6c\u5316\u200b\u4e3a\u200b2000\u200b\u5230\u200b2069\uff1b\u200b\u5f53\u200b\u5e74\u4efd\u200b\u53d6\u503c\u200b\u4e3a\u200b70\u200b\u5230\u200b99 \u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u88ab\u200b\u8f6c\u5316\u200b\u4e3a\u200b1970\u200b\u5230\u200b1999\u3002 </p> <p>3.\u200b\u4f7f\u7528\u200b CURRENT_DATE() \u200b\u6216\u8005\u200b NOW() \u200b\u51fd\u6570\u200b\uff0c\u200b\u4f1a\u200b\u63d2\u5165\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u7684\u200b\u65e5\u671f\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#time","title":"TIME","text":"<p>3\u200b\u4e2a\u200b\u5b57\u8282\u200b\u5b58\u50a8\u200b</p> <p>\uff081\uff09\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5e26\u6709\u200b\u5192\u53f7\u200b\u7684\u200b \u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u6bd4\u5982\u200b' D HH:MM:SS' \u3001' HH:MM:SS '\u3001' HH:MM '\u3001' D HH:MM '\u3001' D HH '\u200b\u6216\u200b' SS '\u200b\u683c\u5f0f\u200b\uff0c\u200b\u90fd\u200b\u80fd\u200b\u88ab\u200b\u6b63\u200b \u200b\u786e\u5730\u200b\u63d2\u5165\u200bTIME\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4e2d\u200b\u3002\u200b\u5176\u4e2d\u200bD\u200b\u8868\u793a\u200b\u5929\u200b\uff0c\u200b\u5176\u200b\u6700\u5c0f\u503c\u200b\u4e3a\u200b0\uff0c\u200b\u6700\u5927\u503c\u200b\u4e3a\u200b34\u3002\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u5e26\u6709\u200bD\u200b\u683c\u5f0f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b \u200b\u63d2\u5165\u200bTIME\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u65f6\u200b\uff0cD\u200b\u4f1a\u200b\u88ab\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u5c0f\u65f6\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u683c\u5f0f\u200b\u4e3a\u200bD*24+HH\u3002\u200b\u5f53\u200b\u4f7f\u7528\u200b\u5e26\u6709\u200b\u5192\u53f7\u200b\u5e76\u4e14\u200b\u4e0d\u5e26\u200bD\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b \u200b\u8868\u793a\u200b\u65f6\u95f4\u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b\u5f53\u5929\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u6bd4\u5982\u200b12:10\u200b\u8868\u793a\u200b12:10:00\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b00:12:10\u3002 </p> <p>\uff082\uff09\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0d\u200b\u5e26\u6709\u200b\u5192\u53f7\u200b\u7684\u200b \u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u6570\u5b57\u200b\uff0c\u200b\u683c\u5f0f\u200b\u4e3a\u200b' HHMMSS '\u200b\u6216\u8005\u200b HHMMSS \u3002\u200b\u5982\u679c\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u4e0d\u200b\u5408\u6cd5\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u6570\u5b57\u200b\uff0cMySQL\u200b\u5728\u200b\u5b58\u200b \u200b\u50a8\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u5c06\u200b\u5176\u200b\u81ea\u52a8\u200b\u8f6c\u5316\u200b\u4e3a\u200b00:00:00\u200b\u8fdb\u884c\u200b\u5b58\u50a8\u200b\u3002\u200b\u6bd4\u5982\u200b1210\uff0cMySQL\u200b\u4f1a\u200b\u5c06\u200b\u6700\u200b\u53f3\u8fb9\u200b\u7684\u200b\u4e24\u4f4d\u200b\u89e3\u6790\u200b\u6210\u79d2\u200b\uff0c\u200b\u8868\u793a\u200b 00:12:10\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b12:10:00\u3002 </p> <p>\uff083\uff09\u200b\u4f7f\u7528\u200b CURRENT_TIME() \u200b\u6216\u8005\u200b NOW() \uff0c\u200b\u4f1a\u200b\u63d2\u5165\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#datetime","title":"DATETIME","text":"<p>8\u200b\u5b57\u8282\u200b</p> <p>\u200b\u5728\u200b\u683c\u5f0f\u200b\u4e0a\u200b \u200b\u4e3a\u200bDATE\u200b\u7c7b\u578b\u200b\u548c\u200bTIME\u200b\u7c7b\u578b\u200b\u7684\u200b\u7ec4\u5408\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8868\u793a\u200b\u4e3a\u200b YYYY-MM-DD HH:MM:SS \uff0c\u200b\u5176\u4e2d\u200bYYYY\u200b\u8868\u793a\u200b\u5e74\u4efd\u200b\uff0cMM\u200b\u8868\u793a\u200b\u6708\u200b \u200b\u4efd\u200b\uff0cDD\u200b\u8868\u793a\u200b\u65e5\u671f\u200b\uff0cHH\u200b\u8868\u793a\u200b\u5c0f\u65f6\u200b\uff0cMM\u200b\u8868\u793a\u200b\u5206\u949f\u200b\uff0cSS\u200b\u8868\u793a\u200b\u79d2\u200b\u3002</p> <p>\u200b\u4ee5\u200b YYYY-MM-DD HH:MM:SS \u200b\u683c\u5f0f\u200b\u6216\u8005\u200b YYYYMMDDHHMMSS \u200b\u683c\u5f0f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u63d2\u5165\u200bDATETIME\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u65f6\u200b\uff0c \u200b\u6700\u5c0f\u503c\u200b\u4e3a\u200b1000-01-01 00:00:00\uff0c\u200b\u6700\u5927\u503c\u200b\u4e3a\u200b9999-12-03 23:59:59\u3002\u200b\u4ee5\u200bYYYYMMDDHHMMSS\u200b\u683c\u5f0f\u200b\u7684\u200b\u6570\u5b57\u200b\u63d2\u5165\u200bDATETIME\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u88ab\u200b\u8f6c\u5316\u200b\u4e3a\u200bYYYY-MM-DD HH:MM:SS\u200b\u683c\u5f0f\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b\u51fd\u6570\u200b CURRENT_TIMESTAMP() \u200b\u548c\u200b NOW() \uff0c\u200b\u53ef\u4ee5\u200b\u5411\u200bDATETIME\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u63d2\u5165\u200b\u7cfb\u7edf\u200b\u7684\u200b\u5f53\u524d\u200b\u65e5\u671f\u200b\u548c\u200b \u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#timestamp","title":"TIMESTAMP","text":"<p>\u200b\u662f\u200b YYYY-MM-DD HH:MM:SS \uff0c\u200b\u9700\u8981\u200b4\u200b\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002\u200b\u4f46\u662f\u200bTIMESTAMP\u200b\u5b58\u50a8\u200b\u7684\u200b\u65f6\u95f4\u200b\u8303\u56f4\u200b\u6bd4\u200bDATETIME\u200b\u8981\u200b\u5c0f\u200b\u5f88\u591a\u200b\uff0c\u200b\u53ea\u80fd\u200b\u5b58\u50a8\u200b \u201c1970-01-01 00:00:01 UTC\u201d\u200b\u5230\u200b\u201c2038-01-19 03:14:07 UTC\u201d\u200b\u4e4b\u95f4\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002\u200b\u5176\u4e2d\u200b\uff0cUTC\u200b\u8868\u793a\u200b\u4e16\u754c\u200b\u7edf\u4e00\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4e5f\u200b\u53eb\u200b \u200b\u4f5c\u200b\u4e16\u754c\u200b\u6807\u51c6\u200b\u65f6\u95f4\u200b\u3002</p> <p>\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u5bf9\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\u6240\u5728\u200b\u7684\u200b\u65f6\u533a\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b\uff0c\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u518d\u200b\u5c06\u200b\u65f6\u95f4\u200b\u8f6c\u6362\u200b\u56de\u200b\u5f53\u524d\u200b\u7684\u200b\u65f6\u200b \u200b\u533a\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4f7f\u7528\u200bTIMESTAMP\u200b\u5b58\u50a8\u200b\u7684\u200b\u540c\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u503c\u200b\uff0c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u65f6\u533a\u200b\u67e5\u8be2\u200b\u65f6\u4f1a\u200b\u663e\u793a\u200b\u4e0d\u540c\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</p> <p>\u200b\u5411\u200bTIMESTAMP\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u5f53\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u636e\u683c\u5f0f\u200b\u6ee1\u8db3\u200bYY-MM-DD HH:MM:SS\u200b\u548c\u200bYYMMDDHHMMSS \u200b\u65f6\u200b\uff0c\u200b\u4e24\u4f4d\u200b\u6570\u503c\u200b\u7684\u200b\u5e74\u4efd\u200b\u540c\u6837\u200b\u7b26\u5408\u200bYEAR\u200b\u7c7b\u578b\u200b\u7684\u200b\u89c4\u5219\u200b\u6761\u4ef6\u200b\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b\u8868\u793a\u200b\u7684\u200b\u65f6\u95f4\u200b\u8303\u56f4\u200b\u8981\u200b\u5c0f\u200b\u5f88\u591a\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5411\u200bTIMESTAMP\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u63d2\u5165\u200b\u7684\u200b\u65f6\u95f4\u200b\u8d85\u51fa\u200b\u4e86\u200bTIMESTAMP\u200b\u7c7b\u578b\u200b\u7684\u200b\u8303\u56f4\u200b\uff0c\u200b\u5219\u200bMySQL\u200b\u4f1a\u200b\u629b\u51fa\u200b\u9519\u8bef\u4fe1\u606f\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#datatime-timestamp","title":"datatime timestamp \u200b\u533a\u522b","text":"<ul> <li>timestamp\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u5c0f\u200b</li> <li>timestamp\u200b\u5e95\u5c42\u200b\u5b58\u50a8\u200b\u7684\u200b\u662f\u200b\u8ddd\u79bb\u200b1970.1.1 00:00:00 \u200b\u7684\u200b\u6beb\u79d2\u200b\u6570\u200b</li> <li>timestamp\u200b\u66f4\u52a0\u200b\u9002\u5408\u200b\u8ba1\u7b97\u200b\u4fe9\u4e2a\u200b\u65e5\u671f\u200b\u7684\u200b\u6bd4\u8f83\u200b\u548c\u200b\u8ba1\u7b97\u200b</li> <li>timestamp\u200b\u548c\u200b\u65f6\u533a\u200b\u76f8\u5173\u200b</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_16","title":"\u6ce8\u610f","text":"<p>\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200bDATETIME\u200b\u548c\u200b\u65f6\u95f4\u200b\u6233\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_17","title":"\u5b57\u7b26\u200b\u7c7b\u578b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_18","title":"\u57fa\u7840","text":"<p>MySQL\u200b\u4e2d\u200b\uff0c\u200b\u6587\u672c\u200b\u5b57\u7b26\u4e32\u200b\u603b\u4f53\u200b\u4e0a\u200b\u5206\u4e3a\u200b CHAR \u3001 VARCHAR \u3001 TINYTEXT \u3001 TEXT \u3001 MEDIUMTEXT \u3001 LONGTEXT \u3001 ENUM \u3001 SET \u200b\u7b49\u200b\u7c7b\u578b\u200b\u3002</p> <p></p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#char-varchar","title":"CHAR VARCHAR","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_19","title":"\u8303\u56f4","text":"<p>65535 - \u200b\u9700\u8981\u200b1-2\u200b\u4e2a\u200b\u5b57\u8282\u200b\u8bb0\u5f55\u200b\u5b83\u200b\u7684\u200b\u957f\u5ea6\u200b</p> <p>65533/3 = 21843</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#what","title":"what","text":"<p>CHAR\u200b\u7c7b\u578b\u200b\uff1a CHAR(M) \u200b\u7c7b\u578b\u200b\u4e00\u822c\u200b\u9700\u8981\u200b\u9884\u5148\u200b\u5b9a\u4e49\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200b(M)\uff0c\u200b\u5219\u200b\u8868\u793a\u200b\u957f\u5ea6\u200b\u9ed8\u8ba4\u200b\u662f\u200b1\u200b\u4e2a\u5b57\u7b26\u200b\u3002 </p> <p>\u200b\u5982\u679c\u200b\u4fdd\u5b58\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u7684\u200b\u5b9e\u9645\u200b\u957f\u5ea6\u200b\u6bd4\u200bCHAR\u200b\u7c7b\u578b\u200b\u58f0\u660e\u200b\u7684\u200b\u957f\u5ea6\u200b\u5c0f\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5728\u200b \u200b\u53f3\u4fa7\u200b\u586b\u5145\u200b\u7a7a\u683c\u200b\u4ee5\u200b\u8fbe\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p> <p>\u200b\u5f53\u200bMySQL\u200b\u68c0\u7d22\u200bCHAR\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b\u65f6\u200b\uff0cCHAR\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4f1a\u200b\u53bb\u9664\u200b\u5c3e\u90e8\u200b\u7684\u200b\u7a7a\u683c\u200b\u3002 </p> <p>\u200b\u5b9a\u4e49\u200bCHAR\u200b\u7c7b\u578b\u200b\u5b57\u6bb5\u200b\u65f6\u200b\uff0c\u200b\u58f0\u660e\u200b\u7684\u200b\u5b57\u200b\u6bb5\u957f\u5ea6\u200b\u5373\u200b\u4e3a\u200bCHAR\u200b\u7c7b\u578b\u200b\u5b57\u6bb5\u200b\u6240\u200b\u5360\u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u7684\u200b\u5b57\u8282\u6570\u200b\u3002</p> <p>VARCHAR(M) \u200b\u5b9a\u4e49\u200b\u65f6\u200b\uff0c \u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200b \u200b\u957f\u5ea6\u200bM\uff0c\u200b\u5426\u5219\u200b\u62a5\u9519\u200b\u3002 MySQL4.0\u200b\u7248\u672c\u200b\u4ee5\u4e0b\u200b\uff0cvarchar(20)\uff1a\u200b\u6307\u200b\u7684\u200b\u662f\u200b20\u200b\u5b57\u8282\u200b\uff0c</p> <p>MySQL5.0\u200b\u7248\u672c\u200b\u4ee5\u4e0a\u200b\uff0cvarchar(20)\uff1a\u200b\u6307\u200b\u7684\u200b\u662f\u200b20\u200b\u5b57\u7b26\u200b\u3002 </p> <p>\u200b\u68c0\u7d22\u200bVARCHAR\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u4fdd\u7559\u200b\u6570\u636e\u200b\u5c3e\u90e8\u200b\u7684\u200b\u7a7a\u683c\u200b\u3002VARCHAR\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6240\u200b\u5360\u7528\u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b \u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\u5b9e\u9645\u200b\u957f\u5ea6\u200b\u52a0\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#_20","title":"\u6bd4\u8f83","text":"\u7c7b\u578b\u200b \u200b\u7279\u70b9\u200b \u200b\u7a7a\u95f4\u200b\u4e0a\u200b \u200b\u65f6\u95f4\u200b\u4e0a\u200b \u200b\u9002\u7528\u200b\u573a\u666f\u200b CHAR(M) \u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b \u200b\u6d6a\u8d39\u200b\u5b58\u50a8\u7a7a\u95f4\u200b \u200b\u6548\u7387\u9ad8\u200b \u200b\u5b58\u50a8\u200b\u4e0d\u200b\u5927\u200b\uff0c\u200b\u901f\u5ea6\u200b\u8981\u6c42\u200b\u9ad8\u200b VARCHAR(M) \u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b \u200b\u8282\u7701\u200b\u5b58\u50a8\u7a7a\u95f4\u200b \u200b\u6548\u7387\u200b\u4f4e\u200b \u200b\u975e\u200bCHAR\u200b\u7684\u200b\u60c5\u51b5\u200b <p>\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200bCHAR</p> <p>\u200b\u9891\u7e41\u200b\u53d8\u66f4\u200b\u8fd9\u4e2a\u200b\u5217\u200b\uff0c\u200b\u4f7f\u7528\u200bCHAR\uff0c\u200b\u56e0\u4e3a\u200bVARCHAR\u200b\u6bcf\u6b21\u200b\u5b58\u50a8\u200b\u90fd\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u8ba1\u7b97\u200b</p> <p>MyISAM \u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u548c\u200b\u6570\u636e\u200b\u5217\u200b\uff1aMyISAM\u200b\u6570\u636e\u8868\u200b\uff0c\u200b\u6700\u597d\u200b\u4f7f\u7528\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b(CHAR)\u200b\u7684\u200b\u6570\u636e\u200b\u5217\u200b\u4ee3\u66ff\u200b\u53ef\u53d8\u200b\u957f\u200b \u200b\u5ea6\u200b(VARCHAR)\u200b\u7684\u200b\u6570\u636e\u200b\u5217\u200b\u3002\u200b\u8fd9\u6837\u200b\u4f7f\u5f97\u200b\u6574\u4e2a\u200b\u8868\u200b\u9759\u6001\u200b\u5316\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u200b \u200b\u6570\u636e\u68c0\u7d22\u200b\u66f4\u200b\u5feb\u200b \uff0c\u200b\u7528\u200b\u7a7a\u95f4\u200b\u6362\u200b\u65f6\u95f4\u200b\u3002</p> <p>InnoDB \u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bVARCHAR\u200b\u7c7b\u578b\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5bf9\u4e8e\u200bInnoDB\u200b\u6570\u636e\u8868\u200b\uff0c\u200b\u5185\u90e8\u200b\u7684\u200b\u884c\u200b\u5b58\u50a8\u200b\u683c\u5f0f\u200b\u5e76\u200b\u6ca1\u6709\u200b\u533a\u200b \u200b\u5206\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u548c\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u5217\u200b\uff08\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u884c\u90fd\u200b\u4f7f\u7528\u200b\u6307\u5411\u200b\u6570\u636e\u200b\u5217\u503c\u200b\u7684\u200b\u5934\u200b\u6307\u9488\u200b\uff09\uff0c\u200b\u800c\u4e14\u200b\u4e3b\u8981\u200b\u5f71\u54cd\u200b\u6027\u80fd\u200b\u7684\u200b\u56e0\u7d20\u200b \u200b\u662f\u200b\u6570\u636e\u200b\u884c\u200b\u4f7f\u7528\u200b\u7684\u200b\u5b58\u50a8\u200b\u603b\u91cf\u200b\uff0c\u200b\u7531\u4e8e\u200bchar\u200b\u5e73\u5747\u200b\u5360\u7528\u200b\u7684\u200b\u7a7a\u95f4\u200b\u591a\u4e8e\u200bvarchar\uff0c\u200b\u6240\u4ee5\u200b\u9664\u4e86\u200b\u7b80\u77ed\u200b\u5e76\u4e14\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\uff0c \u200b\u5176\u4ed6\u200b\u8003\u8651\u200bvarchar\u3002\u200b\u8fd9\u6837\u200b\u8282\u7701\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u5bf9\u200b\u78c1\u76d8\u200bI/O\u200b\u548c\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u603b\u91cf\u200b\u6bd4\u8f83\u200b\u597d\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#text","title":"TEXT","text":"<p>text\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u9ed8\u8ba4\u503c\u200b</p> <p>\u200b\u800c\u4e14\u200btext\u200b\u548c\u200bblob\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b\u5220\u9664\u200b\u540e\u200b\u5bb9\u6613\u200b\u5bfc\u81f4\u200b \u201c\u200b\u7a7a\u6d1e\u200b\u201d\uff0c\u200b\u4f7f\u5f97\u200b\u6587\u4ef6\u200b\u788e\u7247\u200b\u6bd4\u8f83\u200b\u591a\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9891\u7e41\u200b\u4f7f\u7528\u200b\u7684\u200b\u8868\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u5305\u542b\u200bTEXT\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5efa\u8bae\u200b\u5355\u72ec\u200b\u5206\u200b\u51fa\u53bb\u200b\uff0c\u200b\u5355\u72ec\u200b\u7528\u200b \u200b\u4e00\u4e2a\u200b\u8868\u200b\u3002</p> <pre><code>CREATE TABLE t1(\n    id int NOT NULL,\n    `name` VARCHAR(255)\n)\n\nALTER TABLE t1 \nMODIFY id INT;\n\nINSERT INTO t1(`name`)\nVALUES ('matt')\n\nSELECT * FROM t1;\n</code></pre> <pre><code>SHOW TABLES\n\nDROP TABLE t2;\n\nCREATE TABLE t2(\n    id int UNIQUE,\n    `name` VARCHAR(255)\n)\n\nCREATE TABLE t2(\n    id int UNIQUE KEY,\n    `name` VARCHAR(255)\n)\n\nCREATE TABLE t2(\n    id int,\n    `name` VARCHAR(255)\n)\n\nALTER TABLE t2\nADD UNIQUE(id)\n\nALTER TABLE t2 \nMODIFY id INT;\n\nINSERT INTO t2(id, `name`)\nVALUES \n    (2, 'matt'),\n    (3, 'matt')\nSELECT * FROM t2;\n\nSHOW INDEX FROM t2;\n\nALTER TABLE t2\nDROP INDEX id;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/","title":"\u7ea6\u675f","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_2","title":"\u5b9a\u4e49","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_3","title":"\u4e3a\u4ec0\u4e48\u200b\u9700\u8981\u200b\u7ea6\u675f","text":"<p>\u200b\u4fdd\u8bc1\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b</p> <p>\u200b\u6570\u636e\u5b8c\u6574\u6027\u200b\uff08Data Integrity\uff09\u200b\u662f\u200b\u6307\u200b\u6570\u636e\u200b\u7684\u200b\u7cbe\u786e\u6027\u200b\uff08Accuracy\uff09\u200b\u548c\u200b\u53ef\u9760\u6027\u200b\uff08Reliability\uff09\u3002\u200b\u5b83\u200b\u662f\u200b\u9632\u6b62\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u5b58\u5728\u200b\u4e0d\u200b\u7b26\u5408\u200b\u8bed\u4e49\u200b\u89c4\u5b9a\u200b\u7684\u200b\u6570\u636e\u200b\u548c\u200b\u9632\u6b62\u200b\u56e0\u200b\u9519\u8bef\u4fe1\u606f\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u9020\u6210\u200b\u65e0\u6548\u200b\u64cd\u4f5c\u200b\u6216\u200b\u9519\u8bef\u4fe1\u606f\u200b\u800c\u200b\u63d0\u51fa\u200b\u7684\u200b\u3002</p> <ul> <li>\u200b\u5b9e\u4f53\u200b\u5b8c\u6574\u6027\u200b\uff08Entity Integrity\uff09 \uff1a\u200b\u4f8b\u5982\u200b\uff0c\u200b\u540c\u4e00\u4e2a\u200b\u8868\u4e2d\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5b58\u5728\u200b\u4e24\u6761\u200b\u5b8c\u5168\u76f8\u540c\u200b\u65e0\u6cd5\u200b\u533a\u5206\u200b\u7684\u200b\u8bb0\u5f55\u200b </li> <li>\u200b\u57df\u200b\u5b8c\u6574\u6027\u200b\uff08Domain Integrity\uff09 \uff1a\u200b\u4f8b\u5982\u200b\uff1a\u200b\u5e74\u9f84\u200b\u8303\u56f4\u200b0-120\uff0c\u200b\u6027\u522b\u200b\u8303\u56f4\u200b\u201c\u200b\u7537\u200b/\u200b\u5973\u200b\u201d</li> <li>\u200b\u5f15\u7528\u200b\u5b8c\u6574\u6027\u200b\uff08Referential Integrity\uff09 \uff1a\u200b\u4f8b\u5982\u200b\uff1a\u200b\u5458\u5de5\u200b\u6240\u5728\u200b\u90e8\u95e8\u200b\uff0c\u200b\u5728\u200b\u90e8\u95e8\u200b\u8868\u4e2d\u8981\u200b\u80fd\u200b\u627e\u5230\u200b\u8fd9\u4e2a\u200b\u90e8\u95e8\u200b </li> <li>\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u5b8c\u6574\u6027\u200b\uff08User-defined Integrity\uff09 \uff1a\u200b\u4f8b\u5982\u200b\uff1a\u200b\u7528\u6237\u540d\u200b\u552f\u4e00\u200b\u3001\u200b\u5bc6\u7801\u200b\u4e0d\u80fd\u200b\u4e3a\u7a7a\u200b\u7b49\u200b\uff0c\u200b\u672c\u200b\u90e8\u95e8\u200b \u200b\u7ecf\u7406\u200b\u7684\u200b\u5de5\u8d44\u200b\u4e0d\u5f97\u200b\u9ad8\u4e8e\u200b\u672c\u200b\u90e8\u95e8\u200b\u804c\u5de5\u200b\u7684\u200b\u5e73\u5747\u5de5\u8d44\u200b\u7684\u200b5\u200b\u500d\u200b\u3002</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_4","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u7ea6\u675f\u200b\u662f\u200b\u8868\u7ea7\u200b\u7684\u200b\u5f3a\u5236\u200b\u89c4\u5b9a\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_5","title":"\u975e\u7a7a","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_6","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u4e3a\u7a7a\u200b</p> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <p>\u200b\u53ea\u200b\u53ef\u4ee5\u200b\u5355\u5217\u200b\u4f7f\u7528\u200b</p> <p>0\u200b\u548c\u200b\u7a7a\u4e32\u200b\u90fd\u200b\u4e0d\u662f\u200bNULL</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_7","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_8","title":"\u6dfb\u52a0\u200b\u975e\u7a7a\u200b\u7ea6\u675f","text":"<p>\u200b\u5efa\u8868\u524d\u200b</p> <pre><code>CREATE TABLE IF NOT EXISTS c1 (\n    id INT(11) AUTO_INCREMENT COMMENT 'id',\n    `name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u59d3\u540d\u200b',\n    `age` INT(11) NOT NULL COMMENT '\u200b\u5e74\u9f84\u200b',  \n    PRIMARY KEY(id)\n)\n</code></pre> <p>\u200b\u5efa\u8868\u540e\u200b</p> <pre><code>alter table \u200b\u8868\u200b\u540d\u79f0\u200b modify \u200b\u5b57\u6bb5\u540d\u200b \u200b\u6570\u636e\u7c7b\u578b\u200b not null;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_9","title":"\u5220\u9664\u200b\u975e\u7a7a\u200b\u7ea6\u675f","text":"<pre><code>ALTER TABLE c1\nMODIFY age int;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_10","title":"\u552f\u4e00\u6027\u200b\u7ea6\u675f","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_11","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u67d0\u4e2a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u503c\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b</p> <ul> <li>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u591a\u4e2a\u200b\u5217\u200b</li> <li>\u200b\u5141\u8bb8\u200b\u4e3a\u7a7a\u200b</li> <li>\u200b\u5982\u679c\u200b\u6ca1\u200b\u6307\u5b9a\u200b\u7ea6\u675f\u200b\u540d\u4e2d\u200b\u5219\u200b\u9ed8\u8ba4\u200b\u548c\u200b\u5217\u540d\u200b\u76f8\u540c\u200b</li> <li>\u200b\u540c\u65f6\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7d22\u5f15\u200b</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_12","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_13","title":"\u6dfb\u52a0\u200b\u552f\u4e00\u6027\u200b\u7ea6\u675f","text":"<pre><code>CREATE TABLE IF NOT EXISTS c2 (\n    id INT(11) AUTO_INCREMENT COMMENT 'id',\n    `name` VARCHAR(255) NOT NULL UNIQUE KEY DEFAULT '' COMMENT '\u200b\u59d3\u540d\u200b',\n    `age` INT(11) NOT NULL COMMENT '\u200b\u5e74\u9f84\u200b',  \n    PRIMARY KEY(id)\n)\n\n\nCREATE TABLE IF NOT EXISTS c21 (\n    id INT(11) AUTO_INCREMENT COMMENT 'id',\n    `name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u59d3\u540d\u200b',\n    `age` INT(11) NOT NULL COMMENT '\u200b\u5e74\u9f84\u200b',  \n    PRIMARY KEY(id),\n        CONSTRAINT AGE_NAME_UNI UNIQUE KEY(name, age)\n)\n</code></pre> <pre><code>alter table \u200b\u8868\u200b\u540d\u79f0\u200b add unique key(\u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b);\n\n\nalter table \u200b\u8868\u200b\u540d\u79f0\u200b modify \u200b\u5b57\u6bb5\u540d\u200b \u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b unique;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_14","title":"\u5220\u9664\u200b\u552f\u4e00\u6027\u200b\u7ea6\u675f","text":"<p>\u200b\u552f\u4e00\u200b\u7ea6\u675f\u200b\u540d\u200b\u548c\u200b\u7d22\u5f15\u200b\u540d\u200b\u76f8\u540c\u200b</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5219\u200b\u548c\u200b\u5217\u540d\u200b\u76f8\u540c\u200b\uff08\u200b\u7ec4\u5408\u200b\u5217\u5219\u200b\u662f\u200b\u7b2c\u4e00\u4e2a\u200b\u5217\u200b\uff09</p> <pre><code>#\u200b\u67e5\u770b\u200b\u90fd\u200b\u6709\u200b\u54ea\u4e9b\u200b\u7ea6\u675f\u200b\nSELECT * FROM information_schema.table_constraints WHERE table_name = '\u200b\u8868\u540d\u200b'; \n\n\n\nALTER TABLE USER\nDROP INDEX uk_name_pwd;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_15","title":"\u4e3b\u952e","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_16","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u552f\u4e00\u200b\u8868\u793a\u200b\u8868\u4e2d\u200b\u7684\u200b\u4e00\u6761\u200b\u8bb0\u5f55\u200b \u200b\u552f\u4e00\u200b+\u200b\u4e3a\u7a7a\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5217\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u591a\u4e2a\u200b\u5217\u200b\u7ec4\u5408\u200b</p> <p>\u200b\u4e00\u4e2a\u200b\u8868\u200b\u6700\u200b\u591a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e3b\u952e\u200b</p> <p>\u200b\u4e3b\u952e\u200b\u540d\u200b\u603b\u662f\u200bPRIMARY</p> <p>\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e3b\u952e\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u4e3b\u952e\u200b\u7d22\u5f15\u200b\uff0c\u200b\u540c\u65f6\u200b\u5982\u679c\u200b\u5220\u9664\u200b\u4e3b\u952e\u200b\u81ea\u52a8\u200b\u5220\u9664\u200b\u4e3b\u952e\u200b\u7d22\u5f15\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_17","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_18","title":"\u6dfb\u52a0\u200b\u4e3b\u952e\u200b\u7ea6\u675f","text":"<pre><code>create table temp(\n  id int primary key,\n  name varchar(20)\n);\n</code></pre> <pre><code>CREATE TABLE emp5(\n  id INT NOT NULL AUTO_INCREMENT,\n  NAME VARCHAR(20),\n  pwd VARCHAR(15),\n  CONSTRAINT emp5_id_pk PRIMARY KEY(id)\n);\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_19","title":"\u5220\u9664\u200b\u4e3b\u952e\u200b\u7ea6\u675f","text":"<pre><code>ALTER TABLE student DROP PRIMARY KEY;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#auto_increment","title":"AUTO_INCREMENT","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_20","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u67d0\u4e2a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u503c\u200b\u81ea\u589e\u200b</p> <p>AUTO_INCREMENT</p> <p>\u200b\u4e00\u4e2a\u200b\u8868\u200b\u53ea\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u81ea\u200b\u589e\u5217\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5217\u200b\u5fc5\u987b\u200b\u662f\u200b\u6574\u6570\u200b\u7c7b\u578b\u200b+(\u200b\u552f\u4e00\u200b\u5217\u200b or \u200b\u4e3b\u952e\u200b\u5217\u200b)</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_21","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_22","title":"\u6dfb\u52a0\u200b\u81ea\u589e","text":"<pre><code>create table employee(\n  eid int primary key ,\n  ename varchar(20)\n);\n</code></pre> <pre><code>alter table employee modify eid int auto_increment;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_23","title":"\u5220\u9664\u200b\u7ea6\u675f","text":"<pre><code>alter table employee modify eid int;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_24","title":"\u53d8\u5316","text":"<p>\u200b\u5728\u200bMySQL 8.0\u200b\u4e4b\u524d\u200b\uff0c\u200b\u81ea\u589e\u200b\u4e3b\u952e\u200bAUTO_INCREMENT\u200b\u7684\u200b\u503c\u200b\u5982\u679c\u200b\u5927\u4e8e\u200bmax(primary key)+1\uff0c\u200b\u5728\u200bMySQL\u200b\u91cd\u542f\u200b\u540e\u200b\uff0c\u200b\u4f1a\u91cd\u200b \u200b\u7f6e\u200bAUTO_INCREMENT=max(primary key)+1\uff0c\u200b\u8fd9\u79cd\u200b\u73b0\u8c61\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u4f1a\u200b\u5bfc\u81f4\u200b\u4e1a\u52a1\u200b\u4e3b\u952e\u200b\u51b2\u7a81\u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u96be\u4ee5\u200b\u53d1\u200b \u200b\u73b0\u200b\u7684\u200b\u95ee\u9898\u200b\u3002 </p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_25","title":"\u5916\u952e","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_26","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u9650\u5236\u200b\u67d0\u4e2a\u200b\u8868\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u5f15\u7528\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b</p> <p>\u200b\u6bd4\u5982\u200b\uff1a\u200b\u5458\u5de5\u200b\u8868\u200b\u7684\u200b\u5458\u5de5\u200b\u6240\u5728\u200b\u90e8\u95e8\u200b\u7684\u200b\u9009\u62e9\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5728\u200b\u90e8\u95e8\u200b\u8868\u80fd\u200b\u627e\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b\u90e8\u5206\u200b\u3002</p> <p>\u200b\u4e3b\u8868\u200b\uff08\u200b\u7236\u8868\u200b\uff09\uff1a\u200b\u88ab\u200b\u5f15\u7528\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u88ab\u200b\u53c2\u8003\u200b\u7684\u200b\u8868\u200b \u200b\u4ece\u8868\u200b\uff08\u200b\u5b50\u8868\u200b\uff09\uff1a\u200b\u5f15\u7528\u200b\u522b\u4eba\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u53c2\u8003\u200b\u522b\u4eba\u200b\u7684\u200b\u8868\u200b </p> <p>\u200b\u4f8b\u5982\u200b\uff1a\u200b\u5458\u5de5\u200b\u8868\u200b\u7684\u200b\u5458\u5de5\u200b\u6240\u5728\u200b\u90e8\u95e8\u200b\u8fd9\u4e2a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u503c\u200b\u8981\u200b\u53c2\u8003\u200b\u90e8\u95e8\u200b\u8868\u200b\uff1a\u200b\u90e8\u95e8\u200b\u8868\u662f\u200b\u4e3b\u8868\u200b\uff0c\u200b\u5458\u5de5\u200b\u8868\u200b\u662f\u4ece\u200b\u8868\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_27","title":"\u7279\u70b9","text":"<p>\u200b\u4ece\u8868\u200b\u7684\u200b\u5916\u952e\u5217\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5f15\u7528\u200b/\u200b\u53c2\u8003\u200b\u4e3b\u8868\u200b\u7684\u200b\u4e3b\u952e\u200b\u6216\u200b\u552f\u4e00\u200b\u7ea6\u675f\u200b\u7684\u200b\u5217\u200b</p> <p>\u200b\u521b\u5efa\u200b\u8868\u200b\u5148\u4e3b\u200b\u8868\u540e\u200b\u4ece\u8868\u200b\uff0c \u200b\u5220\u9664\u200b\u8868\u5148\u200b\u4ece\u200b\u540e\u4e3b\u200b \u200b\u63d2\u5165\u200b+\u200b\u5220\u9664\u200b\u6570\u636e\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b</p> <p>\u200b\u5220\u9664\u200b\u5916\u952e\u200b\u7ea6\u675f\u200b\u540e\u200b \u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u5220\u9664\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7d22\u5f15\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_28","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_29","title":"\u6dfb\u52a0\u200b\u5916\u952e\u200b\u7ea6\u675f","text":"<pre><code>create table \u200b\u4e3b\u8868\u200b\u540d\u79f0\u200b(\n\u200b\u5b57\u200b\u6bb5\u200b1 \u200b\u6570\u636e\u7c7b\u578b\u200b primary key,\n\u200b\u5b57\u200b\u6bb5\u200b2 \u200b\u6570\u636e\u7c7b\u578b\u200b\n);\ncreate table \u200b\u4ece\u8868\u200b\u540d\u79f0\u200b(\n\u200b\u5b57\u200b\u6bb5\u200b1 \u200b\u6570\u636e\u7c7b\u578b\u200b primary key,\n\u200b\u5b57\u200b\u6bb5\u200b2 \u200b\u6570\u636e\u7c7b\u578b\u200b,\n[CONSTRAINT &lt;\u200b\u5916\u952e\u200b\u7ea6\u675f\u200b\u540d\u79f0\u200b&gt;] FOREIGN KEY\uff08\u200b\u4ece\u8868\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b) references \u200b\u4e3b\u8868\u200b\u540d\u200b(\u200b\u88ab\u200b\u53c2\u8003\u5b57\u200b\u6bb5\u200b)\n);\n\n#(\u200b\u4ece\u8868\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b)\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u5fc5\u987b\u200b\u4e0e\u200b\u4e3b\u8868\u200b\u540d\u200b(\u200b\u88ab\u200b\u53c2\u8003\u5b57\u200b\u6bb5\u200b)\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u4e00\u81f4\u200b\uff0c\u200b\u903b\u8f91\u200b\u610f\u4e49\u200b\u4e5f\u200b\u4e00\u6837\u200b\n#(\u200b\u4ece\u8868\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b)\u200b\u7684\u200b\u5b57\u6bb5\u540d\u200b\u53ef\u4ee5\u200b\u4e0e\u200b\u4e3b\u8868\u200b\u540d\u200b(\u200b\u88ab\u200b\u53c2\u8003\u5b57\u200b\u6bb5\u200b)\u200b\u7684\u200b\u5b57\u6bb5\u540d\u200b\u4e00\u6837\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u4e00\u6837\u200b\n-- FOREIGN KEY: \u200b\u5728\u200b\u8868\u7ea7\u200b\u6307\u5b9a\u200b\u5b50\u8868\u200b\u4e2d\u200b\u7684\u200b\u5217\u200b\n-- REFERENCES: \u200b\u6807\u793a\u200b\u5728\u200b\u7236\u8868\u4e2d\u200b\u7684\u200b\u5217\u200b\n</code></pre> <pre><code>ALTER TABLE \u200b\u4ece\u8868\u540d\u200b ADD [CONSTRAINT \u200b\u7ea6\u675f\u200b\u540d\u200b] FOREIGN KEY (\u200b\u4ece\u8868\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b) REFERENCES \u200b\u4e3b\u8868\u200b\u540d\u200b(\u200b\u88ab\u200b\u5f15\u7528\u200b\n\u200b\u5b57\u200b\u6bb5\u200b) [on update xx][on delete xx];\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_30","title":"\u5220\u9664\u200b\u7ea6\u675f","text":"<pre><code>(1)\u200b\u7b2c\u4e00\u6b65\u200b\u5148\u200b\u67e5\u770b\u200b\u7ea6\u675f\u200b\u540d\u200b\u548c\u200b\u5220\u9664\u200b\u5916\u952e\u200b\u7ea6\u675f\u200b\nSELECT * FROM information_schema.table_constraints WHERE table_name = '\u200b\u8868\u200b\u540d\u79f0\u200b';#\u200b\u67e5\u770b\u200b\u67d0\u4e2a\u200b\n\u200b\u8868\u200b\u7684\u200b\u7ea6\u675f\u200b\u540d\u200b\nALTER TABLE \u200b\u4ece\u8868\u540d\u200b DROP FOREIGN KEY \u200b\u5916\u952e\u200b\u7ea6\u675f\u200b\u540d\u200b;\n\n\n\uff082\uff09\u200b\u7b2c\u4e8c\u6b65\u200b\u67e5\u770b\u200b\u7d22\u5f15\u200b\u540d\u200b\u548c\u200b\u5220\u9664\u200b\u7d22\u5f15\u200b\u3002\uff08\u200b\u6ce8\u610f\u200b\uff0c\u200b\u53ea\u80fd\u200b\u624b\u52a8\u200b\u5220\u9664\u200b\uff09\nSHOW INDEX FROM \u200b\u8868\u200b\u540d\u79f0\u200b; #\u200b\u67e5\u770b\u200b\u67d0\u4e2a\u200b\u8868\u200b\u7684\u200b\u7d22\u5f15\u200b\u540d\u200b\nALTER TABLE \u200b\u4ece\u8868\u540d\u200b DROP INDEX \u200b\u7d22\u5f15\u200b\u540d\u200b;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_31","title":"\u7ea6\u675f\u200b\u7b49\u7ea7","text":"<ul> <li>Cascade\u200b\u65b9\u5f0f\u200b \uff1a\u200b\u5728\u200b\u7236\u8868\u4e0a\u200bupdate/delete\u200b\u8bb0\u5f55\u200b\u65f6\u200b\uff0c\u200b\u540c\u6b65\u200bupdate/delete\u200b\u6389\u200b\u5b50\u8868\u200b\u7684\u200b\u5339\u914d\u200b\u8bb0\u5f55\u200b </li> <li>Set null\u200b\u65b9\u5f0f\u200b \uff1a\u200b\u5728\u200b\u7236\u8868\u4e0a\u200bupdate/delete\u200b\u8bb0\u5f55\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u5b50\u8868\u200b\u4e0a\u200b\u5339\u914d\u200b\u8bb0\u5f55\u200b\u7684\u200b\u5217\u8bbe\u200b\u4e3a\u200bnull\uff0c\u200b\u4f46\u662f\u200b\u8981\u200b\u6ce8\u610f\u200b\u5b50\u200b \u200b\u8868\u200b\u7684\u200b\u5916\u952e\u5217\u200b\u4e0d\u80fd\u200b\u4e3a\u200bnot null </li> <li>No action\u200b\u65b9\u5f0f\u200b \uff1a\u200b\u5982\u679c\u200b\u5b50\u8868\u200b\u4e2d\u6709\u200b\u5339\u914d\u200b\u7684\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u5bf9\u200b\u7236\u8868\u200b\u5bf9\u5e94\u200b\u5019\u9009\u200b\u952e\u200b\u8fdb\u884c\u200bupdate/delete\u200b\u64cd\u4f5c\u200b </li> <li>Restrict\u200b\u65b9\u5f0f\u200b \uff1a\u200b\u540c\u200bno action\uff0c \u200b\u90fd\u200b\u662f\u200b\u7acb\u5373\u200b\u68c0\u67e5\u200b\u5916\u952e\u200b\u7ea6\u675f\u200b </li> <li>Set default\u200b\u65b9\u5f0f\u200b \uff08\u200b\u5728\u200b\u53ef\u89c6\u5316\u200b\u5de5\u5177\u200bSQLyog\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u663e\u793a\u200b\u7a7a\u767d\u200b\uff09\uff1a\u200b\u7236\u8868\u6709\u200b\u53d8\u66f4\u200b\u65f6\u200b\uff0c\u200b\u5b50\u8868\u200b\u5c06\u200b\u5916\u952e\u5217\u200b\u8bbe\u7f6e\u200b \u200b\u6210\u200b\u4e00\u4e2a\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u4f46\u200bInnodb\u200b\u4e0d\u80fd\u200b\u8bc6\u522b\u200b</li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u5916\u952e\u200b\u7ea6\u675f\u200b\uff0c\u200b\u6700\u597d\u200b\u662f\u200b\u91c7\u7528\u200b: ON UPDATE CASCADE ON DELETE RESTRICT \u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#check","title":"check","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_32","title":"\u662f\u200b\u4ec0\u4e48","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_33","title":"\u5b9a\u4e49","text":"<p>\u200b\u6821\u9a8c\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u662f\u5426\u200b\u6ee1\u8db3\u6761\u4ef6\u200b</p> <p>CHECK</p> <p>mysql5.7 check\u200b\u5e76\u200b\u4e0d\u8d77\u4f5c\u7528\u200b\uff0c 8.0\u200b\u8d77\u200b\u4f5c\u7528\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_34","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#check_1","title":"\u6dfb\u52a0\u200bcheck\u200b\u7ea6\u675f","text":"<pre><code>create table employee(\n  eid int check(eid &gt; 0) ,\n  ename varchar(20)\n);\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#default","title":"default","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_35","title":"\u662f\u200b\u4ec0\u4e48","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_36","title":"\u5b9a\u4e49","text":"<p>\u200b\u7ed9\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u6307\u5b9a\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u663e\u793a\u200b\u8d4b\u503c\u200b\u5219\u200b\u91c7\u7528\u200b\u9ed8\u8ba4\u503c\u200b</p> <p>DEFAULT</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_37","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/13-%E7%BA%A6%E6%9D%9F/#_38","title":"\u6dfb\u52a0\u200b\u9ed8\u8ba4\u503c","text":"<pre><code>create table employee(\n  eid int primary key,\n  ename varchar(20) not null,\n  gender char default '\u200b\u7537\u200b',\n  tel char(11) not null default '' #\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\n);\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/","title":"14-\u200b\u89c6\u56fe","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_1","title":"\u57fa\u7840","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_2","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u89c6\u56fe\u200b\u662f\u200b\u4e00\u79cd\u200b\u865a\u62df\u200b\u8868\u200b \uff0c\u200b\u672c\u8eab\u200b\u662f\u200b\u4e0d\u200b\u5177\u6709\u200b\u6570\u636e\u200b\u7684\u200b\uff0c\u200b\u5360\u7528\u200b\u5f88\u5c11\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b</p> <p>\u200b\u89c6\u56fe\u200b\u5efa\u7acb\u200b\u5728\u200b\u5df2\u6709\u200b\u8868\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b, \u200b\u89c6\u56fe\u200b\u8d56\u4ee5\u200b\u5efa\u7acb\u200b\u7684\u200b\u8fd9\u4e9b\u200b\u8868\u200b\u79f0\u4e3a\u200b\u57fa\u8868\u200b\u3002</p> <p>\u200b\u89c6\u56fe\u200b\u7684\u200b\u521b\u5efa\u200b\u548c\u200b\u5220\u9664\u200b\u53ea\u200b\u5f71\u54cd\u200b\u89c6\u56fe\u200b\u672c\u8eab\u200b\uff0c\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u5bf9\u5e94\u200b\u7684\u200b\u57fa\u8868\u200b\u3002\u200b\u4f46\u662f\u200b\u5f53\u5bf9\u200b\u89c6\u56fe\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u589e\u52a0\u200b\u3001\u200b\u5220\u9664\u200b\u548c\u200b \u200b\u4fee\u6539\u200b\u64cd\u4f5c\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u4f1a\u200b\u76f8\u5e94\u200b\u5730\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u53cd\u4e4b\u4ea6\u7136\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_3","title":"\u4e3a\u4ec0\u4e48","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_4","title":"\u4f18\u70b9","text":"<p>1.\u200b\u64cd\u4f5c\u200b\u7b80\u5355\u200b</p> <p>\u200b\u89c6\u56fe\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u80fd\u200b\u6765\u81ea\u200b\u591a\u200b\u5f20\u8868\u200b\u590d\u6742\u200b\u67e5\u8be2\u200b\uff0c \u200b\u7528\u6237\u200b\u5e76\u4e0d\u9700\u8981\u200b\u5173\u5fc3\u200b\uff0c\u200b\u6570\u636e\u200b\u5982\u4f55\u200b\u6765\u200b</p> <p>2.\u200b\u51cf\u5c11\u200b\u6570\u636e\u200b\u5197\u4f59\u200b</p> <p>\u200b\u89c6\u56fe\u200b\u672c\u8eab\u200b\u5e76\u200b\u4e0d\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b</p> <p>3.\u200b\u6570\u636e\u5b89\u5168\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u662f\u200b\u539f\u59cb\u200b\u8868\u200b\u7684\u200b\u90e8\u5206\u200b\u6570\u636e\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_5","title":"\u7f3a\u70b9","text":"<p>1.\u200b\u539f\u59cb\u200b\u8868\u200b\u6570\u636e\u7ed3\u6784\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b</p> <p>2.\u200b\u89c6\u56fe\u200b\u8fc7\u591a\u200b\u7ef4\u62a4\u200b\u6210\u672c\u200b\u9ad8\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_6","title":"\u64cd\u4f5c","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_7","title":"\u521b\u5efa\u200b\u89c6\u56fe","text":"<p>\u200b\u521b\u5efa\u200b\u8868\u200b</p> <pre><code>CREATE TABLE IF NOT EXISTS emp (\n    id INT(11) AUTO_INCREMENT COMMENT 'id',\n    `last_name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u59d3\u540d\u200b',\n    `age` INT(11) NOT NULL DEFAULT 0 COMMENT '\u200b\u5e74\u9f84\u200b',\n    dept_id INT(11) NOT NULL DEFAULT 0 COMMENT '\u200b\u90e8\u95e8\u200bid',\n    PRIMARY KEY(id)\n);\n\nCREATE TABLE IF NOT EXISTS dept (\n    id INT(11) AUTO_INCREMENT COMMENT '\u200b\u90e8\u95e8\u200bid',\n    `name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '\u200b\u90e8\u95e8\u200b\u540d\u5b57\u200b',\n    PRIMARY KEY(id)\n);\n</code></pre> <pre><code># \u200b\u57fa\u7840\u200b\u8868\u200b\nCREATE VIEW v1 \nAS\nSELECT * FROM emp;\n\n\nCREATE VIEW v2 (ID, last_name, age, dept_id)\nAS\nSELECT * FROM emp;\n\n\n\nselect * from v2;\n\n\n# \u200b\u591a\u8868\u200b\u67e5\u8be2\u200b\nCREATE VIEW v3 \nAS\nSELECT e.id EID, d.name DNAME \nFROM emp e\nINNER JOIN dept d\nON e.dept_id = d.id\n</code></pre> <p>\u200b\u5728\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b\u65f6\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5728\u200b\u89c6\u56fe\u200b\u540d\u200b\u540e\u9762\u200b\u6307\u5b9a\u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\uff0c\u200b\u5219\u200b\u89c6\u56fe\u200b\u4e2d\u5b57\u6bb5\u200b\u5217\u8868\u200b\u9ed8\u8ba4\u200b\u548c\u200bSELECT\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200b\u5b57\u200b \u200b\u6bb5\u200b\u5217\u8868\u200b\u4e00\u81f4\u200b\u3002\u200b\u5982\u679c\u200bSELECT\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7ed9\u200b\u5b57\u200b\u6bb5\u200b\u53d6\u200b\u4e86\u200b\u522b\u540d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u89c6\u56fe\u200b\u4e2d\u200b\u7684\u200b\u5b57\u6bb5\u540d\u200b\u548c\u200b\u522b\u540d\u200b\u76f8\u540c\u200b\u3002</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u57fa\u4e8e\u200b\u89c6\u56fe\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_8","title":"\u67e5\u770b\u200b\u89c6\u56fe","text":"<pre><code># \u200b\u67e5\u770b\u200b\u8868\u200b+\u200b\u89c6\u56fe\u200b\nSHOW TABLES;\n\n# \u200b\u67e5\u770b\u200b\u89c6\u56fe\u200b\u7684\u200b\u63cf\u8ff0\u200b\u4fe1\u606f\u200b\nDESC v1;\n\n# \u200b\u67e5\u770b\u200b\u89c6\u56fe\u200b\u521b\u5efa\u200b\u8bed\u53e5\u200b\nSHOW CREATE VIEW v3;\n\n# \u200b\u67e5\u770b\u200b\u89c6\u56fe\u200b\u4fe1\u606f\u200b\uff08\u200b\u663e\u793a\u200b\u6570\u636e\u8868\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u3001\u200b\u7248\u672c\u200b\u3001\u200b\u6570\u636e\u200b\u884c\u6570\u200b\u548c\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u7b49\u200b\uff09\nSHOW TABLE STATUS LIKE 'v1'\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_9","title":"\u89c6\u56fe\u200b\u6570\u636e\u200b\u66f4\u65b0","text":"<p>\u200b\u4e00\u822c\u200b\u662f\u200b\u53ef\u4ee5\u200b insert update delete</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_10","title":"\u4ee5\u4e0b\u200b\u60c5\u51b5\u200b\u5747\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u66f4\u65b0","text":"Warning <ul> <li>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200b\u65f6\u5019\u200b\u6307\u5b9a\u200b\u4e86\u200b\u201cALGORITHM = TEMPTABLE\u201d\uff0c\u200b\u89c6\u56fe\u200b\u5c06\u200b\u4e0d\u200b\u652f\u6301\u200bINSERT\u200b\u548c\u200bDELETE\u200b\u64cd\u4f5c\u200b\uff1b</li> <li>\u200b\u89c6\u56fe\u200b\u4e2d\u200b\u4e0d\u200b\u5305\u542b\u200b\u57fa\u8868\u4e2d\u200b\u6240\u6709\u200b\u88ab\u200b\u5b9a\u4e49\u200b\u4e3a\u200b\u975e\u7a7a\u200b\u53c8\u200b\u672a\u6307\u5b9a\u200b\u9ed8\u8ba4\u503c\u200b\u7684\u200b\u5217\u200b\uff0c\u200b\u89c6\u56fe\u200b\u5c06\u200b\u4e0d\u200b\u652f\u6301\u200bINSERT\u200b\u64cd\u4f5c\u200b\uff1b </li> <li>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200bSELECT\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e86\u200b JOIN\u200b\u8054\u5408\u200b\u67e5\u8be2\u200b \uff0c\u200b\u89c6\u56fe\u200b\u5c06\u200b\u4e0d\u200b\u652f\u6301\u200bINSERT\u200b\u548c\u200bDELETE\u200b\u64cd\u4f5c\u200b\uff1b</li> <li>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200bSELECT\u200b\u8bed\u53e5\u200b\u540e\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e86\u200b \u200b\u6570\u5b66\u200b\u8868\u8fbe\u5f0f\u200b \u200b\u6216\u200b \u200b\u5b50\u200b\u67e5\u8be2\u200b \uff0c\u200b\u89c6\u56fe\u200b\u5c06\u200b\u4e0d\u200b\u652f\u6301\u200bINSERT\uff0c\u200b\u4e5f\u200b \u200b\u4e0d\u200b\u652f\u6301\u200bUPDATE</li> <li>\u200b\u4f7f\u7528\u200b\u4e86\u200b\u6570\u5b66\u200b\u8868\u8fbe\u5f0f\u200b\u3001\u200b\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u5b57\u200b\u6bb5\u503c\u200b\uff1b </li> <li>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200bSELECT\u200b\u8bed\u53e5\u200b\u540e\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5217\u8868\u200b\u4e2d\u200b\u4f7f\u7528\u200b DISTINCT \u3001 \u200b\u805a\u5408\u200b\u51fd\u6570\u200b \u3001 GROUP BY \u3001 HAVING \u3001 UNION \u200b\u7b49\u200b\uff0c\u200b\u89c6\u56fe\u200b\u5c06\u200b\u4e0d\u200b\u652f\u6301\u200bINSERT\u3001UPDATE\u3001DELETE\uff1b </li> <li>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200bSELECT\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u5305\u542b\u200b\u4e86\u200b\u5b50\u200b\u67e5\u8be2\u200b\uff0c\u200b\u800c\u5b50\u200b\u67e5\u8be2\u200b\u4e2d\u200b\u5f15\u7528\u200b\u4e86\u200bFROM\u200b\u540e\u9762\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u89c6\u56fe\u200b\u5c06\u200b\u4e0d\u200b\u652f\u6301\u200b INSERT\u3001UPDATE\u3001DELETE\uff1b</li> <li>\u200b\u89c6\u56fe\u200b\u5b9a\u4e49\u200b\u57fa\u4e8e\u200b\u4e00\u4e2a\u200b \u200b\u4e0d\u53ef\u200b\u66f4\u65b0\u200b\u89c6\u56fe\u200b</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_11","title":"\u4fee\u6539\u200b\u89c6\u56fe","text":"<pre><code>ALTER VIEW \u200b\u89c6\u56fe\u200b\u540d\u79f0\u200b\nAS\n\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/14-%E8%A7%86%E5%9B%BE/#_12","title":"\u5220\u9664\u200b\u89c6\u56fe","text":"<pre><code>DROP VIEW IF EXISTS \u200b\u89c6\u56fe\u200b\u540d\u79f0\u200b;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/","title":"15-\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u548c\u200b\u51fd\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_1","title":"\u5b58\u50a8\u200b\u8fc7\u7a0b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_2","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u5c31\u662f\u200b\u4e00\u7ec4\u200b\u7ecf\u8fc7\u200b \u200b\u9884\u5148\u200b\u7f16\u8bd1\u200b \u200b\u7684\u200b SQL \u200b\u8bed\u53e5\u200b \u200b\u7684\u200b\u5c01\u88c5\u200b \u200b\u5b58\u50a8\u200b\u5230\u200bmysql</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_3","title":"\u8bed\u6cd5","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_4","title":"\u57fa\u7840\u200b\u683c\u5f0f","text":"<pre><code>CREATE PROCEDURE \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u540d\u200b(IN|OUT|INOUT \u200b\u53c2\u6570\u200b\u540d\u200b \u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b,...)\n[characteristics ...]\n  BEGIN\n  \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u4f53\u200b\n  END\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_5","title":"\u7279\u522b\u200b\u8bf4\u660e","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#1","title":"1.\u200b\u6a21\u5f0f","text":"<p>IN \uff1a\u200b\u5f53\u524d\u200b\u53c2\u6570\u200b\u4e3a\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8868\u793a\u200b\u5165\u53c2\u200b\uff1b \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u53ea\u662f\u200b\u8bfb\u53d6\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u7684\u200b\u503c\u200b\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u5b9a\u4e49\u200b\u53c2\u6570\u200b\u79cd\u7c7b\u200b\uff0c \u200b\u9ed8\u8ba4\u200b\u5c31\u662f\u200b IN \uff0c\u200b\u8868\u793a\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\u3002  OUT \uff1a\u200b\u5f53\u524d\u200b\u53c2\u6570\u200b\u4e3a\u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8868\u793a\u200b\u51fa\u53c2\u200b\uff1b \u200b\u6267\u884c\u200b\u5b8c\u6210\u200b\u4e4b\u540e\u200b\uff0c\u200b\u8c03\u7528\u200b\u8fd9\u4e2a\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u6216\u8005\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8bfb\u53d6\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u8fd4\u56de\u200b\u7684\u200b\u503c\u200b\u4e86\u200b\u3002  INOUT \uff1a\u200b\u5f53\u524d\u200b\u53c2\u6570\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u8f93\u51fa\u200b\u53c2\u6570\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#2-mysql","title":"2.\u200b\u5f62\u53c2\u200b\u7c7b\u578b\u200b\u53ef\u4ee5\u200b\u662f\u200b MySQL\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u4efb\u610f\u200b\u7c7b\u578b\u200b\u3002","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#3characteristics","title":"3.characteristics \u200b\u8868\u793a\u200b\u521b\u5efa\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u65f6\u200b\u6307\u5b9a\u200b\u7684\u200b\u5bf9\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u7ea6\u675f\u6761\u4ef6","text":"<pre><code>LANGUAGE SQL\n| [NOT] DETERMINISTIC\n| { CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA }\n| SQL SECURITY { DEFINER | INVOKER }\n| COMMENT 'string'\n</code></pre> <p>LANGUAGE SQL \uff1a\u200b\u8bf4\u660e\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u6267\u884c\u200b\u4f53\u662f\u200b\u7531\u200bSQL\u200b\u8bed\u53e5\u200b\u7ec4\u6210\u200b\u7684\u200b\uff0c\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u652f\u6301\u200b\u7684\u200b\u8bed\u8a00\u200b\u4e3a\u200bSQL\u3002 </p> <p>[NOT] DETERMINISTIC \uff1a\u200b\u6307\u660e\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u6267\u884c\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u5426\u200b\u786e\u5b9a\u200b\u3002</p> <p>DETERMINISTIC\u200b\u8868\u793a\u200b\u7ed3\u679c\u200b\u662f\u200b\u786e\u5b9a\u200b \u200b\u7684\u200b\u3002\u200b\u6bcf\u6b21\u200b\u6267\u884c\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u65f6\u200b\uff0c\u200b\u76f8\u540c\u200b\u7684\u200b\u8f93\u5165\u200b\u4f1a\u200b\u5f97\u5230\u200b\u76f8\u540c\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002</p> <p>NOT DETERMINISTIC\u200b\u8868\u793a\u200b\u7ed3\u679c\u200b\u662f\u200b\u4e0d\u200b\u786e\u5b9a\u200b \u200b\u7684\u200b\uff0c\u200b\u76f8\u540c\u200b\u7684\u200b\u8f93\u5165\u200b\u53ef\u80fd\u200b\u5f97\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u8f93\u51fa\u200b\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bNOT DETERMINISTIC\u3002 { </p> <p>CONTAINS SQL | NO SQL | READS SQL DATA | MODIFIES SQL DATA } \uff1a\u200b\u6307\u660e\u200b\u5b50\u7a0b\u5e8f\u200b\u4f7f\u200b \u200b\u7528\u200bSQL\u200b\u8bed\u53e5\u200b\u7684\u200b\u9650\u5236\u200b\u3002 </p> <p>CONTAINS SQL\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u5b50\u7a0b\u5e8f\u200b\u5305\u542b\u200bSQL\u200b\u8bed\u53e5\u200b\uff0c\u200b\u4f46\u662f\u200b\u5e76\u200b\u4e0d\u200b\u5305\u542b\u200b\u8bfb\u5199\u200b\u6570\u636e\u200b\u7684\u200bSQL\u200b\u8bed\u53e5\u200b\uff1b </p> <p>NO SQL\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u5b50\u7a0b\u5e8f\u200b\u4e2d\u200b\u4e0d\u200b\u5305\u542b\u200b\u4efb\u4f55\u200bSQL\u200b\u8bed\u53e5\u200b\uff1b </p> <p>READS SQL DATA\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u5b50\u7a0b\u5e8f\u200b\u4e2d\u200b\u5305\u542b\u200b\u8bfb\u6570\u636e\u200b\u7684\u200bSQL\u200b\u8bed\u53e5\u200b\uff1b </p> <p>MODIFIES SQL DATA\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u5b50\u7a0b\u5e8f\u200b\u4e2d\u200b\u5305\u542b\u200b\u5199\u200b\u6570\u636e\u200b\u7684\u200bSQL\u200b\u8bed\u53e5\u200b\u3002 \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u4f1a\u200b\u6307\u5b9a\u200b\u4e3a\u200bCONTAINS SQL\u3002 </p> <p>SQL SECURITY { DEFINER | INVOKER } \uff1a\u200b\u6267\u884c\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u6743\u9650\u200b\uff0c\u200b\u5373\u200b\u6307\u660e\u200b\u54ea\u4e9b\u200b\u7528\u6237\u200b\u80fd\u591f\u200b\u6267\u200b \u200b\u884c\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u3002 </p> <p>DEFINER \u200b\u8868\u793a\u200b\u53ea\u6709\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u521b\u5efa\u8005\u200b\u6216\u8005\u200b\u5b9a\u4e49\u200b\u8005\u200b\u624d\u80fd\u200b\u6267\u884c\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\uff1b </p> <p>INVOKER \u200b\u8868\u793a\u200b\u62e5\u6709\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u8bbf\u95ee\u200b\u6743\u9650\u200b\u7684\u200b\u7528\u6237\u200b\u80fd\u591f\u200b\u6267\u884c\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#4","title":"4.\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u4f53","text":"<ul> <li>BEGIN\u2026END\uff1aBEGIN\u2026END \u200b\u4e2d\u95f4\u200b\u5305\u542b\u200b\u4e86\u200b\u591a\u4e2a\u200b\u8bed\u53e5\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u8bed\u53e5\u200b\u90fd\u200b\u4ee5\u200b\uff08;\uff09\u200b\u53f7\u200b\u4e3a\u200b\u7ed3\u675f\u7b26\u200b\u3002 </li> <li>DECLARE\uff1aDECLARE \u200b\u7528\u6765\u200b\u58f0\u660e\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4f7f\u7528\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u5728\u4e8e\u200b BEGIN\u2026END \u200b\u8bed\u53e5\u200b\u4e2d\u95f4\u200b\uff0c\u200b\u800c\u4e14\u200b\u9700\u8981\u200b\u5728\u200b\u5176\u4ed6\u200b\u8bed\u53e5\u200b\u4f7f\u7528\u200b\u4e4b\u200b\u524d\u8fdb\u200b \u200b\u884c\u200b\u53d8\u91cf\u200b\u7684\u200b\u58f0\u660e\u200b\u3002 </li> <li>SET\uff1a\u200b\u8d4b\u503c\u200b\u8bed\u53e5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u8d4b\u503c\u200b\u3002</li> <li>SELECT\u2026 INTO\uff1a\u200b\u628a\u200b\u4ece\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ed3\u679c\u200b\u5b58\u653e\u200b\u5230\u200b\u53d8\u91cf\u200b\u4e2d\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e3a\u200b\u53d8\u91cf\u200b\u8d4b\u503c\u200b\u3002</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#5","title":"5.\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u65b0\u200b\u7684\u200b\u7ed3\u675f\u200b\u6807\u8bb0","text":"<p>\u200b\u56e0\u4e3a\u200bMySQL\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u8bed\u53e5\u200b\u7ed3\u675f\u200b\u7b26\u53f7\u200b\u4e3a\u5206\u200b\u53f7\u200b';'\u3002\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u4e0e\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u4e2d\u200bSQL\u200b\u8bed\u53e5\u200b\u7ed3\u675f\u7b26\u200b\u76f8\u51b2\u7a81\u200b\uff0c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b DELIMITER\u200b\u6539\u53d8\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u7ed3\u675f\u7b26\u200b\u3002</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_6","title":"\u4f7f\u7528","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_7","title":"\u521b\u5efa\u200b + \u200b\u8c03\u7528","text":"<pre><code># IN \u200b\u6a21\u5f0f\u200b \u200b\u8f93\u5165\u200b\nDELIMITER $\nCREATE PROCEDURE p1(IN t INT)\n    BEGIN\n        SELECT COUNT(1)\n        FROM c1\n        WHERE t = 1;\n    END $\n\n\nCALL p1(1);\n\n\n\n# out \u200b\u6a21\u5f0f\u200b\u8f93\u51fa\u200b\nDELIMITER $\nCREATE PROCEDURE p2(OUT o1 INT)\n    BEGIN\n        SELECT COUNT(1) INTO o1\n        FROM c1;\n    END $\n\nSET @o1 = 100;  \nCALL p2(@o1);\nSELECT @o1;\n\n\n# inout \u200b\u6a21\u5f0f\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u662f\u200b\u8f93\u5165\u200b\u53c8\u200b\u662f\u200b\u8f93\u51fa\u200b\nDELIMITER $\nCREATE PROCEDURE p3(INOUT empname VARCHAR(20))\n    BEGIN\n      SELECT ename INTO empname FROM emps\n      WHERE eid = (SELECT MID FROM emps WHERE ename=empname);\n    END $\n\n\nSET @io2 = 'matt';  \nCALL p3(@io2);\nSELECT @io2;\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_8","title":"\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u3001\u200b\u51fd\u6570\u200b \u200b\u7684\u200b\u67e5\u770b\u200b\u3001\u200b\u4fee\u6539\u200b\u3001\u200b\u5220\u9664","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_9","title":"\u67e5\u770b","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#1_1","title":"1.\u200b\u521b\u5efa\u200b\u4fe1\u606f","text":"<pre><code>SHOW CREATE {PROCEDURE | FUNCTION} \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u540d\u200b\u6216\u200b\u51fd\u6570\u200b\u540d\u200b\n</code></pre> <pre><code>SHOW CREATE FUNCTION test_db.CountProc\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#2","title":"2.\u200b\u72b6\u6001\u200b\u4fe1\u606f","text":"<pre><code>SHOW {PROCEDURE | FUNCTION} STATUS [LIKE 'pattern']\n</code></pre> <pre><code>SHOW PROCEDURE STATUS LIKE 'SELECT%'\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#3information_schemaroutines","title":"3.\u200b\u4ece\u200binformation_schema.Routines\u200b\u8868\u4e2d\u200b\u67e5\u770b\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u548c\u200b\u51fd\u6570\u200b\u7684\u200b\u4fe1\u606f","text":"<pre><code>SELECT * FROM information_schema.Routines\nWHERE ROUTINE_NAME='\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u6216\u200b\u51fd\u6570\u200b\u7684\u200b\u540d\u200b' [AND ROUTINE_TYPE = {'PROCEDURE|FUNCTION'}];\n</code></pre> <pre><code>SELECT * FROM information_schema.Routines\nWHERE ROUTINE_NAME='count_by_id' AND ROUTINE_TYPE = 'FUNCTION' \n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_10","title":"\u5b58\u50a8\u200b\u51fd\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_11","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_12","title":"\u8bed\u6cd5","text":"<pre><code>CREATE FUNCTION \u200b\u51fd\u6570\u200b\u540d\u200b(\u200b\u53c2\u6570\u200b\u540d\u200b \u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b,...)\nRETURNS \u200b\u8fd4\u56de\u503c\u200b\u7c7b\u578b\u200b\n[characteristics ...]\nBEGIN\n  \u200b\u51fd\u6570\u200b\u4f53\u200b #\u200b\u51fd\u6570\u200b\u4f53\u4e2d\u200b\u80af\u5b9a\u200b\u6709\u200b RETURN \u200b\u8bed\u53e5\u200b\nEND\n</code></pre> <p>1\u3001\u200b\u53c2\u6570\u200b\u5217\u8868\u200b\uff1a\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b\u4e3a\u200bIN\u3001OUT\u200b\u6216\u200bINOUT\u200b\u53ea\u200b\u5bf9\u200bPROCEDURE\u200b\u662f\u200b\u5408\u6cd5\u200b\u7684\u200b\uff0cFUNCTION\u200b\u4e2d\u200b\u603b\u662f\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bIN\u200b\u53c2\u200b \u200b\u6570\u200b\u3002 </p> <p>2\u3001RETURNS type \u200b\u8bed\u53e5\u200b\u8868\u793a\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u6570\u636e\u200b\u7684\u200b\u7c7b\u578b\u200b\uff1b RETURNS\u200b\u5b50\u53e5\u200b\u53ea\u80fd\u200b\u5bf9\u200bFUNCTION\u200b\u505a\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5bf9\u200b\u51fd\u6570\u200b\u800c\u8a00\u200b\u8fd9\u662f\u200b \u200b\u5f3a\u5236\u200b \u200b\u7684\u200b\u3002\u200b\u5b83\u200b\u7528\u6765\u200b\u6307\u5b9a\u200b\u51fd\u6570\u200b\u7684\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\uff0c\u200b\u800c\u4e14\u200b\u51fd\u200b \u200b\u6570\u4f53\u200b\u5fc5\u987b\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b RETURN value \u200b\u8bed\u53e5\u200b\u3002 </p> <p>3\u3001characteristic \u200b\u521b\u5efa\u200b\u51fd\u6570\u200b\u65f6\u200b\u6307\u5b9a\u200b\u7684\u200b\u5bf9\u200b\u51fd\u6570\u200b\u7684\u200b\u7ea6\u675f\u200b\u3002\u200b\u53d6\u503c\u200b\u4e0e\u200b\u521b\u5efa\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u65f6\u200b\u76f8\u540c\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4e0d\u518d\u200b\u8d58\u8ff0\u200b\u3002 </p> <p>4\u3001\u200b\u51fd\u6570\u200b\u4f53\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200bBEGIN\u2026END\u200b\u6765\u200b\u8868\u793a\u200bSQL\u200b\u4ee3\u7801\u200b\u7684\u200b\u5f00\u59cb\u200b\u548c\u200b\u7ed3\u675f\u200b\u3002\u200b\u5982\u679c\u200b\u51fd\u6570\u200b\u4f53\u200b\u53ea\u6709\u200b\u4e00\u6761\u200b\u8bed\u53e5\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b BEGIN\u2026END</p> <p>\u200b\u8c03\u7528\u200b\u5b58\u50a8\u200b\u51fd\u6570\u200b</p> <p>SELECT \u200b\u51fd\u6570\u200b\u540d\u200b(\u200b\u5b9e\u53c2\u200b\u5217\u8868\u200b)</p>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_13","title":"\u4f7f\u7528","text":"<pre><code>DELIMITER $\nCREATE FUNCTION f1(t1 INT)\nRETURNS INT\nDETERMINISTIC\nCONTAINS SQL\nBEGIN\n    RETURN (SELECT COUNT(1) FROM c1 WHERE t1 = 1);\nEND $\n\nSELECT f1(2)\n</code></pre>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_14","title":"\u5206\u6790","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_15","title":"\u4f18\u70b9","text":"<ul> <li>\u200b\u4e00\u6b21\u200b\u7f16\u8bd1\u200b\u591a\u6b21\u200b\u4f7f\u7528\u200b\uff1a</li> <li>\u200b\u51cf\u5c11\u200b\u7f51\u7edc\u200b\u4f20\u8f93\u200b\u91cf\u200b:\u200b\u4e00\u6b21\u200b\u8fde\u63a5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f20\u8f93\u200b\u591a\u6761\u200bsql</li> <li>\u200b\u5b89\u5168\u200b\uff1a\u200b\u8c03\u7528\u8005\u200b\u5e76\u4e0d\u77e5\u9053\u200b\u5177\u4f53\u200bsql</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/15-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/#_16","title":"\u7f3a\u70b9","text":"<ul> <li>\u200b\u53ef\u79fb\u690d\u6027\u200b\u5dee\u200b\uff08\u200b\u4e0d\u540c\u200b\u6570\u636e\u5e93\u200b\uff09</li> <li>\u200b\u8c03\u5f0f\u200b\u56f0\u96be\u200b</li> <li>\u200b\u7248\u672c\u200b\u7ba1\u7406\u200b\u56f0\u96be\u200b\uff1a\u200b\u5e93\u8868\u200b\u53d1\u751f\u53d8\u5316\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u5931\u6548\u200b</li> </ul>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/2-%E5%87%BD%E6%95%B0/","title":"2 \u200b\u51fd\u6570","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85/","title":"\u5b89\u88c5","text":""},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85/#_1","title":"\u51c6\u5907\u200b\u5de5\u4f5c","text":"<ol> <li>\u200b\u4e0b\u8f7d\u200b MySQL DMG \u200b\u6587\u4ef6\u200b\uff1a<ul> <li>\u200b\u8bbf\u95ee\u200b\u5b98\u7f51\u200b</li> <li>\u200b\u9009\u62e9\u200b <code>macOS</code> \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff0c\u200b\u5e76\u200b\u4e0b\u8f7d\u200b <code>.dmg</code> \u200b\u683c\u5f0f\u200b\u7684\u200b MySQL Community Server\u3002\u200b\u901a\u5e38\u200b\u6709\u200b\u4e24\u4e2a\u200b\u7248\u672c\u200b\u53ef\u200b\u4f9b\u9009\u62e9\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b x86 \u200b\u67b6\u6784\u200b\uff08Intel CPU\uff09\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b ARM \u200b\u67b6\u6784\u200b\uff08Apple Silicon M1/M2/M3 CPU\uff09\uff0c\u200b\u8bf7\u200b\u6839\u636e\u200b\u60a8\u200b\u7684\u200b Mac \u200b\u578b\u53f7\u200b\u9009\u62e9\u200b\u6b63\u786e\u200b\u7684\u200b\u7248\u672c\u200b\u3002</li> </ul> </li> </ol>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85/#_2","title":"\u5b89\u88c5\u200b\u6b65\u9aa4","text":"<ol> <li>\u200b\u6253\u5f00\u200b\u4e0b\u8f7d\u200b\u7684\u200b <code>.dmg</code> \u200b\u6587\u4ef6\u200b\uff1a<ul> <li>\u200b\u53cc\u51fb\u200b\u4e0b\u8f7d\u200b\u597d\u200b\u7684\u200b <code>mysql-xxx.dmg</code> \u200b\u6587\u4ef6\u200b\u3002\u200b\u5b83\u4f1a\u200b\u6302\u8f7d\u200b\u4e00\u4e2a\u200b\u865a\u62df\u200b\u78c1\u76d8\u955c\u50cf\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b Finder \u200b\u4e2d\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u7a97\u53e3\u200b\u3002</li> </ul> </li> <li>\u200b\u542f\u52a8\u200b\u5b89\u88c5\u7a0b\u5e8f\u200b\uff1a<ul> <li>\u200b\u53cc\u51fb\u200b\u7a97\u53e3\u200b\u4e2d\u200b\u7684\u200b <code>mysql-xxx.pkg</code> \u200b\u5b89\u88c5\u5305\u200b\u6587\u4ef6\u200b\u3002</li> <li>macOS \u200b\u53ef\u80fd\u200b\u4f1a\u200b\u63d0\u793a\u200b\u201c\u200b\u60a8\u200b\u786e\u5b9a\u200b\u8981\u200b\u6253\u5f00\u200b\u5417\u200b\uff1f\u201d\u200b\u4e4b\u7c7b\u200b\u7684\u200b\u5b89\u5168\u200b\u8b66\u544a\u200b\uff0c\u200b\u70b9\u51fb\u200b\u201c\u200b\u6253\u5f00\u200b\u201d\u200b\u6216\u200b\u201c\u200b\u7ee7\u7eed\u200b\u201d\u3002</li> </ul> </li> <li>\u200b\u9075\u5faa\u200b\u5b89\u88c5\u200b\u5411\u5bfc\u200b\uff1a<ul> <li>\u200b\u4ecb\u7ecd\u200b\uff1a\u200b\u9605\u8bfb\u200b\u4ecb\u7ecd\u200b\u4fe1\u606f\u200b\uff0c\u200b\u7136\u540e\u200b\u70b9\u51fb\u200b\u201c\u200b\u7ee7\u7eed\u200b\u201d\u3002</li> <li>\u200b\u8bb8\u53ef\u200b\u534f\u8bae\u200b\uff1a\u200b\u9605\u8bfb\u200b\u8bb8\u53ef\u200b\u534f\u8bae\u200b\uff0c\u200b\u70b9\u51fb\u200b\u201c\u200b\u7ee7\u7eed\u200b\u201d\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u5f39\u51fa\u200b\u7684\u200b\u5bf9\u8bdd\u6846\u200b\u4e2d\u200b\u70b9\u51fb\u200b\u201c\u200b\u540c\u610f\u200b\u201d\u3002</li> <li>\u200b\u5b89\u88c5\u200b\u7c7b\u578b\u200b\uff1a\u200b\u901a\u5e38\u200b\u9009\u62e9\u200b\u201c\u200b\u5b89\u88c5\u200b\u201d\uff0c\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b\u5b89\u88c5\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u4f46\u200b\u5bf9\u4e8e\u200b\u5927\u591a\u6570\u200b\u7528\u6237\u200b\u6765\u8bf4\u200b\uff0c\u200b\u4fdd\u6301\u200b\u9ed8\u8ba4\u200b\u5373\u53ef\u200b\u3002\u200b\u70b9\u51fb\u200b\u201c\u200b\u5b89\u88c5\u200b\u201d\u3002</li> <li>\u200b\u5bc6\u7801\u200b\u8bbe\u7f6e\u200b\uff1a\u200b\u8fd9\u200b\u662f\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u4e00\u6b65\u200b\u3002\u200b\u5728\u200b\u5b89\u88c5\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u60a8\u200b\u4f1a\u200b\u88ab\u200b\u8981\u6c42\u200b\u8bbe\u7f6e\u200b root \u200b\u7528\u6237\u200b\u5bc6\u7801\u200b\u3002<ul> <li>\u200b\u5f3a\u70c8\u5efa\u8bae\u200b\u9009\u62e9\u200b <code>Use Strong Password Encryption</code>\uff08\u200b\u5f3a\u200b\u5bc6\u7801\u200b\u52a0\u5bc6\u200b\uff09\u3002</li> <li>\u200b\u8f93\u5165\u200b\u5e76\u200b\u786e\u8ba4\u200b\u60a8\u200b\u7684\u200b root \u200b\u7528\u6237\u200b\u5bc6\u7801\u200b\u3002\u200b\u8bf7\u200b\u52a1\u5fc5\u200b\u8bb0\u4f4f\u200b\u8fd9\u4e2a\u200b\u5bc6\u7801\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u5c06\u200b\u662f\u200b\u60a8\u200b\u7ba1\u7406\u200b MySQL \u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u552f\u4e00\u200b\u51ed\u636e\u200b\u3002</li> </ul> </li> <li>\u200b\u5b8c\u6210\u200b\u5b89\u88c5\u200b\uff1a\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u63d0\u793a\u200b\u7a97\u53e3\u200b\u663e\u793a\u200b\u201c\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b\u201d\u3002\u200b\u70b9\u51fb\u200b\u201c\u200b\u5173\u95ed\u200b\u201d\u3002</li> </ul> </li> </ol>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85/#_3","title":"\u5b89\u88c5\u200b\u540e\u200b\u914d\u7f6e\u200b\uff08\u200b\u91cd\u8981\u200b\uff09","text":"<p>\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u60a8\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u4e00\u4e9b\u200b\u989d\u5916\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5728\u200b\u547d\u4ee4\u884c\u200b\u4e2d\u200b\u4f7f\u7528\u200b MySQL\u3002</p> <ol> <li> <p>\u200b\u6dfb\u52a0\u200b\u5230\u200b PATH \u200b\u73af\u5883\u53d8\u91cf\u200b\uff1a</p> <ul> <li> <p>\u200b\u6253\u5f00\u200b \u200b\u7ec8\u7aef\u200b (Terminal)\u3002</p> </li> <li> <p>\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5c06\u200b MySQL \u200b\u7684\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u8def\u5f84\u200b\u6dfb\u52a0\u200b\u5230\u200b\u60a8\u200b\u7684\u200b <code>PATH</code> \u200b\u4e2d\u200b\u3002\u200b\u8fd9\u4f1a\u200b\u8ba9\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4efb\u4f55\u200b\u4f4d\u7f6e\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b <code>mysql</code> \u200b\u547d\u4ee4\u200b\u3002</p> <ul> <li> <p>\u200b\u5982\u679c\u200b\u60a8\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b <code>bash</code> shell\uff08macOS Catalina \u200b\u53ca\u200b\u66f4\u200b\u65e9\u200b\u7248\u672c\u200b\u9ed8\u8ba4\u200b\uff09\uff1a</p> <p>Bash</p> <pre><code>echo 'export PATH=\"/usr/local/mysql/bin:$PATH\"' &gt;&gt; ~/.bash_profile\nsource ~/.bash_profile\n</code></pre> </li> <li> <p>\u200b\u5982\u679c\u200b\u60a8\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b <code>zsh</code> shell\uff08macOS Catalina \u200b\u53ca\u200b\u66f4\u200b\u9ad8\u200b\u7248\u672c\u200b\u9ed8\u8ba4\u200b\uff09\uff1a</p> <p>Bash</p> <pre><code>echo 'export PATH=\"/usr/local/mysql/bin:$PATH\"' &gt;&gt; ~/.zshrc\nsource ~/.zshrc\n</code></pre> </li> </ul> </li> <li> <p>\u200b\u6ce8\u610f\u200b\uff1a<code>~/.bash_profile</code> \u200b\u548c\u200b <code>~/.zshrc</code> \u200b\u662f\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u60a8\u200b\u4e0d\u200b\u786e\u5b9a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u68c0\u67e5\u200b\u60a8\u200b\u7684\u200b\u7ec8\u7aef\u200b\u8bbe\u7f6e\u200b\u6216\u200b\u4f7f\u7528\u200b <code>echo $SHELL</code> \u200b\u547d\u4ee4\u200b\u6765\u200b\u67e5\u770b\u200b\u60a8\u200b\u5f53\u524d\u200b\u4f7f\u7528\u200b\u7684\u200b shell\u3002</p> </li> </ul> </li> <li> <p>\u200b\u9a8c\u8bc1\u200b\u5b89\u88c5\u200b\uff1a</p> <ul> <li> <p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u68c0\u67e5\u200b MySQL \u200b\u670d\u52a1\u5668\u200b\u662f\u5426\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\uff1a</p> <p>Bash</p> <pre><code>mysql --version\n</code></pre> </li> <li> <p>\u200b\u5982\u679c\u200b\u547d\u4ee4\u200b\u6210\u529f\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u8fd4\u56de\u200b MySQL \u200b\u7684\u200b\u7248\u672c\u53f7\u200b\u3002</p> </li> <li> <p>\u200b\u5c1d\u8bd5\u200b\u8fde\u63a5\u200b\u5230\u200b MySQL \u200b\u670d\u52a1\u5668\u200b\uff1a</p> <p>Bash</p> <pre><code>mysql -u root -p\n</code></pre> </li> <li> <p>\u200b\u8f93\u5165\u60a8\u200b\u5728\u200b\u5b89\u88c5\u200b\u65f6\u200b\u8bbe\u7f6e\u200b\u7684\u200b root \u200b\u5bc6\u7801\u200b\uff0c\u200b\u5982\u679c\u200b\u6210\u529f\u200b\uff0c\u200b\u60a8\u200b\u5c06\u200b\u8fdb\u5165\u200b MySQL \u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u754c\u9762\u200b\u3002</p> </li> </ul> </li> </ol>"},{"location":"db/00mysql-%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85/#_4","title":"\u5176\u4ed6\u200b\u7ba1\u7406\u200b\u65b9\u5f0f","text":"<ul> <li>\u200b\u7cfb\u7edf\u200b\u504f\u597d\u200b\u8bbe\u7f6e\u200b (System Settings)\uff1a\u200b\u5b89\u88c5\u200b MySQL DMG \u200b\u540e\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5728\u200b\u201c\u200b\u7cfb\u7edf\u200b\u504f\u597d\u200b\u8bbe\u7f6e\u200b\u201d\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b MySQL \u200b\u56fe\u6807\u200b\u3002\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u8fd9\u91cc\u200b\u542f\u52a8\u200b\u3001\u200b\u505c\u6b62\u200b\u548c\u200b\u914d\u7f6e\u200b MySQL \u200b\u670d\u52a1\u5668\u200b\u3002</li> <li>\u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b\u670d\u52a1\u200b\uff1a<ul> <li>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\uff0c\u200b\u60a8\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u624b\u52a8\u200b\u542f\u52a8\u200b\u6216\u200b\u505c\u6b62\u200b MySQL \u200b\u670d\u52a1\u200b\uff1a</li> <li>\u200b\u542f\u52a8\u200b\uff1a<code>sudo /usr/local/mysql/support-files/mysql.server start</code></li> <li>\u200b\u505c\u6b62\u200b\uff1a<code>sudo /usr/local/mysql/support-files/mysql.server stop</code></li> <li>\u200b\u91cd\u542f\u200b\uff1a<code>sudo /usr/local/mysql/support-files/mysql.server restart</code></li> </ul> </li> </ul>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/","title":"1.\u200b\u6982\u8ff0","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#11","title":"1.1\u200b\u6982\u8ff0","text":"<p>Zookeeper \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f00\u6e90\u200b\u7684\u200b\u5206\u5e03\u5f0f\u200b\u7684\u200b\uff0c\u200b\u4e3a\u200b\u5206\u5e03\u5f0f\u200b\u6846\u67b6\u200b\u63d0\u4f9b\u200b\u534f\u8c03\u200b\u670d\u52a1\u200b\u7684\u200b Apache \u200b\u9879\u76ee\u200b\u3002</p> <p>Zookeeper\u200b\u4ece\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\u89d2\u5ea6\u200b\u6765\u200b\u7406\u89e3\u200b:\u200b\u662f\u200b\u4e00\u4e2a\u200b\u57fa\u4e8e\u200b\u89c2\u5bdf\u8005\u200b\u6a21\u5f0f\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u5206\u5e03\u5f0f\u670d\u52a1\u200b\u7ba1\u7406\u200b\u6846\u67b6\u200b\uff0c\u200b\u5b83\u200b\u8d1f\u8d23\u200b \u200b\u5b58\u50a8\u200b\u548c\u200b\u7ba1\u7406\u200b\u5927\u5bb6\u200b\u90fd\u200b\u5173\u5fc3\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7136\u540e\u200b\u63a5\u53d7\u200b\u89c2\u5bdf\u8005\u200b\u7684\u200b \u200b\u6ce8\u518c\u200b\uff0c\u200b\u4e00\u65e6\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u7684\u200b\u72b6\u6001\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0cZookeeper \u200b\u5c31\u200b\u5c06\u200b\u8d1f\u8d23\u200b\u901a\u77e5\u200b\u5df2\u7ecf\u200b\u5728\u200bZookeeper\u200b\u4e0a\u200b\u6ce8\u518c\u200b\u7684\u200b\u90a3\u4e9b\u200b\u89c2\u5bdf\u8005\u200b\u505a\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b\u53cd\u5e94\u200b\u3002</p> <p>\u200b\u5b58\u50a8\u200b\u5c11\u91cf\u200b\u6570\u636e\u200b\uff0c\u200b\u4e00\u822c\u200b\u662f\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u3002</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#12","title":"1.2\u200b\u7279\u70b9","text":"<p>1.Zookeeper:\u200b\u4e00\u4e2a\u200b\u9886\u5bfc\u8005\u200b(Leader)\uff0c\u200b\u591a\u4e2a\u200b\u8ddf\u968f\u8005\u200b(Follower)\u200b\u7ec4\u6210\u200b\u7684\u200b\u96c6\u7fa4\u200b\u3002 </p> <p>2.\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u53ea\u8981\u200b\u6709\u200b\u534a\u6570\u4ee5\u4e0a\u200b\u8282\u70b9\u200b\u5b58\u6d3b\u200b\uff0cZookeeper\u200b\u96c6\u7fa4\u200b\u5c31\u200b\u80fd\u200b\u6b63\u5e38\u200b\u670d\u52a1\u200b\u3002\u200b\u6240\u4ee5\u200bZookeeper\u200b\u9002\u5408\u200b\u5b89\u88c5\u200b\u5947\u6570\u200b\u53f0\u200b\u670d\u52a1\u5668\u200b\u3002</p> <p>3.\u200b\u5168\u5c40\u200b\u6570\u636e\u200b\u4e00\u81f4\u200b:\u200b\u6bcf\u4e2a\u200bServer\u200b\u4fdd\u5b58\u200b\u4e00\u4efd\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u526f\u672c\u200b\uff0cClient\u200b\u65e0\u8bba\u200b\u8fde\u63a5\u200b\u5230\u200b\u54ea\u4e2a\u200bServer\uff0c\u200b\u6570\u636e\u200b\u90fd\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b\u3002 </p> <p>4.\u200b\u66f4\u65b0\u200b\u8bf7\u6c42\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b\uff0c\u200b\u6765\u81ea\u200b\u540c\u4e00\u4e2a\u200bClient\u200b\u7684\u200b\u66f4\u65b0\u200b\u8bf7\u6c42\u200b\u6309\u200b\u5176\u200b\u53d1\u9001\u200b\u987a\u5e8f\u200b\u4f9d\u6b21\u200b\u6267\u884c\u200b\u3002 </p> <p>5.\u200b\u6570\u636e\u200b\u66f4\u65b0\u200b\u539f\u5b50\u200b\u6027\u200b\uff0c\u200b\u4e00\u6b21\u200b\u6570\u636e\u200b\u66f4\u65b0\u200b\u8981\u4e48\u200b\u6210\u529f\u200b\uff0c\u200b\u8981\u4e48\u200b\u5931\u8d25\u200b\u3002</p> <p>6.\u200b\u5b9e\u65f6\u6027\u200b\uff0c\u200b\u5728\u200b\u4e00\u5b9a\u200b\u65f6\u95f4\u200b\u8303\u56f4\u200b\u5185\u200b\uff0cClient\u200b\u80fd\u8bfb\u200b\u5230\u200b\u6700\u65b0\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#13","title":"1.3\u200b\u6570\u636e\u7ed3\u6784","text":"<p>ZooKeeper \u200b\u6570\u636e\u6a21\u578b\u200b\u7684\u200b\u7ed3\u6784\u200b\u4e0e\u200b Unix \u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u5f88\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u6574\u4f53\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u662f\u200b\u4e00\u68f5\u6811\u200b\uff0c\u200b\u6bcf\u4e2a\u200b \u200b\u8282\u70b9\u200b\u79f0\u505a\u200b\u4e00\u4e2a\u200b ZNode\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b ZNode \u200b\u9ed8\u8ba4\u200b\u80fd\u591f\u200b\u5b58\u50a8\u200b 1MB \u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6bcf\u4e2a\u200b ZNode \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b \u200b\u5176\u200b\u8def\u5f84\u200b\u552f\u4e00\u200b\u6807\u8bc6\u200b\u3002</p> <p></p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#14","title":"1.4\u200b\u5e94\u7528\u200b\u573a\u666f","text":"<p>\u200b\u63d0\u4f9b\u200b\u7684\u200b\u670d\u52a1\u200b\u5305\u62ec\u200b:\u200b\u7edf\u4e00\u200b\u547d\u540d\u200b\u670d\u52a1\u200b\u3001\u200b\u7edf\u4e00\u200b\u914d\u7f6e\u7ba1\u7406\u200b\u3001\u200b\u7edf\u4e00\u200b\u96c6\u7fa4\u200b\u7ba1\u7406\u200b\u3001\u200b\u670d\u52a1\u5668\u200b\u8282\u70b9\u200b\u52a8\u6001\u200b\u4e0a\u4e0b\u200b</p> <p>\u200b\u7ebf\u200b\u3001\u200b\u8f6f\u200b\u8d1f\u8f7d\u200b\u5747\u8861\u200b\u7b49\u200b\u3002</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_1","title":"\u7edf\u4e00\u200b\u547d\u540d\u200b\u670d\u52a1","text":"<p>\u200b\u5728\u200b\u5206\u5e03\u5f0f\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5bf9\u200b\u5e94\u7528\u200b/\u200b\u670d\u200b \u200b\u52a1\u200b\u8fdb\u884c\u200b\u7edf\u4e00\u200b\u547d\u540d\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u8bc6\u522b\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b:IP\u200b\u4e0d\u200b\u5bb9\u6613\u200b\u8bb0\u4f4f\u200b\uff0c\u200b\u800c\u200b\u57df\u540d\u200b\u5bb9\u6613\u200b\u8bb0\u4f4f\u200b\u3002</p> <p></p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_2","title":"\u7edf\u4e00\u200b\u914d\u7f6e\u7ba1\u7406","text":"<p>1.\u200b\u5206\u5e03\u5f0f\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u540c\u6b65\u200b\u975e\u5e38\u200b\u5e38\u89c1\u200b\u3002</p> <p>1.1\u200b\u4e00\u822c\u200b\u8981\u6c42\u200b\u4e00\u4e2a\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\uff0c\u200b\u6240\u6709\u200b\u8282\u70b9\u200b\u7684\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b\uff0c\u200b\u6bd4\u5982\u200b Kafka \u200b\u96c6\u7fa4\u200b\u3002 </p> <p>1.2\u200b\u5bf9\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4fee\u6539\u200b\u540e\u200b\uff0c\u200b\u5e0c\u671b\u200b\u80fd\u591f\u200b\u5feb\u901f\u200b\u540c\u6b65\u200b\u5230\u200b\u5404\u4e2a\u200b\u8282\u70b9\u200b\u4e0a\u200b\u3002</p> <p>2\u200b\u914d\u7f6e\u7ba1\u7406\u200b\u53ef\u200b\u4ea4\u7531\u200bZooKeeper\u200b\u5b9e\u73b0\u200b\u3002</p> <p>2.1\u200b\u53ef\u200b\u5c06\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u5199\u5165\u200bZooKeeper\u200b\u4e0a\u200b\u7684\u200b\u4e00\u4e2a\u200bZnode\u3002</p> <p>2.2\u200b\u5404\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u670d\u52a1\u5668\u200b\u76d1\u542c\u200b\u8fd9\u4e2a\u200bZnode\u3002</p> <p>2.3\u200b\u4e00\u65e6\u200bZnode\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u88ab\u200b\u4fee\u6539\u200b\uff0cZooKeeper\u200b\u5c06\u200b\u901a\u77e5\u200b \u200b\u5404\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u670d\u52a1\u5668\u200b\u3002</p> <p></p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_3","title":"\u7edf\u4e00\u200b\u96c6\u7fa4\u200b\u7ba1\u7406","text":"<p>1\u200b\u5206\u5e03\u5f0f\u200b\u73af\u5883\u200b\u4e2d\u200b\uff0c\u200b\u5b9e\u65f6\u200b\u638c\u63e1\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u7684\u200b\u72b6\u6001\u200b\u662f\u200b\u5fc5\u8981\u200b\u7684\u200b\u3002</p> <p>1.1\u200b\u53ef\u200b\u6839\u636e\u200b\u8282\u70b9\u200b\u5b9e\u65f6\u200b\u72b6\u6001\u200b\u505a\u51fa\u200b\u4e00\u4e9b\u200b\u8c03\u6574\u200b\u3002</p> <p>2.ZooKeeper\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u5b9e\u65f6\u200b\u76d1\u63a7\u200b\u8282\u70b9\u200b\u72b6\u6001\u200b\u53d8\u5316\u200b</p> <p>2.1\u200b\u53ef\u200b\u5c06\u200b\u8282\u70b9\u200b\u4fe1\u606f\u200b\u5199\u5165\u200bZooKeeper\u200b\u4e0a\u200b\u7684\u200b\u4e00\u4e2a\u200bZNode\u3002</p> <p>2.2\u200b\u76d1\u542c\u200b\u8fd9\u4e2a\u200bZNode\u200b\u53ef\u200b\u83b7\u53d6\u200b\u5b83\u200b\u7684\u200b\u5b9e\u65f6\u200b\u72b6\u6001\u200b\u53d8\u5316\u200b\u3002</p> <p></p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_4","title":"\u670d\u52a1\u5668\u200b\u52a8\u6001\u200b\u4e0a\u4e0b\u200b\u7ebf","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_5","title":"\u8f6f\u200b\u8d1f\u8f7d\u200b\u5747\u8861","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#15","title":"1.5\u200b\u4e0b\u8f7d\u200b\u5730\u5740","text":"<p>3.5.7</p> <p>https://archive.apache.org/dist/zookeeper/zookeeper-3.5.7/</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#2","title":"2.\u200b\u5b89\u88c5","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#21","title":"2.1\u200b\u524d\u7f6e\u6761\u4ef6","text":"<p>\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bjdk,\u200b\u53c2\u8003\u200blinux \u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u5e38\u7528\u8f6f\u4ef6\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b\u770b\u5230\u200bjdk\u200b\u7684\u200b\u5b89\u88c5\u200b\u3002</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#22","title":"2.2\u200b\u672c\u5730\u200b\u5b89\u88c5","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_6","title":"\u5b89\u88c5","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#1tar","title":"1.\u200b\u5c06\u200btar\u200b\u5305\u200b\u53d1\u9001\u5230\u200b\u670d\u52a1\u5668","text":"<pre><code>scp -r apache-zookeeper-3.5.7-bin.tar.gz root@123.56.135.43:/opt/software\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#2_1","title":"2.\u200b\u89e3\u538b","text":"<pre><code>tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module/\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#3","title":"3.\u200b\u6539\u540d","text":"<pre><code>mv apache-zookeeper-3.5.7-bin/ zookeeper-3.5.7/\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_7","title":"\u914d\u7f6e\u200b\u4fee\u6539","text":"<p>/tmp\u200b\u5b58\u50a8\u200b\u4e34\u65f6\u200b\u6570\u636e\u200b\uff0c\u200b\u4e00\u5b9a\u200b\u5468\u671f\u200b\u5c31\u200b\u4f1a\u200b\u5220\u9664\u200b</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#1-zookeeper","title":"1.\u200b\u5728\u200b zookeeper \u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b\u6570\u636e\u200b\u76ee\u5f55","text":"<pre><code>mkdir zkData\n\npwd\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#2zoo_samplecfgzoocfg","title":"2.\u200b\u914d\u7f6e\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200bzoo_sample.cfg\u200b\u6539\u4e3a\u200bzoo.cfg","text":"<pre><code>cd conf\nmv zoo_sample.cfg zoo.cfg\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#3_1","title":"3.\u200b\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>vim zoo.cfg\n</code></pre> <pre><code>dataDir=/opt/module/zookeeper-3.5.7/zkData\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#23","title":"2.3\u200b\u96c6\u7fa4\u200b\u5b89\u88c5","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_8","title":"\u5b89\u88c5","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#1tar_1","title":"1.\u200b\u5c06\u200btar\u200b\u5305\u200b\u53d1\u9001\u5230\u200b\u670d\u52a1\u5668","text":"<pre><code>scp -r apache-zookeeper-3.5.7-bin.tar.gz root@123.56.135.43:/opt/software\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#2_2","title":"2.\u200b\u89e3\u538b","text":"<pre><code>tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module/\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#3_2","title":"3.\u200b\u6539\u540d","text":"<pre><code>mv apache-zookeeper-3.5.7-bin/ zookeeper-3.5.7/\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_9","title":"\u914d\u7f6e","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#1zookeeperzkdata","title":"1.\u200b\u5728\u200bzookeeper\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200bzkData\u200b\u76ee\u5f55","text":"<pre><code>mkdir zkData\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#2zkdata-myid","title":"2.\u200b\u5728\u200bzkData\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b myid \u200b\u7684\u200b\u6587\u4ef6","text":"<pre><code>touch myid\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#3myid","title":"3.\u200b\u7f16\u5199\u200bmyid\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6587\u4ef6\u200b\u4e2d\u5199\u200b\u8be5\u200b\u670d\u52a1\u5668\u200b\u552f\u4e00\u200b\u6807\u8bc6\u7b26","text":"<pre><code>1\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#4zookeeper","title":"4.\u200b\u5c06\u200b\u8be5\u200bzookeeper\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u5206\u53d1\u200b\u5230\u200b\u5176\u4ed6\u200b\u670d\u52a1\u5668","text":"<pre><code>xsync zookeeper-3.5.7\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#5zkdatamyid","title":"5.\u200b\u66f4\u6539\u200b\u5176\u4ed6\u200b\u670d\u52a1\u200b\u4e2d\u200bzkData\u200b\u4e2d\u200b\u7684\u200bmyid\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u552f\u4e00\u200b\u6807\u8bc6","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#6zoo_samplecfgzoocfg","title":"6.\u200b\u914d\u7f6e\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200bzoo_sample.cfg\u200b\u6539\u4e3a\u200bzoo.cfg","text":"<pre><code>cd conf\nmv zoo_sample.cfg zoo.cfg\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#7","title":"7.\u200b\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>vim zoo.cfg\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#8","title":"8.\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\u914d\u7f6e","text":"<pre><code>dataDir=/opt/module/zookeeper-3.5.7/zkData\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#9","title":"9.\u200b\u6dfb\u52a0\u200b\u96c6\u7fa4\u200b\u4fe1\u606f","text":"<pre><code>#######################cluster########################## \nserver.2=matt05:2888:3888\nserver.3=matt06:2888:3888\nserver.4=matt07:2888:3888\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_10","title":"\u914d\u7f6e\u6587\u4ef6\u200b\u89e3\u8bfb","text":"<pre><code>server.A=B:C:D\n</code></pre> <p>A \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\uff0c\u200b\u8868\u793a\u200b\u8fd9\u4e2a\u200b\u662f\u200b\u7b2c\u51e0\u200b\u53f7\u200b\u670d\u52a1\u5668\u200b;\u200b\u96c6\u7fa4\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u914d\u7f6e\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b myid\uff0c\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u5728\u200b dataDir \u200b\u76ee\u5f55\u200b\u4e0b\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u200b\u91cc\u9762\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b \u200b\u5c31\u662f\u200b A \u200b\u7684\u200b\u503c\u200b\uff0cZookeeper \u200b\u542f\u52a8\u200b\u65f6\u200b\u8bfb\u53d6\u200b\u6b64\u200b\u6587\u4ef6\u200b\uff0c\u200b\u62ff\u5230\u200b\u91cc\u9762\u200b\u7684\u200b\u6570\u636e\u200bzoo.cfg \u200b\u91cc\u9762\u200b\u7684\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u6bd4\u200b \u200b\u8f83\u200b\u4ece\u800c\u200b\u5224\u65ad\u200b\u5230\u5e95\u200b\u662f\u200b\u54ea\u4e2a\u200b server\u3002</p> <p>B \u200b\u662f\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5730\u5740\u200b; C \u200b\u662f\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u5668\u200b Follower \u200b\u4e0e\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u7684\u200b Leader \u200b\u670d\u52a1\u5668\u200b\u4ea4\u6362\u200b\u4fe1\u606f\u200b\u7684\u200b\u7aef\u53e3\u200b; D \u200b\u662f\u200b\u4e07\u4e00\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u7684\u200b Leader \u200b\u670d\u52a1\u5668\u200b\u6302\u200b\u4e86\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u6765\u200b\u91cd\u65b0\u200b\u8fdb\u884c\u200b\u9009\u4e3e\u200b\uff0c\u200b\u9009\u51fa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200bLeader\uff0c\u200b\u800c\u4e2a\u200b\u7aef\u53e3\u200b\u5c31\u662f\u200b\u7528\u6765\u200b\u6267\u884c\u200b\u9009\u4e3e\u200b\u65f6\u200b\u670d\u52a1\u5668\u200b\u76f8\u4e92\u200b\u901a\u4fe1\u200b\u7684\u200b\u7aef\u53e3\u200b\u3002</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#10","title":"10.\u200b\u540c\u6b65\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u53d1\u9001\u5230\u200b\u5176\u4ed6\u200b\u670d\u52a1\u5668","text":"<pre><code>xsync zoo.cfg\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_11","title":"\u542f\u52a8\u200b\u96c6\u7fa4\u200b\u811a\u672c","text":"<pre><code>cd /home/matt/bin\n\n\nvim zk.sh\n</code></pre> <pre><code>#!/bin/bash\n\ncase $1 in\n\"start\"){\n    for i in matt05 matt06 matt07\n  do\n    echo ---------- zookeeper $i \u200b\u542f\u52a8\u200b ------------\n    ssh $i \"/opt/module/zookeeper-3.5.7/bin/zkServer.sh start\"\n    done \n};;\n\"stop\"){\n    for i in matt05 matt06 matt07\n  do\n    echo ---------- zookeeper $i \u200b\u505c\u6b62\u200b ------------\n    ssh $i \"/opt/module/zookeeper-3.5.7/bin/zkServer.sh stop\"\n    done\n};;\n\"status\"){\n    for i in matt05 matt06 matt07\n  do\n    echo ---------- zookeeper $i \u200b\u72b6\u6001\u200b ------------\n    ssh $i \"/opt/module/zookeeper-3.5.7/bin/zkServer.sh status\"\n    done\n};;\nesac\n</code></pre> <pre><code>chmod u+x zk.sh\n</code></pre> <pre><code>zk.sh start\n\nzk.sh stop\n</code></pre> <p>\u200b\u5199\u200b\u6570\u636e\u200b\uff1a\u200b\u534a\u6570\u4ee5\u4e0a\u200b\u540c\u610f\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7ed9\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u9001\u200back\u3002</p> <p></p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#3_3","title":"3.\u200b\u5ba2\u6237\u7aef\u200b\u64cd\u4f5c","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_12","title":"\u542f\u52a8","text":""},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_13","title":"\u670d\u52a1\u7aef\u200b\u542f\u52a8","text":"<pre><code>./zkServer.sh start\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_14","title":"\u67e5\u770b\u200b\u670d\u52a1\u7aef\u200b\u72b6\u6001","text":"<pre><code>./zkServer.sh status\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_15","title":"\u670d\u52a1\u7aef\u200b\u5173\u95ed","text":"<pre><code>./zkServer.sh stop\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_16","title":"\u5ba2\u6237\u7aef\u200b\u542f\u52a8","text":"<pre><code>// \u200b\u4e0d\u200b\u6307\u5b9a\u200b\u670d\u52a1\u7aef\u200b\n./zkCli.sh\n\n// \u200b\u6307\u5b9a\u200b\u670d\u52a1\u7aef\u200b\n./zkCli.sh -server 192.168.96.132:2181\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#jps","title":"\u5168\u200b\u683c\u5f0f\u200b\u67e5\u770b\u200bjps","text":"<pre><code>jps -l\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_17","title":"\u67e5\u770b\u200b\u6240\u6709\u200b\u547d\u4ee4","text":"<pre><code>help\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_18","title":"\u521b\u5efa\u200b\u8282\u70b9","text":"<pre><code>create /matt \"matt\"\n</code></pre> <p>-e:\u200b\u77ed\u6682\u200b\uff0c\u200b\u5ba2\u6237\u7aef\u200b\u5173\u95ed\u200b\u518d\u6b21\u200b\u5f00\u542f\u200b\u8be5\u200b\u8282\u70b9\u200b\u5c31\u200b\u4f1a\u200b\u5220\u9664\u200b</p> <p>-s:\u200b\u5e26\u200b\u5e8f\u53f7\u200b</p> <pre><code>create -e -s /matt \"1\"\n\ncreate -s /matt \"2\"\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_19","title":"\u5220\u9664\u200b\u8282\u70b9","text":"<pre><code>delete /matt\n\n// \u200b\u9012\u5f52\u200b\u5220\u9664\u200b\u8282\u70b9\u200b\ndeleteall /matt\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_20","title":"\u4fee\u6539\u200b\u8282\u70b9","text":"<pre><code>set /matt \"matt\"\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_21","title":"\u67e5\u770b\u200b\u5b50\u200b\u8282\u70b9","text":"<pre><code>// \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u8282\u70b9\u200b\u5305\u542b\u200b\u54ea\u4e9b\u200b\u5b50\u200b\u8282\u70b9\u200b\nls /matt\n\n// \u200b\u66f4\u52a0\u200b\u8be6\u7ec6\u200b \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u8282\u70b9\u200b\u5305\u542b\u200b\u54ea\u4e9b\u200b\u5b50\u200b\u8282\u70b9\u200b\nls -s /matt\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_22","title":"\u67e5\u770b\u200b\u5f53\u524d\u200b\u8282\u70b9\u200b\u7684\u200b\u503c","text":"<pre><code>get /matt\n\n// \u200b\u8be6\u7ec6\u200b\nget -s /matt\n\n// \u200b\u67e5\u770b\u200b\u8282\u70b9\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u5c31\u662f\u200b\u4e0d\u200b\u663e\u793a\u200b\u5f53\u524d\u200b\u7684\u200b\u503c\u200b\nstat /matt\n</code></pre> <p>1.czxid:\u200b\u521b\u5efa\u200b\u8282\u70b9\u200b\u7684\u200b\u4e8b\u52a1\u200b zxid</p> <p>\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200bZooKeeper\u200b\u72b6\u6001\u200b\u90fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200bZooKeeper\u200b\u4e8b\u52a1\u200bID\u3002\u200b\u4e8b\u52a1\u200bID\u200b\u662f\u200bZooKeeper\u200b\u4e2d\u200b\u6240\u200b \u200b\u6709\u200b\u4fee\u6539\u200b\u603b\u200b\u7684\u200b\u6b21\u5e8f\u200b\u3002\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u90fd\u200b\u6709\u200b\u552f\u4e00\u200b\u7684\u200b zxid\uff0c\u200b\u5982\u679c\u200b zxid1 \u200b\u5c0f\u4e8e\u200b zxid2\uff0c\u200b\u90a3\u4e48\u200b zxid1 \u200b\u5728\u200b zxid2 \u200b\u4e4b\u200b \u200b\u524d\u200b\u53d1\u751f\u200b\u3002</p> <p>2.ctime:znode \u200b\u88ab\u200b\u521b\u5efa\u200b\u7684\u200b\u6beb\u79d2\u200b\u6570\u200b(\u200b\u4ece\u200b 1970 \u200b\u5e74\u200b\u5f00\u59cb\u200b)</p> <p>3.mzxid:znode \u200b\u6700\u540e\u200b\u66f4\u65b0\u200b\u7684\u200b\u4e8b\u52a1\u200b zxid</p> <p>4.mtime:znode \u200b\u6700\u540e\u200b\u4fee\u6539\u200b\u7684\u200b\u6beb\u79d2\u200b\u6570\u200b(\u200b\u4ece\u200b 1970 \u200b\u5e74\u200b\u5f00\u59cb\u200b) </p> <p>5.pZxid:znode \u200b\u6700\u540e\u200b\u66f4\u65b0\u200b\u7684\u200b\u5b50\u200b\u8282\u70b9\u200b zxid</p> <p>6.cversion:znode \u200b\u5b50\u200b\u8282\u70b9\u200b\u53d8\u5316\u200b\u53f7\u200b\uff0cznode \u200b\u5b50\u200b\u8282\u70b9\u200b\u4fee\u6539\u200b\u6b21\u6570\u200b</p> <p>7.dataversion:znode \u200b\u6570\u636e\u200b\u53d8\u5316\u200b\u53f7\u200b</p> <p>8.aclVersion:znode \u200b\u8bbf\u95ee\u63a7\u5236\u200b\u5217\u8868\u200b\u7684\u200b\u53d8\u5316\u200b\u53f7\u200b</p> <p>9.ephemeralOwner:\u200b\u5982\u679c\u200b\u662f\u200b\u4e34\u65f6\u200b\u8282\u70b9\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u662f\u200b znode \u200b\u62e5\u6709\u8005\u200b\u7684\u200b session id\u3002\u200b\u5982\u679c\u200b\u4e0d\u662f\u200b \u200b\u4e34\u65f6\u200b\u8282\u70b9\u200b\u5219\u200b\u662f\u200b 0\u3002</p> <p>10.dataLength:znode \u200b\u7684\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b </p> <p>11.numChildren:znode \u200b\u5b50\u200b\u8282\u70b9\u200b\u6570\u91cf\u200b</p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_23","title":"\u76d1\u542c","text":"<p>\u200b\u76d1\u542c\u5668\u200b\uff1a\u200b\u4f7f\u7528\u200b\u4e00\u6b21\u200b\u5c31\u200b\u4f1a\u200b\u5931\u6548\u200b</p> <p>\u200b\u76d1\u542c\u200b\u8282\u70b9\u200b\u7684\u200b\u503c\u200b\u53d1\u751f\u53d8\u5316\u200b</p> <pre><code>get -w /matt\n</code></pre> <p>\u200b\u76d1\u542c\u200b\u8282\u70b9\u200b\u7684\u200b\u5b50\u200b\u8282\u70b9\u200b\u53d1\u751f\u53d8\u5316\u200b</p> <pre><code>ls -w /matt\n</code></pre>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_24","title":"\u9519\u8bef","text":"<p>org.apache.zookeeper.server.quorum.QuorumPeerConfig$ConfigException: Address</p> <pre><code>2021-08-14 11:44:23,004 [myid:] - ERROR [main:QuorumPeerMain@89] - Invalid config, exiting abnormally\norg.apache.zookeeper.server.quorum.QuorumPeerConfig$ConfigException: Address unresolved: 192.168.96.135:3887 \n</code></pre> <p>\u200b\u5728\u200b\u96c6\u7fa4\u200b\u914d\u7f6e\u200b\u6709\u200b\u7a7a\u683c\u200b\uff0c\u200b\u5220\u9664\u200b\u5373\u53ef\u200b</p> <p></p>"},{"location":"db/2zookeeper/zookeeper%E5%AD%A6%E4%B9%A0/#_25","title":"\u5f85\u200b\u505a","text":"<p>\u200b\u8f6f\u4ef6\u5305\u200b\u7ba1\u7406\u200b</p> <p>2.2\u200b\u672c\u5730\u200b\u5b89\u88c5\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u89e3\u8bfb\u200b</p> <p>3.1.2\u200b\u9009\u4e3e\u200b\u673a\u5236\u200b</p> <p>\u200b\u76d1\u542c\u5668\u200b\u539f\u7406\u200b</p>"},{"location":"db/es/quickstart/","title":"Quickstart","text":"<p>todo</p> <p>postman</p> <p>https://macwk.com/soft/paste</p> <p>\u200b\u5b98\u7f51\u200b</p> <p>https://www.elastic.co/cn/</p>"},{"location":"db/es/quickstart/#_1","title":"\u5b89\u88c5","text":""},{"location":"db/es/quickstart/#mac","title":"mac","text":""},{"location":"db/es/quickstart/#_2","title":"\u65b9\u5f0f\u200b\u4e00","text":"<p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <p>https://www.elastic.co/cn/downloads/elasticsearch</p> <p>mac 7.8 \uff08\u200b\u53ea\u6709\u200bx86\u200b\u7248\u672c\u200b\uff0c\u200b\u76ee\u524d\u200b\u770b\u200b\u517c\u5bb9\u200b</p> <p>\u200b\u89e3\u538b\u200b\u5373\u53ef\u200b</p> <pre><code>tar -zxvf elasticsearch-7.8.0-darwin-x86_64.tar.gz -C ../module\n</code></pre> <p>\u200b\u542f\u52a8\u200b es\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b/bin\u200b\u76ee\u5f55\u200b\u4e0b\u200b <pre><code>./elasticsearch\n</code></pre></p>"},{"location":"db/es/quickstart/#_3","title":"\u65b9\u5f0f\u200b\u4e8c","text":"<pre><code>brew install elastic/tap/elasticsearch-full\n\n\nbrew install elastic/tap/kibana-full\n</code></pre> <pre><code>brew services start elastic/tap/elasticsearch-full\n\nbrew services start elastic/tap/kibana-full\n</code></pre>"},{"location":"db/es/quickstart/#_4","title":"\u4f7f\u7528","text":"<p>9300 \u200b\u7aef\u53e3\u200b\u4e3a\u200b Elasticsearch \u200b\u96c6\u7fa4\u200b\u95f4\u200b\u7ec4\u4ef6\u200b\u7684\u200b\u901a\u4fe1\u200b\u7aef\u53e3\u200b\uff0c9200 \u200b\u7aef\u53e3\u200b\u4e3a\u200b\u6d4f\u89c8\u5668\u200b\u8bbf\u95ee\u200b\u7684\u200b http \u200b\u534f\u8bae\u200b RESTful \u200b\u7aef\u53e3\u200b\u3002</p>"},{"location":"db/es/quickstart/#_5","title":"\u95ee\u9898","text":"<p>1.Elasticsearch \u200b\u662f\u200b\u4f7f\u7528\u200b java \u200b\u5f00\u53d1\u200b\u7684\u200b\uff0c\u200b\u4e14\u200b 7.8 \u200b\u7248\u672c\u200b\u7684\u200b ES \u200b\u9700\u8981\u200b JDK \u200b\u7248\u672c\u200b 1.8 \u200b\u4ee5\u4e0a\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b \u200b\u5305\u200b\u5e26\u6709\u200b jdk \u200b\u73af\u5883\u200b\uff0c\u200b\u5982\u679c\u200b\u7cfb\u7edf\u914d\u7f6e\u200b JAVA_HOME\uff0c\u200b\u90a3\u4e48\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u9ed8\u8ba4\u200b\u7684\u200b JDK\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u914d\u200b \u200b\u7f6e\u200b\u4f7f\u7528\u200b\u81ea\u5e26\u200b\u7684\u200b JDK\uff0c\u200b\u4e00\u822c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u914d\u7f6e\u200b\u7684\u200b JDK\u3002</p> <p>2.\u200b\u53cc\u51fb\u200b\u542f\u52a8\u200b\u7a97\u53e3\u200b\u95ea\u9000\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8def\u5f84\u200b\u8bbf\u95ee\u200b\u8ffd\u8e2a\u200b\u9519\u8bef\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u200b\u201c\u200b\u7a7a\u95f4\u200b\u4e0d\u8db3\u200b\u201d\uff0c\u200b\u8bf7\u200b\u4fee\u6539\u200b config/jvm.options \u200b\u914d\u7f6e\u6587\u4ef6\u200b</p> <pre><code># \u200b\u8bbe\u7f6e\u200b JVM \u200b\u521d\u59cb\u200b\u5185\u5b58\u200b\u4e3a\u200b 1G\u3002\u200b\u6b64\u503c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e0e\u200b-Xmx \u200b\u76f8\u540c\u200b\uff0c\u200b\u4ee5\u200b\u907f\u514d\u200b\u6bcf\u6b21\u200b\u5783\u573e\u200b\u56de\u6536\u200b\u5b8c\u6210\u200b\u540e\u200b JVM \u200b\u91cd\u65b0\u200b\u5206\u914d\u5185\u5b58\u200b\n# Xms represents the initial size of total heap space\n# \u200b\u8bbe\u7f6e\u200b JVM \u200b\u6700\u5927\u200b\u53ef\u7528\u5185\u5b58\u200b\u4e3a\u200b 1G\n# Xmx represents the maximum size of total heap space\n-Xms1g\n-Xmx1g\n</code></pre>"},{"location":"db/es/quickstart/#_6","title":"\u5e38\u7528\u200b\u64cd\u4f5c","text":""},{"location":"db/es/quickstart/#_7","title":"\u57fa\u7840","text":"<p>ES \u200b\u91cc\u200b\u7684\u200b Index \u200b\u53ef\u4ee5\u200b\u770b\u505a\u200b\u4e00\u4e2a\u200b\u5e93\u200b\uff0c\u200b\u800c\u200b Types \u200b\u76f8\u5f53\u4e8e\u200b\u8868\u200b\uff0cDocuments \u200b\u5219\u200b\u76f8\u5f53\u4e8e\u200b\u8868\u7684\u884c\u200b\u3002 </p> <p>\u200b\u8fd9\u91cc\u200b Types \u200b\u7684\u200b\u6982\u5ff5\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u9010\u6e10\u200b\u5f31\u5316\u200b\uff0cElasticsearch 6.X \u200b\u4e2d\u200b\uff0c\u200b\u4e00\u4e2a\u200b index \u200b\u4e0b\u200b\u5df2\u7ecf\u200b\u53ea\u80fd\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b type\uff0cElasticsearch 7.X \u200b\u4e2d\u200b, Type \u200b\u7684\u200b\u6982\u5ff5\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u5220\u9664\u200b\u4e86\u200b\u3002</p>"},{"location":"db/es/quickstart/#_8","title":"\u7d22\u5f15","text":""},{"location":"db/es/quickstart/#_9","title":"\u521b\u5efa\u200b\u7d22\u5f15","text":"<pre><code># put\n\n127.0.0.1:9200/t3\n</code></pre> <pre><code>{\n \"acknowledged\"\u3010\u200b\u54cd\u5e94\u200b\u7ed3\u679c\u200b\u3011: true, # true \u200b\u64cd\u4f5c\u200b\u6210\u529f\u200b\n \"shards_acknowledged\"\u3010\u200b\u5206\u7247\u200b\u7ed3\u679c\u200b\u3011: true, # \u200b\u5206\u7247\u200b\u64cd\u4f5c\u200b\u6210\u529f\u200b\n \"index\"\u3010\u200b\u7d22\u5f15\u200b\u540d\u79f0\u200b\u3011: \"shopping\"\n}\n# \u200b\u6ce8\u610f\u200b\uff1a\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u5e93\u200b\u7684\u200b\u5206\u7247\u200b\u6570\u200b\u9ed8\u8ba4\u200b 1 \u200b\u7247\u200b\uff0c\u200b\u5728\u200b 7.0.0 \u200b\u4e4b\u524d\u200b\u7684\u200b Elasticsearch \u200b\u7248\u672c\u200b\u4e2d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 5 \u200b\u7247\u200b\n</code></pre>"},{"location":"db/es/quickstart/#_10","title":"\u67e5\u770b\u200b\u6240\u6709\u200b\u7d22\u5f15","text":"<pre><code># get\n\n127.0.0.1:9200/_cat/indices?v\n</code></pre> <pre><code>health status index uuid                   pri rep docs.count docs.deleted store.size pri.store.size\nyellow open   t4    dqc04Q1dSNOR-p69BrAfPg   1   1          4            0      5.7kb          5.7kb\nyellow open   t5    krHsnkW9ST-5CYIPK9qj4A   1   1          7            0     10.3kb         10.3kb\nyellow open   t1    _9vxsLJ9SKuc5D9lVjOGiA   1   1          1            1      7.3kb          7.3kb\nyellow open   t2    7TKFMj8aRDOOTIuFmVpBzw   1   1          1            1      4.7kb          4.7kb\nyellow open   t3    3sS8FYGOSfKTN_TN6qZ_9w   1   1          1            1      4.7kb          4.7kb\n</code></pre>"},{"location":"db/es/quickstart/#_11","title":"\u67e5\u770b\u200b\u67d0\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u7d22\u5f15","text":"<pre><code># get\n\n127.0.0.1:9200/t4\n</code></pre> <pre><code>{\n    \"t4\": {\n        \"aliases\": {},\n        \"mappings\": {\n            \"properties\": {\n                \"age\": {\n                    \"type\": \"integer\"\n                },\n                \"name\": {\n                    \"type\": \"text\",\n                    \"index\": false\n                },\n                \"sex\": {\n                    \"type\": \"text\",\n                    \"index\": false\n                },\n                \"t1\": {\n                    \"type\": \"long\"\n                }\n            }\n        },\n        \"settings\": {\n            \"index\": {\n                \"creation_date\": \"1652002404530\",\n                \"number_of_shards\": \"1\",\n                \"number_of_replicas\": \"1\",\n                \"uuid\": \"dqc04Q1dSNOR-p69BrAfPg\",\n                \"version\": {\n                    \"created\": \"7080099\"\n                },\n                \"provided_name\": \"t4\"\n            }\n        }\n    }\n}\n</code></pre> <pre><code>{\n   \"shopping\"\u3010\u200b\u7d22\u5f15\u200b\u540d\u200b\u3011: {\n       \"aliases\"\u3010\u200b\u522b\u540d\u200b\u3011: {},\n       \"mappings\"\u3010\u200b\u6620\u5c04\u200b\u3011: {},\n       \"settings\"\u3010\u200b\u8bbe\u7f6e\u200b\u3011: {\n           \"index\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b\u3011: {\n           \"creation_date\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u521b\u5efa\u200b\u65f6\u95f4\u200b\u3011: \"1614265373911\",\n           \"number_of_shards\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u4e3b\u200b\u5206\u7247\u200b\u6570\u91cf\u200b\u3011: \"1\",\n           \"number_of_replicas\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u526f\u200b\u5206\u7247\u200b\u6570\u91cf\u200b\u3011: \"1\",\n           \"uuid\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u552f\u4e00\u200b\u6807\u8bc6\u200b\u3011: \"eI5wemRERTumxGCc1bAk2A\",\n           \"version\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u7248\u672c\u200b\u3011: {\n                \"created\": \"7080099\"\n           },\n                    \"provided_name\"\u3010\u200b\u8bbe\u7f6e\u200b - \u200b\u7d22\u5f15\u200b - \u200b\u540d\u79f0\u200b\u3011: \"shopping\"\n                    }\n             }\n        }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_12","title":"\u5220\u9664\u200b\u7d22\u5f15","text":"<pre><code># delete\n\n127.0.0.1:9200/t1\n</code></pre>"},{"location":"db/es/quickstart/#_13","title":"\u6587\u6863","text":""},{"location":"db/es/quickstart/#_14","title":"\u6dfb\u52a0\u200b\u6587\u6863","text":"<pre><code># post\n\n127.0.0.1:9200/t1/_doc/\n\n\n{\n    \"age\": 19,\n    \"name\": \"dd\",\n    \"type\": \"t1\"\n}\n</code></pre> Note <pre><code>{\n     \"_index\"\u3010\u200b\u7d22\u5f15\u200b\u3011: \"shopping\",\n     \"_type\"\u3010\u200b\u7c7b\u578b\u200b-\u200b\u6587\u6863\u200b\u3011: \"_doc\",\n     \"_id\"\u3010\u200b\u552f\u4e00\u200b\u6807\u8bc6\u200b\u3011: \"Xhsa2ncBlvF_7lxyCE9G\", #\u200b\u53ef\u4ee5\u200b\u7c7b\u6bd4\u200b\u4e3a\u200b MySQL \u200b\u4e2d\u200b\u7684\u200b\u4e3b\u952e\u200b\uff0c\u200b\u968f\u673a\u200b\u751f\u6210\u200b\n     \"_version\"\u3010\u200b\u7248\u672c\u200b\u3011: 1,\n     \"result\"\u3010\u200b\u7ed3\u679c\u200b\u3011: \"created\", #\u200b\u8fd9\u91cc\u200b\u7684\u200b create \u200b\u8868\u793a\u200b\u521b\u5efa\u200b\u6210\u529f\u200b\n     \"_shards\"\u3010\u200b\u5206\u7247\u200b\u3011: {\n         \"total\"\u3010\u200b\u5206\u7247\u200b - \u200b\u603b\u6570\u200b\u3011: 2,\n         \"successful\"\u3010\u200b\u5206\u7247\u200b - \u200b\u6210\u529f\u200b\u3011: 1,\n         \"failed\"\u3010\u200b\u5206\u7247\u200b - \u200b\u5931\u8d25\u200b\u3011: 0\n     },\n     \"_seq_no\": 0,\n     \"_primary_term\": 1\n}\n</code></pre>"},{"location":"db/es/quickstart/#id","title":"\u6dfb\u52a0\u200b\u6587\u6863\u200b\u6307\u5b9a\u200bid","text":"<pre><code># post\n\n127.0.0.1:9200/t5/_doc/7\n\n\n{\n    \"age\": 12,\n    \"name\": \"t52\",\n    \"sex\": \"0\"\n}\n</code></pre>"},{"location":"db/es/quickstart/#id_1","title":"\u6839\u636e\u200bid\u200b\u67e5\u8be2\u200b\u6587\u6863","text":"<pre><code># get\n\n\n127.0.0.1:9200/t3/_doc/2\n</code></pre> Note <pre><code>{\n     \"_index\"\u3010\u200b\u7d22\u5f15\u200b\u3011: \"shopping\",\n     \"_type\"\u3010\u200b\u6587\u6863\u200b\u7c7b\u578b\u200b\u3011: \"_doc\",\n     \"_id\": \"1\",\n     \"_version\": 2,\n     \"_seq_no\": 2,\n     \"_primary_term\": 2,\n     \"found\"\u3010\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u3011: true, # true \u200b\u8868\u793a\u200b\u67e5\u627e\u200b\u5230\u200b\uff0cfalse \u200b\u8868\u793a\u200b\u672a\u67e5\u200b\u627e\u5230\u200b\n     \"_source\"\u3010\u200b\u6587\u6863\u200b\u6e90\u200b\u4fe1\u606f\u200b\u3011: {\n         \"title\": \"\u200b\u534e\u4e3a\u200b\u624b\u673a\u200b\",\n         \"category\": \"\u200b\u534e\u4e3a\u200b\",\n         \"images\": \"http://www.gulixueyuan.com/hw.jpg\",\n         \"price\": 4999.00\n     }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_15","title":"\u4fee\u6539\u200b\u6587\u6863","text":"<pre><code># post\n\n127.0.0.1:9200/t1/_doc/2\n\n\n{\n    \"age\": 99,\n    \"name\": \"bb2\",\n    \"type\": \"t2\"\n}\n</code></pre> Note <pre><code>{\n     \"_index\": \"shopping\",\n     \"_type\": \"_doc\",\n     \"_id\": \"1\",\n     \"_version\"\u3010\u200b\u7248\u672c\u200b\u3011: 2,\n     \"result\"\u3010\u200b\u7ed3\u679c\u200b\u3011: \"updated\", # updated \u200b\u8868\u793a\u200b\u6570\u636e\u200b\u88ab\u200b\u66f4\u65b0\u200b\n     \"_shards\": {\n         \"total\": 2,\n         \"successful\": 1,\n         \"failed\": 0\n     },\n     \"_seq_no\": 2,\n     \"_primary_term\": 2\n}\n</code></pre>"},{"location":"db/es/quickstart/#_16","title":"\u66f4\u65b0\u200b\u90e8\u5206\u200b\u5b57\u200b\u6bb5","text":"<pre><code># post\n\n127.0.0.1:9200/t1/_update/2\n\n\n{\n    \"doc\": {\n        \"name\": \"bb\"\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_17","title":"\u5220\u9664\u200b\u6587\u6863","text":"<pre><code># delete\n\n127.0.0.1:9200/t1/_doc/2\n</code></pre> Note <pre><code>{\n     \"_index\": \"shopping\",\n     \"_type\": \"_doc\",\n     \"_id\": \"1\",\n     \"_version\"\u3010\u200b\u7248\u672c\u200b\u3011: 4, #\u200b\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u66f4\u65b0\u200b\u7248\u672c\u200b\n     \"result\"\u3010\u200b\u7ed3\u679c\u200b\u3011: \"deleted\", # deleted \u200b\u8868\u793a\u200b\u6570\u636e\u200b\u88ab\u200b\u6807\u8bb0\u200b\u4e3a\u200b\u5220\u9664\u200b\n     \"_shards\": {\n         \"total\": 2,\n         \"successful\": 1,\n         \"failed\": 0\n     },\n     \"_seq_no\": 4,\n     \"_primary_term\": 2\n}\n</code></pre>"},{"location":"db/es/quickstart/#_18","title":"\u6839\u636e\u200b\u6761\u4ef6\u200b\u5220\u9664\u200b\u6587\u6863","text":"<pre><code># delete\n\n127.0.0.1:9200/t1/_delete_by_query\n\n\n{\n    \"query\": {\n        \"match\": {\n            \"age\": 19\n        }\n    }\n}\n</code></pre> Note <pre><code>{\n   \"took\"\u3010\u200b\u8017\u65f6\u200b\u3011: 175,\n   \"timed_out\"\u3010\u200b\u662f\u5426\u200b\u8d85\u65f6\u200b\u3011: false,\n   \"total\"\u3010\u200b\u603b\u6570\u200b\u3011: 2,\n   \"deleted\"\u3010\u200b\u5220\u9664\u200b\u6570\u91cf\u200b\u3011: 2,\n   \"batches\": 1,\n   \"version_conflicts\": 0,\n   \"noops\": 0,\n   \"retries\": {\n       \"bulk\": 0,\n       \"search\": 0\n   },\n   \"throttled_millis\": 0,\n   \"requests_per_second\": -1.0,\n   \"throttled_until_millis\": 0,\n   \"failures\": []\n}\n</code></pre>"},{"location":"db/es/quickstart/#mapping","title":"mapping","text":""},{"location":"db/es/quickstart/#mapping_1","title":"\u521b\u5efa\u200bmapping","text":"<p>\u200b\u5b57\u6bb5\u540d\u200b\uff1a\u200b\u4efb\u610f\u200b\u586b\u5199\u200b\uff0c\u200b\u4e0b\u9762\u200b\u6307\u5b9a\u200b\u8bb8\u591a\u200b\u5c5e\u6027\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1atitle\u3001subtitle\u3001images\u3001price</p> <p>String \u200b\u7c7b\u578b\u200b\uff0c\u200b\u53c8\u200b\u5206\u200b\u4e24\u79cd\u200b\uff1a text\uff1a\u200b\u53ef\u200b\u5206\u8bcd\u200b keyword\uff1a\u200b\u4e0d\u53ef\u200b\u5206\u8bcd\u200b\uff0c\u200b\u6570\u636e\u200b\u4f1a\u200b\u4f5c\u4e3a\u200b\u5b8c\u6574\u200b\u5b57\u200b\u6bb5\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b</p> <p>Numerical\uff1a\u200b\u6570\u503c\u200b\u7c7b\u578b\u200b\uff0c</p> <p>\u200b       \u200b\u5206\u200b\u4e24\u7c7b\u200b \u200b\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b\u200b\uff1along\u3001integer\u3001short\u3001byte\u3001double\u3001float\u3001half_float </p> <p>\u200b       \u200b\u6d6e\u70b9\u6570\u200b\u7684\u200b\u9ad8\u7cbe\u5ea6\u200b\u7c7b\u578b\u200b\uff1ascaled_float</p> <p>Date\uff1a\u200b\u65e5\u671f\u200b\u7c7b\u578b\u200b</p> <p>Array\uff1a\u200b\u6570\u7ec4\u200b\u7c7b\u578b\u200b</p> <p>Object\uff1a\u200b\u5bf9\u8c61\u200b</p> <pre><code># post\n\n\n127.0.0.1:9200/t4/_mapping\n\n\n\n{\n\n    \"properties\": {\n        \"t1\": {\n            \"type\": \"long\"\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#mapping_2","title":"\u67e5\u770b\u200bmapping","text":"<pre><code># get\n\n127.0.0.1:9200/t9/_mapping\n</code></pre>"},{"location":"db/es/quickstart/#mapping_3","title":"\u521b\u5efa\u200b\u7d22\u5f15\u200b \u200b\u5e26\u200bmapping","text":"<pre><code># put\n\n127.0.0.1:9200/t5\n\n\n{\n    \"settings\": {},\n    \"mappings\": {\n        \"properties\": {\n            \"age\": {\n                \"type\": \"integer\",\n                \"index\": true\n            },\n            \"name\": {\n                \"type\": \"text\",\n                \"index\": true\n            },\n            \"sex\": {\n                \"type\": \"text\",\n                \"index\": true\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_19","title":"\u9ad8\u7ea7\u200b\u67e5\u8be2","text":""},{"location":"db/es/quickstart/#_20","title":"\u67e5\u770b\u200b\u67d0\u4e2a\u200b\u7d22\u5f15\u200b\u4e0b\u200b\u5168\u90e8\u200b\u6587\u6863","text":"<p>\"query\"\uff1a\u200b\u8fd9\u91cc\u200b\u7684\u200b query \u200b\u4ee3\u8868\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u91cc\u9762\u200b\u53ef\u4ee5\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u5c5e\u6027\u200b  </p> <p>\"match_all\"\uff1a\u200b\u67e5\u8be2\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1amatch_all(\u200b\u4ee3\u8868\u200b\u67e5\u8be2\u200b\u6240\u6709\u200b)\uff0c match\uff0cterm \uff0c range \u200b\u7b49\u7b49\u200b </p> <p>{\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b}\uff1a\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u4f1a\u200b\u6839\u636e\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5199\u6cd5\u200b\u4e5f\u200b\u6709\u200b\u5dee\u5f02\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"match_all\": {}\n    }\n}\n</code></pre> <pre><code>{\n     \"took\u3010\u200b\u67e5\u8be2\u200b\u82b1\u8d39\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5355\u4f4d\u200b\u6beb\u79d2\u200b\u3011\" : 1116,\n     \"timed_out\u3010\u200b\u662f\u5426\u200b\u8d85\u65f6\u200b\u3011\" : false,\n     \"_shards\u3010\u200b\u5206\u7247\u200b\u4fe1\u606f\u200b\u3011\" : {\n         \"total\u3010\u200b\u603b\u6570\u200b\u3011\" : 1,\n         \"successful\u3010\u200b\u6210\u529f\u200b\u3011\" : 1,\n         \"skipped\u3010\u200b\u5ffd\u7565\u200b\u3011\" : 0,\n         \"failed\u3010\u200b\u5931\u8d25\u200b\u3011\" : 0\n     },\n     \"hits\u3010\u200b\u641c\u7d22\u200b\u547d\u4e2d\u200b\u7ed3\u679c\u200b\u3011\" : {\n         \"total\"\u3010\u200b\u641c\u7d22\u200b\u6761\u4ef6\u200b\u5339\u914d\u200b\u7684\u200b\u6587\u6863\u200b\u603b\u6570\u200b\u3011: {\n             \"value\"\u3010\u200b\u603b\u200b\u547d\u4e2d\u200b\u8ba1\u6570\u200b\u7684\u200b\u503c\u200b\u3011: 3,\n             \"relation\"\u3010\u200b\u8ba1\u6570\u200b\u89c4\u5219\u200b\u3011: \"eq\" # eq \u200b\u8868\u793a\u200b\u8ba1\u6570\u200b\u51c6\u786e\u200b\uff0c gte \u200b\u8868\u793a\u200b\u8ba1\u6570\u200b\u4e0d\u200b\u51c6\u786e\u200b\n         },\n         \"max_score\u3010\u200b\u5339\u914d\u200b\u5ea6\u200b\u5206\u503c\u200b\u3011\" : 1.0,\n         \"hits\u3010\u200b\u547d\u4e2d\u200b\u7ed3\u679c\u200b\u96c6\u5408\u200b\u3011\" : []\n     }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_21","title":"\u5b57\u200b\u6bb5\u200b\u5339\u914d\u200b\u67e5\u8be2","text":"<p>\u200b\u5355\u5b57\u200b\u6bb5\u200b</p> <p>match \u200b\u5339\u914d\u200b\u7c7b\u578b\u200b\u67e5\u8be2\u200b\uff0c\u200b\u4f1a\u200b\u628a\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\u8fdb\u884c\u200b\u5206\u8bcd\u200b\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u67e5\u8be2\u200b\uff0c\u200b\u591a\u4e2a\u200b\u8bcd\u6761\u200b\u4e4b\u95f4\u200b\u662f\u200b or \u200b\u7684\u200b\u5173\u7cfb\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t4/_search\n\n\n{\n    \"query\": {\n        \"match\": {\n            // \u200b\u6216\u200b\u7684\u200b\u5173\u7cfb\u200b\n            \"age\": 1\n        }\n    }\n}\n</code></pre> <p>\u200b\u591a\u5b57\u6bb5\u200b\u5339\u914d\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t4/_search\n\n\n{\n    \"query\": {\n        \"multi_match\": {\n            \"query\": \"1\",\n            \"fields\": [\n                \"age\",\n                \"name\"\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_22","title":"\u5173\u952e\u5b57\u200b\u7cbe\u51c6\u200b\u67e5\u8be2","text":"<p>\u200b\u5355\u200b\u5173\u952e\u5b57\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t4/_search\n\n{\n    \"query\": {\n        \"term\": {\n            \"age\": {\n                \"value\": 100\n            }\n        }\n    }\n}\n</code></pre> <p>\u200b\u591a\u200b\u5173\u952e\u5b57\u200b\u7cbe\u51c6\u200b\u67e5\u8be2\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t4/_search\n\n\n\n{\n    \"query\": {\n        \"terms\": {\n            \"age\": [\n                1,\n                2,\n                3\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_23","title":"\u6307\u5b9a\u200b\u67e5\u8be2\u200b\u5b57\u200b\u6bb5","text":"<p>_source</p> <pre><code># get\n\n127.0.0.1:9200/t4/_search\n\n\n{\n    \"_source\": [\n        \"age\",\n        \"name\"\n    ],\n    \"query\": {\n        \"terms\": {\n            \"age\": [\n                1\n            ]\n        }\n    }\n}\n</code></pre> <p>include</p> <p>includes\uff1a\u200b\u6765\u200b\u6307\u5b9a\u200b\u60f3\u8981\u200b\u663e\u793a\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b </p> <p>excludes\uff1a\u200b\u6765\u200b\u6307\u5b9a\u200b\u4e0d\u200b\u60f3\u8981\u200b\u663e\u793a\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t4/_search\n\n{\n    \"_source\": {\n        \"excludes\": [\n            \"name\",\n            \"age\"\n        ]\n    },\n    \"query\": {\n        \"terms\": {\n            \"age\": [\n                1\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_24","title":"\u591a\u4e2a\u200b\u6761\u4ef6\u200b\u7ec4\u5408","text":"<p><code>bool</code>\u200b\u628a\u200b\u5404\u79cd\u200b\u5176\u5b83\u200b\u67e5\u8be2\u200b\u901a\u8fc7\u200b<code>must</code>\uff08\u200b\u5fc5\u987b\u200b \uff09\u3001<code>must_not</code>\uff08\u200b\u5fc5\u987b\u200b\u4e0d\u200b\uff09\u3001<code>should</code>\uff08\u200b\u5e94\u8be5\u200b\uff09\u200b\u7684\u200b\u65b9\u200b \u200b\u5f0f\u200b\u8fdb\u884c\u200b\u7ec4\u5408\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"bool\": {\n            // \"must\": [\n            //     {\n            //         \"match\": {\n            //             \"name\": \"t51\"\n            //         }\n            //     }\n            // ],\n            // \"must_not\": [\n            //     {\n            //         \"match\": {\n            //             \"age\": 0\n            //         }\n            //     }\n            // ],\n            \"should\": [\n                {\n                    \"match\": {\n                        \"sex\": \"0\"\n                    }\n                }\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_25","title":"\u8303\u56f4\u200b\u67e5\u8be2","text":"\u64cd\u4f5c\u7b26\u200b \u200b\u8bf4\u660e\u200b gt &gt; gte &gt;= lt &lt; lte &lt;= <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"bool\": {\n            \"should\": [\n                {\n                    \"range\": {\n                        \"age\": {\n                            \"gte\": 0,\n                            \"lte\": 35\n                        }\n                    }\n                }\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_26","title":"\u6a21\u7cca\u200b\u67e5\u8be2","text":"<p>fuzziness\uff1a\u200b\u7f16\u8f91\u200b\u8ddd\u79bb\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"name\": {\n                \"value\": \"t51\",\n                // \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0d\u5199\u200b\n                \"fuzziness\": 2\n\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_27","title":"\u6392\u5e8f","text":"<p>\u200b\u5355\u5b57\u200b\u6bb5\u200b\u6392\u5e8f\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"name\": {\n                \"value\": \"t51\"\n            }\n        }\n    },\n    \"sort\": [\n        {\n            \"age\": {\n                \"order\": \"desc\"\n            }\n        }\n    ]\n}\n</code></pre> <p>\u200b\u591a\u5b57\u6bb5\u200b\u6392\u5e8f\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"fuzzy\": {\n            \"name\": {\n                \"value\": \"t51\"\n            }\n        }\n    },\n    \"sort\": [\n        {\n            \"age\": {\n                \"order\": \"desc\"\n            }\n        },\n        {\n            \"_score\": {\n                \"order\": \"desc\"\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"db/es/quickstart/#_28","title":"\u9ad8\u4eae\u200b\u67e5\u8be2","text":"<p>pre_tags\uff1a\u200b\u524d\u7f6e\u200b\u6807\u7b7e\u200b </p> <p>post_tags\uff1a\u200b\u540e\u7f6e\u200b\u6807\u7b7e\u200b </p> <p>fields\uff1a\u200b\u9700\u8981\u200b\u9ad8\u4eae\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b </p> <p>title\uff1a\u200b\u8fd9\u91cc\u200b\u58f0\u660e\u200b title \u200b\u5b57\u200b\u6bb5\u200b\u9700\u8981\u200b\u9ad8\u4eae\u200b\uff0c\u200b\u540e\u9762\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u8fd9\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u8bbe\u7f6e\u200b\u7279\u6709\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7a7a\u200b</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u9ad8\u4eae\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u9700\u8981\u200b\u5728\u200b\u67e5\u8be2\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4e2d\u200b\uff0c\u200b\u5982\u200b\u4e0b\u9762\u200b\u7684\u200bname\u200b\u5b57\u200b\u6bb5\u200b</p> <pre><code># get\n\n\n127.0.0.1:9200/t5/_search\n\n\n\n{\n    \"query\": {\n        \"match\": {\n            \"name\": \"t51\"\n        }\n    },\n    \"highlight\": {\n        \"pre_tags\": \"&lt;font color='red'&gt;\",\n        \"post_tags\": \"&lt;/font&gt;\",\n        \"fields\": {\n            \"name\": {}\n        }\n    }\n}\n</code></pre>"},{"location":"db/es/quickstart/#_29","title":"\u5206\u9875\u200b\u67e5\u8be2","text":"<p>from\uff1a\u200b\u5f53\u524d\u9875\u200b\u7684\u200b\u8d77\u59cb\u200b\u7d22\u5f15\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4ece\u200b 0 \u200b\u5f00\u59cb\u200b\u3002 from = (pageNum - 1) * size </p> <p>size\uff1a\u200b\u6bcf\u9875\u200b\u663e\u793a\u200b\u591a\u5c11\u200b\u6761\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n\n{\n    \"query\": {\n        \"match\": {\n            \"name\": \"t52\"\n        }\n    },\n    // \u200b\u4fdd\u8bc1\u200b\u67e5\u8be2\u200b\u5b57\u6bb5\u200b\u6709\u200b\n    \"highlight\": {\n        \"pre_tags\": \"&lt;font color='red'&gt;\",\n        \"post_tags\": \"&lt;/font&gt;\",\n        \"fields\": {\n            \"name\": {}\n        }\n    },\n    \"from\": 0,\n    \"size\": 3\n}\n</code></pre>"},{"location":"db/es/quickstart/#_30","title":"\u805a\u5408\u200b\u67e5\u8be2","text":"<p>max,min,sum,avg</p> <p>cardinality:\u200b\u5bf9\u200b\u67d0\u4e2a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u503c\u200b\u8fdb\u884c\u200b\u53bb\u200b\u91cd\u200b\u4e4b\u540e\u200b\u518d\u53d6\u200b\u603b\u6570\u200b</p> <p>stats:\u200b\u5bf9\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u4e00\u6b21\u6027\u200b\u8fd4\u56de\u200b count\uff0cmax\uff0cmin\uff0cavg \u200b\u548c\u200b sum \u200b\u4e94\u4e2a\u200b\u6307\u6807\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n{\n    \"aggs\": {\n        \"max_age\": {\n            \"max\": {\n                \"field\": \"age\"\n            }\n        }\n    },\n    \"size\": 0\n}\n</code></pre> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n{\n    \"aggs\": {\n        \"stats_age\": {\n            \"stats\": {\n                \"field\": \"age\"\n            }\n        }\n    },\n    \"size\": 0\n}\n</code></pre> <p>\u200b\u6839\u636e\u200b\u5e74\u9f84\u200b\u805a\u5408\u200b\u67e5\u8be2\u200b</p> <pre><code># get\n\n127.0.0.1:9200/t5/_search\n\n{\n    \"aggs\": {\n        \"age_groupby\": {\n            \"terms\": {\n                \"field\": \"age\"\n            }\n        }\n    },\n    \"size\": 0\n}\n</code></pre> <pre><code>{\n    \"took\": 25,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 1,\n        \"successful\": 1,\n        \"skipped\": 0,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": {\n            \"value\": 7,\n            \"relation\": \"eq\"\n        },\n        \"max_score\": null,\n        \"hits\": []\n    },\n    \"aggregations\": {\n        \"age_groupby\": {\n            \"doc_count_error_upper_bound\": 0,\n            \"sum_other_doc_count\": 0,\n            \"buckets\": [\n                {\n                    \"key\": 12,\n                    \"doc_count\": 6\n                },\n                {\n                    \"key\": 1,\n                    \"doc_count\": 1\n                }\n            ]\n        }\n    }\n}\n</code></pre>"},{"location":"db/redis/advanced/","title":"Advanced","text":""},{"location":"db/redis/advanced/#_1","title":"\u53d1\u5e03\u200b\u8ba2\u9605","text":""},{"location":"db/redis/advanced/#_2","title":"\u6982\u8ff0","text":"<p>\u200b\u53d1\u5e03\u8005\u200b:\uff1a\u200b\u53d1\u9001\u200b\u6d88\u606f\u200b</p> <p>\u200b\u8ba2\u9605\u200b\u8005\u200b\uff1a\u200b\u63a5\u6536\u200b\u4fe1\u606f\u200b</p>"},{"location":"db/redis/advanced/#redis","title":"redis\u200b\u53d1\u5e03\u200b\u8ba2\u9605","text":"<p>\u200b\u8ba2\u9605\u200b\u7ba1\u9053\u200bc1</p> <pre><code>subscribe c1\n</code></pre> <p>\u200b\u5728\u200b\u7ba1\u9053\u200bc1\u200b\u53d1\u5e03\u200b\u6d88\u606f\u200b</p> <pre><code>publish c1 1\n</code></pre>"},{"location":"db/redis/advanced/#_3","title":"\u65b0\u200b\u6570\u636e\u7c7b\u578b","text":""},{"location":"db/redis/advanced/#bitmaps","title":"bitmaps","text":"<p>\u200b\u5b58\u50a8\u200b01\u200b\u7ec4\u6210\u200b\u7684\u200b\u6570\u7ec4\u200b</p>"},{"location":"db/redis/advanced/#_4","title":"\u547d\u4ee4","text":""},{"location":"db/redis/advanced/#setbit","title":"setbit","text":"<p>offset\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b</p> <pre><code>setbit b1 0 0\n</code></pre>"},{"location":"db/redis/advanced/#getbit","title":"getbit","text":"<p>getbit key offset</p> <pre><code>getbit b1 0\n</code></pre>"},{"location":"db/redis/advanced/#bitcount","title":"bitcount","text":"<p>bitcount key start end</p> <p>start,end \u200b\u5747\u200b\u5305\u542b\u200b start-&gt;end\u200b\u4e4b\u95f4\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b</p> <p>-1\uff1a\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b</p> <p>-2\uff1a\u200b\u5012\u6570\u200b\u7b2c\u4e8c\u4f4d\u200b</p> <pre><code>bitcount b1 0 3\n</code></pre>"},{"location":"db/redis/advanced/#bitop","title":"bitop","text":"<p>bitop and(or/not/xor)  destkey k1 k2 k3 ....</p> <p>and\uff1a&amp;&amp;</p> <p>or\uff1a\u200b\u6216\u8005\u200b</p> <p>not\uff1a\u200b\u975e\u200b</p> <p>xor:\u200b\u5f02\u6216\u200b</p> <pre><code>bitop and b3 b1 b2\n</code></pre>"},{"location":"db/redis/advanced/#hyperloglog","title":"HyperLogLog","text":""},{"location":"db/redis/advanced/#_5","title":"\u6982\u8ff0","text":"<p>\u200b\u7edf\u8ba1\u200b\u67d0\u4e2a\u200bkey \u200b\u4e0d\u200b\u91cd\u590d\u200b\u5143\u7d20\u200b\u7684\u200b\u4e2a\u6570\u200b</p>"},{"location":"db/redis/advanced/#_6","title":"\u4f18\u52bf","text":"<p>\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5b58\u50a8\u200b\u8f93\u5165\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u800c\u662f\u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u5143\u7d20\u200b\u8ba1\u7b97\u200b\u57fa\u6570\u200b</p> <p>HyperLogLog\u200b\u53ea\u200b\u9700\u8981\u200b12KB \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8ba1\u7b97\u200b 2e64\u200b\u4e0d\u540c\u200b\u5143\u7d20\u200b\u7684\u200b\u57fa\u6570\u200b</p> <p>{1, 2, 3, 3, 4, 5} </p> <p>\u200b\u57fa\u6570\u200b\u96c6\u200b</p> <p>{1, 2, 3, 4, 5}</p> <p>\u200b\u57fa\u6570\u200b</p> <p>5</p>"},{"location":"db/redis/advanced/#_7","title":"\u547d\u4ee4","text":""},{"location":"db/redis/advanced/#pfadd","title":"pfadd","text":"<pre><code>pfadd key v1 v2 ....\n\n\npfadd p1 1 2 3\n</code></pre>"},{"location":"db/redis/advanced/#pfcount","title":"pfcount","text":"<p>\u200b\u8ba1\u7b97\u200b\u591a\u4e2a\u200bkey\u200b\u7684\u200b\u57fa\u6570\u200b</p> <pre><code>pfcount k1 k2 k3 ....\n\n\npfcount p1\n\n\npfcount p1 p2\n</code></pre>"},{"location":"db/redis/advanced/#pfmerge","title":"pfmerge","text":"<p>\u200b\u5c06\u200b\u591a\u4e2a\u200bkey\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b</p> <pre><code>pfmerge destkey k1 k2 k3\n\n\n\n\npfmerge p3 p2 p1\n</code></pre>"},{"location":"db/redis/advanced/#geospatial","title":"Geospatial","text":""},{"location":"db/redis/advanced/#_8","title":"\u6982\u8ff0","text":"<p>\u200b\u7ecf\u7eac\u5ea6\u200b</p>"},{"location":"db/redis/advanced/#_9","title":"\u547d\u4ee4","text":""},{"location":"db/redis/advanced/#geoadd","title":"geoadd \u200b\u6dfb\u52a0","text":"<p>\u200b\u6709\u6548\u200b\u7684\u200b\u7ecf\u5ea6\u200b\u4ece\u200b -180 \u200b\u5ea6\u5230\u200b 180 \u200b\u5ea6\u200b\u3002\u200b\u6709\u6548\u200b\u7684\u200b\u7eac\u5ea6\u200b\u4ece\u200b -85.05112878 \u200b\u5ea6\u5230\u200b 85.05112878 \u200b\u5ea6\u200b\u3002</p> <pre><code>geoadd key \u200b\u7ecf\u5ea6\u200b \u200b\u7eac\u5ea6\u200b \u200b\u6210\u5458\u200b [\u200b\u7ecf\u5ea6\u200b \u200b\u7eac\u5ea6\u200b \u200b\u6210\u5458\u200b]\n\n\ngeoadd g1 1 1 a1\n</code></pre>"},{"location":"db/redis/advanced/#geopos","title":"geopos \u200b\u5b9a\u4f4d","text":"<p>\u200b\u83b7\u53d6\u200b\u6307\u5b9a\u200b\u6210\u5458\u200b\u7684\u200b\u7ecf\u5ea6\u200b \u200b\u7eac\u5ea6\u200b</p> <pre><code>geopos key member [member ...]\n\n\n127.0.0.1:6379&gt; geopos g1 a1\n1) 1) \"0.99999994039535522\"\n   2) \"0.99999945914297683\"\n</code></pre>"},{"location":"db/redis/advanced/#geodist","title":"geodist \u200b\u83b7\u53d6\u200b\u4fe9\u4e2a\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u76f4\u7ebf\u200b\u8ddd\u79bb","text":"<p>m \u200b\u8868\u793a\u200b\u5355\u4f4d\u200b\u4e3a\u200b\u7c73\u200b[\u200b\u9ed8\u8ba4\u503c\u200b]\u3002</p> <p>km \u200b\u8868\u793a\u200b\u5355\u4f4d\u200b\u4e3a\u200b\u5343\u7c73\u200b\u3002</p> <p>mi \u200b\u8868\u793a\u200b\u5355\u4f4d\u200b\u4e3a\u200b\u82f1\u91cc\u200b\u3002</p> <p>ft \u200b\u8868\u793a\u200b\u5355\u4f4d\u200b\u4e3a\u200b\u82f1\u5c3a\u200b\u3002</p> <pre><code>geodist key member1 member2 [m | km | ft | mi]\n\n\ngeodist g1 a1 a2 m\n</code></pre>"},{"location":"db/redis/advanced/#georadius","title":"georadius \u200b\u7ed9\u5b9a\u200b\u7ecf\u7eac\u5ea6\u200b\u4e3a\u200b\u4e2d\u5fc3\u200b \u200b\u627e\u5230\u200b\u4e00\u5b9a\u200b\u534a\u5f84\u200b\u5185\u200b\u7684\u200b\u5143\u7d20","text":"<pre><code>georadius key \u200b\u7ecf\u5ea6\u200b \u200b\u7eac\u5ea6\u200b radius m | km | ft | mi\n\n\n\ngeoradius g1 1 1 1000 km\n</code></pre>"},{"location":"db/redis/advanced/#redis_1","title":"redis \u200b\u4e8b\u52a1","text":""},{"location":"db/redis/advanced/#redis_2","title":"redis\u200b\u4e8b\u52a1\u200b\u5b9a\u4e49","text":"<p>Redis\u200b\u4e8b\u52a1\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u9694\u79bb\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u6240\u6709\u200b\u547d\u4ee4\u200b\u90fd\u200b\u4f1a\u200b\u5e8f\u5217\u5316\u200b\u3001\u200b\u6309\u200b\u987a\u5e8f\u200b\u7684\u200b\u6267\u884c\u200b\u3002\u200b\u4e8b\u52a1\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u53ef\u200b\u4ed6\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u9001\u200b\u7684\u200b\u547d\u4ee4\u200b\u6253\u65ad\u200b\u3002</p>"},{"location":"db/redis/advanced/#multi-exec-discard","title":"multi exec discard","text":"<p>\u200b\u4ece\u200b\u8f93\u5165\u200bMulti\u200b\u547d\u4ee4\u200b\u5f00\u59cb\u200b\uff0c\u200b\u8f93\u5165\u200b\u7684\u200b\u547d\u4ee4\u200b\u90fd\u200b\u4f1a\u200b\u4f9d\u6b21\u200b\u8fdb\u5165\u200b\u547d\u4ee4\u200b\u961f\u5217\u200b\u4e2d\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\uff0c\u200b\u76f4\u5230\u200b\u8f93\u5165\u200bExec\u200b\u540e\u200b\uff0cRedis\u200b\u4f1a\u200b\u5c06\u200b\u4e4b\u524d\u200b\u7684\u200b\u547d\u4ee4\u200b\u961f\u5217\u200b\u4e2d\u200b\u7684\u200b\u547d\u4ee4\u200b\u4f9d\u6b21\u200b\u6267\u884c\u200b\u3002</p> <p>\u200b\u7ec4\u961f\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bdiscard\u200b\u6765\u200b\u653e\u5f03\u200b\u7ec4\u961f\u200b\u3002</p> <pre><code>127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379(TX)&gt; set 1 1\nQUEUED\n127.0.0.1:6379(TX)&gt; set 2 2\nQUEUED\n127.0.0.1:6379(TX)&gt; exec\n1) OK\n2) OK\n127.0.0.1:6379&gt;\n</code></pre>"},{"location":"db/redis/advanced/#_10","title":"\u5982\u679c\u200b\u53d1\u751f\u200b\u9519\u8bef","text":"<p>\u200b\u7ec4\u961f\u200b\u4e2d\u200b\u67d0\u4e2a\u200b\u547d\u4ee4\u200b\u51fa\u73b0\u200b\u4e86\u200b\u62a5\u544a\u200b\u9519\u8bef\u200b\uff0c\u200b\u6267\u884c\u200b\u65f6\u200b\u6574\u4e2a\u200b\u7684\u200b\u6240\u6709\u200b\u961f\u5217\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u53d6\u6d88\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6267\u884c\u200b\u9636\u6bb5\u200b\u67d0\u4e2a\u200b\u547d\u4ee4\u200b\u62a5\u51fa\u200b\u4e86\u200b\u9519\u8bef\u200b\uff0c\u200b\u5219\u200b\u53ea\u6709\u200b\u62a5\u9519\u200b\u7684\u200b\u547d\u4ee4\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u6267\u884c\u200b\uff0c\u200b\u800c\u200b\u5176\u4ed6\u200b\u7684\u200b\u547d\u4ee4\u200b\u90fd\u200b\u4f1a\u200b\u6267\u884c\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u56de\u6eda\u200b\u3002</p>"},{"location":"db/redis/advanced/#_11","title":"\u9501","text":""},{"location":"db/redis/advanced/#_12","title":"\u60b2\u89c2\u200b\u9501","text":"<p>\u200b\u60b2\u89c2\u200b\u9501\u200b(Pessimistic Lock), \u200b\u987e\u540d\u601d\u4e49\u200b\uff0c\u200b\u5c31\u662f\u200b\u5f88\u200b\u60b2\u89c2\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u53bb\u200b\u62ff\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u90fd\u200b\u8ba4\u4e3a\u200b\u522b\u4eba\u200b\u4f1a\u200b\u4fee\u6539\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6bcf\u6b21\u200b\u5728\u200b\u62ff\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u90fd\u200b\u4f1a\u200b\u4e0a\u9501\u200b\uff0c\u200b\u8fd9\u6837\u200b\u522b\u4eba\u200b\u60f3\u200b\u62ff\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\u5c31\u200b\u4f1a\u200bblock\u200b\u76f4\u5230\u200b\u5b83\u200b\u62ff\u5230\u200b\u9501\u200b</p>"},{"location":"db/redis/advanced/#_13","title":"\u4e50\u89c2\u200b\u9501","text":"<p>\u200b\u4e50\u89c2\u200b\u9501\u200b(Optimistic Lock), \u200b\u987e\u540d\u601d\u4e49\u200b\uff0c\u200b\u5c31\u662f\u200b\u5f88\u200b\u4e50\u89c2\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u53bb\u200b\u62ff\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u90fd\u200b\u8ba4\u4e3a\u200b\u522b\u4eba\u200b\u4e0d\u4f1a\u200b\u4fee\u6539\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e0d\u4f1a\u200b\u4e0a\u9501\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u66f4\u65b0\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u5224\u65ad\u200b\u4e00\u4e0b\u200b\u5728\u6b64\u671f\u95f4\u200b\u522b\u4eba\u200b\u6709\u6ca1\u6709\u200b\u53bb\u200b\u66f4\u65b0\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7248\u672c\u53f7\u200b\u7b49\u200b\u673a\u5236\u200b\u3002\u200b\u4e50\u89c2\u200b\u9501\u200b\u9002\u7528\u200b\u4e8e\u200b\u591a\u8bfb\u200b\u7684\u200b\u5e94\u7528\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u541e\u5410\u91cf\u200b\u3002Redis\u200b\u5c31\u662f\u200b\u5229\u7528\u200b\u8fd9\u79cd\u200bcheck-and-set\u200b\u673a\u5236\u200b\u5b9e\u73b0\u200b\u4e8b\u52a1\u200b\u7684\u200b\u3002</p>"},{"location":"db/redis/advanced/#watch-unwatch","title":"watch unwatch","text":"<p>\u200b\u5728\u200b\u6267\u884c\u200bmulti\u200b\u4e4b\u524d\u200b\uff0c\u200b\u5148\u200b\u6267\u884c\u200bwatch key1 [key2],\u200b\u53ef\u4ee5\u200b\u76d1\u89c6\u200b\u4e00\u4e2a\u200b(\u200b\u6216\u200b\u591a\u4e2a\u200b) key \uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u4e8b\u52a1\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\u8fd9\u4e2a\u200b(\u200b\u6216\u200b\u8fd9\u4e9b\u200b) key \u200b\u88ab\u200b\u5176\u4ed6\u200b\u547d\u4ee4\u200b\u6240\u200b\u6539\u52a8\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4e8b\u52a1\u200b\u5c06\u200b\u88ab\u200b\u6253\u65ad\u200b\u3002</p> <pre><code>127.0.0.1:6379&gt; watch 1\nOK\n127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379(TX)&gt; set 1 1\nQUEUED\n127.0.0.1:6379(TX)&gt; exec\n(nil)\n127.0.0.1:6379&gt;\n</code></pre> <p>unwatch \u200b\u53d6\u6d88\u200b\u5bf9\u200bkey\u200b\u7684\u200b\u76d1\u89c6\u200b</p>"},{"location":"db/redis/advanced/#redis_3","title":"redis\u200b\u4e8b\u52a1\u200b\u7279\u6027","text":"<p>\u00d8 \u200b\u5355\u72ec\u200b\u7684\u200b\u9694\u79bb\u200b\u64cd\u4f5c\u200b </p> <p>\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u547d\u4ee4\u200b\u90fd\u200b\u4f1a\u200b\u5e8f\u5217\u5316\u200b\u3001\u200b\u6309\u200b\u987a\u5e8f\u200b\u5730\u200b\u6267\u884c\u200b\u3002\u200b\u4e8b\u52a1\u200b\u5728\u200b\u6267\u884c\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u5176\u4ed6\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u9001\u200b\u6765\u200b\u7684\u200b\u547d\u4ee4\u200b\u8bf7\u6c42\u200b\u6240\u200b\u6253\u65ad\u200b\u3002 </p> <p>\u00d8 \u200b\u6ca1\u6709\u200b\u9694\u79bb\u200b\u7ea7\u522b\u200b\u7684\u200b\u6982\u5ff5\u200b </p> <p>\u200b\u961f\u5217\u200b\u4e2d\u200b\u7684\u200b\u547d\u4ee4\u200b\u6ca1\u6709\u200b\u63d0\u4ea4\u200b\u4e4b\u524d\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u5b9e\u9645\u200b\u88ab\u200b\u6267\u884c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e8b\u52a1\u200b\u63d0\u4ea4\u200b\u524d\u200b\u4efb\u4f55\u200b\u6307\u4ee4\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u5b9e\u9645\u200b\u6267\u884c\u200b</p> <p>\u00d8 \u200b\u4e0d\u200b\u4fdd\u8bc1\u200b\u539f\u5b50\u200b\u6027\u200b </p> <p>\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\uff0c\u200b\u5176\u540e\u200b\u7684\u200b\u547d\u4ee4\u200b\u4ecd\u7136\u200b\u4f1a\u200b\u88ab\u200b\u6267\u884c\u200b\uff0c\u200b\u6ca1\u6709\u200b\u56de\u6eda\u200b </p>"},{"location":"db/redis/advanced/#_14","title":"\u6301\u4e45\u200b\u5316","text":""},{"location":"db/redis/advanced/#rdb","title":"rdb","text":""},{"location":"db/redis/advanced/#what","title":"what","text":"<p>\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u5185\u200b\u5c06\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u96c6\u200b\u5feb\u7167\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\uff0c \u200b\u4e5f\u200b\u5c31\u662f\u200b\u884c\u8bdd\u200b\u8bb2\u200b\u7684\u200bSnapshot\u200b\u5feb\u7167\u200b\uff0c\u200b\u5b83\u200b\u6062\u590d\u200b\u65f6\u200b\u662f\u200b\u5c06\u200b\u5feb\u7167\u200b\u6587\u4ef6\u200b\u76f4\u63a5\u200b\u8bfb\u200b\u5230\u200b\u5185\u5b58\u200b\u91cc\u200b</p>"},{"location":"db/redis/advanced/#source","title":"source","text":""},{"location":"db/redis/advanced/#fork-todo","title":"fork todo","text":"<p>Redis\u200b\u4f1a\u200b\u5355\u72ec\u200b\u521b\u5efa\u200b\uff08fork\uff09\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u6765\u200b\u8fdb\u884c\u200b\u6301\u4e45\u200b\u5316\u200b\uff0c\u200b\u4f1a\u5148\u200b\u5c06\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u5230\u200b \u200b\u4e00\u4e2a\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u5f85\u200b\u6301\u4e45\u200b\u5316\u200b\u8fc7\u7a0b\u200b\u90fd\u200b\u7ed3\u675f\u200b\u4e86\u200b\uff0c\u200b\u518d\u7528\u200b\u8fd9\u4e2a\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u66ff\u6362\u200b\u4e0a\u6b21\u200b\u6301\u4e45\u200b\u5316\u597d\u200b\u7684\u200b\u6587\u4ef6\u200b\u3002</p> <p>\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u662f\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u4efb\u4f55\u200bIO\u200b\u64cd\u4f5c\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u786e\u4fdd\u200b\u4e86\u200b\u6781\u200b\u9ad8\u200b\u7684\u200b\u6027\u80fd\u200b \u200b\u5982\u679c\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u5927\u89c4\u6a21\u200b\u6570\u636e\u200b\u7684\u200b\u6062\u590d\u200b\uff0c\u200b\u4e14\u200b\u5bf9\u4e8e\u200b\u6570\u636e\u6062\u590d\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u4e0d\u662f\u200b\u975e\u5e38\u200b\u654f\u611f\u200b\uff0c\u200b\u90a3\u200bRDB\u200b\u65b9\u5f0f\u200b\u8981\u200b\u6bd4\u200bAOF\u200b\u65b9\u5f0f\u200b\u66f4\u52a0\u200b\u7684\u200b\u9ad8\u6548\u200b\u3002RDB\u200b\u7684\u200b\u7f3a\u70b9\u200b\u662f\u200b\u6700\u540e\u200b\u4e00\u6b21\u200b\u6301\u4e45\u200b\u5316\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u80fd\u200b\u4e22\u5931\u200b\u3002</p>"},{"location":"db/redis/advanced/#config","title":"config","text":""},{"location":"db/redis/advanced/#_15","title":"\u6307\u5b9a\u200b\u6587\u4ef6\u200b\u4f4d\u7f6e","text":"<p>redis.conf</p> <pre><code>dir /opt/homebrew/var/db/redis/\n</code></pre>"},{"location":"db/redis/advanced/#_16","title":"\u914d\u7f6e\u200b\u89e6\u53d1\u200b\u7b56\u7565","text":"<p>\u200b\u4e0d\u200b\u8bbe\u7f6e\u200bsave\u200b\u6307\u4ee4\u200b\uff0c\u200b\u6216\u8005\u200b\u7ed9\u200bsave\u200b\u4f20\u5165\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b</p>"},{"location":"db/redis/advanced/#_17","title":"\u624b\u52a8\u200b\u89e6\u53d1","text":"<p>save \uff1asave\u200b\u65f6\u200b\u53ea\u7ba1\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u5176\u5b83\u200b\u4e0d\u7ba1\u200b\uff0c\u200b\u5168\u90e8\u200b\u963b\u585e\u200b\u3002\u200b\u624b\u52a8\u200b\u4fdd\u5b58\u200b\u3002\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u3002</p> <p>bgsave\uff1aRedis\u200b\u4f1a\u200b\u5728\u200b\u540e\u53f0\u200b\u5f02\u6b65\u200b\u8fdb\u884c\u200b\u5feb\u7167\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5feb\u7167\u200b\u540c\u65f6\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u54cd\u5e94\u200b\u5ba2\u6237\u7aef\u200b\u8bf7\u6c42\u200b\u3002</p>"},{"location":"db/redis/advanced/#stop-writes-on-bgsave-error","title":"stop-writes-on-bgsave-error","text":"<p>\u200b\u5f53\u200bRedis\u200b\u65e0\u6cd5\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\u7684\u8bdd\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5173\u6389\u200bRedis\u200b\u7684\u200b\u5199\u200b\u64cd\u4f5c\u200b\u3002\u200b\u63a8\u8350\u200byes.</p>"},{"location":"db/redis/advanced/#rdbcompression","title":"rdbcompression","text":"<p>\u200b\u4f7f\u7528\u200b\u538b\u7f29\u7b97\u6cd5\u200b , LZF</p>"},{"location":"db/redis/advanced/#rdbchecksum","title":"rdbchecksum \u200b\u68c0\u67e5\u200b\u5b8c\u6574\u6027","text":""},{"location":"db/redis/advanced/#_18","title":"\u4f18\u70b9\u200b\u7f3a\u70b9","text":""},{"location":"db/redis/advanced/#_19","title":"\u4f18\u70b9","text":"<p>l \u200b\u8282\u7701\u200b\u78c1\u76d8\u7a7a\u95f4\u200b</p> <p>l \u200b\u6062\u590d\u200b\u901f\u5ea6\u200b\u5feb\u200b</p>"},{"location":"db/redis/advanced/#_20","title":"\u7f3a\u70b9","text":"<p>\u200b\u867d\u7136\u200bRedis\u200b\u5728\u200bfork\u200b\u65f6\u200b\u4f7f\u7528\u200b\u4e86\u200b\u5199\u200b\u65f6\u200b\u62f7\u8d1d\u200b\u6280\u672f\u200b,\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u6570\u636e\u200b\u5e9e\u5927\u200b\u65f6\u200b\u8fd8\u662f\u200b\u6bd4\u8f83\u200b\u6d88\u8017\u200b\u6027\u80fd\u200b\u3002</p> <p>\u200b\u5728\u200b\u5907\u4efd\u200b\u5468\u671f\u200b\u5728\u200b\u4e00\u5b9a\u200b\u95f4\u9694\u65f6\u95f4\u200b\u505a\u200b\u4e00\u6b21\u200b\u5907\u4efd\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5982\u679c\u200bRedis\u200b\u610f\u5916\u200bdown\u200b\u6389\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4e22\u5931\u200b\u6700\u540e\u200b\u4e00\u6b21\u200b\u5feb\u7167\u200b\u540e\u200b\u7684\u200b\u6240\u6709\u200b\u4fee\u6539\u200b\u3002</p>"},{"location":"db/redis/advanced/#aof","title":"aof","text":""},{"location":"db/redis/advanced/#what_1","title":"what","text":"<p>\u200b\u4ee5\u200b\u65e5\u5fd7\u200b\u7684\u200b\u5f62\u5f0f\u200b\u6765\u200b\u8bb0\u5f55\u200b\u6bcf\u4e2a\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff08\u200b\u589e\u91cf\u200b\u4fdd\u5b58\u200b\uff09\uff0c\u200b\u5c06\u200bRedis\u200b\u6267\u884c\u200b\u8fc7\u200b\u7684\u200b\u6240\u6709\u200b\u5199\u200b\u6307\u4ee4\u200b\u8bb0\u5f55\u4e0b\u6765\u200b(\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\u4e0d\u200b\u8bb0\u5f55\u200b)\uff0c \u200b\u53ea\u8bb8\u200b\u8ffd\u52a0\u200b\u6587\u4ef6\u200b\u4f46\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u6539\u5199\u200b\u6587\u4ef6\u200b\uff0credis\u200b\u542f\u52a8\u200b\u4e4b\u200b\u521d\u4f1a\u200b\u8bfb\u53d6\u200b\u8be5\u200b\u6587\u4ef6\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u6570\u636e\u200b\uff0c</p> <p>\u200b\u6362\u8a00\u4e4b\u200b\uff0credis \u200b\u91cd\u542f\u200b\u7684\u8bdd\u200b\u5c31\u200b\u6839\u636e\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u5c06\u200b\u5199\u200b\u6307\u4ee4\u200b\u4ece\u524d\u200b\u5230\u200b\u540e\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u4ee5\u200b\u5b8c\u6210\u200b\u6570\u636e\u200b\u7684\u200b\u6062\u590d\u200b\u5de5\u4f5c\u200b</p>"},{"location":"db/redis/advanced/#source_1","title":"source","text":""},{"location":"db/redis/advanced/#_21","title":"\u5982\u4f55\u200b\u540c\u6b65","text":"<ul> <li>\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u8bf7\u6c42\u200b\u5199\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u88ab\u200bappend\u200b\u8ffd\u52a0\u200b\u5230\u200bAOF\u200b\u7f13\u51b2\u533a\u200b\u5185\u200b\uff1b</li> <li>AOF\u200b\u7f13\u51b2\u533a\u200b\u6839\u636e\u200bAOF\u200b\u6301\u4e45\u200b\u5316\u200b\u7b56\u7565\u200b[always,everysec,no]\u200b\u5c06\u200b\u64cd\u4f5c\u200bsync\u200b\u540c\u6b65\u200b\u5230\u200b\u78c1\u76d8\u200b\u7684\u200bAOF\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff1b</li> <li>AOF\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u8d85\u8fc7\u200b\u91cd\u5199\u200b\u7b56\u7565\u200b\u6216\u200b\u624b\u52a8\u200b\u91cd\u5199\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u5bf9\u200bAOF\u200b\u6587\u4ef6\u200brewrite\u200b\u91cd\u5199\u200b\uff0c\u200b\u538b\u7f29\u200bAOF\u200b\u6587\u4ef6\u200b\u5bb9\u91cf\u200b</li> <li>Redis\u200b\u670d\u52a1\u200b\u91cd\u542f\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u91cd\u65b0\u200bload\u200b\u52a0\u8f7d\u200bAOF\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5199\u200b\u64cd\u4f5c\u200b\u8fbe\u5230\u200b\u6570\u636e\u6062\u590d\u200b\u7684\u200b\u76ee\u7684\u200b</li> </ul>"},{"location":"db/redis/advanced/#_22","title":"\u538b\u7f29","text":""},{"location":"db/redis/advanced/#what_2","title":"what","text":"<p>AOF\u200b\u91c7\u7528\u200b\u6587\u4ef6\u200b\u8ffd\u52a0\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u6587\u4ef6\u200b\u4f1a\u200b\u8d8a\u6765\u8d8a\u200b\u5927\u4e3a\u200b\u907f\u514d\u51fa\u73b0\u200b\u6b64\u79cd\u200b\u60c5\u51b5\u200b\uff0c\u200b\u65b0\u589e\u200b\u4e86\u200b\u91cd\u5199\u200b\u673a\u5236\u200b, \u200b\u5f53\u200bAOF\u200b\u6587\u4ef6\u200b\u7684\u200b\u5927\u5c0f\u200b\u8d85\u8fc7\u200b\u6240\u200b\u8bbe\u5b9a\u200b\u7684\u200b\u9608\u503c\u200b\u65f6\u200b\uff0cRedis\u200b\u5c31\u200b\u4f1a\u200b\u542f\u52a8\u200bAOF\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u538b\u7f29\u200b\uff0c \u200b\u53ea\u200b\u4fdd\u7559\u200b\u53ef\u4ee5\u200b\u6062\u590d\u200b\u6570\u636e\u200b\u7684\u200b\u6700\u5c0f\u200b\u6307\u4ee4\u96c6\u200b.\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u547d\u4ee4\u200bbgrewriteaof</p> <p>AOF\u200b\u6587\u4ef6\u200b\u6301\u7eed\u589e\u957f\u200b\u800c\u200b\u8fc7\u5927\u65f6\u200b\uff0c\u200b\u4f1a\u200bfork\u200b\u51fa\u200b\u4e00\u6761\u200b\u65b0\u200b\u8fdb\u7a0b\u200b\u6765\u200b\u5c06\u200b\u6587\u4ef6\u200b\u91cd\u5199\u200b(\u200b\u4e5f\u200b\u662f\u200b\u5148\u200b\u5199\u200b\u4e34\u65f6\u6587\u4ef6\u200b\u6700\u540e\u200b\u518d\u200brename)\uff0credis4.0\u200b\u7248\u672c\u200b\u540e\u200b\u7684\u200b\u91cd\u5199\u200b\uff0c\u200b\u662f\u200b\u6307\u4e0a\u200b\u5c31\u662f\u200b\u628a\u200brdb \u200b\u7684\u200b\u5feb\u7167\u200b\uff0c\u200b\u4ee5\u200b\u4e8c\u7ea7\u200b\u5236\u200b\u7684\u200b\u5f62\u5f0f\u200b\u9644\u5728\u200b\u65b0\u200b\u7684\u200baof\u200b\u5934\u90e8\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u5df2\u6709\u200b\u7684\u200b\u5386\u53f2\u6570\u636e\u200b\uff0c\u200b\u66ff\u6362\u200b\u6389\u200b\u539f\u6765\u200b\u7684\u200b\u6d41\u6c34\u8d26\u200b\u64cd\u4f5c\u200b\u3002</p>"},{"location":"db/redis/advanced/#source_2","title":"source","text":"<ul> <li>bgrewriteaof\u200b\u89e6\u53d1\u200b\u91cd\u5199\u200b\uff0c\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5f53\u524d\u200b\u6709\u200bbgsave\u200b\u6216\u200bbgrewriteaof\u200b\u5728\u200b\u8fd0\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\uff0c\u200b\u5219\u200b\u7b49\u5f85\u200b\u8be5\u200b\u547d\u4ee4\u200b\u7ed3\u675f\u200b\u540e\u200b\u518d\u200b\u7ee7\u7eed\u6267\u884c\u200b\u3002</li> <li>\u200b\u4e3b\u200b\u8fdb\u7a0b\u200bfork\u200b\u51fa\u5b50\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u91cd\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u4e0d\u4f1a\u200b\u963b\u585e\u200b\u3002</li> <li>\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u904d\u5386\u200bredis\u200b\u5185\u5b58\u200b\u4e2d\u200b\u6570\u636e\u200b\u5230\u200b\u4e34\u65f6\u6587\u4ef6\u200b\uff0c\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u5199\u200b\u8bf7\u6c42\u200b\u540c\u65f6\u200b\u5199\u5165\u200baof_buf\u200b\u7f13\u51b2\u533a\u200b\u548c\u200baof_rewrite_buf\u200b\u91cd\u5199\u200b\u7f13\u51b2\u533a\u200b\u4fdd\u8bc1\u200b\u539f\u200bAOF\u200b\u6587\u4ef6\u200b\u5b8c\u6574\u200b\u4ee5\u53ca\u200b\u65b0\u200bAOF\u200b\u6587\u4ef6\u200b\u751f\u6210\u200b\u671f\u95f4\u200b\u7684\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\u4fee\u6539\u200b\u52a8\u4f5c\u200b\u4e0d\u4f1a\u200b\u4e22\u5931\u200b\u3002</li> <li>1).\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u5199\u200b\u5b8c\u65b0\u200b\u7684\u200bAOF\u200b\u6587\u4ef6\u200b\u540e\u200b\uff0c\u200b\u5411\u4e3b\u200b\u8fdb\u7a0b\u200b\u53d1\u4fe1\u53f7\u200b\uff0c\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u66f4\u65b0\u200b\u7edf\u8ba1\u200b\u4fe1\u606f\u200b\u30022).\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u628a\u200baof_rewrite_buf\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u5230\u200b\u65b0\u200b\u7684\u200bAOF\u200b\u6587\u4ef6\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u65b0\u200b\u7684\u200bAOF\u200b\u6587\u4ef6\u200b\u8986\u76d6\u200b\u65e7\u200b\u7684\u200bAOF\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5b8c\u6210\u200bAOF\u200b\u91cd\u5199\u200b\u3002</li> </ul>"},{"location":"db/redis/advanced/#config_1","title":"config","text":"<p>\u200b\u5199\u200b\u914d\u7f6e\u200b</p> <p>\u200b\u5982\u679c\u200b no-appendfsync-on-rewrite=yes ,\u200b\u4e0d\u200b\u5199\u5165\u200baof\u200b\u6587\u4ef6\u200b\u53ea\u200b\u5199\u5165\u200b\u7f13\u5b58\u200b\uff0c\u200b\u7528\u6237\u200b\u8bf7\u6c42\u200b\u4e0d\u4f1a\u200b\u963b\u585e\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u5982\u679c\u200b\u5b95\u200b\u673a\u4f1a\u200b\u4e22\u5931\u200b\u8fd9\u200b\u6bb5\u65f6\u95f4\u200b\u7684\u200b\u7f13\u5b58\u6570\u636e\u200b\u3002\uff08\u200b\u964d\u4f4e\u200b\u6570\u636e\u200b\u5b89\u5168\u6027\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u6027\u80fd\u200b\uff09</p> <p>\u200b    \u200b\u5982\u679c\u200b no-appendfsync-on-rewrite=no, \u200b\u8fd8\u662f\u200b\u4f1a\u200b\u628a\u200b\u6570\u636e\u200b\u5f80\u200b\u78c1\u76d8\u200b\u91cc\u200b\u5237\u200b\uff0c\u200b\u4f46\u662f\u200b\u9047\u5230\u200b\u91cd\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d1\u751f\u200b\u963b\u585e\u200b\u3002\uff08\u200b\u6570\u636e\u5b89\u5168\u200b\uff0c\u200b\u4f46\u662f\u200b\u6027\u80fd\u200b\u964d\u4f4e\u200b\uff09</p> <p>\u200b\u89e6\u53d1\u200b\u673a\u5236\u200b\uff0c\u200b\u4f55\u65f6\u200b\u91cd\u5199\u200b</p> <p>\u200b\u89e6\u53d1\u200b\u7b56\u7565\u200b\u914d\u7f6e\u200b</p> <p>Redis\u200b\u4f1a\u200b\u8bb0\u5f55\u200b\u4e0a\u6b21\u200b\u91cd\u5199\u200b\u65f6\u200b\u7684\u200bAOF\u200b\u5927\u5c0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b\u662f\u200b\u5f53\u200bAOF\u200b\u6587\u4ef6\u5927\u5c0f\u200b\u662f\u200b\u4e0a\u6b21\u200brewrite\u200b\u540e\u200b\u5927\u5c0f\u200b\u7684\u200b\u4e00\u500d\u200b\u4e14\u200b\u6587\u4ef6\u200b\u5927\u4e8e\u200b64M\u200b\u65f6\u200b\u89e6\u53d1\u200b</p> <p>\u200b\u91cd\u5199\u200b\u867d\u7136\u200b\u53ef\u4ee5\u200b\u8282\u7ea6\u200b\u5927\u91cf\u200b\u78c1\u76d8\u7a7a\u95f4\u200b\uff0c\u200b\u51cf\u5c11\u200b\u6062\u590d\u200b\u65f6\u95f4\u200b\u3002\u200b\u4f46\u662f\u200b\u6bcf\u6b21\u200b\u91cd\u5199\u200b\u8fd8\u662f\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u8d1f\u62c5\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8bbe\u5b9a\u200bRedis\u200b\u8981\u200b\u6ee1\u8db3\u200b\u4e00\u5b9a\u200b\u6761\u4ef6\u200b\u624d\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u91cd\u5199\u200b\u3002 </p> <p>auto-aof-rewrite-percentage\uff1a\u200b\u8bbe\u7f6e\u200b\u91cd\u5199\u200b\u7684\u200b\u57fa\u51c6\u503c\u200b\uff0c\u200b\u6587\u4ef6\u200b\u8fbe\u5230\u200b100%\u200b\u65f6\u200b\u5f00\u59cb\u200b\u91cd\u5199\u200b\uff08\u200b\u6587\u4ef6\u200b\u662f\u200b\u539f\u6765\u200b\u91cd\u5199\u200b\u540e\u200b\u6587\u4ef6\u200b\u7684\u200b2\u200b\u500d\u200b\u65f6\u200b\u89e6\u53d1\u200b\uff09</p> <p>auto-aof-rewrite-min-size\uff1a\u200b\u8bbe\u7f6e\u200b\u91cd\u5199\u200b\u7684\u200b\u57fa\u51c6\u503c\u200b\uff0c\u200b\u6700\u5c0f\u200b\u6587\u4ef6\u200b64MB\u3002\u200b\u8fbe\u5230\u200b\u8fd9\u4e2a\u200b\u503c\u200b\u5f00\u59cb\u200b\u91cd\u5199\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff1a\u200b\u6587\u4ef6\u200b\u8fbe\u5230\u200b70MB\u200b\u5f00\u59cb\u200b\u91cd\u5199\u200b\uff0c\u200b\u964d\u5230\u200b50MB\uff0c\u200b\u4e0b\u6b21\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u5f00\u59cb\u200b\u91cd\u5199\u200b\uff1f100MB</p> <p>\u200b\u7cfb\u7edf\u200b\u8f7d\u5165\u200b\u65f6\u200b\u6216\u8005\u200b\u4e0a\u6b21\u200b\u91cd\u5199\u200b\u5b8c\u6bd5\u200b\u65f6\u200b\uff0cRedis\u200b\u4f1a\u200b\u8bb0\u5f55\u200b\u6b64\u65f6\u200bAOF\u200b\u5927\u5c0f\u200b\uff0c\u200b\u8bbe\u200b\u4e3a\u200bbase_size,</p> <p>\u200b\u5982\u679c\u200bRedis\u200b\u7684\u200bAOF\u200b\u5f53\u524d\u200b\u5927\u5c0f\u200b&gt;= base_size +base_size*100% (\u200b\u9ed8\u8ba4\u200b)\u200b\u4e14\u200b\u5f53\u524d\u200b\u5927\u5c0f\u200b&gt;=64mb(\u200b\u9ed8\u8ba4\u200b)\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cRedis\u200b\u4f1a\u200b\u5bf9\u200bAOF\u200b\u8fdb\u884c\u200b\u91cd\u5199\u200b\u3002 </p>"},{"location":"db/redis/advanced/#config_2","title":"config","text":""},{"location":"db/redis/advanced/#_23","title":"\u5f00\u542f\u200b\u914d\u7f6e","text":"<p>\u200b\u53ef\u4ee5\u200b\u5728\u200bredis.conf\u200b\u4e2d\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u540d\u79f0\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b appendonly.aof</p> <p>AOF\u200b\u6587\u4ef6\u200b\u7684\u200b\u4fdd\u5b58\u200b\u8def\u5f84\u200b\uff0c\u200b\u540c\u200bRDB\u200b\u7684\u200b\u8def\u5f84\u200b\u4e00\u81f4\u200b\u3002</p> <p>\u200b\u9ed8\u8ba4\u200baof\u200b\u4e0d\u200b\u5f00\u542f\u200b\uff0c\u200b\u5982\u679c\u200baof,rdb\u200b\u540c\u65f6\u200b\u5f00\u542f\u200b\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200baof</p>"},{"location":"db/redis/advanced/#_24","title":"\u540c\u6b65\u200b\u9891\u7387\u200b\u914d\u7f6e","text":"<p>appendfsync always</p> <p>\u200b\u59cb\u7ec8\u200b\u540c\u6b65\u200b\uff0c\u200b\u6bcf\u6b21\u200bRedis\u200b\u7684\u200b\u5199\u5165\u200b\u90fd\u200b\u4f1a\u200b\u7acb\u523b\u200b\u8bb0\u5165\u200b\u65e5\u5fd7\u200b\uff1b\u200b\u6027\u80fd\u200b\u8f83\u5dee\u200b\u4f46\u200b\u6570\u636e\u5b8c\u6574\u6027\u200b\u6bd4\u8f83\u200b\u597d\u200b</p> <p>appendfsync everysec</p> <p>\u200b\u6bcf\u79d2\u200b\u540c\u6b65\u200b\uff0c\u200b\u6bcf\u79d2\u200b\u8bb0\u5165\u200b\u65e5\u5fd7\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5982\u679c\u200b\u5b95\u673a\u200b\uff0c\u200b\u672c\u79d2\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u80fd\u200b\u4e22\u5931\u200b\u3002</p> <p>appendfsync no</p> <p>redis\u200b\u4e0d\u200b\u4e3b\u52a8\u200b\u8fdb\u884c\u200b\u540c\u6b65\u200b\uff0c\u200b\u628a\u200b\u540c\u6b65\u200b\u65f6\u673a\u200b\u4ea4\u7ed9\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u3002</p>"},{"location":"db/redis/advanced/#use","title":"use","text":""},{"location":"db/redis/advanced/#_25","title":"\u6062\u590d","text":"<p>\u200b\u6b63\u5e38\u200b\u6062\u590d\u200b</p> <ul> <li>\u200b\u4fee\u6539\u200b\u9ed8\u8ba4\u200b\u7684\u200bappendonly no\uff0c\u200b\u6539\u4e3a\u200byes</li> <li>\u200b\u5c06\u200b\u6709\u200b\u6570\u636e\u200b\u7684\u200baof\u200b\u6587\u4ef6\u200b\u590d\u5236\u200b\u4e00\u4efd\u200b\u4fdd\u5b58\u200b\u5230\u200b\u5bf9\u5e94\u200b\u76ee\u5f55\u200b(\u200b\u67e5\u770b\u200b\u76ee\u5f55\u200b\uff1aconfig get dir)</li> <li>\u200b\u6062\u590d\u200b\uff1a\u200b\u91cd\u542f\u200bredis\u200b\u7136\u540e\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b</li> </ul> <p>\u200b\u5f02\u5e38\u200b\u6062\u590d\u200b</p> <ul> <li>\u200b\u4fee\u6539\u200b\u9ed8\u8ba4\u200b\u7684\u200bappendonly no\uff0c\u200b\u6539\u4e3a\u200byes</li> <li>\u200b\u5982\u200b\u9047\u5230\u200bAOF\u200b\u6587\u4ef6\u200b\u635f\u574f\u200b\uff0c\u200b\u901a\u8fc7\u200b/usr/local/bin/redis-check-aof--fix appendonly.aof\u200b\u8fdb\u884c\u200b\u4fee\u590d\u200b</li> <li>\u200b\u5907\u4efd\u200b\u88ab\u200b\u5199\u200b\u574f\u200b\u7684\u200bAOF\u200b\u6587\u4ef6\u200b</li> <li>\u200b\u6062\u590d\u200b\uff1a\u200b\u91cd\u542f\u200bredis\uff0c\u200b\u7136\u540e\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b</li> </ul>"},{"location":"db/redis/advanced/#summary","title":"summary","text":""},{"location":"db/redis/advanced/#advantages","title":"advantages","text":"<ul> <li>\u200b\u5907\u4efd\u200b\u673a\u5236\u200b\u66f4\u200b\u7a33\u5065\u200b\uff0c\u200b\u4e22\u5931\u200b\u6570\u636e\u200b\u6982\u7387\u200b\u66f4\u200b\u4f4e\u200b\u3002</li> </ul>"},{"location":"db/redis/advanced/#disadvantages","title":"disadvantages","text":"<ul> <li>\u200b\u6bd4\u8d77\u200bRDB\u200b\u5360\u7528\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u78c1\u76d8\u7a7a\u95f4\u200b\u3002</li> <li>\u200b\u6062\u590d\u200b\u5907\u4efd\u200b\u901f\u5ea6\u200b\u8981\u6162\u200b\u3002</li> <li>\u200b\u6bcf\u6b21\u200b\u8bfb\u5199\u200b\u90fd\u200b\u540c\u6b65\u200b\u7684\u8bdd\u200b\uff0c\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u6027\u80fd\u200b\u538b\u529b\u200b\u3002</li> </ul>"},{"location":"db/redis/advanced/#_26","title":"\u4e3b\u4ece\u590d\u5236","text":""},{"location":"db/redis/advanced/#what_3","title":"what","text":"<p>\u200b\u8bfb\u5199\u200b\u5206\u79bb\u200b\uff0cmaster\u200b\u5199\u200b\uff0c\u200b\u590d\u5236\u5230\u200bslaver, slaver\u200b\u8fdb\u884c\u200b\u8bfb\u200b</p>"},{"location":"db/redis/advanced/#use_1","title":"use","text":""},{"location":"db/redis/advanced/#_27","title":"\u57fa\u7840","text":""},{"location":"db/redis/advanced/#_28","title":"\u914d\u7f6e","text":"<p>\u200b\u4ece\u200b\u5355\u673a\u200b\u4e2d\u200b\u7684\u200bredis.conf\u200b\u590d\u5236\u200b\u4e00\u4efd\u200bredis.conf</p> <p>\u200b\u65b0\u5efa\u200bredis6379.conf,redis6380.conf,redis6381.conf</p> <p>\u200b\u586b\u5165\u200b\u5982\u4e0b\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4fee\u6539\u200bpidfile,port,dbfilename</p> <pre><code>include /opt/homebrew/etc/myredis/redis.conf\npidfile \"/var/run/redis_6379.pid\"\nport 6379\ndbfilename dump6379.rdb\n</code></pre>"},{"location":"db/redis/advanced/#_29","title":"\u542f\u52a8","text":"<p>\u200b\u542f\u52a8\u200b\u4e09\u53f0\u200bredis\u200b\u670d\u52a1\u5668\u200b</p> <pre><code>\u276f redis-server ./redis6379.conf\n\u276f redis-server ./redis6380.conf\n\u276f redis-server ./redis6381.conf\n</code></pre>"},{"location":"db/redis/advanced/#_30","title":"\u67e5\u770b","text":"<pre><code>127.0.0.1:6379&gt; info replication\n# Replication\nrole:master\nconnected_slaves:0\nmaster_failover_state:no-failover\nmaster_replid:08f03d154f528b0980ccb908bff473e966a19509\nmaster_replid2:0000000000000000000000000000000000000000\nmaster_repl_offset:0\nsecond_repl_offset:-1\nrepl_backlog_active:0\nrepl_backlog_size:1048576\nrepl_backlog_first_byte_offset:0\nrepl_backlog_histlen:0\n</code></pre>"},{"location":"db/redis/advanced/#_31","title":"\u4ece\u673a\u200b\u914d\u7f6e\u200b \u200b\u4e3b\u673a\u200b\u4e0d\u200b\u914d\u7f6e","text":"<p>6380,6381\u200b\u914d\u7f6e\u200b</p> <pre><code>slaveof 127.0.0.1 6379\n</code></pre>"},{"location":"db/redis/advanced/#_32","title":"\u6ce8\u610f","text":"<p>\u200b\u4ece\u673a\u200b\u5199\u200b\u6570\u636e\u200b\u5c31\u200b\u4f1a\u200b\u62a5\u9519\u200b</p> <pre><code>127.0.0.1:6381&gt; set 1 1\n(error) READONLY You can't write against a read only replica.\n</code></pre> <p>\u200b\u4e3b\u673a\u200b\u6302\u6389\u200b\u91cd\u542f\u200b\u5373\u53ef\u200b</p> <p>\u200b\u4ece\u673a\u200b\u91cd\u542f\u200b\u9700\u8981\u200b\u91cd\u65b0\u914d\u7f6e\u200bslaveof 127.0.0.1 6379\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5199\u200b\u5728\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b</p>"},{"location":"db/redis/advanced/#_33","title":"\u5e38\u89c1\u200b\u7684\u200b\u4e09\u79cd\u200b\u4e3b\u4ece\u200b\u6a21\u5f0f","text":""},{"location":"db/redis/advanced/#_34","title":"\u4e00\u4e3b\u4e8c\u200b\u4ece","text":""},{"location":"db/redis/advanced/#_35","title":"\u85aa\u706b\u76f8\u4f20","text":"<p>\u200b\u964d\u4f4e\u200b\u4e86\u200bmaster\u200b\u590d\u5236\u200b\u65f6\u200b\u7684\u200b\u5199\u200b\u538b\u529b\u200b</p> <p>\u200b\u4e3b\u673a\u200b\u6302\u6389\u200b \u200b\u4ece\u673a\u200b\u4ecd\u7136\u200b\u662f\u4ece\u200b\u673a\u200b</p>"},{"location":"db/redis/advanced/#_36","title":"\u53cd\u5ba2\u4e3a\u4e3b","text":"<p>\u200b\u57fa\u4e8e\u200b\u85aa\u706b\u76f8\u4f20\u200b</p> <p>\u200b\u5f53\u200b\u4e00\u4e2a\u200bmaster\u200b\u5b95\u673a\u200b\u540e\u200b\uff0c\u200b\u540e\u9762\u200b\u7684\u200bslave\u200b\u53ef\u4ee5\u200b\u7acb\u523b\u200b\u5347\u200b\u4e3a\u200bmaster\uff0c\u200b\u5176\u200b\u540e\u9762\u200b\u7684\u200bslave\u200b\u4e0d\u7528\u200b\u505a\u200b\u4efb\u4f55\u200b\u4fee\u6539\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b</p> <pre><code>slaveof no one \n</code></pre>"},{"location":"db/redis/advanced/#_37","title":"\u54e8\u5175\u200b\u6a21\u5f0f","text":""},{"location":"db/redis/advanced/#what_4","title":"what","text":"<p>\u200b\u53cd\u5ba2\u4e3a\u4e3b\u200b\u7684\u200b\u81ea\u52a8\u200b\u7248\u200b\uff0c\u200b\u80fd\u591f\u200b\u540e\u53f0\u200b\u76d1\u63a7\u200b\u4e3b\u673a\u200b\u662f\u5426\u200b\u6545\u969c\u200b\uff0c\u200b\u5982\u679c\u200b\u6545\u969c\u200b\u4e86\u200b\u6839\u636e\u200b\u6295\u7968\u6570\u200b\u81ea\u52a8\u200b\u5c06\u200b\u4ece\u5e93\u200b\u8f6c\u6362\u200b\u4e3a\u4e3b\u200b\u5e93\u200b</p>"},{"location":"db/redis/advanced/#use_2","title":"use","text":"<p>\u200b\u4f7f\u7528\u200b\u4e00\u4e3b\u4e8c\u4ec6\u200b\uff0c master:6379, slaver:6380,6381</p> <p>\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e0b\u200b\u65b0\u5efa\u200bsentinel.conf</p> <pre><code>sentinel monitor mymaster 127.0.0.1 6379 1\n</code></pre> <p>\u200b\u542f\u52a8\u200b\u54e8\u5175\u200b</p> <pre><code>redis-sentinel  ./sentinel.conf \n</code></pre> <p>\u200b\u9009\u4e3e\u200b\u89c4\u5219\u200b</p> <p>1</p> <p>master\u200b\u6302\u6389\u200b\uff0c\u200b\u5219\u200b\u6839\u636e\u200b\u4e0b\u5217\u200b\u6761\u4ef6\u200b\u4ece\u200bslaver\u200b\u4e2d\u200b\u9009\u4e3e\u200b\u4e00\u4e2a\u200bmaster</p> <p>\u200b\u4f18\u5148\u7ea7\u200b\u5728\u200bredis.conf\u200b\u4e2d\u200b\u9ed8\u8ba4\u200b\uff1aslave-priority 100\uff0c\u200b\u503c\u8d8a\u200b\u5c0f\u200b\u4f18\u5148\u7ea7\u200b\u8d8a\u9ad8\u200b</p> <p>\u200b\u504f\u79fb\u91cf\u200b\u662f\u200b\u6307\u200b\u83b7\u5f97\u200b\u539f\u200b\u4e3b\u673a\u200b\u6570\u636e\u200b\u6700\u5168\u200b\u7684\u200b</p> <p>\u200b\u6bcf\u4e2a\u200bredis\u200b\u5b9e\u4f8b\u200b\u542f\u52a8\u200b\u540e\u200b\u90fd\u200b\u4f1a\u200b\u968f\u673a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b40\u200b\u4f4d\u200b\u7684\u200brunid</p> <p>2sentine\u200b\u5411\u200b\u539f\u4e3b\u200b\u670d\u52a1\u200b\u7684\u200b\u4ece\u200b\u670d\u52a1\u200b\u53d1\u9001\u200bslaveof\u200b\u547d\u4ee4\u200b\uff0c\u200b\u53d1\u9001\u200b\u590d\u5236\u200b\u6570\u636e\u200b</p> <p>3.\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200bmaster\u200b\u5df2\u7ecf\u200b\u4e0b\u7ebf\u200b\u53c8\u200b\u91cd\u65b0\u200b\u4e0a\u7ebf\u200b\uff0csentinel\u200b\u4f1a\u200b\u5411\u200b\u5176\u200b\u53d1\u9001\u200bslaveof\u200b\u547d\u4ee4\u200b\uff0c\u200b\u8ba9\u200b\u5176\u200b\u6210\u4e3a\u200b\u65b0\u4e3b\u200b\u7684\u200b\u4ece\u200b</p>"},{"location":"db/redis/advanced/#source_3","title":"source","text":""},{"location":"db/redis/advanced/#_38","title":"\u590d\u5236\u200b\u539f\u7406","text":"<ul> <li>Slave\u200b\u542f\u52a8\u200b\u6210\u529f\u200b\u8fde\u63a5\u200b\u5230\u200bmaster\u200b\u540e\u200b\u4f1a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200bsync\u200b\u547d\u4ee4\u200b</li> <li>Master\u200b\u63a5\u5230\u200b\u547d\u4ee4\u200b\u542f\u52a8\u200b\u540e\u53f0\u200b\u7684\u200b\u5b58\u76d8\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u540c\u65f6\u200b\u6536\u96c6\u200b\u6240\u6709\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u7528\u4e8e\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\u96c6\u200b\u547d\u4ee4\u200b\uff0c \u200b\u5728\u200b\u540e\u53f0\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\u4e4b\u540e\u200b\uff0cmaster\u200b\u5c06\u200b\u4f20\u9001\u200b\u6574\u4e2a\u200b\u6570\u636e\u6587\u4ef6\u200b\u5230\u200bslave,\u200b\u4ee5\u200b\u5b8c\u6210\u200b\u4e00\u6b21\u200b\u5b8c\u5168\u200b\u540c\u6b65\u200b</li> <li>\u200b\u5168\u91cf\u200b\u590d\u5236\u200b\uff1a\u200b\u800c\u200bslave\u200b\u670d\u52a1\u200b\u5728\u200b\u63a5\u6536\u200b\u5230\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u5b58\u76d8\u200b\u5e76\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u589e\u91cf\u200b\u590d\u5236\u200b\uff1aMaster\u200b\u7ee7\u7eed\u200b\u5c06\u200b\u65b0\u200b\u7684\u200b\u6240\u6709\u200b\u6536\u96c6\u200b\u5230\u200b\u7684\u200b\u4fee\u6539\u200b\u547d\u4ee4\u200b\u4f9d\u6b21\u200b\u4f20\u7ed9\u200bslave,\u200b\u5b8c\u6210\u200b\u540c\u6b65\u200b</li> <li>\u200b\u4f46\u662f\u200b\u53ea\u8981\u200b\u662f\u200b\u91cd\u65b0\u200b\u8fde\u63a5\u200bmaster,\u200b\u4e00\u6b21\u200b\u5b8c\u5168\u200b\u540c\u6b65\u200b\uff08\u200b\u5168\u91cf\u200b\u590d\u5236\u200b)\u200b\u5c06\u200b\u88ab\u200b\u81ea\u52a8\u200b\u6267\u884c\u200b</li> </ul>"},{"location":"db/redis/advanced/#_39","title":"\u96c6\u7fa4","text":""},{"location":"db/redis/advanced/#what_5","title":"what","text":"<p>Redis \u200b\u96c6\u7fa4\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u5bf9\u200bRedis\u200b\u7684\u200b\u6c34\u5e73\u200b\u6269\u5bb9\u200b\uff0c\u200b\u5373\u200b\u542f\u52a8\u200bN\u200b\u4e2a\u200bredis\u200b\u8282\u70b9\u200b\uff0c\u200b\u5c06\u200b\u6574\u4e2a\u200b\u6570\u636e\u5e93\u200b\u5206\u5e03\u200b\u5b58\u50a8\u200b\u5728\u200b\u8fd9\u200bN\u200b\u4e2a\u200b\u8282\u70b9\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u5b58\u50a8\u200b\u603b\u200b\u6570\u636e\u200b\u7684\u200b1/N\u3002</p> <p>Redis \u200b\u96c6\u7fa4\u200b\u901a\u8fc7\u200b\u5206\u533a\u200b\uff08partition\uff09\u200b\u6765\u200b\u63d0\u4f9b\u200b\u4e00\u5b9a\u200b\u7a0b\u5ea6\u200b\u7684\u200b\u53ef\u7528\u6027\u200b\uff08availability\uff09\uff1a \u200b\u5373\u4f7f\u200b\u96c6\u7fa4\u200b\u4e2d\u6709\u200b\u4e00\u90e8\u5206\u200b\u8282\u70b9\u200b\u5931\u6548\u200b\u6216\u8005\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u901a\u8baf\u200b\uff0c \u200b\u96c6\u7fa4\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u5904\u7406\u200b\u547d\u4ee4\u200b\u8bf7\u6c42\u200b\u3002</p>"},{"location":"db/redis/advanced/#how","title":"how","text":""},{"location":"db/redis/advanced/#_40","title":"\u642d\u5efa","text":""},{"location":"db/redis/advanced/#_41","title":"\u5220\u9664\u200b\u6301\u8ba1\u5316\u200b\u6587\u4ef6","text":"<p>\u200b\u67e5\u770b\u200bredis.conf\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u6301\u4e45\u200b\u5316\u200b\u6587\u4ef6\u76ee\u5f55\u200b</p> <pre><code>dir /opt/homebrew/var/db/redis/\n</code></pre> <p>\u200b\u5220\u9664\u200b\u6301\u4e45\u200b\u5316\u200b\u6587\u4ef6\u200b</p>"},{"location":"db/redis/advanced/#_42","title":"\u65b0\u5efa\u200b\u5982\u4e0b\u200b\u914d\u7f6e\u6587\u4ef6","text":"<p>\u200b\u5728\u200b\u5982\u4e0b\u200b\u76ee\u5f55\u200b\u65b0\u5efa\u200bredis6379.conf</p> <p>redis6379.conf redis6380.conf redis6381.conf redis6389.conf redis6390.conf redis6391.conf</p> <pre><code>/opt/homebrew/etc/myredis/cluster\n</code></pre> <p>cluster-enabled yes  \u200b\u6253\u5f00\u200b\u96c6\u7fa4\u200b\u6a21\u5f0f\u200b</p> <p>cluster-config-file nodes-6379.conf \u200b\u8bbe\u5b9a\u200b\u8282\u70b9\u200b\u914d\u7f6e\u200b\u6587\u4ef6\u540d\u200b</p> <p>cluster-node-timeout 15000  \u200b\u8bbe\u5b9a\u200b\u8282\u70b9\u200b\u5931\u8054\u200b\u65f6\u95f4\u200b\uff0c\u200b\u8d85\u8fc7\u200b\u8be5\u200b\u65f6\u95f4\u200b\uff08\u200b\u6beb\u79d2\u200b\uff09\uff0c\u200b\u96c6\u7fa4\u200b\u81ea\u52a8\u200b\u8fdb\u884c\u200b\u4e3b\u4ece\u200b\u5207\u6362\u200b\u3002</p> <pre><code>include /opt/homebrew/etc/myredis/redis.conf\nport 6379\npidfile \"/var/run/redis_6379.pid\"\n\ndbfilename \"dump6379.rdb\"\nlogfile \"/opt/homebrew/var/db/redis/redis_cluster/logs/redis_err_6379.log\"\n\n\ncluster-enabled yes\ncluster-config-file nodes-6379.conf\ncluster-node-timeout 15000\n</code></pre>"},{"location":"db/redis/advanced/#_43","title":"\u542f\u52a8\u200b\u670d\u52a1\u7aef","text":"<p>\u200b\u542f\u52a8\u200b6\u200b\u53f0\u200bredis,</p> <p>\u200b\u542f\u52a8\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u9700\u8981\u200b\u65b0\u5efa\u200b\u65e5\u5fd7\u200b\u6240\u5728\u200b\u7684\u200b\u76ee\u5f55\u200b</p> <pre><code>\u276f redis-server ./redis6379.conf\n\u276f redis-server ./redis6380.conf\n\u276f redis-server ./redis6381.conf\n\u276f redis-server ./redis6389.conf\n\u276f redis-server ./redis6390.conf\n\u276f redis-server ./redis6391.conf\n</code></pre>"},{"location":"db/redis/advanced/#_44","title":"\u5408\u4f53","text":"<p>\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b127.0.0.1,\u200b\u4f7f\u7528\u200b\u771f\u5b9e\u200bip192.168.199.222</p> <pre><code>redis-cli --cluster create --cluster-replicas 1 192.168.199.222:6379 192.168.199.222:6380 192.168.199.222:6381 192.168.199.222:6389 192.168.199.222:6390 192.168.199.222:6391\n</code></pre>"},{"location":"db/redis/advanced/#_45","title":"\u542f\u52a8\u200b\u5ba2\u6237\u7aef","text":"<pre><code>redis-cli -c -p 6379\n</code></pre>"},{"location":"db/redis/advanced/#_46","title":"\u57fa\u7840\u200b\u4f7f\u7528","text":""},{"location":"db/redis/advanced/#_47","title":"\u67e5\u770b\u200b\u96c6\u7fa4\u200b\u4fe1\u606f","text":"<pre><code>cluster nodes\n</code></pre>"},{"location":"db/redis/advanced/#slots","title":"slots","text":"<p>\u200b\u4e00\u4e2a\u200b Redis \u200b\u96c6\u7fa4\u200b\u5305\u542b\u200b 16384 \u200b\u4e2a\u200b\u63d2\u69fd\u200b\uff08hash slot\uff09\uff0c \u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u952e\u200b\u90fd\u200b\u5c5e\u4e8e\u200b\u8fd9\u200b 16384 \u200b\u4e2a\u200b\u63d2\u69fd\u200b\u7684\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\uff0c </p> <p>\u200b\u96c6\u7fa4\u200b\u4f7f\u7528\u200b\u516c\u5f0f\u200b CRC16(key) % 16384 \u200b\u6765\u200b\u8ba1\u7b97\u200b\u952e\u200b key \u200b\u5c5e\u4e8e\u200b\u54ea\u4e2a\u200b\u69fd\u200b\uff0c \u200b\u5176\u4e2d\u200b CRC16(key) \u200b\u8bed\u53e5\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u952e\u200b key \u200b\u7684\u200b CRC16 \u200b\u6821\u9a8c\u200b\u548c\u200b \u3002</p> <p>\u200b\u96c6\u7fa4\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u8d1f\u8d23\u200b\u5904\u7406\u200b\u4e00\u90e8\u5206\u200b\u63d2\u69fd\u200b\u3002 \u200b\u4e3e\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c \u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u96c6\u7fa4\u200b\u53ef\u4ee5\u200b\u6709\u4e3b\u200b\u8282\u70b9\u200b\uff0c \u200b\u5176\u4e2d\u200b\uff1a</p> <p>\u200b\u8282\u70b9\u200b A \u200b\u8d1f\u8d23\u200b\u5904\u7406\u200b 0 \u200b\u53f7\u200b\u81f3\u200b 5460 \u200b\u53f7\u200b\u63d2\u69fd\u200b\u3002</p> <p>\u200b\u8282\u70b9\u200b B \u200b\u8d1f\u8d23\u200b\u5904\u7406\u200b 5461 \u200b\u53f7\u200b\u81f3\u200b 10922 \u200b\u53f7\u200b\u63d2\u69fd\u200b\u3002</p> <p>\u200b\u8282\u70b9\u200b C \u200b\u8d1f\u8d23\u200b\u5904\u7406\u200b 10923 \u200b\u53f7\u200b\u81f3\u200b 16383 \u200b\u53f7\u200b\u63d2\u69fd\u200b\u3002</p>"},{"location":"db/redis/advanced/#set-mset","title":"set mset","text":"<p>\u200b\u4e0d\u200b\u5728\u200b\u4e00\u4e2a\u200bslot\u200b\u4e0b\u200b\u7684\u200b\u952e\u503c\u200b\uff0c\u200b\u662f\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200bmget,mset\u200b\u7b49\u200b\u591a\u952e\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b{}\u200b\u6765\u200b\u5b9a\u4e49\u200b\u7ec4\u200b\u7684\u200b\u6982\u5ff5\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u200bkey\u200b\u4e2d\u200b{}\u200b\u5185\u200b\u76f8\u540c\u200b\u5185\u5bb9\u200b\u7684\u200b\u952e\u503c\u200b\u5bf9\u200b\u653e\u5230\u200b\u4e00\u4e2a\u200bslot\u200b\u4e2d\u200b\u53bb\u200b\u3002</p> <pre><code>127.0.0.1:6379&gt; set s1 1\n-&gt; Redirected to slot [15224] located at 192.168.199.222:6381\nOK\n</code></pre> <pre><code>192.168.199.222:6381&gt; mset name{user} matt age{user} 12\n-&gt; Redirected to slot [5474] located at 192.168.199.222:6380\n</code></pre>"},{"location":"db/redis/advanced/#_48","title":"\u5176\u4ed6\u200b\u64cd\u4f5c","text":"<p>\u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200bkey\u200b\u5728\u200b\u54ea\u4e2a\u200b\u69fd\u200b\u4f4d\u200b</p> <pre><code>cluster keyslot s1\n</code></pre> <p>\u200b\u7edf\u8ba1\u200b15345\u200b\u69fd\u200b\u4f4d\u200b\u6709\u200b\u51e0\u4e2a\u200bkey</p> <pre><code>cluster countkeysinslot 15345\n</code></pre> <p>\u200b\u8fd4\u56de\u200b\u69fd\u200b\u4f4d\u200b2843 2 \u200b\u4e2a\u200bkey</p> <pre><code>192.168.199.222:6379&gt; cluster getkeysinslot 2843 2\n1) \"s2\"\n</code></pre>"},{"location":"db/redis/advanced/#_49","title":"\u6545\u969c\u200b\u6062\u590d","text":"<p>\u200b\u5982\u679c\u200b\u67d0\u200b\u4e00\u6bb5\u200b\u63d2\u69fd\u200b\u7684\u200b\u4e3b\u4ece\u200b\u90fd\u200b\u6302\u6389\u200b\uff0c\u200b\u800c\u200bcluster-require-full-coverage \u200b\u4e3a\u200byes \uff0c\u200b\u90a3\u4e48\u200b \uff0c\u200b\u6574\u4e2a\u200b\u96c6\u7fa4\u200b\u90fd\u200b\u6302\u6389\u200b</p> <p>\u200b\u5982\u679c\u200b\u67d0\u200b\u4e00\u6bb5\u200b\u63d2\u69fd\u200b\u7684\u200b\u4e3b\u4ece\u200b\u90fd\u200b\u6302\u6389\u200b\uff0c\u200b\u800c\u200bcluster-require-full-coverage \u200b\u4e3a\u200bno \uff0c\u200b\u90a3\u4e48\u200b\uff0c\u200b\u8be5\u200b\u63d2\u69fd\u200b\u6570\u636e\u200b\u5168\u90fd\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4e5f\u200b\u65e0\u6cd5\u200b\u5b58\u50a8\u200b\u3002</p> <p>redis.conf\u200b\u4e2d\u200b\u7684\u200b\u53c2\u6570\u200b cluster-require-full-coverage</p>"},{"location":"db/redis/advanced/#summary_1","title":"summary","text":""},{"location":"db/redis/advanced/#advange","title":"advange","text":"<p>\u200b\u5b9e\u73b0\u200b\u6269\u5bb9\u200b</p> <p>\u200b\u5206\u644a\u200b\u538b\u529b\u200b</p>"},{"location":"db/redis/advanced/#disadvange","title":"disadvange","text":"<p>\u200b\u591a\u952e\u200b\u64cd\u4f5c\u200b\u662f\u200b\u4e0d\u200b\u88ab\u200b\u652f\u6301\u200b\u7684\u200b </p> <p>\u200b\u591a\u952e\u200b\u7684\u200bRedis\u200b\u4e8b\u52a1\u200b\u662f\u200b\u4e0d\u200b\u88ab\u200b\u652f\u6301\u200b\u7684\u200b\u3002lua\u200b\u811a\u672c\u200b\u4e0d\u200b\u88ab\u200b\u652f\u6301\u200b</p> <p>\u200b\u7531\u4e8e\u200b\u96c6\u7fa4\u200b\u65b9\u6848\u200b\u51fa\u73b0\u200b\u8f83\u665a\u200b\uff0c\u200b\u5f88\u591a\u200b\u516c\u53f8\u200b\u5df2\u7ecf\u200b\u91c7\u7528\u200b\u4e86\u200b\u5176\u4ed6\u200b\u7684\u200b\u96c6\u7fa4\u200b\u65b9\u6848\u200b\uff0c\u200b\u800c\u200b\u4ee3\u7406\u200b\u6216\u8005\u200b\u5ba2\u6237\u7aef\u200b\u5206\u7247\u200b\u7684\u200b\u65b9\u6848\u200b\u60f3\u8981\u200b\u8fc1\u79fb\u200b\u81f3\u200bredis cluster\uff0c\u200b\u9700\u8981\u200b\u6574\u4f53\u200b\u8fc1\u79fb\u200b\u800c\u200b\u4e0d\u662f\u200b\u9010\u6b65\u200b\u8fc7\u6e21\u200b\uff0c\u200b\u590d\u6742\u5ea6\u200b\u8f83\u5927\u200b\u3002</p>"},{"location":"db/redis/advanced/#api","title":"api","text":""},{"location":"db/redis/advanced/#redis_4","title":"redis\u200b\u5e94\u7528\u200b\u95ee\u9898","text":""},{"location":"db/redis/advanced/#_50","title":"\u7f13\u5b58\u200b\u7a7f\u900f","text":""},{"location":"db/redis/advanced/#_51","title":"\u95ee\u9898\u200b\u63cf\u8ff0","text":"<p>key \u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\u7f13\u5b58\u200b\u4e2d\u200b\u6ca1\u6709\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u4e5f\u200b\u6ca1\u6709\u200b</p> <p>\u200b\u7528\u6237\u200b\u5229\u7528\u200b\u8fd9\u4e9b\u200b\u6f0f\u6d1e\u200b\u653b\u51fb\u200b \u200b\u4ece\u800c\u200b\u538b\u57ae\u200b\u6570\u636e\u5e93\u200b</p>"},{"location":"db/redis/advanced/#_52","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>1.\u200b\u5bf9\u200b\u7a7a\u503c\u200b\u7f13\u5b58\u200b\uff1a\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u8fd4\u56de\u200b\u7684\u200b\u6570\u636e\u200b\u4e3a\u7a7a\u200b\uff08\u200b\u4e0d\u7ba1\u200b\u662f\u200b\u6570\u636e\u200b\u662f\u5426\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff09\uff0c\u200b\u6211\u4eec\u200b\u4ecd\u7136\u200b\u628a\u200b\u8fd9\u4e2a\u200b\u7a7a\u200b\u7ed3\u679c\u200b\uff08null\uff09\u200b\u8fdb\u884c\u200b\u7f13\u5b58\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u7a7a\u200b\u7ed3\u679c\u200b\u7684\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u4f1a\u200b\u5f88\u200b\u77ed\u200b\uff0c\u200b\u6700\u957f\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u4e94\u5206\u949f\u200b</p> <p>2.\u200b\u8bbe\u7f6e\u200b\u53ef\u200b\u8bbf\u95ee\u200b\u7684\u200b\u540d\u5355\u200b\uff08\u200b\u767d\u540d\u5355\u200b\uff09\uff1a</p> <p>\u200b\u4f7f\u7528\u200bbitmaps\u200b\u7c7b\u578b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\u7684\u200b\u540d\u5355\u200b\uff0c\u200b\u540d\u5355\u200bid\u200b\u4f5c\u4e3a\u200bbitmaps\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8bbf\u95ee\u200b\u548c\u200bbitmap\u200b\u91cc\u9762\u200b\u7684\u200bid\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u5982\u679c\u200b\u8bbf\u95ee\u200bid\u200b\u4e0d\u200b\u5728\u200bbitmaps\u200b\u91cc\u9762\u200b\uff0c\u200b\u8fdb\u884c\u200b\u62e6\u622a\u200b\uff0c\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u8bbf\u95ee\u200b\u3002</p> <p>3.\u200b\u91c7\u7528\u200b\u5e03\u9686\u200b\u8fc7\u6ee4\u5668\u200b\uff1a(\u200b\u5e03\u9686\u200b\u8fc7\u6ee4\u5668\u200b\uff08Bloom Filter\uff09\u200b\u662f\u200b1970\u200b\u5e74\u200b\u7531\u5e03\u9686\u200b\u63d0\u51fa\u200b\u7684\u200b\u3002\u200b\u5b83\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5f88\u957f\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u5411\u91cf\u200b(\u200b\u4f4d\u200b\u56fe\u200b)\u200b\u548c\u200b\u4e00\u7cfb\u5217\u200b\u968f\u673a\u200b\u6620\u5c04\u51fd\u6570\u200b\uff08\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b\uff09\u3002</p> <p>\u200b\u5e03\u9686\u200b\u8fc7\u6ee4\u5668\u200b\u53ef\u4ee5\u200b\u7528\u4e8e\u200b\u68c0\u7d22\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u5426\u200b\u5728\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\u4e2d\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u4f18\u70b9\u200b\u662f\u200b\u7a7a\u95f4\u200b\u6548\u7387\u200b\u548c\u200b\u67e5\u8be2\u200b\u65f6\u95f4\u200b\u90fd\u200b\u8fdc\u8fdc\u200b\u8d85\u8fc7\u200b\u4e00\u822c\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u7f3a\u70b9\u200b\u662f\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u8bef\u200b\u8bc6\u522b\u7387\u200b\u548c\u200b\u5220\u9664\u200b\u56f0\u96be\u200b\u3002)</p> <p>\u200b\u5c06\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u7684\u200b\u6570\u636e\u200b\u54c8\u5e0c\u200b\u5230\u200b\u4e00\u4e2a\u200b\u8db3\u591f\u200b\u5927\u200b\u7684\u200bbitmaps\u200b\u4e2d\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u4e00\u5b9a\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u6570\u636e\u200b\u4f1a\u200b\u88ab\u200b \u200b\u8fd9\u4e2a\u200bbitmaps\u200b\u62e6\u622a\u200b\u6389\u200b\uff0c\u200b\u4ece\u800c\u200b\u907f\u514d\u200b\u4e86\u200b\u5bf9\u200b\u5e95\u5c42\u200b\u5b58\u50a8\u7cfb\u7edf\u200b\u7684\u200b\u67e5\u8be2\u200b\u538b\u529b\u200b\u3002</p> <p>4.\u200b\u8fdb\u884c\u200b\u5b9e\u65f6\u200b\u76d1\u63a7\u200b\uff1a\u200b\u5f53\u200b\u53d1\u73b0\u200bRedis\u200b\u7684\u200b\u547d\u4e2d\u7387\u200b\u5f00\u59cb\u200b\u6025\u901f\u200b\u964d\u4f4e\u200b\uff0c\u200b\u9700\u8981\u200b\u6392\u67e5\u200b\u8bbf\u95ee\u200b\u5bf9\u8c61\u200b\u548c\u200b\u8bbf\u95ee\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u548c\u200b\u8fd0\u7ef4\u200b\u4eba\u5458\u200b\u914d\u5408\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u9ed1\u540d\u5355\u200b\u9650\u5236\u200b\u670d\u52a1\u200b</p>"},{"location":"db/redis/advanced/#_53","title":"\u7f13\u5b58\u200b\u51fb\u7a7f","text":"<p>\u200b\u67d0\u4e2a\u200bkey\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\u8fc7\u671f\u200b\uff0c\u200b\u6b64\u65f6\u200b\u82e5\u6709\u200b\u5927\u91cf\u200b\u5e76\u53d1\u200b\u8bf7\u6c42\u200b\u8fc7\u6765\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u8bf7\u6c42\u200b\u53d1\u73b0\u200b\u7f13\u5b58\u200b\u8fc7\u671f\u200b\u4e00\u822c\u200b\u90fd\u200b\u4f1a\u200b\u4ece\u200b\u540e\u200b\u7aef\u200bDB\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\u5e76\u200b\u56de\u8bbe\u200b\u5230\u200b\u7f13\u5b58\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5927\u200b\u5e76\u53d1\u200b\u7684\u200b\u8bf7\u6c42\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u77ac\u95f4\u200b\u628a\u200b\u540e\u200b\u7aef\u200bDB\u200b\u538b\u57ae\u200b\u3002</p>"},{"location":"db/redis/advanced/#_54","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>1.\u200b\u5bf9\u5e94\u200b\u70ed\u95e8\u200b\u6570\u636e\u200b\uff0c\u200b\u8fc7\u671f\u200b\u4e4b\u524d\u200b\u8c03\u6574\u200b\u8fc7\u671f\u200b\u65f6\u200b\u957f\u200b</p> <p>2.\u200b\u4f7f\u7528\u200b\u9501\u200b</p> <p>2.1\u200b\u5c31\u662f\u200b\u5728\u200b\u7f13\u5b58\u200b\u5931\u6548\u200b\u7684\u200b\u65f6\u5019\u200b\uff08\u200b\u5224\u65ad\u200b\u62ff\u200b\u51fa\u6765\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u7a7a\u200b\uff09\uff0c\u200b\u4e0d\u662f\u200b\u7acb\u5373\u200b\u53bb\u200bload db\u3002</p> <p>2.2\u200b\u5148\u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\u5de5\u5177\u200b\u7684\u200b\u67d0\u4e9b\u200b\u5e26\u200b\u6210\u529f\u200b\u64cd\u4f5c\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff08\u200b\u6bd4\u5982\u200bRedis\u200b\u7684\u200bSETNX\uff09</p> <p>\u200b   \u200b\u53bb\u200bset\u200b\u4e00\u4e2a\u200bmutex key</p> <p>2.3\u200b\u5f53\u200b\u64cd\u4f5c\u200b\u8fd4\u56de\u200b\u6210\u529f\u200b\u65f6\u200b\uff0c\u200b\u518d\u200b\u8fdb\u884c\u200bload db\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5e76\u200b\u56de\u8bbe\u200b\u7f13\u5b58\u200b,\u200b\u6700\u540e\u200b\u5220\u9664\u200bmutex key\uff1b</p> <p>2.4\u200b\u5f53\u200b\u64cd\u4f5c\u200b\u8fd4\u56de\u200b\u5931\u8d25\u200b\uff0c\u200b\u8bc1\u660e\u200b\u6709\u200b\u7ebf\u7a0b\u200b\u5728\u200bload db\uff0c\u200b\u5f53\u524d\u200b\u7ebf\u7a0b\u200b\u7761\u7720\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u518d\u200b\u91cd\u8bd5\u200b\u6574\u4e2a\u200bget\u200b\u7f13\u5b58\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p>"},{"location":"db/redis/advanced/#_55","title":"\u7f13\u5b58\u200b\u96ea\u5d29","text":"<p>key\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f46\u200b\u5728\u200bredis\u200b\u4e2d\u200b\u8fc7\u671f\u200b\uff0c\u200b\u6b64\u65f6\u200b\u82e5\u6709\u200b\u5927\u91cf\u200b\u5e76\u53d1\u200b\u8bf7\u6c42\u200b\u8fc7\u6765\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u8bf7\u6c42\u200b\u53d1\u73b0\u200b\u7f13\u5b58\u200b\u8fc7\u671f\u200b\u4e00\u822c\u200b\u90fd\u200b\u4f1a\u200b\u4ece\u200b\u540e\u200b\u7aef\u200bDB\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\u5e76\u200b\u56de\u8bbe\u200b\u5230\u200b\u7f13\u5b58\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5927\u200b\u5e76\u53d1\u200b\u7684\u200b\u8bf7\u6c42\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u77ac\u95f4\u200b\u628a\u200b\u540e\u200b\u7aef\u200bDB\u200b\u538b\u57ae\u200b\u3002</p> <p>\u200b\u7f13\u5b58\u200b\u96ea\u5d29\u200b\u4e0e\u200b\u7f13\u5b58\u200b\u51fb\u7a7f\u200b\u7684\u200b\u533a\u522b\u200b\u5728\u4e8e\u200b\u8fd9\u91cc\u200b\u9488\u5bf9\u200b\u5f88\u591a\u200bkey\u200b\u7f13\u5b58\u200b\uff0c\u200b\u524d\u8005\u200b\u5219\u200b\u662f\u200b\u67d0\u200b\u4e00\u4e2a\u200bkey</p>"},{"location":"db/redis/advanced/#_56","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>1.\u200b\u8bbe\u7f6e\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u968f\u673a\u200b\u503c\u200b</p> <p>2.\u200b\u4f7f\u7528\u200b\u9501\u200b</p>"},{"location":"db/redis/advanced/#_57","title":"\u5206\u5e03\u5f0f\u200b\u9501","text":"<p>\u200b\u4e3a\u200b\u771f\u4e2a\u200b\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u5168\u5c40\u200b\u552f\u4e00\u200b\u7684\u200b\u9501\u200b\uff0c\u200b\u5177\u6709\u200b\u9662\u5b50\u200b\u6027\u200b</p> <p>a</p> <p>1 \u200b\u83b7\u53d6\u200b\u9501\u200b</p> <p>3 \u200b\u91ca\u653e\u200b\u9501\u200b</p> <p>2 \u200b\u5361\u6ce8\u200b</p> <p>2\u200b\u6267\u884c\u200b \u200b\u91ca\u653e\u200b\u9501\u200b \u200b\u4f1a\u200b\u628a\u200b\u522b\u7684\u200b\u7ebf\u7a0b\u200b\u7684\u200b\u9501\u200b\u91ca\u653e\u200b</p>"},{"location":"db/redis/advanced/#_58","title":"\u57fa\u7840","text":"<p>1.\u200b\u4f7f\u7528\u200bsetnx</p> <pre><code>set k1 1 nx ex 3\n</code></pre> <p>ex 3 : 3s</p> <p>px 3:3ms</p> <p>2\u200b\u5982\u679c\u200b\u83b7\u53d6\u200b\u9501\u200b\u6210\u529f\u200b\uff0c\u200b\u5904\u7406\u200b\uff0c\u200b\u91ca\u653e\u200b\u9501\u200b</p> <p>3.\u200b\u5176\u4ed6\u200b\u5ba2\u6237\u7aef\u200b\u91cd\u8bd5\u200b</p> <p>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u963b\u585e\u200b\uff0c\u200b\u6302\u6389\u200b\u6ca1\u6709\u200b\u5220\u9664\u200b\u9501\u200b\uff0c\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b\u5c31\u200b\u83b7\u53d6\u200b\u4e0d\u5230\u200b\u9501\u200b\u4e86\u200b</p>"},{"location":"db/redis/advanced/#_59","title":"\u8fdb\u9636\u200b \uff1a \u200b\u8bbe\u7f6e\u200b\u8d85\u65f6\u200b\u65f6\u95f4","text":""},{"location":"db/redis/advanced/#_60","title":"\u8fdb\u9636\u200b \uff1a \u200b\u6821\u9a8c\u200b\u9501\u200b\u7684\u200b\u5185\u5bb9","text":"<p>\u200b\u9632\u6b62\u200b\u5220\u9664\u200b\u9519\u9501\u200b</p> <p>1.a1\u200b\u6ca1\u6709\u200b\u5220\u9664\u200b\u9501\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fc7\u671f\u200b\u4e86\u200b\uff0c</p> <p>2.a2\u200b\u83b7\u53d6\u200b\u5230\u200b\u9501\u200b\uff0c \u200b\u6d4b\u8bd5\u200ba1\u200b\u628a\u200b\u9501\u200b\u5220\u9664\u200b\u4e86\u200b\uff0c\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u628a\u200ba1\u200b\u628a\u200ba2\u200b\u7684\u200b\u9501\u200b\u5220\u9664\u200b\u4e86\u200b\uff0c\u200b\u6b64\u65f6\u200ba2\u200b\u5c31\u200b\u53ef\u80fd\u200b\u51fa\u200b\u95ee\u9898\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u9501\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5220\u9664\u200b\u9501\u200b\u4e4b\u524d\u200b\u5224\u65ad\u200b\u4e00\u4e0b\u200b\u9501\u200b\u7684\u200b\u5185\u5bb9\u200b</p>"},{"location":"db/redis/advanced/#_61","title":"\u8fdb\u9636\u200b \uff1a\u200b\u6821\u9a8c\u200b\u3001\u200b\u5220\u9664\u200b \u200b\u9700\u8981\u200b\u539f\u5b50\u200b\u6027","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200blua\u200b\u811a\u672c\u200b</p>"},{"location":"db/redis/api/","title":"Api","text":"<p>api</p>"},{"location":"db/redis/api/#todo-lua","title":"todo lua","text":""},{"location":"db/redis/install/","title":"Install","text":""},{"location":"db/redis/install/#_1","title":"\u5b89\u88c5","text":""},{"location":"db/redis/install/#_2","title":"\u6ce8\u610f","text":"<p>\u200b\u53ef\u200b\u53c2\u8003\u200b\u5b98\u7f51\u200b\u5b89\u88c5\u200b</p> <p>https://redis.io/docs/getting-started/</p>"},{"location":"db/redis/install/#mac","title":"mac\u200b\u5b89\u88c5","text":"<pre><code>brew install redis\n</code></pre> <p>\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b</p> <p>/opt/homebrew/Cellar/redis/7.0.0</p> <p>\u200b\u914d\u7f6e\u6587\u4ef6\u200b</p> <p>/opt/homebrew/etc/redis.conf</p> <p></p>"},{"location":"db/redis/install/#linux-todo","title":"linux\u200b\u5b89\u88c5\u200b todo","text":""},{"location":"db/redis/install/#gcc","title":"\u4f9d\u8d56\u200bgcc\u200b\u73af\u5883","text":"<pre><code> yum install gcc-c++\n\n gcc --version\n</code></pre>"},{"location":"db/redis/install/#_3","title":"\u57fa\u7840","text":"<p>\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200b -&gt; \u200b\u89e3\u538b\u200b -&gt; \u200b\u8fdb\u5165\u200b\u89e3\u538b\u200b\u540e\u200b\u7684\u200b\u76ee\u5f55\u200b</p>"},{"location":"db/redis/install/#_4","title":"\u7f16\u8bd1\u200b\u5b89\u88c5","text":"<pre><code>make\n\n\nmake PREFIX=/usr/local/redis install\n</code></pre> <p>\u200b\u8fd9\u91cc\u200b\u591a\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5173\u952e\u5b57\u200b <code>PREFIX=</code> \u200b\u8fd9\u4e2a\u200b\u5173\u952e\u5b57\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u7f16\u8bd1\u200b\u7684\u200b\u65f6\u5019\u200b\u7528\u4e8e\u200b\u6307\u5b9a\u200b\u7a0b\u5e8f\u200b\u5b58\u653e\u200b\u7684\u200b\u8def\u5f84\u200b\u3002\u200b\u6bd4\u5982\u200b\u6211\u4eec\u200b\u73b0\u5728\u200b\u5c31\u662f\u200b\u6307\u5b9a\u200b\u4e86\u200bredis\u200b\u5fc5\u987b\u200b\u5b58\u653e\u200b\u5728\u200b/usr/local/redis\u200b\u76ee\u5f55\u200b\u3002\u200b\u5047\u8bbe\u200b\u4e0d\u200b\u6dfb\u52a0\u200b\u8be5\u200b\u5173\u952e\u5b57\u200bLinux\u200b\u4f1a\u200b\u5c06\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u5b58\u653e\u200b\u5728\u200b/usr/local/bin\u200b\u76ee\u5f55\u200b\uff0c</p> <p>\u200b\u5e93\u200b\u6587\u4ef6\u200b\u4f1a\u200b\u5b58\u653e\u200b\u5728\u200b/usr/local/lib\u200b\u76ee\u5f55\u200b\u3002\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4f1a\u200b\u5b58\u653e\u200b\u5728\u200b/usr/local/etc\u200b\u76ee\u5f55\u200b\u3002\u200b\u5176\u4ed6\u200b\u7684\u200b\u8d44\u6e90\u200b\u6587\u4ef6\u200b\u4f1a\u200b\u5b58\u653e\u200b\u5728\u200busr/local/share\u200b\u76ee\u5f55\u200b\u3002\u200b\u8fd9\u91cc\u200b\u6307\u5b9a\u200b\u53f7\u200b\u76ee\u5f55\u200b\u4e5f\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u7684\u200b\u5378\u8f7d\u200b\uff0c\u200b\u540e\u7eed\u200b\u76f4\u63a5\u200brm -rf /usr/local/redis \u200b\u5373\u53ef\u200b\u5220\u9664\u200bredis\u3002</p>"},{"location":"db/redis/install/#_5","title":"\u4f7f\u7528","text":""},{"location":"db/redis/install/#_6","title":"\u542f\u52a8\u200b\u670d\u52a1\u7aef","text":"<pre><code>//\u200b\u65b9\u5f0f\u200b\u4e00\u200b\uff1a\u200b\u4f7f\u7528\u200bbrew\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u542f\u52a8\u200b\u8f6f\u4ef6\u200b\nbrew services start redis\n//\u200b\u65b9\u5f0f\u200b\u4e8c\u200b\nredis-server /opt/homebrew/etc/redis.conf\n</code></pre>"},{"location":"db/redis/install/#_7","title":"\u542f\u52a8\u200b\u5ba2\u6237\u7aef","text":"<pre><code>redis-cli -h 127.0.0.1 -p 6379\n\nredis-cli\n\nredis-cli -p 6379\n</code></pre>"},{"location":"db/redis/install/#_8","title":"\u5173\u95ed","text":"<pre><code>redis-cli shutdown\n</code></pre>"},{"location":"db/redis/install/#_9","title":"\u6d4b\u8bd5","text":"<pre><code>redis-cli\nping\n</code></pre>"},{"location":"db/redis/install/#_10","title":"\u914d\u7f6e","text":""},{"location":"db/redis/install/#_11","title":"\u914d\u7f6e\u200b\u540e\u53f0\u200b\u542f\u52a8","text":"<p>1.daemonize no\u200b\u6539\u6210\u200byes</p> <pre><code>daemonize yes\n</code></pre> <p>2.\u200b\u6ce8\u91ca\u200b\u6389\u200bbind</p> <p>3.protected-mode\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bfalse</p>"},{"location":"db/redis/install/#include","title":"include","text":"<p>\u200b\u5bfc\u5165\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b</p> <pre><code>include /opt/homebrew/etc/redis.conf\n</code></pre>"},{"location":"db/redis/install/#_12","title":"\u7f51\u7edc\u200b\u914d\u7f6e","text":""},{"location":"db/redis/install/#bind","title":"bind","text":"<p>\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200bbind=127.0.0.1\u200b\u53ea\u80fd\u200b\u63a5\u53d7\u200b\u672c\u673a\u200b\u7684\u200b\u8bbf\u95ee\u200b\u8bf7\u6c42\u200b</p> <p>\u200b\u4e0d\u5199\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u65e0\u200b\u9650\u5236\u200b\u63a5\u53d7\u200b\u4efb\u4f55\u200bip\u200b\u5730\u5740\u200b\u7684\u200b\u8bbf\u95ee\u200b</p> <p>\u200b\u5982\u679c\u200b\u5f00\u542f\u200b\u4e86\u200bprotected-mode\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u6ca1\u6709\u200b\u8bbe\u5b9a\u200bbind ip\u200b\u4e14\u200b\u6ca1\u6709\u200b\u8bbe\u200b\u5bc6\u7801\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cRedis\u200b\u53ea\u200b\u5141\u8bb8\u200b\u63a5\u53d7\u200b\u672c\u673a\u200b\u7684\u200b\u54cd\u5e94\u200b</p>"},{"location":"db/redis/install/#protected-mode","title":"protected-mode","text":"<p>\u200b\u4fdd\u62a4\u6a21\u5f0f\u200b\uff0c\u200b\u63a8\u8350\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bfalse</p>"},{"location":"db/redis/install/#port","title":"port","text":"<p>\u200b\u7aef\u53e3\u53f7\u200b</p>"},{"location":"db/redis/install/#tcp-backlog","title":"tcp-backlog","text":"<p>\u200b\u8bbe\u7f6e\u200btcp\u200b\u7684\u200bbacklog\uff0cbacklog\u200b\u5176\u5b9e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8fde\u63a5\u200b\u961f\u5217\u200b\uff0cbacklog\u200b\u961f\u5217\u200b\u603b\u548c\u200b=\u200b\u672a\u200b\u5b8c\u6210\u200b\u4e09\u6b21\u200b\u63e1\u624b\u200b\u961f\u5217\u200b + \u200b\u5df2\u7ecf\u200b\u5b8c\u6210\u200b\u4e09\u6b21\u200b\u63e1\u624b\u200b\u961f\u5217\u200b\u3002</p> <p>\u200b\u5728\u200b\u9ad8\u200b\u5e76\u53d1\u200b\u73af\u5883\u200b\u4e0b\u200b\u4f60\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u9ad8\u200bbacklog\u200b\u503c\u6765\u200b\u907f\u514d\u200b\u6162\u200b\u5ba2\u6237\u7aef\u200b\u8fde\u63a5\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200bLinux\u200b\u5185\u6838\u200b\u4f1a\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u503c\u200b\u51cf\u5c0f\u200b\u5230\u200b/proc/sys/net/core/somaxconn\u200b\u7684\u200b\u503c\u200b\uff08128\uff09\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u786e\u8ba4\u200b\u589e\u5927\u200b/proc/sys/net/core/somaxconn\u200b\u548c\u200b/proc/sys/net/ipv4/tcp_max_syn_backlog\uff08128\uff09\u200b\u4e24\u4e2a\u200b\u503c\u6765\u200b\u8fbe\u5230\u200b\u60f3\u8981\u200b\u7684\u200b\u6548\u679c\u200b</p>"},{"location":"db/redis/install/#timeout","title":"timeout","text":"<p>\u200b\u4e00\u4e2a\u200b\u7a7a\u95f2\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\u7ef4\u6301\u200b\u591a\u5c11\u200b\u79d2\u200b\u4f1a\u200b\u5173\u95ed\u200b\uff0c0\u200b\u8868\u793a\u200b\u5173\u95ed\u200b\u8be5\u200b\u529f\u80fd\u200b\u3002\u200b\u5373\u200b\u6c38\u4e0d\u200b\u5173\u95ed\u200b\u3002</p>"},{"location":"db/redis/install/#tcp-keepalive","title":"tcp-keepalive","text":"<p>\u200b\u5bf9\u200b\u8bbf\u95ee\u200b\u5ba2\u6237\u7aef\u200b\u7684\u200b\u4e00\u79cd\u200b\u5fc3\u8df3\u200b\u68c0\u6d4b\u200b\uff0c\u200b\u6bcf\u4e2a\u200bn\u200b\u79d2\u200b\u68c0\u6d4b\u200b\u4e00\u6b21\u200b\u3002</p> <p>\u200b\u5355\u4f4d\u200b\u4e3a\u200b\u79d2\u200b\uff0c\u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b0\uff0c\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u8fdb\u884c\u200bKeepalive\u200b\u68c0\u6d4b\u200b\uff0c\u200b\u5efa\u8bae\u200b\u8bbe\u7f6e\u200b\u6210\u200b60 </p>"},{"location":"db/redis/install/#_13","title":"\u901a\u7528","text":""},{"location":"db/redis/install/#daemonize","title":"daemonize","text":"<p>\u200b\u662f\u5426\u200b\u4e3a\u200b\u540e\u53f0\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200byes</p> <p>\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u540e\u53f0\u200b\u542f\u52a8\u200b</p>"},{"location":"db/redis/install/#pidfile","title":"pidfile","text":"<p>\u200b\u5b58\u653e\u200bpid\u200b\u6587\u4ef6\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b9e\u4f8b\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200bpid\u200b\u6587\u4ef6\u200b</p> <pre><code>pidfile /var/run/redis_6379.pid\n</code></pre>"},{"location":"db/redis/install/#loglevel","title":"loglevel","text":"<p>\u200b\u6307\u5b9a\u200b\u65e5\u5fd7\u200b\u8bb0\u5f55\u200b\u7ea7\u522b\u200b\uff0cRedis\u200b\u603b\u5171\u200b\u652f\u6301\u200b\u56db\u4e2a\u200b\u7ea7\u522b\u200b\uff1adebug\u3001verbose\u3001notice\u3001warning\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bnotice</p> <p>\u200b\u56db\u4e2a\u200b\u7ea7\u522b\u200b\u6839\u636e\u200b\u4f7f\u7528\u200b\u9636\u6bb5\u200b\u6765\u200b\u9009\u62e9\u200b\uff0c\u200b\u751f\u4ea7\u200b\u73af\u5883\u200b\u9009\u62e9\u200bnotice \u200b\u6216\u8005\u200bwarning</p>"},{"location":"db/redis/install/#logfile","title":"logfile","text":"<p>\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u540d\u79f0\u200b</p>"},{"location":"db/redis/install/#database","title":"database","text":"<p>\u200b\u8bbe\u5b9a\u200b\u5e93\u200b\u7684\u200b\u6570\u91cf\u200b \u200b\u9ed8\u8ba4\u200b16\uff0c\u200b\u9ed8\u8ba4\u200b\u6570\u636e\u5e93\u200b\u4e3a\u200b0\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bSELECT \u200b\u547d\u4ee4\u200b\u5728\u200b\u8fde\u63a5\u200b\u4e0a\u200b\u6307\u5b9a\u200b\u6570\u636e\u5e93\u200bid"},{"location":"db/redis/install/#_14","title":"\u6743\u9650","text":""},{"location":"db/redis/install/#_15","title":"\u5bc6\u7801","text":"<pre><code>requirepass 123456\n</code></pre>"},{"location":"db/redis/install/#limit","title":"limit","text":""},{"location":"db/redis/install/#maxclients","title":"maxclients","text":"<p>\u200b\u8bbe\u7f6e\u200bredis\u200b\u540c\u65f6\u200b\u53ef\u4ee5\u200b\u4e0e\u200b\u591a\u5c11\u200b\u4e2a\u200b\u5ba2\u6237\u7aef\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b,\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b10000\u200b\u4e2a\u200b</p> <p>\u200b\u5982\u679c\u200b\u8fbe\u5230\u200b\u4e86\u200b\u6b64\u200b\u9650\u5236\u200b\uff0credis\u200b\u5219\u200b\u4f1a\u200b\u62d2\u7edd\u200b\u65b0\u200b\u7684\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5411\u200b\u8fd9\u4e9b\u200b\u8fde\u63a5\u200b\u8bf7\u6c42\u200b\u65b9\u200b\u53d1\u51fa\u200b\u201cmax number of clients reached\u201d\u200b\u4ee5\u4f5c\u200b\u56de\u5e94\u200b\u3002</p>"},{"location":"db/redis/install/#maxmemory","title":"maxmemory","text":"<p>\u200b\u6700\u5927\u200b\u5185\u5b58\u200b</p>"},{"location":"db/redis/install/#maxmemory-policy","title":"maxmemory-policy","text":"<p>\u200b\u6dd8\u6c70\u200b\u89c4\u5219\u200b</p> <p>volatile-lru\uff1a\u200b\u4f7f\u7528\u200bLRU\u200b\u7b97\u6cd5\u200b\u79fb\u9664\u200bkey\uff0c\u200b\u53ea\u200b\u5bf9\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u7684\u200b\u952e\u200b\uff1b\uff08\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u4f7f\u7528\u200b\uff09</p> <p>allkeys-lru\uff1a\u200b\u5728\u200b\u6240\u6709\u200b\u96c6\u5408\u200bkey\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200bLRU\u200b\u7b97\u6cd5\u200b\u79fb\u9664\u200bkey</p> <p>volatile-random\uff1a\u200b\u5728\u200b\u8fc7\u671f\u200b\u96c6\u5408\u200b\u4e2d\u200b\u79fb\u9664\u200b\u968f\u673a\u200b\u7684\u200bkey\uff0c\u200b\u53ea\u200b\u5bf9\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u7684\u200b\u952e\u200b</p> <p>allkeys-random\uff1a\u200b\u5728\u200b\u6240\u6709\u200b\u96c6\u5408\u200bkey\u200b\u4e2d\u200b\uff0c\u200b\u79fb\u9664\u200b\u968f\u673a\u200b\u7684\u200bkey</p> <p>volatile-ttl\uff1a\u200b\u79fb\u9664\u200b\u90a3\u4e9b\u200bTTL\u200b\u503c\u200b\u6700\u5c0f\u200b\u7684\u200bkey\uff0c\u200b\u5373\u200b\u90a3\u4e9b\u200b\u6700\u8fd1\u200b\u8981\u200b\u8fc7\u671f\u200b\u7684\u200bkey</p> <p>noeviction\uff1a\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u79fb\u9664\u200b\u3002\u200b\u9488\u5bf9\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u53ea\u662f\u200b\u8fd4\u56de\u200b\u9519\u8bef\u4fe1\u606f\u200b</p>"},{"location":"db/redis/install/#maxmemory-samples","title":"maxmemory-samples","text":"<p>\u200b\u8bbe\u7f6e\u200b\u6837\u672c\u200b\u6570\u91cf\u200b\uff0cLRU\u200b\u7b97\u6cd5\u200b\u548c\u200b\u6700\u5c0f\u200bTTL\u200b\u7b97\u6cd5\u200b\u90fd\u200b\u5e76\u975e\u200b\u662f\u200b\u7cbe\u786e\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u800c\u662f\u200b\u4f30\u7b97\u200b\u503c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u6837\u672c\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0credis\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u68c0\u67e5\u200b\u8fd9\u4e48\u200b\u591a\u4e2a\u200bkey\u200b\u5e76\u200b\u9009\u62e9\u200b\u5176\u4e2d\u200bLRU\u200b\u7684\u200b\u90a3\u4e2a\u200b\u3002</p> <p>\u200b\u4e00\u822c\u200b\u8bbe\u7f6e\u200b3\u200b\u5230\u200b7\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u6570\u503c\u200b\u8d8a\u5c0f\u200b\u6837\u672c\u200b\u8d8a\u200b\u4e0d\u200b\u51c6\u786e\u200b\uff0c\u200b\u4f46\u200b\u6027\u80fd\u200b\u6d88\u8017\u200b\u8d8a\u5c0f\u200b\u3002</p> <pre><code># 1k =&gt; 1000 bytes\n# 1kb =&gt; 1024 bytes\n# 1m =&gt; 1000000 bytes\n# 1mb =&gt; 1024*1024 bytes\n# 1g =&gt; 1000000000 bytes\n# 1gb =&gt; 1024*1024*1024 bytes\n</code></pre> <p>aaa</p>"},{"location":"db/redis/overview/","title":"Overview","text":""},{"location":"db/redis/overview/#_1","title":"\u6982\u8ff0","text":""},{"location":"db/redis/overview/#_2","title":"\u9002\u7528","text":"<p>\u200b\u9891\u7e41\u200b\u7684\u200b\u8bfb\u5199\u200b</p> <p>\u200b\u51cf\u5c11\u200b mysql io</p>"},{"location":"db/redis/overview/#_3","title":"\u4e0d\u200b\u9002\u7528","text":"<p>\u200b\u4e8b\u52a1\u200b\u652f\u6301\u200b</p> <p>\u200b\u57fa\u4e8e\u200bsql\u200b\u7684\u200b\u7ed3\u6784\u5316\u200b\u67e5\u8be2\u200b\u5b58\u50a8\u200b\uff0c\u200b\u5904\u7406\u200b\u590d\u6742\u200b\u5173\u7cfb\u200b</p>"},{"location":"db/redis/overview/#todo","title":"\u4e0e\u200b\u5176\u4ed6\u200b\u4ea7\u54c1\u200b\u533a\u522b\u200b todo","text":"<p>todo</p> <p>redis\u200b\u6709\u200b16\u200b\u4e2a\u5e93\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u4e2a\u200b,\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b\u5207\u6362\u200b\u5e93\u200b</p> <pre><code>select 1\n</code></pre>"},{"location":"db/redis/overview/#_4","title":"\u57fa\u7840\u200b\u547d\u4ee4","text":""},{"location":"db/redis/overview/#key","title":"key","text":"\u547d\u4ee4\u200b \u200b\u89e3\u91ca\u200b keys * \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u5e93\u200b\u6240\u6709\u200bkey  (\u200b\u5339\u914d\u200b\uff1akeys *1) exists key \u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200bkey\u200b\u662f\u5426\u200b\u5b58\u5728\u200b type key \u200b\u67e5\u770b\u200b\u4f60\u200b\u7684\u200bkey\u200b\u662f\u200b\u4ec0\u4e48\u200b\u7c7b\u578b\u200b del key \u200b\u5220\u9664\u200b\u6307\u5b9a\u200b\u7684\u200bkey\u200b\u6570\u636e\u200b unlink key \u200b\u6839\u636e\u200bvalue\u200b\u9009\u62e9\u200b\u975e\u200b\u963b\u585e\u200b\u5220\u9664\u200b\uff0c\u200b\u4ec5\u200b\u5c06\u200bkeys\u200b\u4ece\u200bkeyspace\u200b\u5143\u200b\u6570\u636e\u200b\u4e2d\u200b\u5220\u9664\u200b\uff0c\u200b\u771f\u6b63\u200b\u7684\u200b\u5220\u9664\u200b\u4f1a\u200b\u5728\u200b\u540e\u7eed\u200b\u5f02\u6b65\u200b\u64cd\u4f5c\u200b\u3002 expire key 10 \u200b\u4e3a\u200b\u7ed9\u5b9a\u200b\u7684\u200bkey\u200b\u8bbe\u7f6e\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\uff0c10s ttl key \u200b\u67e5\u770b\u200b\u8fd8\u6709\u200b\u591a\u5c11\u200b\u79d2\u200b\u8fc7\u671f\u200b\uff0c-1\u200b\u8868\u793a\u200b\u6c38\u4e0d\u200b\u8fc7\u671f\u200b\uff0c-2\u200b\u8868\u793a\u200b\u5df2\u8fc7\u671f\u200b select 2 select\u200b\u547d\u4ee4\u200b\u5207\u6362\u200b\u6570\u636e\u5e93\u200b dbsize \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u6570\u636e\u5e93\u200b\u7684\u200bkey\u200b\u7684\u200b\u6570\u91cf\u200b flushdb \u200b\u6e05\u7a7a\u200b\u5f53\u524d\u200b\u5e93\u200b flushall \u200b\u901a\u6740\u200b\u5168\u90e8\u200b\u5e93"},{"location":"db/redis/overview/#string","title":"string","text":"<p>\u200b\u6700\u5927\u200b\u652f\u6301\u200b512mb</p> <p>String\u200b\u7c7b\u578b\u200b\u662f\u200b\u4e8c\u8fdb\u5236\u200b\u5b89\u5168\u200b\u7684\u200b\u3002\u200b\u610f\u5473\u7740\u200bRedis\u200b\u7684\u200bstring\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u4efb\u4f55\u200b\u6570\u636e\u200b\u3002\u200b\u6bd4\u5982\u200bjpg\u200b\u56fe\u7247\u200b\u6216\u8005\u200b\u5e8f\u5217\u5316\u200b\u7684\u200b\u5bf9\u8c61\u200b\u3002</p> <p>k string</p> <p>v string,int</p> \u200b\u547d\u4ee4\u200b \u200b\u89e3\u91ca\u200b set k1 v1 get  k1 \u200b\u67e5\u8be2\u200b\u5bf9\u5e94\u200b\u952e\u503c\u200b append k1 v1 \u200b\u5c06\u200b\u7ed9\u5b9a\u200b\u7684\u200bv1 \u200b\u8ffd\u52a0\u200b\u5230\u200b\u539f\u503c\u200b\u7684\u200b\u672b\u5c3e\u200b strlen k1 \u200b\u83b7\u5f97\u200b\u503c\u200b\u7684\u200b\u957f\u5ea6\u200b setnx  k1 v1 \u200b\u53ea\u6709\u200b\u5728\u200b key \u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b  \u200b\u8bbe\u7f6e\u200b key \u200b\u7684\u200b\u503c\u200b incr k1 \u200b\u5c06\u200b key \u200b\u4e2d\u200b\u50a8\u5b58\u200b\u7684\u200b\u6570\u5b57\u200b\u503c\u589e\u200b1,\u200b\u53ea\u80fd\u200b\u5bf9\u200b\u6570\u5b57\u200b\u503c\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5982\u679c\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u65b0\u200b\u589e\u503c\u200b\u4e3a\u200b1 decr k1 \u200b\u5c06\u200b key \u200b\u4e2d\u200b\u50a8\u5b58\u200b\u7684\u200b\u6570\u5b57\u200b\u503c\u51cf\u200b1;\u200b\u53ea\u80fd\u200b\u5bf9\u200b\u6570\u5b57\u200b\u503c\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5982\u679c\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u65b0\u200b\u589e\u503c\u200b\u4e3a\u200b-1 incrby / decrby k2 &lt;\u200b\u6b65\u957f\u200b&gt; \u200b\u5c06\u200b key \u200b\u4e2d\u200b\u50a8\u5b58\u200b\u7684\u200b\u6570\u5b57\u200b\u503c\u200b\u589e\u51cf\u200b\u3002\u200b\u81ea\u5b9a\u4e49\u200b\u6b65\u957f\u200b\u3002 mset k1 v1 v2 v3 .... \u200b\u540c\u65f6\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b key-value\u200b\u5bf9\u200b mget  k1 k2 k3 \u200b\u540c\u65f6\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b value msetnx k1 v1 k2 v2 k3 v3 .... \u200b\u540c\u65f6\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b key-value \u200b\u5bf9\u200b\uff0c\u200b\u5f53\u4e14\u200b\u4ec5\u200b\u5f53\u200b\u6240\u6709\u200b\u7ed9\u5b9a\u200b key \u200b\u90fd\u200b\u4e0d\u200b\u5b58\u5728\u200b\u3002 getrange k1 0 1 \u200b\u83b7\u5f97\u200b\u503c\u200b\u7684\u200b\u8303\u56f4\u200b\uff0c\u200b\u7c7b\u4f3c\u200bjava\u200b\u4e2d\u200b\u7684\u200bsubstring\uff0c\u200b\u524d\u5305\u200b\uff0c\u200b\u540e\u5305\u200b setrange k1 0 1 \u200b\u7528\u200b  \u200b\u8986\u5199\u200b\u6240\u200b\u50a8\u5b58\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u503c\u200b\uff0c\u200b\u4ece\u200b&lt;\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b&gt;\u200b\u5f00\u59cb\u200b(\u200b\u7d22\u5f15\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b)\u3002 setnx k1 2 v1 \u200b\u8bbe\u7f6e\u200b\u952e\u503c\u200b\u7684\u200b\u540c\u65f6\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\uff0c\u200b\u5355\u4f4d\u200b\u79d2\u200b\u3002 getset  k1 v2 \u200b\u4ee5\u65b0\u6362\u200b\u65e7\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u65b0\u503c\u200b\u540c\u65f6\u200b\u83b7\u5f97\u200b\u65e7\u503c\u200b <p></p> <p>set k1 v1</p> <p>NX\uff1a\u200b\u5f53\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200bkey\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200bkey-value\u200b\u6dfb\u52a0\u200b\u6570\u636e\u5e93\u200b</p> <p>XX\uff1a\u200b\u5f53\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200bkey\u200b\u5b58\u5728\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200bkey-value\u200b\u6dfb\u52a0\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u4e0e\u200bNX\u200b\u53c2\u6570\u200b\u4e92\u65a5\u200b</p> <p>EX\uff1akey\u200b\u7684\u200b\u8d85\u65f6\u200b\u79d2\u6570\u200b</p> <p>PX\uff1akey\u200b\u7684\u200b\u8d85\u65f6\u200b\u6beb\u79d2\u200b\u6570\u200b\uff0c\u200b\u4e0e\u200bEX\u200b\u4e92\u65a5\u200b</p>"},{"location":"db/redis/overview/#list","title":"list","text":"<p>v \u200b\u6709\u200b\u591a\u4e2a\u200b\u503c\u200b</p> \u200b\u547d\u4ee4\u200b \u200b\u89e3\u91ca\u200b lpush/rpush k1 v1 v2 v3 .... \u200b\u4ece\u200b\u5de6\u8fb9\u200b/\u200b\u53f3\u8fb9\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u503c\u200b\u3002 lpop/rpop k1 \u200b\u4ece\u200b\u5de6\u8fb9\u200b/\u200b\u53f3\u8fb9\u200b\u5410\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002\u200b\u503c\u200b\u5728\u200b\u952e\u200b\u5728\u200b\uff0c\u200b\u503c\u5149\u952e\u4ea1\u200b\u3002 rpoplpush k1 k2 \u200b\u4ece\u200bk1\u200b\u5217\u8868\u200b\u53f3\u8fb9\u200b\u5410\u200b\u51fa\u200b\u4e00\u4e2a\u200b\u503c\u200b\uff0c\u200b\u63d2\u200b\u5230\u200bk2\u200b\u5217\u8868\u200b\u5de6\u8fb9\u200b\u3002 lrange k1 0 2 \u200b\u6309\u7167\u200b\u7d22\u5f15\u200b\u4e0b\u6807\u200b\u83b7\u5f97\u200b\u5143\u7d20\u200b(\u200b\u4ece\u5de6\u5230\u53f3\u200b) lrange mylist 0 -1 0\u200b\u5de6\u8fb9\u200b\u7b2c\u4e00\u4e2a\u200b\uff0c-1\u200b\u53f3\u8fb9\u200b\u7b2c\u4e00\u4e2a\u200b\uff0c\uff080 -1\u200b\u8868\u793a\u200b\u83b7\u53d6\u200b\u6240\u6709\u200b\uff09 lindex k1 0 \u200b\u6309\u7167\u200b\u7d22\u5f15\u200b\u4e0b\u6807\u200b\u83b7\u5f97\u200b\u5143\u7d20\u200b(\u200b\u4ece\u5de6\u5230\u53f3\u200b) llen k1 \u200b\u83b7\u5f97\u200b\u5217\u8868\u200b\u957f\u5ea6\u200b linsert k1 before v1 nv1 \u200b\u5728\u200bv1\u200b\u7684\u200b\u540e\u9762\u200b\u63d2\u5165\u200bnv1\u200b\u63d2\u5165\u200b\u503c\u200b lrem k1 n v1 \u200b\u4ece\u200b\u5de6\u8fb9\u200b\u5220\u9664\u200bn\u200b\u4e2a\u200bv1(\u200b\u4ece\u5de6\u5230\u53f3\u200b) lset k1 index 122 \u200b\u5c06\u200b\u5217\u8868\u200bkey\u200b\u4e0b\u6807\u200b\u4e3a\u200bindex\u200b\u7684\u200b\u503c\u200b\u66ff\u6362\u6210\u200b122"},{"location":"db/redis/overview/#set","title":"set","text":"<p>\u200b\u76f8\u5bf9\u200b\u4e8e\u200blist \u200b\u8be5\u200b\u96c6\u5408\u200b\u4e0d\u200b\u91cd\u590d\u200b</p> \u200b\u547d\u4ee4\u200b \u200b\u89e3\u91ca\u200b sadd k1 v1 v2 v3 v4... \u200b\u5c06\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b member \u200b\u5143\u7d20\u200b\u52a0\u5165\u200b\u5230\u200b\u96c6\u5408\u200b key \u200b\u4e2d\u200b\uff0c\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u7684\u200b member \u200b\u5143\u7d20\u200b\u5c06\u200b\u88ab\u200b\u5ffd\u7565\u200b smembers k1 \u200b\u53d6\u51fa\u200b\u8be5\u200b\u96c6\u5408\u200b\u7684\u200b\u6240\u6709\u200b\u503c\u200b\u3002 sismember k1 v1 \u200b\u5224\u65ad\u200b\u96c6\u5408\u200bk1\u200b\u662f\u5426\u200b\u4e3a\u200b\u542b\u6709\u200b\u8be5\u200bv1\u200b\u503c\u200b\uff0c\u200b\u6709\u200b1\uff0c\u200b\u6ca1\u6709\u200b0 scard k1 \u200b\u8fd4\u56de\u200b\u8be5\u200b\u96c6\u5408\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b\u3002 srem k1 v1 v2 .... \u200b\u5220\u9664\u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5143\u7d20\u200b\u3002 spop k1 \u200b\u968f\u673a\u200b\u4ece\u200b\u8be5\u200b\u96c6\u5408\u200b\u4e2d\u5410\u51fa\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002 srandmember k1 n \u200b\u968f\u673a\u200b\u4ece\u200b\u8be5\u200b\u96c6\u5408\u200b\u4e2d\u200b\u53d6\u51fa\u200bn\u200b\u4e2a\u503c\u200b\u3002\u200b\u4e0d\u4f1a\u200b\u4ece\u200b\u96c6\u5408\u200b\u4e2d\u200b\u5220\u9664\u200b \u3002 smove sk1 dk1 v1 \u200b\u628a\u200b\u96c6\u5408\u200b\u4e2d\u200b\u4e00\u4e2a\u200b\u503c\u200b\u4ece\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\u79fb\u52a8\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200bsk1\u200b\u4e2d\u200b\u7684\u200bv1\u200b\u79fb\u52a8\u200b\u5230\u200bdk1 sinter k1 k2 \u200b\u8fd4\u56de\u200b\u4e24\u4e2a\u200b\u96c6\u5408\u200b\u7684\u200b\u4ea4\u96c6\u200b\u5143\u7d20\u200b\u3002 sunion k1 k2 \u200b\u8fd4\u56de\u200b\u4e24\u4e2a\u200b\u96c6\u5408\u200b\u7684\u200b\u5e76\u200b\u96c6\u200b\u5143\u7d20\u200b\u3002 sdiff k1 k2 \u200b\u8fd4\u56de\u200b\u4e24\u4e2a\u200b\u96c6\u5408\u200b\u7684\u200b\u5dee\u96c6\u200b\u5143\u7d20\u200b(key1\u200b\u4e2d\u200b\u7684\u200b\uff0c\u200b\u4e0d\u200b\u5305\u542b\u200bkey2\u200b\u4e2d\u200b\u7684\u200b)"},{"location":"db/redis/overview/#hash","title":"hash","text":"<p>v f v f v</p> \u200b\u547d\u4ee4\u200b \u200b\u89e3\u91ca\u200b hset k1 f1 v1 \u200b\u7ed9\u200bk1\u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b f1\u200b\u952e\u200b\u8d4b\u503c\u200bv1 hget k1 f1 \u200b\u4ece\u200bk1\u200b\u96c6\u5408\u200bf1\u200b\u53d6\u51fa\u200b value hmset k1 f1 v1 f2 v2 f3 v3.... \u200b\u6279\u91cf\u200b\u8bbe\u7f6e\u200bhash\u200b\u7684\u200b\u503c\u200b hexists k1 f1 \u200b\u67e5\u770b\u200b\u54c8\u5e0c\u200b\u8868\u200b key \u200b\u4e2d\u200b\uff0c\u200b\u7ed9\u5b9a\u200b\u57df\u200b field \u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u3002 hkeys  k1 \u200b\u5217\u51fa\u200b\u8be5\u200bhash\u200b\u96c6\u5408\u200b\u7684\u200b\u6240\u6709\u200bfield hvals k1 \u200b\u5217\u51fa\u200b\u8be5\u200bhash\u200b\u96c6\u5408\u200b\u7684\u200b\u6240\u6709\u200bvalue hincrby k1 f1   \u200b\u4e3a\u200b\u54c8\u5e0c\u200b\u8868\u200b key \u200b\u4e2d\u200b\u7684\u200b\u57df\u200b field \u200b\u7684\u200b\u503c\u200b\u52a0\u4e0a\u200b\u589e\u91cf\u200b 1  -1 hsetnx k1  f1 v1 \u200b\u5c06\u200b\u54c8\u5e0c\u200b\u8868\u200b key \u200b\u4e2d\u200b\u7684\u200b\u57df\u200b field \u200b\u7684\u200b\u503c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b value \uff0c\u200b\u5f53\u4e14\u200b\u4ec5\u200b\u5f53\u57df\u200b field \u200b\u4e0d\u200b\u5b58\u5728\u200b ."},{"location":"db/redis/overview/#zset","title":"zset","text":"<p>\u200b\u6bcf\u4e2a\u200bv\u200b\u90fd\u200b\u6709\u200b\u5206\u6570\u200b</p> \u200b\u547d\u4ee4\u200b \u200b\u89e3\u91ca\u200b zadd k1  100 v1 200 v2 20 v3 ..... \u200b\u5c06\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b member \u200b\u5143\u7d20\u200b\u53ca\u5176\u200b score \u200b\u503c\u200b\u52a0\u5165\u200b\u5230\u200b\u6709\u5e8f\u200b\u96c6\u200b key \u200b\u5f53\u4e2d\u200b\u3002 zrange  k1 0 100  [WITHSCORES] \u200b\u8fd4\u56de\u200b\u6709\u5e8f\u200b\u96c6\u200b key \u200b\u4e2d\u200b\uff0c\u200b\u4e0b\u6807\u200b\u5728\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5143\u7d20\u200b\uff1b\u200b\u5e26\u200bWITHSCORES\uff0c\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u5206\u6570\u200b\u4e00\u8d77\u200b\u548c\u200b\u503c\u200b\u8fd4\u56de\u200b\u5230\u200b\u7ed3\u679c\u200b\u96c6\u200b\u3002 zrangebyscore key minmax [withscores] [limit offset count] zrangebyscore z1 0 100 withscores limit 0 100 \u200b\u8fd4\u56de\u200b\u6709\u5e8f\u200b\u96c6\u200b key \u200b\u4e2d\u200b\uff0c\u200b\u6240\u6709\u200b score \u200b\u503c\u200b\u4ecb\u4e8e\u200b min \u200b\u548c\u200b max \u200b\u4e4b\u95f4\u200b(\u200b\u5305\u62ec\u200b\u7b49\u4e8e\u200b min \u200b\u6216\u200b max )\u200b\u7684\u200b\u6210\u5458\u200b\u3002\u200b\u6709\u5e8f\u200b\u96c6\u200b\u6210\u5458\u200b\u6309\u200b score \u200b\u503c\u200b\u9012\u589e\u200b(\u200b\u4ece\u5c0f\u5230\u5927\u200b)\u200b\u6b21\u5e8f\u200b\u6392\u5217\u200b zrevrangebyscore key maxmin [withscores] [limit offset count] \u200b\u540c\u200b\u4e0a\u200b\uff0c\u200b\u6539\u4e3a\u200b\u4ece\u5927\u5230\u200b\u5c0f\u200b\u6392\u5217\u200b\u3002 zincrby k1  \u200b\u4e3a\u200b\u5143\u7d20\u200b\u7684\u200bscore\u200b\u52a0\u4e0a\u200b\u589e\u91cf\u200b zrem k1 v1 \u200b\u5220\u9664\u200b\u8be5\u200b\u96c6\u5408\u200b\u4e0b\u200b\uff0c\u200b\u6307\u5b9a\u200b\u503c\u200b\u7684\u200b\u5143\u7d20\u200b zcount k1  \u200b\u7edf\u8ba1\u200b\u8be5\u200b\u96c6\u5408\u200b\uff0c\u200b\u5206\u6570\u200b\u533a\u95f4\u200b\u5185\u200b\u7684\u200b\u5143\u7d20\u200b\u4e2a\u6570\u200b zrank k1 v1 \u200b\u8fd4\u56de\u200b\u8be5\u503c\u200b\u5728\u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u6392\u540d\u200b\uff0c\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b\u3002 <p>bit</p> <p>0 1 2 3 4 5 ....</p> <pre><code>setbit b1 1 1\n</code></pre> <pre><code>getbit b1 1\n\n\n\nbitcount b1 1 2 BITE\n\nbitcount b1 1 2 BIT\n</code></pre> <pre><code>127.0.0.1:6379&gt; pfadd h1 1 2 3 1\n(integer) 1\n127.0.0.1:6379&gt; pfcount h1\n(integer) 3\n</code></pre> <p>mac\uff1a\u200b\u5173\u95ed\u200bvpn</p> <p>xsd fetch </p> <p>multi exec</p> <p>\u200b\u4e50\u89c2\u200b\u9501\u200b\uff1a\u200b\u5e93\u5b58\u200b\u9057\u7559\u95ee\u9898\u200b</p> <p>\u200b\u56e0\u4e3a\u200b\u7248\u672c\u53f7\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u6240\u4ee5\u200b\u4e0d\u80fd\u200b\u6539\u200b</p> <p>\u200b\u5f00\u542f\u200baof</p> <p></p> <p>\u200b\u4fee\u590d\u200baof\u200b\u6587\u4ef6\u200b</p> <pre><code>redis-check-aof --fix appendonly.aof\n</code></pre> <p>setup </p> <p>base</p> <p>source</p> <p></p> <p>info replication</p> <pre><code>redis-cli -p 6379\n</code></pre> <pre><code>slaveof 127.0.0.1 6379\n</code></pre> <p></p> <p></p> <p></p> <pre><code>replica-priority 100\n</code></pre> <p>\u200b\u4ee3\u7406\u200b\uff1a\u200b\u4ee3\u7406\u200b\u4f5c\u4e3a\u200b\u5165\u53e3\u200b</p> <p>\u200b\u65e0\u200b\u4e2d\u5fc3\u5316\u200b\uff1a\u200b\u4efb\u4e00\u200b\u4e00\u53f0\u200b\u670d\u52a1\u5668\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u5165\u53e3\u200b</p> <p>i</p> <pre><code>[OK] All 16384 slots covered.\n</code></pre> <p>\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u8282\u70b9\u5747\u200b\u53ef\u4ee5\u200b</p> <pre><code>redis-cli -c -p 6379\n</code></pre> <pre><code>cluster nodes\n</code></pre>"},{"location":"db/redis/source/","title":"Source","text":"<p>source</p>"},{"location":"db/redis/%E5%AE%89%E8%A3%85/","title":"\u5b89\u88c5","text":"<p># \u200b\u542f\u52a8\u200b Redis\uff08\u200b\u524d\u53f0\u200b\u8fd0\u884c\u200b\uff09</p> <p>redis-server</p> <p># \u200b\u542f\u52a8\u200b Redis\uff08\u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b\uff0c\u200b\u63a8\u8350\u200b\uff09</p> <p>brew services start redis</p> <p># \u200b\u505c\u6b62\u200b Redis</p> <p>brew services stop redis</p> <p># \u200b\u91cd\u542f\u200b Redis</p> <p>brew services restart redis</p>"},{"location":"en/w/","title":"w","text":"<ul> <li> <p>[ ] promise:\u200b\u627f\u8bfa\u200b</p> </li> <li> <p>[ ] exquisite\uff1a\u200b\u7cbe\u81f4\u200b\u7684\u200b \u200b\u4f18\u7f8e\u200b\u7684\u200b</p> </li> <li>[ ] assimalte \u200b\u76f8\u4f3c\u200b \u200b\u540c\u5316\u200b</li> </ul> <pre><code>flowchart TD\n    A[a1] --&gt;|cc| B(Go shopping)\n    B --&gt; C{c}\n    C --&gt;|cd| D[d]\n    C --&gt;|ce| E[e]\n    C --&gt;|cf| F[Car]</code></pre> <pre><code>flowchart TD\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> bubble_sort.py<pre><code>package main\n\nfunc main() {\n\n}\n</code></pre>"},{"location":"growth/mindset/plan/","title":"Plan","text":""},{"location":"growth/mindset/plan/#1-130","title":"\u9636\u6bb5\u200b 1\uff1a\u200b\u57fa\u7840\u200b\u8ba4\u77e5\u200b\u4e0e\u200b\u81ea\u6211\u200b\u89c9\u5bdf\u200b (\u200b\u7b2c\u200b 1~30 \u200b\u5929\u200b)","text":""},{"location":"growth/mindset/plan/#_1","title":"\u76ee\u6807","text":"<ul> <li>\u200b\u4e86\u89e3\u200b\u81ea\u5df1\u200b\u7684\u200b\u4f18\u52bf\u200b\u4e0e\u200b\u77ed\u677f\u200b</li> <li>\u200b\u5efa\u7acb\u200b\u65e5\u5e38\u200b\u590d\u76d8\u200b\u4e0e\u200b\u8868\u8fbe\u200b\u4e60\u60ef\u200b</li> <li>\u200b\u6253\u200b\u597d\u200b\u6c9f\u901a\u200b\u57fa\u7840\u200b</li> </ul>"},{"location":"growth/mindset/plan/#_2","title":"\u5177\u4f53\u200b\u884c\u52a8","text":"<ol> <li> <p>\u200b\u81ea\u6211\u200b\u5206\u6790\u200b</p> <ul> <li>\u200b\u7528\u200b SWOT\uff08\u200b\u4f18\u52bf\u200b\u3001\u200b\u52a3\u52bf\u200b\u3001\u200b\u673a\u4f1a\u200b\u3001\u200b\u5a01\u80c1\u200b\uff09\u200b\u5206\u6790\u200b\u81ea\u5df1\u200b\uff0c\u200b\u5199\u200b 1 \u200b\u9875\u200b\u7eb8\u200b\u3002</li> <li>\u200b\u8bb0\u5f55\u200b\u6bcf\u5929\u200b 3 \u200b\u4ef6\u200b\u201c\u200b\u4eca\u5929\u200b\u505a\u5f97\u597d\u200b\u7684\u200b\u4e8b\u200b\u201d\u200b\u548c\u200b 1 \u200b\u4e2a\u200b\u6539\u8fdb\u200b\u70b9\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u6c9f\u901a\u200b\u7ec3\u4e60\u200b</p> <ul> <li>\u200b\u6bcf\u5929\u200b\u7528\u200b\u201c\u200b\u603b\u200b-\u200b\u5206\u200b-\u200b\u603b\u200b\u201d\u200b\u603b\u7ed3\u200b\u5f53\u5929\u200b\u5de5\u4f5c\u200b/\u200b\u5b66\u4e60\u200b\u6536\u83b7\u200b\uff0c\u200b\u7528\u200b 1 \u200b\u5206\u949f\u200b\u8bf4\u200b\u51fa\u6765\u200b\u3002</li> <li>\u200b\u6a21\u4eff\u200b\u4f18\u79c0\u200b\u6587\u7ae0\u200b\u5199\u200b\u4e00\u4e2a\u200b 200 \u200b\u5b57\u200b\u7684\u200b\u603b\u7ed3\u200b\u6216\u200b\u89c2\u70b9\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u9605\u8bfb\u200b\u4e0e\u200b\u5b66\u4e60\u200b</p> <ul> <li>\u200b\u63a8\u8350\u200b\u4e66\u7c4d\u200b\uff1a\u300a\u200b\u91d1\u5b57\u5854\u200b\u539f\u7406\u200b\u300b\u300a\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u300b\u3002</li> <li>\u200b\u6bcf\u5929\u200b\u9605\u8bfb\u200b 15 \u200b\u5206\u949f\u200b\uff0c\u200b\u8bb0\u200b 3 \u200b\u4e2a\u200b\u5173\u952e\u8bcd\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u60c5\u7eea\u200b\u4e0e\u200b\u65f6\u95f4\u200b\u7ba1\u7406\u200b</p> <ul> <li>\u200b\u6bcf\u665a\u200b\u505a\u200b\u7b80\u5355\u200b\u590d\u76d8\u200b\uff1a\u200b\u4eca\u5929\u200b\u5f00\u5fc3\u200b/\u200b\u70e6\u8e81\u200b\u7684\u200b\u539f\u56e0\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f</li> <li>\u200b\u4f7f\u7528\u200b\u5f85\u529e\u200b\u6e05\u5355\u200b\u5de5\u5177\u200b\uff08Todoist\u3001Notion\uff09\u200b\u6574\u7406\u200b\u6bcf\u5929\u200b 3 \u200b\u4e2a\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u4efb\u52a1\u200b\u3002</li> </ul> </li> </ol>"},{"location":"growth/mindset/plan/#2-3160","title":"\u9636\u6bb5\u200b 2\uff1a\u200b\u8868\u8fbe\u200b\u4e0e\u200b\u5f71\u54cd\u529b\u200b\u63d0\u5347\u200b (\u200b\u7b2c\u200b 31~60 \u200b\u5929\u200b)","text":""},{"location":"growth/mindset/plan/#_3","title":"\u76ee\u6807","text":"<ul> <li>\u200b\u63d0\u5347\u200b\u6f14\u8bb2\u200b\u3001\u200b\u5199\u4f5c\u200b\u3001\u200b\u53cd\u9988\u200b\u80fd\u529b\u200b</li> <li>\u200b\u5b66\u4f1a\u200b\u4e0e\u200b\u4e0d\u540c\u200b\u6027\u683c\u200b\u7684\u200b\u4eba\u200b\u6c9f\u901a\u200b\u5408\u4f5c\u200b</li> </ul>"},{"location":"growth/mindset/plan/#_4","title":"\u5177\u4f53\u200b\u884c\u52a8","text":"<ol> <li> <p>\u200b\u53e3\u5934\u200b\u8868\u8fbe\u200b\u8bad\u7ec3\u200b</p> <ul> <li>\u200b\u6bcf\u5929\u200b\u9009\u200b\u4e00\u4e2a\u200b\u4e3b\u9898\u200b\uff0c\u200b\u5f55\u97f3\u200b 1 \u200b\u5206\u949f\u200b\u8bb2\u89e3\u200b\uff0c\u200b\u542c\u200b\u4e00\u904d\u200b\u627e\u200b 1 \u200b\u4e2a\u200b\u6539\u8fdb\u200b\u70b9\u200b\u3002</li> <li>\u200b\u6a21\u62df\u200b\u4f1a\u8bae\u200b\u53d1\u8a00\u200b\uff1a\u200b\u63d0\u524d\u51c6\u5907\u200b 1~2 \u200b\u53e5\u200b\u89c2\u70b9\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u5199\u4f5c\u200b\u7ec3\u4e60\u200b</p> <ul> <li>\u200b\u6bcf\u5468\u200b\u5199\u200b 1 \u200b\u7bc7\u200b 500 \u200b\u5b57\u200b\u7684\u200b\u89c2\u70b9\u200b\u6587\u7ae0\u200b\u6216\u200b\u884c\u4e1a\u200b\u603b\u7ed3\u200b\uff08\u200b\u53ef\u200b\u53d1\u200b\u670b\u53cb\u5708\u200b\u6216\u200b\u7b14\u8bb0\u200b\u8f6f\u4ef6\u200b\uff09\u3002</li> <li>\u200b\u5b66\u4f1a\u200b\u201c\u200b\u5148\u200b\u7ed3\u8bba\u200b\uff0c\u200b\u540e\u200b\u539f\u56e0\u200b\u201d\u200b\u7684\u200b\u7ed3\u6784\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u4eba\u9645\u5173\u7cfb\u200b\u4e0e\u200b\u5f71\u54cd\u529b\u200b</p> <ul> <li>\u200b\u6bcf\u5468\u200b\u81f3\u5c11\u200b\u8054\u7cfb\u200b 1 \u200b\u4f4d\u200b\u8001\u540c\u4e8b\u200b/\u200b\u670b\u53cb\u200b\uff0c\u200b\u95ee\u5019\u200b\u6216\u200b\u8bf7\u6559\u200b\u3002</li> <li>\u200b\u4e3b\u52a8\u200b\u5728\u200b\u5de5\u4f5c\u200b\u6216\u200b\u5b66\u4e60\u200b\u573a\u666f\u200b\u91cc\u200b\u5e2e\u4eba\u200b\u89e3\u51b3\u200b\u5c0f\u200b\u95ee\u9898\u200b\uff0c\u200b\u79ef\u7d2f\u200b\u4fe1\u4efb\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u63a8\u8350\u200b\u5b66\u4e60\u200b\u5185\u5bb9\u200b</p> <ul> <li>\u200b\u4e66\u7c4d\u200b\uff1a\u300a\u200b\u5f71\u54cd\u529b\u200b\u300b\u300a\u200b\u6c9f\u901a\u200b\u7684\u200b\u827a\u672f\u200b\u300b</li> <li>\u200b\u89c2\u770b\u200b TED \u200b\u6f14\u8bb2\u200b\uff0c\u200b\u6bcf\u5468\u200b 2 \u200b\u4e2a\u200b\uff0c\u200b\u8bb0\u5f55\u200b\u4eae\u70b9\u200b\u3002</li> </ul> </li> </ol>"},{"location":"growth/mindset/plan/#3-6190","title":"\u9636\u6bb5\u200b 3\uff1a\u200b\u6574\u5408\u200b\u4e0e\u200b\u4e2a\u4eba\u200b\u54c1\u724c\u200b (\u200b\u7b2c\u200b 61~90 \u200b\u5929\u200b)","text":""},{"location":"growth/mindset/plan/#_5","title":"\u76ee\u6807","text":"<ul> <li>\u200b\u5c55\u793a\u200b\u6210\u679c\u200b\uff0c\u200b\u5efa\u7acb\u200b\u4e2a\u4eba\u200b\u54c1\u724c\u200b</li> <li>\u200b\u8ba9\u200b\u8f6f\u200b\u5b9e\u529b\u200b\u5728\u200b\u5de5\u4f5c\u200b\u548c\u200b\u751f\u6d3b\u200b\u4e2d\u200b\u4ea7\u751f\u200b\u4ef7\u503c\u200b</li> </ul>"},{"location":"growth/mindset/plan/#_6","title":"\u5177\u4f53\u200b\u884c\u52a8","text":"<ol> <li> <p>\u200b\u603b\u7ed3\u200b\u4e0e\u200b\u5206\u4eab\u200b</p> <ul> <li>\u200b\u6bcf\u5468\u200b\u8f93\u51fa\u200b\u4e00\u4efd\u200b\u201c\u200b\u5fae\u200b\u5206\u4eab\u200b\u201d\uff0c\u200b\u4e3b\u9898\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e66\u7c4d\u200b\u8bfb\u540e\u611f\u200b\u3001\u200b\u5de5\u4f5c\u200b\u5fc3\u5f97\u200b\u3002</li> <li>\u200b\u6574\u7406\u200b 90 \u200b\u5929\u200b\u7684\u200b\u590d\u76d8\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u4efd\u200b\u201c\u200b\u4e2a\u4eba\u6210\u957f\u200b\u62a5\u544a\u200b\u201d\u3002</li> </ul> </li> <li> <p>\u200b\u4e2a\u4eba\u200b\u54c1\u724c\u200b\u6253\u9020\u200b</p> <ul> <li>\u200b\u5728\u200b LinkedIn \u200b\u6216\u200b\u884c\u4e1a\u200b\u793e\u7fa4\u200b\u4e0a\u53d1\u200b\u4e00\u7bc7\u200b\u7ecf\u9a8c\u603b\u7ed3\u200b\u3002</li> <li>\u200b\u4f18\u5316\u200b\u4e2a\u4eba\u7b80\u4ecb\u200b\u3001\u200b\u5934\u50cf\u200b\u548c\u200b\u5173\u952e\u200b\u7ecf\u5386\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u7efc\u5408\u200b\u6f14\u7ec3\u200b</p> <ul> <li>\u200b\u5728\u200b\u4e00\u6b21\u200b\u4f1a\u8bae\u200b\u3001\u200b\u9879\u76ee\u200b\u6216\u200b\u6d3b\u52a8\u200b\u4e2d\u200b\u4e3b\u52a8\u200b\u627f\u62c5\u200b\u53d1\u8a00\u200b\u6216\u200b\u7ec4\u7ec7\u200b\u89d2\u8272\u200b\u3002</li> <li>\u200b\u603b\u7ed3\u200b\u6536\u83b7\u200b\u5e76\u200b\u8bf7\u200b 1~2 \u200b\u4f4d\u200b\u4fe1\u4efb\u200b\u7684\u200b\u670b\u53cb\u200b\u7ed9\u200b\u53cd\u9988\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u63a8\u8350\u200b\u5b66\u4e60\u200b\u5185\u5bb9\u200b</p> <ul> <li>\u200b\u4e66\u7c4d\u200b\uff1a\u300a\u200b\u523b\u610f\u200b\u7ec3\u4e60\u200b\u300b\u300a\u200b\u5b66\u4f1a\u200b\u63d0\u95ee\u200b\u300b</li> <li>\u200b\u5173\u6ce8\u200b 1~2 \u200b\u4e2a\u200b\u884c\u4e1a\u200b KOL \u200b\u6216\u200b\u5199\u4f5c\u200b\u535a\u4e3b\u200b\u5b66\u4e60\u200b\u4ed6\u4eec\u200b\u7684\u200b\u8868\u8fbe\u200b\u3002</li> </ul> </li> </ol>"},{"location":"growth/mindset/plan/#_7","title":"\u8fdb\u9636\u200b\u5efa\u8bae","text":"<ul> <li>\u200b\u4e60\u60ef\u200b\u7ef4\u6301\u200b\uff1a90 \u200b\u5929\u200b\u7ed3\u675f\u200b\u540e\u200b\uff0c\u200b\u6bcf\u5468\u200b\u7ee7\u7eed\u200b\u505a\u200b 1~2 \u200b\u6b21\u200b\u590d\u76d8\u200b\u6216\u200b\u8f93\u51fa\u200b\u3002</li> <li>\u200b\u957f\u671f\u200b\u63d0\u5347\u200b\uff1a\u200b\u6bcf\u534a\u5e74\u200b\u53c2\u52a0\u200b 1 \u200b\u6b21\u200b\u516c\u5f00\u200b\u6f14\u8bb2\u200b\u6216\u200b\u4e13\u4e1a\u200b\u5206\u4eab\u200b\u3002</li> </ul>"},{"location":"growth/mindset/plan2/","title":"Plan2","text":""},{"location":"growth/mindset/plan2/#90","title":"90\u200b\u5929\u8f6f\u200b\u5b9e\u529b\u200b\u63d0\u5347\u200b\u8ba1\u5212","text":""},{"location":"growth/mindset/plan2/#1-130","title":"\u9636\u6bb5\u200b 1\uff1a\u200b\u6c9f\u901a\u200b\u529b\u200b\u4e0e\u200b\u81ea\u6211\u200b\u89c9\u5bdf\u200b\uff08\u200b\u7b2c\u200b 1~30 \u200b\u5929\u200b\uff09","text":"<p>\u200b\u76ee\u6807\u200b\uff1a\u200b\u5efa\u7acb\u200b\u57fa\u7840\u200b\u6c9f\u901a\u200b\u80fd\u529b\u200b\u3001\u200b\u5171\u60c5\u200b\u80fd\u529b\u200b\u548c\u200b\u81ea\u6211\u200b\u89c9\u5bdf\u200b</p> <ul> <li> <p>\u200b\u4e3b\u8981\u200b\u4e66\u7c4d\u200b\uff1a\u300a\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u300b</p> </li> <li> <p>\u200b\u6bcf\u65e5\u200b\u4efb\u52a1\u200b\uff1a</p> <ol> <li>\u200b\u9605\u8bfb\u200b 5\u201310 \u200b\u9875\u200b\u300a\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u300b</li> <li>NVC \u200b\u5b9e\u8df5\u200b\uff1a\u200b\u4e0e\u200b\u5bb6\u4eba\u200b\u3001\u200b\u670b\u53cb\u200b\u6216\u200b\u540c\u4e8b\u200b\u4f7f\u7528\u200b\u201c\u200b\u89c2\u5bdf\u200b-\u200b\u611f\u53d7\u200b-\u200b\u9700\u8981\u200b-\u200b\u8bf7\u6c42\u200b\u201d\u200b\u8fdb\u884c\u200b\u6c9f\u901a\u200b</li> <li>\u200b\u590d\u76d8\u200b\u65e5\u8bb0\u200b\uff1a\u200b\u8bb0\u5f55\u200b\u5f53\u5929\u200b\u6c9f\u901a\u200b\u4f53\u9a8c\u200b\u3001\u200b\u9047\u5230\u200b\u7684\u200b\u56f0\u96be\u200b\u3001\u200b\u6539\u8fdb\u200b\u70b9\u200b</li> <li>\u200b\u7b80\u5355\u200b\u7ec3\u4e60\u200b\uff1a\u200b\u6bcf\u5929\u200b\u627e\u200b 1 \u200b\u4e2a\u200b\u6c9f\u901a\u200b\u573a\u666f\u200b\u523b\u610f\u200b\u7ec3\u4e60\u200b\u503e\u542c\u200b\u6216\u200b\u8868\u8fbe\u200b</li> </ol> </li> <li> <p>\u200b\u76ee\u6807\u200b\u4ea7\u51fa\u200b\uff1a30 \u200b\u5929\u540e\u200b\u53ef\u4ee5\u200b\u5728\u200b\u65e5\u5e38\u200b\u6c9f\u901a\u200b\u4e2d\u200b\u81ea\u89c9\u200b\u8fd0\u7528\u200b NVC\uff0c\u200b\u63d0\u9ad8\u200b\u7406\u89e3\u529b\u200b\u548c\u200b\u8868\u8fbe\u200b\u6e05\u6670\u5ea6\u200b</p> </li> </ul>"},{"location":"growth/mindset/plan2/#2-3160","title":"\u9636\u6bb5\u200b 2\uff1a\u200b\u8868\u8fbe\u529b\u200b\u4e0e\u200b\u903b\u8f91\u601d\u7ef4\u200b\uff08\u200b\u7b2c\u200b 31~60 \u200b\u5929\u200b\uff09","text":"<p>\u200b\u76ee\u6807\u200b\uff1a\u200b\u63d0\u5347\u200b\u903b\u8f91\u200b\u8868\u8fbe\u200b\u3001\u200b\u6761\u7406\u5316\u200b\u601d\u7ef4\u200b\u548c\u200b\u4e66\u9762\u200b/\u200b\u53e3\u5934\u200b\u8868\u8fbe\u80fd\u529b\u200b</p> <ul> <li> <p>\u200b\u4e3b\u8981\u200b\u4e66\u7c4d\u200b\uff1a\u300a\u200b\u91d1\u5b57\u5854\u200b\u539f\u7406\u200b\u300b</p> </li> <li> <p>\u200b\u6bcf\u65e5\u200b\u4efb\u52a1\u200b\uff1a</p> <ol> <li>\u200b\u9605\u8bfb\u200b 5\u201310 \u200b\u9875\u200b\u300a\u200b\u91d1\u5b57\u5854\u200b\u539f\u7406\u200b\u300b</li> <li>\u200b\u5199\u4f5c\u200b/\u200b\u6c47\u62a5\u200b\u7ec3\u4e60\u200b\uff1a\u200b\u6bcf\u5929\u200b\u6574\u7406\u200b\u4e00\u4e2a\u200b\u4fe1\u606f\u200b\u6216\u200b\u603b\u7ed3\u200b 1 \u200b\u6bb5\u200b\u5185\u5bb9\u200b\uff0c\u200b\u7528\u200b\u91d1\u5b57\u5854\u200b\u7ed3\u6784\u200b\u5448\u73b0\u200b</li> <li>\u200b\u590d\u76d8\u200b\uff1a\u200b\u68c0\u67e5\u200b\u903b\u8f91\u200b\u6e05\u6670\u5ea6\u200b\uff0c\u200b\u662f\u5426\u200b\u81ea\u4e0a\u800c\u4e0b\u200b\u3001\u200b\u4e3b\u6b21\u200b\u5206\u660e\u200b</li> <li>\u200b\u53e3\u5934\u200b\u6f14\u7ec3\u200b\uff1a\u200b\u6bcf\u5929\u200b 1\u20132 \u200b\u5206\u949f\u200b\u7528\u200b\u91d1\u5b57\u5854\u200b\u601d\u8def\u200b\u8bb2\u8ff0\u200b\u5f53\u5929\u200b\u603b\u7ed3\u200b\u6216\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u6545\u4e8b\u200b</li> </ol> </li> <li> <p>\u200b\u76ee\u6807\u200b\u4ea7\u51fa\u200b\uff1a\u200b\u6761\u7406\u5316\u200b\u8868\u8fbe\u80fd\u529b\u200b\u660e\u663e\u200b\u63d0\u5347\u200b\uff0c\u200b\u6c47\u62a5\u200b\u548c\u200b\u5199\u4f5c\u200b\u66f4\u200b\u6709\u200b\u903b\u8f91\u200b</p> </li> </ul>"},{"location":"growth/mindset/plan2/#3-6190","title":"\u9636\u6bb5\u200b 3\uff1a\u200b\u5f71\u54cd\u529b\u200b\u4e0e\u200b\u7efc\u5408\u200b\u5e94\u7528\u200b\uff08\u200b\u7b2c\u200b 61~90 \u200b\u5929\u200b\uff09","text":"<p>\u200b\u76ee\u6807\u200b\uff1a\u200b\u5c06\u200b\u6c9f\u901a\u200b\u3001\u200b\u903b\u8f91\u200b\u3001\u200b\u63d0\u95ee\u200b\u3001\u200b\u5f71\u54cd\u529b\u200b\u7ed3\u5408\u200b\u5230\u200b\u5b9e\u9645\u200b\u573a\u666f\u200b</p> <ul> <li> <p>\u200b\u4e3b\u8981\u200b\u4e66\u7c4d\u200b\uff1a\u300a\u200b\u5f71\u54cd\u529b\u200b\u300b\u300a\u200b\u5b66\u4f1a\u200b\u63d0\u95ee\u200b\u300b\u300a\u200b\u523b\u610f\u200b\u7ec3\u4e60\u200b\u300b</p> </li> <li> <p>\u200b\u6bcf\u65e5\u200b\u4efb\u52a1\u200b\uff1a</p> <ol> <li> <p>\u200b\u9605\u8bfb\u200b 5\u201310 \u200b\u9875\u200b\u300a\u200b\u5f71\u54cd\u529b\u200b\u300b\u200b\u6216\u200b\u300a\u200b\u5b66\u4f1a\u200b\u63d0\u95ee\u200b\u300b</p> </li> <li> <p>\u200b\u5b9e\u8df5\u200b\u5f71\u54cd\u529b\u200b\u539f\u5219\u200b\uff1a\u200b\u5728\u200b\u5c0f\u7ec4\u8ba8\u8bba\u200b\u6216\u200b\u65e5\u5e38\u200b\u4e92\u52a8\u200b\u4e2d\u200b\u5c1d\u8bd5\u200b\u4e92\u60e0\u200b\u3001\u200b\u627f\u8bfa\u200b\u4e00\u81f4\u200b\u3001\u200b\u793e\u4f1a\u200b\u8ba4\u540c\u200b\u7b49\u200b\u6280\u5de7\u200b</p> </li> <li> <p>\u200b\u63d0\u95ee\u200b\u7ec3\u4e60\u200b\uff1a\u200b\u6bcf\u5929\u200b\u81f3\u5c11\u200b\u63d0\u51fa\u200b 1\u20132 \u200b\u4e2a\u200b\u5173\u952e\u6027\u200b\u95ee\u9898\u200b\uff08\u200b\u5de5\u4f5c\u200b\u6216\u200b\u5b66\u4e60\u200b\u4e2d\u200b\uff09</p> </li> <li> <p>\u200b\u523b\u610f\u200b\u7ec3\u4e60\u200b\uff1a</p> <ul> <li>\u200b\u627e\u200b\u4e00\u4e2a\u200b\u8f6f\u200b\u5b9e\u529b\u200b\u6280\u80fd\u200b\uff08\u200b\u5982\u200b\u6c9f\u901a\u200b\u3001\u200b\u6c47\u62a5\u200b\u3001\u200b\u6f14\u8bb2\u200b\uff09</li> <li>\u200b\u5236\u5b9a\u200b\u5c0f\u200b\u76ee\u6807\u200b\u3001\u200b\u96c6\u4e2d\u200b\u7ec3\u4e60\u200b\u3001\u200b\u83b7\u53d6\u200b\u53cd\u9988\u200b\u3001\u200b\u8c03\u6574\u200b\u6539\u8fdb\u200b</li> </ul> </li> <li> <p>\u200b\u590d\u76d8\u200b\uff1a\u200b\u6bcf\u5929\u200b\u8bb0\u5f55\u200b\u5b9e\u8df5\u200b\u6210\u679c\u200b\u4e0e\u200b\u95ee\u9898\u200b\uff0c\u200b\u6301\u7eed\u200b\u4f18\u5316\u200b</p> </li> </ol> </li> <li> <p>\u200b\u76ee\u6807\u200b\u4ea7\u51fa\u200b\uff1a\u200b\u8f6f\u200b\u5b9e\u529b\u200b\u5168\u9762\u200b\u63d0\u5347\u200b\uff0c\u200b\u6c9f\u901a\u200b\u66f4\u200b\u6709\u6548\u200b\uff0c\u200b\u8868\u8fbe\u200b\u66f4\u200b\u6709\u6761\u7406\u200b\uff0c\u200b\u80fd\u591f\u200b\u5f71\u54cd\u200b\u4ed6\u4eba\u200b\u5e76\u200b\u89e3\u51b3\u95ee\u9898\u200b</p> </li> </ul>"},{"location":"growth/mindset/plan2/#_1","title":"\u8865\u5145\u200b\u5efa\u8bae","text":"<ul> <li>\u200b\u6bcf\u65e5\u200b\u9605\u8bfb\u200b\u91cf\u200b\u63a7\u5236\u200b\u5728\u200b 5\u201310 \u200b\u9875\u200b\uff0c\u200b\u907f\u514d\u200b\u4fe1\u606f\u200b\u8fc7\u8f7d\u200b</li> <li>\u200b\u5b9e\u8df5\u200b\u4e3a\u200b\u6838\u5fc3\u200b\uff0c\u200b\u9605\u8bfb\u200b\u53ea\u662f\u200b\u8f93\u5165\u200b\uff0c\u200b\u884c\u52a8\u200b\u624d\u200b\u662f\u200b\u5173\u952e\u200b</li> <li>\u200b\u590d\u76d8\u200b\u5fc5\u505a\u200b\uff1a\u200b\u6bcf\u5929\u200b 5\u201310 \u200b\u5206\u949f\u200b\u603b\u7ed3\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u5b66\u4e60\u6548\u679c\u200b\u53ef\u200b\u79ef\u7d2f\u200b</li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/20250823/","title":"20250823","text":""},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/20250823/#case","title":"\u6c9f\u901a\u200b case","text":"<ol> <li>\u200b\u4f60\u200b\u5728\u200b 8.21 \u200b\u505a\u200b\u4e86\u200b\u4e00\u6b21\u200b\u53d8\u66f4\u200b\uff0c\u200b\u901a\u8fc7\u89c2\u5bdf\u200b\u5165\u53e3\u200b\u65e5\u5fd7\u200b\uff0c\u200b\u53d1\u73b0\u200b\u8ba1\u7b97\u200b\u4ea7\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\uff0c\u200b\u7f3a\u5c11\u200b xxx\u200b\u8c03\u7528\u200b\uff0c\u200b\u90e8\u5206\u200b xxx \u200b\u8c03\u7528\u200b xxx \u200b\u5b57\u200b\u6bb5\u200b\u9519\u8bef\u200b\uff0c</li> <li>\u200b\u6211\u200b\u4e0d\u200b\u5f00\u5fc3\u200b</li> <li>\u200b\u56e0\u4e3a\u200b\u6211\u200b\u5e0c\u671b\u200b\u4f60\u200b\u8ba1\u7b97\u200b\u4ea7\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u8981\u200b\u51fa\u9519\u200b</li> <li>\u200b\u8bf7\u95ee\u200b\u4f60\u200b\u73b0\u5728\u200b\u53ef\u4ee5\u200b\u56de\u6eda\u200b\u5417\u200b</li> </ol>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/20250823/#_1","title":"\u611f\u53d7","text":""},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/20250823/#_2","title":"\u6c9f\u901a\u200b\u4f53\u9a8c","text":"<ul> <li>\u200b\u5bf9\u200b nvc \u200b\u4e0d\u200b\u719f\u6089\u200b \u200b\u4ee5\u53ca\u200b\u8868\u8fbe\u80fd\u529b\u200b\u5dee\u200b\uff0c\u200b\u6c9f\u901a\u200b\u6548\u7387\u200b\u4f4e\u200b</li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/20250823/#_3","title":"\u56f0\u96be\u200b \u200b\u73b0\u72b6","text":"<ul> <li>nvc: \u200b\u89c2\u5bdf\u200b-\u200b\u611f\u53d7\u200b-\u200b\u9700\u8981\u200b-\u200b\u8bf7\u6c42\u200b \u200b\u4e0d\u662f\u200b\u5f88\u200b\u719f\u7ec3\u200b\uff0c\u200b\u4e0d\u200b\u6e05\u695a\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u8be5\u200b\u505a\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u9700\u8981\u200b\u5bf9\u7167\u200b\u7740\u200b\u4e66\u7c4d\u200b\u67e5\u770b\u200b\u6bcf\u200b\u4e00\u6b65\u200b\u8be5\u200b\u505a\u200b\u5565\u200b\uff0c\u200b\u9488\u5bf9\u200b\u5177\u4f53\u200b case \u200b\u5f88\u96be\u200b\u627e\u5230\u200b\u5339\u914d\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u9700\u8981\u200b\u601d\u8003\u200b\u5f88\u200b\u4e45\u200b</li> <li>\u200b\u5fc3\u4e2d\u200b\u60f3\u200b\u7684\u200b\uff0c\u200b\u5f88\u96be\u200b\u53e3\u5934\u200b\u8868\u8fbe\u51fa\u6765\u200b\uff0c\u200b\u4e66\u5199\u200b\u8868\u8fbe\u51fa\u6765\u200b\uff0c\u200b\u4e5f\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u591a\u6b21\u200b\uff0c\u200b\u624d\u200b\u53ef\u4ee5\u200b\u901a\u987a\u200b</li> <li></li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/20250823/#_4","title":"\u6539\u8fdb\u200b\u70b9\u200b \u200b\u884c\u52a8","text":"<ul> <li>\u200b\u8bb0\u4f4f\u200b nvc</li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/1.%E7%94%B1%E8%A1%B7%E7%9A%84%E7%BB%99%E4%BA%88/","title":"1.\u200b\u7531\u8877\u200b\u7684\u200b\u7ed9\u4e88","text":""},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/1.%E7%94%B1%E8%A1%B7%E7%9A%84%E7%BB%99%E4%BA%88/#_1","title":"\u4ec0\u4e48\u200b\u662f\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a","text":"<p>\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u4e0e\u200b\u4ed6\u4eba\u200b\u548c\u200b\u81ea\u5df1\u200b\u5efa\u7acb\u200b\u8fde\u7ed3\u200b\uff0c\u200b\u4f7f\u200b\u6211\u4eec\u200b\u5f97\u4ee5\u200b\u6d41\u9732\u200b\u4e0e\u751f\u4ff1\u6765\u200b\u7684\u200b\u6148\u60b2\u200b\u4e4b\u5fc3\u200b\u3002\u200b\u4ed6\u200b\u6307\u5f15\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u5c06\u200b\u6ce8\u610f\u529b\u200b\u805a\u96c6\u200b\u5728\u200b\u89c2\u5bdf\u200b\u3001\u200b\u611f\u53d7\u200b\u3001\u200b\u9700\u8981\u200b\u548c\u200b\u8bf7\u6c42\u200b\u8fd9\u200b\u56db\u4e2a\u200b\u56e0\u7d20\u200b\uff0c\u200b\u6765\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\u8868\u8fbe\u200b\u548c\u200b\u8046\u542c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/1.%E7%94%B1%E8%A1%B7%E7%9A%84%E7%BB%99%E4%BA%88/#_2","title":"\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u5982\u4f55\u200b\u505a\u200b\uff1f","text":"<ol> <li>\u200b\u4e0d\u8bba\u200b\u559c\u6b22\u200b\u4e0e\u5426\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u662f\u200b\u8bf4\u51fa\u200b\u4eba\u4eec\u200b\u505a\u200b\u4e86\u200b\u4ec0\u4e48\u200b</li> <li>\u200b\u8868\u8fbe\u200b\u51fa\u200b\u6211\u4eec\u200b\u770b\u5230\u200b\u8fd9\u4e9b\u200b\u884c\u4e3a\u200b\u7684\u200b\u611f\u53d7\u200b\uff1a\u200b\u662f\u200b\u611f\u53d7\u200b\u5230\u200b\u4f24\u5fc3\u200b\u3001\u200b\u5bb3\u6015\u200b\u3001\u200b\u559c\u60a6\u200b\u3001\u200b\u6709\u8da3\u200b\uff0c\u200b\u8fd8\u662f\u200b\u5fc3\u70e6\u200b\u5462\u200b</li> <li>\u200b\u8868\u8fbe\u200b\u51fa\u200b\u6211\u4eec\u200b\u7684\u200b\u611f\u53d7\u200b\u4e0e\u200b\u4ec0\u4e48\u200b\u9700\u8981\u200b\u76f8\u5173\u8054\u200b</li> <li>\u200b\u4e00\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u8bf7\u6c42\u200b</li> </ol>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/1.%E7%94%B1%E8%A1%B7%E7%9A%84%E7%BB%99%E4%BA%88/#_3","title":"\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u4f18\u52bf","text":"<p>\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u57f9\u80b2\u200b\u6df1\u5ea6\u200b\u503e\u542c\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c\u200b\u8ba9\u200b\u6211\u4eec\u200b\u5e26\u200b\u7740\u200b\u5c0a\u91cd\u200b\u548c\u200b\u540c\u7406\u200b\u5fc3\u200b\u5bf9\u5f85\u200b\u4ed6\u4eba\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53d1\u81ea\u5185\u5fc3\u200b\u7684\u200b\u76f8\u4e92\u200b\u7ed9\u4e88\u200b\u3002</p> <ul> <li>\u200b\u6709\u200b\u7684\u200b\u4eba\u200b\u5b66\u4f1a\u200b\u4e86\u200b\u7231\u200b\u81ea\u5df1\u200b</li> <li>\u200b\u6709\u200b\u7684\u200b\u4eba\u200b\u5728\u200b\u4eba\u9645\u5173\u7cfb\u200b\u4e2d\u200b\u521b\u9020\u200b\u4e86\u200b\u66f4\u200b\u6df1\u539a\u200b\u7684\u200b\u8fde\u7ed3\u200b</li> <li>\u200b\u6709\u200b\u7684\u200b\u4eba\u200b\u5728\u200b\u5de5\u4f5c\u200b\u6216\u8005\u200b\u653f\u6cbb\u200b\u9886\u57df\u200b\u4e2d\u200b\u5efa\u7acb\u200b\u4e86\u200b\u66f4\u200b\u6709\u6548\u200b\u7684\u200b\u5173\u7cfb\u200b</li> <li>\u200b\u4e16\u754c\u5404\u5730\u200b\u4e2d\u200b\uff0c\u200b\u975e\u66b4\u529b\u200b\u6c9f\u901a\u200b\u8fd8\u200b\u88ab\u200b\u7528\u6765\u200b\u8c03\u548c\u200b\u5404\u4e2a\u200b\u5c42\u9762\u200b\u7684\u200b\u7ea0\u7eb7\u200b\u548c\u200b\u51b2\u7a81\u200b</li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/2.%E7%96%8F%E7%A6%BB%E7%94%9F%E5%91%BD%E7%9A%84%E8%AF%AD%E8%A8%80/","title":"2.\u200b\u758f\u79bb\u200b\u751f\u547d\u200b\u7684\u200b\u8bed\u8a00","text":""},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/2.%E7%96%8F%E7%A6%BB%E7%94%9F%E5%91%BD%E7%9A%84%E8%AF%AD%E8%A8%80/#_1","title":"\u4ec0\u4e48\u200b\u662f\u200b\u758f\u79bb\u200b\u751f\u547d\u200b\u7684\u200b\u8bed\u8a00","text":"<p>\u200b\u67d0\u4e9b\u200b\u8bed\u8a00\u200b\u548c\u200b\u8868\u8fbe\u65b9\u5f0f\u200b\u9020\u6210\u200b\u4e86\u200b\u4eba\u4eec\u200b\u5bf9\u200b\u81ea\u5df1\u200b\u548c\u200b\u4ed6\u4eba\u200b\u7684\u200b\u66b4\u529b\u200b \u200b\u79f0\u4e4b\u4e3a\u200b\u758f\u79bb\u200b\u751f\u547d\u200b\u7684\u200b\u8bed\u8a00\u200b</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/2.%E7%96%8F%E7%A6%BB%E7%94%9F%E5%91%BD%E7%9A%84%E8%AF%AD%E8%A8%80/#_2","title":"\u6709\u200b\u54ea\u4e9b\u200b\u65b9\u5f0f","text":"<ul> <li>\u200b\u9053\u5fb7\u200b\u6279\u5224\u200b\uff0c\u200b\u8ba4\u4e3a\u200b\u90a3\u4e9b\u200b\u548c\u200b\u6211\u4eec\u200b\u4ef7\u503c\u89c2\u200b\u4e0d\u7b26\u200b\u7684\u200b\u4eba\u200b \u200b\u662f\u200b\u4e0d\u200b\u5bf9\u200b\u7684\u200b\uff0c\u200b\u4e0d\u597d\u200b\u7684\u200b</li> <li>\u200b\u505a\u200b\u6bd4\u8f83\u200b\uff0c\u200b\u8ba9\u200b\u4eba\u4eec\u200b\u96be\u4ee5\u200b\u5347\u8d77\u200b\u5bf9\u4eba\u200b\u5bf9\u5df1\u200b\u7684\u200b\u5584\u610f\u200b</li> <li>\u200b\u63a8\u5378\u8d23\u4efb\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u4eba\u8981\u200b\u4e3a\u200b\u81ea\u5df1\u200b\u7684\u200b\u60f3\u6cd5\u200b\u3001\u200b\u611f\u53d7\u200b\u548c\u200b\u884c\u4e3a\u200b\u8d1f\u8d23\u200b</li> <li>\u200b\u8981\u6c42\u200b\u6765\u200b\u8868\u8fbe\u200b\u6211\u4eec\u200b\u7684\u200b\u8bc9\u6c42\u200b</li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/","title":"3.\u200b\u533a\u5206\u200b\u89c2\u5bdf\u200b\u4e0e\u200b\u8bc4\u8bba","text":""},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#_1","title":"\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u533a\u5206\u200b\u89c2\u5bdf\u200b\u548c\u200b\u8bc4\u8bba","text":"<ul> <li>\u200b\u6df7\u5165\u200b\u8bc4\u4ef7\u200b\u65f6\u200b\uff0c\u200b\u542c\u8005\u200b\u5bb9\u6613\u200b\u4ea7\u751f\u200b\u9632\u5fa1\u200b\u5fc3\u7406\u200b\uff0c\u200b\u751a\u81f3\u200b\u5f15\u53d1\u200b\u51b2\u7a81\u200b</li> </ul>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#_2","title":"\u4ec0\u4e48\u200b\u662f\u200b\u89c2\u5bdf","text":"<p>\u200b\u89c2\u5bdf\u200b\u662f\u200b\u5ba2\u89c2\u4e8b\u5b9e\u200b\uff1a\u200b\u5177\u4f53\u200b\u3001\u200b\u53ef\u9a8c\u8bc1\u200b\u3001\u200b\u4e0d\u5e26\u200b\u60c5\u7eea\u200b\u8272\u5f69\u200b\uff0c\u200b\u901a\u5e38\u200b\u5305\u62ec\u200b\u65f6\u95f4\u200b\u3001\u200b\u5730\u70b9\u200b\u3001\u200b\u884c\u4e3a\u200b\u7b49\u200b\u5ba2\u89c2\u200b\u63cf\u8ff0\u200b</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#_3","title":"\u4ec0\u4e48\u200b\u662f\u200b\u8bc4\u8bba","text":"<p>\u200b\u8bc4\u8bba\u200b\u662f\u200b\u4e2a\u4eba\u200b\u7684\u200b\u89e3\u91ca\u200b\u3001\u200b\u5224\u65ad\u200b\u3001\u200b\u63a8\u6d4b\u200b\u548c\u200b\u8bc4\u4ef7\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u88ab\u200b\u8bc1\u660e\u200b\u771f\u5047\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e3b\u89c2\u200b\u89c6\u89d2\u200b</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#_4","title":"\u5982\u4f55\u200b\u533a\u5206","text":"<p>\u200b\u5148\u95ee\u200b\u81ea\u5df1\u200b\u8fd9\u53e5\u200b\u8bdd\u200b\u80fd\u200b\u88ab\u200b\u6444\u50cf\u673a\u200b\u62cd\u5230\u200b\u5417\u200b \u200b\u80fd\u200b\u88ab\u200b\u591a\u4e2a\u200b\u65c1\u89c2\u8005\u200b\u8ba4\u540c\u200b\u5417\u200b</p> <p>\u200b\u5982\u679c\u200b\u80fd\u200b\u88ab\u200b\u5f55\u4e0b\u200b\u3001\u200b\u9a8c\u8bc1\u200b \u200b\u90a3\u200b\u662f\u200b\u89c2\u5bdf\u200b\uff0c\u200b\u5426\u5219\u200b\u662f\u200b\u8bc4\u8bba\u200b</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#_5","title":"\u7ec3\u4e60\u9898","text":""},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#1","title":"\u7ec3\u4e60\u200b 1\uff1a\u200b\u8fa8\u522b\u200b\u89c2\u5bdf\u200b\u548c\u200b\u8bc4\u8bba","text":"<p>\u200b\u5224\u65ad\u200b\u4e0b\u5217\u200b\u53e5\u5b50\u200b\u662f\u200b\u89c2\u5bdf\u200b\u8fd8\u662f\u200b\u8bc4\u8bba\u200b\uff1a</p> <ol> <li>\u201c\u200b\u4f60\u200b\u603b\u662f\u200b\u628a\u200b\u623f\u95f4\u200b\u5f04\u4e71\u200b\u3002\u201d</li> <li>\u201c\u200b\u6628\u5929\u665a\u4e0a\u200b10\u200b\u70b9\u200b\u4f60\u200b\u6ca1\u200b\u6d17\u7897\u200b\u3002\u201d</li> <li>\u201c\u200b\u4ed6\u200b\u4e0d\u200b\u5c0a\u91cd\u200b\u6211\u200b\u3002\u201d</li> <li>\u201c\u200b\u5979\u200b\u6628\u5929\u200b\u770b\u89c1\u200b\u6211\u65f6\u200b\u7b11\u200b\u4e86\u200b\u3002\u201d</li> <li>\u201c\u200b\u4f60\u200b\u6700\u8fd1\u200b\u5f88\u200b\u61d2\u200b\u3002\u201d</li> </ol> <p>1.\u200b\u8fd9\u662f\u200b\u8bc4\u8bba\u200b\uff0c\u200b\u662f\u200b\u5bf9\u200b\u4ed6\u4eba\u200b\u7684\u200b\u8bc4\u4ef7\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u6444\u50cf\u673a\u200b\u62cd\u4e0b\u6765\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u8ba9\u200b\u6240\u6709\u4eba\u200b\u8ba4\u540c\u200b</p> <p>\u200b\u7b54\u6848\u200b\uff1a\u200b\u8bc4\u8bba\u200b-\"\u200b\u603b\u662f\u200b\"\u200b\u662f\u200b\u8bc4\u4ef7\u200b\uff0c\u200b\u4e0d\u662f\u200b\u5177\u4f53\u200b\u4e8b\u5b9e\u200b</p> <p>2.\u200b\u8fd9\u662f\u200b\u89c2\u5bdf\u200b</p> <p>\u200b\u89c2\u5bdf\u200b-\u200b\u5177\u4f53\u200b\u65f6\u95f4\u200b\u548c\u200b\u884c\u4e3a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9a8c\u8bc1\u200b</p> <p>3.\u200b\u8fd9\u4e2a\u200b\u8bc4\u8bba\u200b\uff0c\u200b\u662f\u200b\u5bf9\u200b\u4ed6\u4eba\u200b\u7684\u200b\u8bc4\u4ef7\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u6444\u50cf\u673a\u200b\u62cd\u4e0b\u6765\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u8ba9\u200b\u6240\u6709\u4eba\u200b\u8ba4\u540c\u200b</p> <p>\u200b\u8bc4\u8bba\u200b\uff0c\"\u200b\u4e0d\u200b\u5c0a\u91cd\u200b\"\u200b\u662f\u200b\u8bc4\u4ef7\u200b\uff0c\u200b\u7f3a\u5c11\u200b\u53ef\u9a8c\u8bc1\u200b\u7684\u200b\u884c\u4e3a\u200b</p> <p>4.\u200b\u8fd9\u662f\u200b\u89c2\u5bdf\u200b</p> <p>\u200b\u89c2\u5bdf\u200b-\u200b\u63cf\u8ff0\u200b\u5177\u4f53\u200b\u7684\u200b\u884c\u4e3a\u200b\uff0c\u200b\u53ef\u9a8c\u8bc1\u200b</p> <p>5.\u200b\u8fd9\u662f\u200b\u8bc4\u8bba\u200b\uff0c\u200b\u662f\u200b\u5bf9\u200b\u4ed6\u4eba\u200b\u7684\u200b\u8bc4\u4ef7\u200b</p> <p>\u200b\u8bc4\u8bba\u200b-\u201d\u200b\u5f88\u200b\u61d2\u200b\u201c \u200b\u662f\u200b\u4e3b\u89c2\u200b\u8bc4\u4ef7\u200b\uff0c\u200b\u7f3a\u5c11\u200b\u53ef\u9a8c\u8bc1\u200b\u7684\u200b\u884c\u4e3a\u200b</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#2","title":"\u7ec3\u4e60\u200b 2\uff1a\u200b\u6539\u5199\u200b\u53e5\u5b50","text":"<p>\u200b\u628a\u200b\u4e0b\u9762\u200b\u7684\u200b\u53e5\u5b50\u200b\u6539\u6210\u200b\u201c\u200b\u7eaf\u200b\u89c2\u5bdf\u200b\u201d\uff1a</p> <ol> <li>\u201c\u200b\u4f60\u200b\u603b\u662f\u200b\u8fdf\u5230\u200b\uff0c\u200b\u592a\u200b\u4e0d\u200b\u5b88\u65f6\u200b\u4e86\u200b\u3002\u201d</li> <li>\u201c\u200b\u4ed6\u200b\u4ece\u6765\u4e0d\u200b\u5173\u5fc3\u200b\u6211\u200b\u3002\u201d</li> <li>\u201c\u200b\u4f60\u200b\u4eca\u5929\u200b\u5fc3\u4e0d\u5728\u7109\u200b\u3002\u201d</li> </ol> <p>1.\u200b\u5468\u4e00\u200b\u548c\u200b\u5468\u4e09\u200b\uff0c\u200b\u4f60\u200b\u65e9\u4f1a\u200b\u5f00\u4f1a\u200b\u5747\u200b\u8fdf\u5230\u200b 20 \u200b\u5206\u949f\u200b</p> <p>\u200b\u8fd9\u5468\u200b\u4f60\u200b\u6709\u200b\u4e09\u6b21\u200b 9 \u200b\u70b9\u200b\u4ee5\u540e\u200b\u5230\u8fbe\u200b\u529e\u516c\u5ba4\u200b</p> <p>2.\u200b\u5468\u4e00\u200b\u548c\u200b\u5468\u4e09\u200b\uff0c\u200b\u6211\u200b\u751f\u75c5\u200b\u8eba\u200b\u5728\u200b\u5e8a\u4e0a\u200b\uff0c\u200b\u4f60\u200b\u90fd\u200b\u6ca1\u6709\u200b\u548c\u200b\u6211\u200b\u8bf4\u8bdd\u200b</p> <p>\u200b\u6628\u5929\u200b\u6211\u200b\u548c\u200b\u4ed6\u200b\u8bf4\u200b\u6211\u200b\u611f\u5230\u200b\u5f88\u200b\u7d2f\u65f6\u200b\uff0c\u200b\u4ed6\u200b\u6ca1\u6709\u200b\u56de\u5e94\u200b\uff0c\u200b\u4e5f\u200b\u7ee7\u7eed\u200b\u770b\u7535\u89c6\u200b</p> <p>3.\u200b\u4eca\u5929\u200b\u4e2d\u5348\u200b\u5f00\u4f1a\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u200b\u53eb\u200b\u4f60\u200b\u4f60\u200b\u6ca1\u6709\u200b\u56de\u5e94\u200b\u6211\u200b</p> <p>\u200b\u4eca\u5929\u200b\u6211\u4eec\u200b\u5f00\u4f1a\u200b\u65f6\u200b\uff0c\u200b\u4f60\u200b\u4fe9\u200b\u6b21\u200b\u770b\u200b\u624b\u673a\u200b\uff0c\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u56de\u7b54\u200b\u6211\u200b\u95ee\u200b\u7684\u200b\u95ee\u9898\u200b</p>"},{"location":"growth/mindset/%E6%B2%9F%E9%80%9A%E5%8A%9B%E4%B8%8E%E8%87%AA%E6%88%91%E8%A7%89%E5%AF%9F/%E9%9D%9E%E6%9A%B4%E5%8A%9B%E6%B2%9F%E9%80%9A/3.%E5%8C%BA%E5%88%86%E8%A7%82%E5%AF%9F%E4%B8%8E%E8%AF%84%E8%AE%BA/#3","title":"\u7ec3\u4e60\u200b 3\uff1a\u200b\u751f\u6d3b\u200b\u5e94\u7528","text":"<ul> <li>\u200b\u60f3\u200b\u4e00\u4e2a\u200b\u6700\u8fd1\u200b\u8ba9\u200b\u4f60\u200b\u4e0d\u6ee1\u200b\u7684\u200b\u4e8b\u60c5\u200b\uff0c\u200b\u628a\u200b\u5f53\u65f6\u200b\u60f3\u200b\u8bf4\u200b\u7684\u8bdd\u200b\u5199\u200b\u51fa\u6765\u200b\uff0c\u200b\u518d\u200b\u5c1d\u8bd5\u200b\u628a\u200b\u8bc4\u8bba\u200b\u5265\u79bb\u200b\uff0c\u200b\u53ea\u200b\u4fdd\u7559\u200b\u89c2\u5bdf\u200b\u3002</li> </ul> <p>\u200b\u6700\u8fd1\u200b\u662f\u4e0d\u662f\u200b\u505a\u200b\u4e86\u200b\u4ec0\u4e48\u200b\u53d8\u66f4\u200b\uff0cmq\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u7f3a\u5c11\u200b xxx</p> <p>\u200b\u4f60\u200b\u4ece\u6765\u4e0d\u200b\u5e2e\u200b\u6211\u200b\u505a\u200b\u5bb6\u52a1\u200b</p> <p>\u200b\u4e0a\u5468\u200b\u6709\u200b\u4e09\u6b21\u200b\u665a\u996d\u200b\u540e\u200b\uff0c\u200b\u6211\u200b\u4e00\u4e2a\u200b\u4eba\u200b\u6d17\u7897\u200b\uff0c\u200b\u4f60\u200b\u518d\u200b\u770b\u7535\u89c6\u200b</p>"},{"location":"handler/nginx/install/","title":"Install","text":""},{"location":"handler/nginx/install/#_1","title":"\u5b89\u88c5","text":""},{"location":"handler/nginx/install/#mac","title":"mac","text":"<pre><code>brew install nginx\n</code></pre>"},{"location":"handler/nginx/install/#_2","title":"\u4f7f\u7528","text":"<pre><code># \u200b\u542f\u52a8\u200b\nnginx\n\n# \u200b\u5173\u95ed\u200b\nnginx -s quit\n\n# \u200b\u91cd\u8f7d\u200b\u914d\u7f6e\u6587\u4ef6\u200b\nnginx -s reload\n</code></pre> <p>./nginx -s quit:\u200b\u6b64\u200b\u65b9\u5f0f\u200b\u505c\u6b62\u200b\u6b65\u9aa4\u200b\u662f\u200b\u5f85\u200bnginx\u200b\u8fdb\u7a0b\u200b\u5904\u7406\u200b\u4efb\u52a1\u200b\u5b8c\u6bd5\u200b\u8fdb\u884c\u200b\u505c\u6b62\u200b\u3002</p> <p>./nginx -s stop:\u200b\u6b64\u200b\u65b9\u5f0f\u200b\u76f8\u5f53\u4e8e\u200b\u5148\u200b\u67e5\u51fa\u200bnginx\u200b\u8fdb\u7a0b\u200bid\u200b\u518d\u200b\u4f7f\u7528\u200bkill\u200b\u547d\u4ee4\u200b\u5f3a\u5236\u200b\u6740\u6389\u200b\u8fdb\u7a0b\u200b\u3002</p> <p>\u200b\u67e5\u770b\u200b\u4f7f\u7528\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b</p> <pre><code>\u276f nginx -t\nnginx: the configuration file /opt/homebrew/etc/nginx/nginx.conf syntax is ok\nnginx: configuration file /opt/homebrew/etc/nginx/nginx.conf test is successful\n</code></pre>"},{"location":"lang/cpp/1base/","title":"1base","text":""},{"location":"lang/cpp/1base/#_1","title":"\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"lang/cpp/1base/#_2","title":"\u53d8\u91cf","text":""},{"location":"lang/cpp/1base/#_3","title":"\u53d8\u91cf\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>\u200b\u5728\u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\u5b9a\u4e49\u200b\u7684\u200b\u53d8\u91cf\u200b\u6ca1\u6709\u200b\u521d\u59cb\u5316\u200b\u5176\u503c\u200b\u4e0d\u200b\u786e\u5b9a\u200b</p> <p>\u200b\u51fd\u6570\u200b\u5916\u4f1a\u200b\u6709\u200b\u9ed8\u8ba4\u503c\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int a = 10;\n    int b = 2, c, d = 1;\n    // \u200b\u9519\u8bef\u200b\n    // int b, c = 1, 2;\n    cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; d;\n    return 0;\n} \n</code></pre>"},{"location":"lang/cpp/1base/#_4","title":"\u53d8\u91cf\u200b\u7c7b\u578b","text":"<p>-2147483648 -2147483647</p> <p>1 Byte = 8 bit  </p> <p>long long \u200b\u548c\u200b long \u200b\u533a\u522b\u200b</p> <p>32 \u200b\u4f4d\u200b\u673a\u5668\u200b\u7528\u200b long long -&gt; 8\u200b\u5b57\u8282\u200b\u7684\u200b int</p> <p>64\u200b\u4f4d\u200b\u673a\u5668\u200b \u200b\u7528\u200blong -&gt; 8\u200b\u5b57\u8282\u200b\u7684\u200b int</p> <pre><code>float i = 1.1f;\ndouble j = 1.2;\nlong double k = 1.1;\n</code></pre> <p>%d %lld</p> <p>long long int i = 1ll;</p> <p>%f %lf %llf</p>"},{"location":"lang/cpp/1base/#_5","title":"\u8f93\u5165\u8f93\u51fa","text":"<p>cstdio \u200b\u6bd4\u200b iostream\u200b\u5feb\u200b\u4e00\u70b9\u200b</p>"},{"location":"lang/cpp/1base/#iostream","title":"iostream","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int i = 1;\n    cin &gt;&gt; i;\n    cout &lt;&lt; i &lt;&lt; endl;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1base/#cstdio","title":"cstdio","text":"<pre><code>#include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main() {\n    long long int i;\n    scanf(\"%lld\", &amp;i);\n    printf(\"%lld\", i);\n    return 0;\n}\n</code></pre> <ul> <li>int\uff1a%d</li> <li>float: %f, \u200b\u9ed8\u8ba4\u200b\u4fdd\u7559\u200b6\u200b\u4f4d\u200b\u5c0f\u6570\u200b</li> <li>double: %lf\uff0c \u200b\u9ed8\u8ba4\u200b\u4fdd\u7559\u200b6\u200b\u4f4d\u200b\u5c0f\u6570\u200b</li> <li>float, double\u200b\u7b49\u200b\u8f93\u51fa\u200b\u4fdd\u7559\u200b\u82e5\u5e72\u4f4d\u200b\u5c0f\u6570\u200b\u65f6\u7528\u200b\uff1a%.4f, %3lf</li> <li>%8.3f, \u200b\u8868\u793a\u200b\u8fd9\u4e2a\u200b\u6d6e\u70b9\u6570\u200b\u7684\u200b\u6700\u5c0f\u200b\u5bbd\u5ea6\u200b\u4e3a\u200b8\uff0c\u200b\u4fdd\u7559\u200b3\u200b\u4f4d\u200b\u5c0f\u6570\u200b\uff0c\u200b\u5f53\u200b\u5bbd\u5ea6\u200b\u4e0d\u8db3\u200b\u65f6\u200b\u5728\u200b\u524d\u9762\u200b\u8865\u200b\u7a7a\u683c\u200b\u3002</li> <li>%-8.3f\uff0c\u200b\u8868\u793a\u200b\u6700\u5c0f\u200b\u5bbd\u5ea6\u200b\u4e3a\u200b8\uff0c\u200b\u4fdd\u7559\u200b3\u200b\u4f4d\u200b\u5c0f\u6570\u200b\uff0c\u200b\u5f53\u200b\u5bbd\u5ea6\u200b\u4e0d\u8db3\u200b\u65f6\u200b\u5728\u200b\u540e\u9762\u200b\u8865\u200b\u4e0a\u200b\u7a7a\u683c\u200b</li> <li>%08.3f, \u200b\u8868\u793a\u200b\u6700\u5c0f\u200b\u5bbd\u5ea6\u200b\u4e3a\u200b8\uff0c\u200b\u4fdd\u7559\u200b3\u200b\u4f4d\u200b\u5c0f\u6570\u200b\uff0c\u200b\u5f53\u200b\u5bbd\u5ea6\u200b\u4e0d\u8db3\u200b\u65f6\u200b\u5728\u200b\u524d\u9762\u200b\u8865\u200b\u4e0a\u200b0</li> </ul>"},{"location":"lang/cpp/1base/#_6","title":"\u7b97\u6570\u200b\u8fd0\u7b97","text":""},{"location":"lang/cpp/1base/#_7","title":"\u4fe9\u4e2a\u200b\u8ba1\u7b97\u200b\u81ea\u52a8\u200b\u8f6c\u4e3a\u200b\u7cbe\u5ea6\u9ad8\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":"<p>x % y</p> <p>\u200b\u7ed3\u679c\u200b\u548c\u200bx\u200b\u6b63\u8d1f\u200b\u4e00\u76f4\u200b</p>"},{"location":"lang/cpp/1base/#_8","title":"\u524d\u200b\u52a0\u52a0\u200b \u200b\u540e\u200b\u52a0\u52a0\u200b \u200b\u524d\u200b\u51cf\u51cf\u200b \u200b\u540e\u200b\u51cf\u51cf","text":""},{"location":"lang/cpp/1base/#_9","title":"\u7c7b\u578b\u8f6c\u6362","text":"<pre><code>long long int i = 10ll;\nint j = (int)i;\n</code></pre> <pre><code>#include &lt;cstdio&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main() {\n    string name;\n    double base;\n    double ex;\n\n    cin &gt;&gt; name;\n    scanf(\"%lf %lf\", &amp;base, &amp;ex);\n    double res = base + 0.15 * ex;\n    printf(\"TOTAL = R$ %.2lf\", res);\n    return 0;\n}\n</code></pre> <p>abs(-1)  1</p> <p>abs(-1.5) 1.5</p>"},{"location":"lang/cpp/1base/#_10","title":"\u9898\u76ee","text":"<p>\u200b\u8bfb\u53d6\u200b\u4e00\u4e2a\u200b\u5e26\u6709\u200b\u4e24\u4e2a\u200b\u5c0f\u6570\u4f4d\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\uff0c\u200b\u8fd9\u200b\u4ee3\u8868\u200b\u8d27\u5e01\u200b\u4ef7\u503c\u200b\u3002</p> <p>\u200b\u5728\u6b64\u4e4b\u540e\u200b\uff0c\u200b\u5c06\u200b\u8be5\u503c\u200b\u5206\u89e3\u200b\u4e3a\u200b\u591a\u79cd\u200b\u949e\u7968\u200b\u4e0e\u200b\u786c\u5e01\u200b\u7684\u200b\u548c\u200b\uff0c\u200b\u6bcf\u79cd\u200b\u9762\u503c\u200b\u7684\u200b\u949e\u7968\u200b\u548c\u200b\u786c\u5e01\u200b\u4f7f\u7528\u200b\u6570\u91cf\u200b\u4e0d\u200b\u9650\u200b\uff0c\u200b\u8981\u6c42\u200b\u4f7f\u7528\u200b\u7684\u200b\u949e\u7968\u200b\u548c\u200b\u786c\u5e01\u200b\u7684\u200b\u6570\u91cf\u200b\u5c3d\u53ef\u80fd\u5c11\u200b\u3002</p> <p>\u200b\u949e\u7968\u200b\u7684\u200b\u9762\u503c\u200b\u662f\u200b 100,50,20,10,5,2100,50,20,10,5,2\u3002</p> <p>\u200b\u786c\u5e01\u200b\u7684\u200b\u9762\u503c\u200b\u662f\u200b 1,0.50,0.25,0.10,0.051,0.50,0.25,0.10,0.05 \u200b\u548c\u200b 0.010.01\u3002</p>"},{"location":"lang/cpp/1base/#_11","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u6d6e\u70b9\u6570\u200b N\u3002</p>"},{"location":"lang/cpp/1base/#_12","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u53c2\u7167\u200b\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6bcf\u79cd\u200b\u9762\u503c\u200b\u7684\u200b\u949e\u7968\u200b\u548c\u200b\u786c\u5e01\u200b\u7684\u200b\u9700\u6c42\u200b\u6570\u91cf\u200b\u3002</p>"},{"location":"lang/cpp/1base/#_13","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0\u2264N\u22641000000.000\u2264N\u22641000000.00</p>"},{"location":"lang/cpp/1base/#_14","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>576.73\n</code></pre>"},{"location":"lang/cpp/1base/#_15","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>NOTAS:\n5 nota(s) de R$ 100.00\n1 nota(s) de R$ 50.00\n1 nota(s) de R$ 20.00\n0 nota(s) de R$ 10.00\n1 nota(s) de R$ 5.00\n0 nota(s) de R$ 2.00\nMOEDAS:\n1 moeda(s) de R$ 1.00\n1 moeda(s) de R$ 0.50\n0 moeda(s) de R$ 0.25\n2 moeda(s) de R$ 0.10\n0 moeda(s) de R$ 0.05\n3 moeda(s) de R$ 0.01\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main() {\n\n    double N;\n    cin &gt;&gt; N;\n    int n = (int)(N * 100);\n\n    printf(\"NOTAS:\\n\");\n    printf(\"%d nota(s) de R$ 100.00\\n\", n / 10000);n %= 10000;\n    printf(\"%d nota(s) de R$ 50.00\\n\", n / 5000);n %= 5000;\n    printf(\"%d nota(s) de R$ 20.00\\n\", n / 2000);n %= 2000;\n    printf(\"%d nota(s) de R$ 10.00\\n\", n / 1000);n %= 1000;\n    printf(\"%d nota(s) de R$ 5.00\\n\", n / 500);n %= 500;\n    printf(\"%d nota(s) de R$ 2.00\\n\", n / 200);n %= 200;\n    printf(\"MOEDAS:\\n\");\n    printf(\"%d moeda(s) de R$ 1.00\\n\", n / 100);n %= 100;\n    printf(\"%d moeda(s) de R$ 0.50\\n\", n / 50);n %= 50;\n    printf(\"%d moeda(s) de R$ 0.25\\n\", n / 25);n %= 25;\n    printf(\"%d moeda(s) de R$ 0.10\\n\", n / 10);n %= 10;\n    printf(\"%d moeda(s) de R$ 0.05\\n\", n / 5);n %= 5;\n    printf(\"%d moeda(s) de R$ 0.01\\n\", n / 1);\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/","title":"2string","text":""},{"location":"lang/cpp/2string/#_1","title":"\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"lang/cpp/2string/#_2","title":"\u5b57\u7b26","text":"<p>\u200b\u6bcf\u4e2a\u200b\u5e38\u7528\u200b\u5b57\u7b26\u200b\u90fd\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b-128~127\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u4e8c\u8005\u4e4b\u95f4\u200b\u53ef\u4ee5\u200b\u76f8\u4e92\u200b\u8f6c\u5316\u200b</p> <p>\u200b\u5e38\u7528\u200bASCII\u200b\u503c\u200b\uff1a\u2019A\u2019-\u2018Z\u2019 \u200b\u662f\u200b65~90\uff0c\u2019a\u2019-\u2018z\u2019\u200b\u662f\u200b97-122\uff0c\u20190\u2019-\u20189\u2019\u200b\u662f\u200b48-57\u3002</p> <p>\u200b\u5b57\u7b26\u200b\u53ef\u4ee5\u200b\u53c2\u4e0e\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u8fd0\u7b97\u200b\u65f6\u4f1a\u200b\u5c06\u200b\u5176\u200b\u5f53\u505a\u200b\u6574\u6570\u200b\uff1a</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    char ch = 'a';\n    cout &lt;&lt; (int)ch &lt;&lt; endl;\n    ch++;\n    cout &lt;&lt; ch;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_3","title":"\u5b57\u7b26\u200b\u6570\u7ec4\u200b\u7684\u200b\u4f7f\u7528","text":"<p>\u200b\u5b57\u7b26\u4e32\u200b\u5c31\u662f\u200b\u5b57\u7b26\u200b\u6570\u7ec4\u200b\u52a0\u4e0a\u200b\u7ed3\u675f\u7b26\u200b\u2019\\0\u2019\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5b57\u7b26\u4e32\u200b\u6765\u200b\u521d\u59cb\u5316\u200b\u5b57\u7b26\u200b\u6570\u7ec4\u200b\uff0c\u200b\u4f46\u200b\u6b64\u65f6\u200b\u8981\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7ed3\u5c3e\u200b\u4f1a\u200b\u6697\u542b\u200b\u4e00\u4e2a\u200b\u2019\\0\u2019\u200b\u5b57\u7b26\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b57\u7b26\u200b\u6570\u7ec4\u200b\u7684\u200b\u957f\u5ea6\u200b\u81f3\u5c11\u200b\u8981\u200b\u6bd4\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u591a\u200b1\uff01</p>"},{"location":"lang/cpp/2string/#_4","title":"\u58f0\u660e","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    // a0 \u200b\u8fd9\u79cd\u200b\u4e00\u5b9a\u200b\u8981\u52a0\u200b\\0\n    char a0[10] = {'a', 'b', '\\0'};\n    // a1 a2\u200b\u81ea\u52a8\u200b\u52a0\u200b\u4e86\u200b\\0\n    char a1[10] = \"hello\";\n    char a2[] = \"aa\";\n    cout &lt;&lt; a1 &lt;&lt; endl &lt;&lt; a2 &lt;&lt; endl;\n    cout &lt;&lt; a0;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_5","title":"\u8f93\u5165\u8f93\u51fa","text":""},{"location":"lang/cpp/2string/#_6","title":"\u57fa\u672c\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    char s[100];\n    // 1\n    cin &gt;&gt; s;\n    cout &lt;&lt; s;\n\n    // 2\n    char s1[100];\n    scanf(\"%s\", s);\n    printf(\"%s\", s);\n    return 0;\n\n     //3 \u200b\u6ce8\u610f\u200b\u7684\u200b\uff1a\u200b\u5c06\u200b\u8bfb\u5165\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5b58\u200b\u5230\u200b\u6570\u7ec4\u200b\u7d22\u5f15\u200b\u4e3a\u200b1\u200b\u7684\u200b\u5730\u65b9\u200b\n    char s2[100];\n    scanf(\"%s\", s2 + 1);\n    cout &lt;&lt; s2 + 1;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_7","title":"\u8bfb\u200b\u4e00\u884c\u200b\u5b57\u7b26\u4e32","text":"<p>fgets\u200b\u5305\u542b\u200b\\n \u200b\u4e0d\u4f1a\u200b\u8fc7\u6ee4\u200b\\n</p> <p>fgets \u200b\u4e5f\u200b\u662f\u200biostream\u200b\u91cc\u9762\u200b\u7684\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main() {\n    char s1[100];\n    // 1\n    fgets(s1, 100, stdin);\n    string s2;\n    //2 getline \u200b\u4e0d\u80fd\u200b\u662f\u200b\u5b57\u7b26\u200b\u6570\u7ec4\u200b\n    getline(cin, s2);\n    cout &lt;&lt; s2;\n\n    char s3[100];\n    // 3\n    cin.getline(s3, 100);\n\n    // 4 \n    puts(s3);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_8","title":"\u5b57\u7b26\u200b\u6570\u7ec4\u200b\u5e38\u7528\u200b\u7684\u200b\u51fd\u6570","text":"<p>cstring</p> <ul> <li>strlen(str)\uff0c\u200b\u6c42\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b</li> <li>strcmp(a, b)\uff0c\u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0ca &lt; b \u200b\u8fd4\u56de\u200b-1\uff0ca == b \u200b\u8fd4\u56de\u200b0\uff0ca &gt; b\u200b\u8fd4\u56de\u200b1\u3002\u200b\u8fd9\u91cc\u200b\u7684\u200b\u6bd4\u8f83\u200b\u65b9\u5f0f\u200b\u662f\u200b\u5b57\u5178\u200b\u5e8f\u200b\uff01</li> <li>strcpy(a, b)\uff0c\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200bb\u200b\u590d\u5236\u200b\u7ed9\u200b\u4ece\u200ba\u200b\u5f00\u59cb\u200b\u7684\u200b\u5b57\u7b26\u200b\u6570\u7ec4\u200b\u3002</li> </ul> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main() {\n    char s1[100], s2[100];\n    cin &gt;&gt; s1 &gt;&gt; s2;\n    //1 \u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\n    cout &lt;&lt; strlen(s1) &lt;&lt; endl &lt;&lt; strlen(s2);\n    cout &lt;&lt; endl;\n\n    // \u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u8f83\u200b\n    cout &lt;&lt; strcmp(s1, s2) &lt;&lt; endl;\n\n    // 3 s2 \u200b\u8d4b\u503c\u200b\u7ed9\u200b s1\n    strcpy(s1, s2);\n    cout &lt;&lt; s1 &lt;&lt; s2;\n    return 0;\n}\n</code></pre> <p>\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u904d\u5386\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main() {\n    char s1[100];\n    cin &gt;&gt; s1;\n\n    for (int i = 0, len = strlen(s1); i &lt; len; i++) cout &lt;&lt; s1[i];\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#string","title":"string","text":""},{"location":"lang/cpp/2string/#_9","title":"\u58f0\u660e\u200b\u521d\u59cb\u5316","text":"<pre><code>#include &lt;iostream&gt;\n\n\nusing namespace std;\n\nint main() {\n    string s1 = \"aaa\";\n    cout &lt;&lt; s1;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_10","title":"\u8f93\u5165\u8f93\u51fa","text":"<pre><code>#include&lt;iostream&gt;\n// #include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main() {\n    string s1;\n    // 1\n    cin &gt;&gt; s1;\n    cout &lt;&lt; s1 &lt;&lt; endl;\n\n    // 2\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200bscanf \n    printf(\"%s\", s1.c_str());\n\n    puts(s1.c_str());\n\n\n    string s2;\n    //3 \u200b\u8bfb\u200b\u4e00\u884c\u200b\n    getline(cin, s2);\n    cout &lt;&lt; s2;\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_11","title":"2string","text":""},{"location":"lang/cpp/2string/#_12","title":"\u57fa\u672c\u200b\u4f7f\u7528","text":"<ul> <li>string\u200b\u7684\u200bempty\u200b\u548c\u200bsize\u200b\u64cd\u4f5c\u200b\uff08\u200b\u6ce8\u610f\u200bsize\u200b\u662f\u200b\u65e0\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\uff0c\u200b\u56e0\u6b64\u200b s.size() &lt;= -1\u200b\u4e00\u5b9a\u200b\u6210\u7acb\u200b\uff09</li> <li>\u200b\u652f\u6301\u200b &gt; &lt; &gt;= &lt;= == !=\u200b\u7b49\u200b\u6240\u6709\u200b\u6bd4\u8f83\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6309\u200b\u5b57\u5178\u200b\u5e8f\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b</li> <li>\u200b\u5b57\u7b26\u4e32\u200b\u76f8\u52a0\u200b\u81f3\u5c11\u200b\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200bstring \u200b\u5bf9\u8c61\u200b</li> </ul> <pre><code>#include&lt;iostream&gt;\n// #include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main() {\n\n\n   // 1.1\n    string str3 = \"aa\", str4;\n    cout &lt;&lt; str3.empty() &lt;&lt; endl;\n    cout &lt;&lt; str4.empty() &lt;&lt; endl;\n    // 1.2\n    cout &lt;&lt; str3.size() &lt;&lt; \"size\\n\";\n\n    // 2\n    cout &lt;&lt; (str3 &lt; str4);\n\n    str4 += str3;\n    cout &lt;&lt; str4;\n    // \u200b\u4f1a\u200b\u62a5\u9519\u200b \u200b\u786e\u4fdd\u200b\u5de6\u53f3\u200b\u4fe9\u200b\u8fb9\u200b\u81f3\u5c11\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\n    // \"helo\" \"aa\" \u200b\u5747\u200b\u4e3a\u200b\u5b57\u9762\u200b\u91cf\u200b\n    string str5 = \"helo\" + \"aa\";\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_13","title":"\u8303\u56f4\u200b\u904d\u5386","text":"<p>auto\u200b\u53ef\u4ee5\u200b\u81ea\u52a8\u200b\u5224\u65ad\u200b\u7c7b\u578b\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string s1 = \"aaa bbb ccc\";\n    // \u200b\u8303\u56f4\u200b\u904d\u5386\u200b\n    for (auto &amp;ch : s1) {\n        cout &lt;&lt; ch &lt;&lt; endl;\n        ch = 'a';\n    }\n    // auto \u200b\u7f16\u8bd1\u5668\u200b\u81ea\u5df1\u200b\u53bb\u200b\u731c\u200b\u53d8\u91cf\u200b\u662f\u200b\u4ec0\u4e48\u200b\u7c7b\u578b\u200b\n    cout &lt;&lt; s1;\n    return 0;\n}\n</code></pre> <p>\u200b\u5f00\u59cb\u200b\u4f4d\u7f6e\u200b \u200b\u51e0\u4e2a\u200b\u5b57\u7b26\u200b</p> <pre><code>substr(start, cout)\n</code></pre> <p>//\u200b\u5220\u9664\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b</p> <p>s1.pop_back()</p> <p>// start len</p> <p>s1.substr(0, 10)</p>"},{"location":"lang/cpp/2string/#_14","title":"\u4e60\u9898","text":""},{"location":"lang/cpp/2string/#_15","title":"\u66ff\u6362\u200b\u5b57\u7b26","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u7531\u5927\u200b\u5c0f\u5199\u5b57\u6bcd\u200b\u6784\u6210\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u628a\u200b\u8be5\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7279\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u200b\u5168\u90e8\u200b\u7528\u200b\u5b57\u7b26\u200b <code>#</code> \u200b\u66ff\u6362\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u8f93\u51fa\u200b\u66ff\u6362\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_16","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5171\u200b\u4e24\u884c\u200b\u3002</p> <p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 3030 \u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\uff0c\u200b\u8868\u793a\u200b\u8981\u200b\u66ff\u6362\u200b\u6389\u200b\u7684\u200b\u7279\u5b9a\u200b\u5b57\u7b26\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_17","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u4e3a\u200b\u66ff\u6362\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_18","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>hello\nl\n</code></pre>"},{"location":"lang/cpp/2string/#_19","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>he##o\n</code></pre>"},{"location":"lang/cpp/2string/#_20","title":"\u51fa\u9519","text":"<p>// cin.getline \u200b\u4f1a\u200b\u8ba1\u7b97\u200b\\0</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main() {\n    char s1[31], ch;\n    // cin.getline \u200b\u4f1a\u200b\u8ba1\u7b97\u200b\\0\n    cin.getline(s1, 31);\n    cin &gt;&gt; ch;\n    // cout &lt;&lt; ch;\n\n    for (int i = 0, len = strlen(s1); i &lt; len; i++) {\n        if (s1[i] == ch) s1[i] = '#';\n    }\n    cout &lt;&lt; s1;\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_21","title":"\u7edf\u8ba1\u200b\u53ea\u200b\u51fa\u73b0\u200b\u4e00\u6b21\u200b\u7684\u200b\u5b57\u7b26","text":"<p>\u200b\u7ed9\u200b\u4f60\u200b\u4e00\u4e2a\u200b\u53ea\u200b\u5305\u542b\u200b\u5c0f\u5199\u5b57\u6bcd\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u53ea\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u51fa\u73b0\u200b\u8fc7\u200b\u4e00\u6b21\u200b\u7684\u200b\u5b57\u7b26\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b\u5b57\u7b26\u200b\u4e2d\u200b\u4f4d\u7f6e\u200b\u6700\u9760\u200b\u524d\u200b\u7684\u200b\u90a3\u4e2a\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\uff0c\u200b\u8f93\u51fa\u200b <code>no</code>\u3002</p>"},{"location":"lang/cpp/2string/#_22","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u7531\u200b\u5c0f\u5199\u5b57\u6bcd\u200b\u6784\u6210\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 100000100000\u3002</p>"},{"location":"lang/cpp/2string/#_23","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>no</code>\u3002</p>"},{"location":"lang/cpp/2string/#_24","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>abceabcd\n</code></pre>"},{"location":"lang/cpp/2string/#_25","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>e\n</code></pre>"},{"location":"lang/cpp/2string/#_26","title":"\u51fa\u9519","text":"<p>\u200b\u6ca1\u6709\u200b\u60f3\u5230\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main() {\n    char s1[100000];\n    cin &gt;&gt; s1;\n    int c[26] = {0};\n\n    for (int i = 0, len = strlen(s1); i &lt; len; i++) c[s1[i] - 'a'] += 1;\n\n    for (int i = 0, len = strlen(s1); i &lt; len; i++) {\n        if(c[s1[i] - 'a'] == 1){\n            cout &lt;&lt; s1[i];\n            return 0;\n        }\n    }\n\n    cout &lt;&lt; \"no\";\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_27","title":"\u5ffd\u7565\u200b\u5927\u5c0f\u5199\u200b\u6bd4\u8f83\u200b\u5b57\u7b26\u4e32","text":"<p>\u200b\u4e00\u822c\u200b\u6211\u4eec\u200b\u7528\u200b strcmpstrcmp \u200b\u53ef\u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u65b9\u6cd5\u200b\u4e3a\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4ece\u524d\u200b\u5f80\u540e\u200b\u9010\u4e2a\u200b\u5b57\u7b26\u200b\u76f8\u200b\u6bd4\u8f83\u200b\uff08\u200b\u6309\u200b ASCII \u200b\u7801\u503c\u200b\u5927\u5c0f\u200b\u6bd4\u8f83\u200b\uff09\uff0c\u200b\u76f4\u5230\u200b\u51fa\u73b0\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b57\u7b26\u200b\u6216\u200b\u9047\u5230\u200b <code>\\0</code> \u200b\u4e3a\u6b62\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5168\u90e8\u200b\u5b57\u7b26\u200b\u90fd\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200b\u8ba4\u4e3a\u200b\u76f8\u540c\u200b\uff1b\u200b\u5982\u679c\u200b\u51fa\u73b0\u200b\u4e0d\u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\u200b\u5219\u200b\u4ee5\u200b\u7b2c\u4e00\u4e2a\u200b\u4e0d\u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u7b26\u200b\u7684\u200b\u6bd4\u8f83\u200b\u7ed3\u679c\u200b\u4e3a\u51c6\u200b\u3002</p> <p>\u200b\u4f46\u200b\u5728\u200b\u6709\u4e9b\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u4eec\u200b\u6bd4\u8f83\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5927\u200b\u5c0f\u65f6\u200b\uff0c\u200b\u5e0c\u671b\u200b\u5ffd\u7565\u200b\u5b57\u6bcd\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u4f8b\u5982\u200b <code>Hello</code> \u200b\u548c\u200b <code>hello</code> \u200b\u5728\u200b\u5ffd\u7565\u200b\u5b57\u6bcd\u200b\u5927\u5c0f\u5199\u200b\u65f6\u200b\u662f\u200b\u76f8\u7b49\u200b\u7684\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u5199\u200b\u4e00\u4e2a\u200b\u7a0b\u5e8f\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u5ffd\u7565\u200b\u5b57\u6bcd\u200b\u5927\u5c0f\u5199\u200b\u7684\u200b\u5927\u5c0f\u200b\u6bd4\u8f83\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_28","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u4e3a\u200b\u4e24\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5171\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u3002\u200b\u6ce8\u610f\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u7a7a\u683c\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u90fd\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 8080\u3002</p>"},{"location":"lang/cpp/2string/#_29","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5982\u679c\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u5c0f\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b <code>&lt;</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u5927\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b <code>&gt;</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u76f8\u7b49\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b <code>=</code>\u3002</p>"},{"location":"lang/cpp/2string/#_30","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Hello\nhello\n</code></pre>"},{"location":"lang/cpp/2string/#_31","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>=\n</code></pre>"},{"location":"lang/cpp/2string/#_32","title":"\u95ee\u9898","text":"<p>1.\u200b\u6ca1\u60f3\u5230\u200b\u5b57\u7b26\u4e32\u200b\u5168\u90e8\u200b\u8f6c\u4e3a\u200b\u5c0f\u5199\u200b</p> <p>2.fgets() \u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u8fc7\u6ee4\u200b\u6389\u200b \\n</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main() {\n    char a[81], b[81];\n    cin.getline(a, 81);\n    cin.getline(b, 81);\n\n    for (int i = 0, len = strlen(a); i &lt; len; i++) {\n        if (a[i] &gt;= 'A' &amp;&amp; a[i] &lt;= 'Z') {\n            a[i] = 'a' + a[i] - 'A';\n        }\n    }\n    for (int i = 0, len = strlen(b); i &lt; len; i++) {\n        if (b[i] &gt;= 'A' &amp;&amp; b[i] &lt;= 'Z') {\n            b[i] = 'a' + b[i] - 'A';\n        }\n    }\n    if (a[strlen(a) - 1] == '\\n') a[strlen(a) - 1] = 0;\n    if (b[strlen(b) - 1] == '\\n') b[strlen(b) - 1] = 0;\n\n    int t = strcmp(a, b);\n    if (t == 0) puts(\"=\");\n    else if (t &gt; 0) puts(\"&gt;\");\n    else puts(\"&lt;\");\n\n\n\n    return 0;\n\n\n}\n</code></pre> <p>766\u200b\u53bb\u6389\u200b\u591a\u4f59\u200b\u7684\u200b\u7a7a\u683c\u200b</p> <p>\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u8fde\u7eed\u200b\u7684\u200b\u7a7a\u683c\u200b\uff0c\u200b\u8bf7\u200b\u5c06\u200b\u591a\u4f59\u200b\u7684\u200b\u7a7a\u683c\u200b\u53bb\u6389\u200b\uff0c\u200b\u53ea\u200b\u7559\u4e0b\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_33","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_34","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u53bb\u6389\u200b\u591a\u4f59\u200b\u7a7a\u683c\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_35","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>\u200b\u8f93\u5165\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 200200\u3002 \u200b\u4fdd\u8bc1\u200b\u8f93\u5165\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5f00\u5934\u200b\u548c\u200b\u7ed3\u5c3e\u200b\u6ca1\u6709\u200b\u7a7a\u683c\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_36","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Hello      world.This is    c language.\n</code></pre>"},{"location":"lang/cpp/2string/#_37","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Hello world.This is c language.\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string s;\n    while(cin &gt;&gt; s) cout &lt;&lt; s &lt;&lt; ' ';\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string s;\n    getline(cin, s);\n    string r;\n    for (int i = 0; i &lt; s.size(); i++) {\n        if (s[i] != ' ') r += s[i];\n        else {\n            r += ' ';\n            int j = i + 1;\n            while (j &lt; s.size() &amp;&amp; s[j] == ' ') j++;\n            // i++ \n            i = j - 1;\n        }\n    }\n    cout &lt;&lt; r.c_str();\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#767","title":"767\u200b\u4fe1\u606f\u200b\u52a0\u5bc6","text":"<p>\u200b\u5728\u200b\u4f20\u8f93\u200b\u4fe1\u606f\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u4fdd\u8bc1\u200b\u4fe1\u606f\u200b\u7684\u200b\u5b89\u5168\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5bf9\u539f\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u52a0\u5bc6\u200b\u5904\u7406\u200b\uff0c\u200b\u5f62\u6210\u200b\u52a0\u5bc6\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f7f\u5f97\u200b\u4fe1\u606f\u5185\u5bb9\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u76d1\u542c\u200b\u8005\u200b\u7a83\u53d6\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5bf9\u200b\u5176\u200b\u8fdb\u884c\u200b\u52a0\u5bc6\u200b\u5904\u7406\u200b\u3002</p> <p>\u200b\u52a0\u5bc6\u200b\u7684\u200b\u89c4\u5219\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li>\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7684\u200b\u5c0f\u5199\u5b57\u6bcd\u200b\uff0caa \u200b\u52a0\u5bc6\u200b\u4e3a\u200b bb\uff0cbb \u200b\u52a0\u5bc6\u200b\u4e3a\u200b cc\uff0c\u2026\uff0cyy \u200b\u52a0\u5bc6\u200b\u4e3a\u200b zz\uff0czz \u200b\u52a0\u5bc6\u200b\u4e3a\u200b aa\u3002</li> <li>\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7684\u200b\u5927\u5199\u5b57\u6bcd\u200b\uff0cAA \u200b\u52a0\u5bc6\u200b\u4e3a\u200b BB\uff0cBB \u200b\u52a0\u5bc6\u200b\u4e3a\u200b CC\uff0c\u2026\uff0cYY \u200b\u52a0\u5bc6\u200b\u4e3a\u200b ZZ\uff0cZZ \u200b\u52a0\u5bc6\u200b\u4e3a\u200b AA\u3002</li> <li>\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u7684\u200b\u5176\u4ed6\u200b\u5b57\u7b26\u200b\uff0c\u200b\u4e0d\u200b\u4f5c\u200b\u5904\u7406\u200b\u3002</li> </ol> <p>\u200b\u8bf7\u200b\u4f60\u200b\u8f93\u51fa\u200b\u52a0\u5bc6\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_38","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u3002\u200b\u6ce8\u610f\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u7a7a\u683c\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_39","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u52a0\u5bc6\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_40","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>\u200b\u8f93\u5165\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 100100\u3002</p>"},{"location":"lang/cpp/2string/#_41","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Hello! How are you!\n</code></pre>"},{"location":"lang/cpp/2string/#_42","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>Ifmmp! Ipx bsf zpv!\n</code></pre>"},{"location":"lang/cpp/2string/#_43","title":"\u51fa\u9519","text":"<p>\u200b\u5fd8\u8bb0\u200b\u8003\u8651\u200b z Z</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string s1;\n    getline(cin, s1);\n\n    for (char &amp;ch : s1) {\n        if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') {\n            ch =  (ch - 'a' + 1) % 26 + 'a';\n        } else if (ch &gt;= 'A' &amp;&amp; ch &lt;= 'Z') {\n            ch =  (ch - 'A' + 1) % 26 + 'A';\n        }\n    }\n\n\n\n    cout &lt;&lt; s1;\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_44","title":"\u8f93\u51fa\u200b\u5b57\u7b26\u4e32","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b aa\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6309\u7167\u200b\u4e0b\u9762\u200b\u7684\u200b\u8981\u6c42\u200b\u8f93\u51fa\u200b\u5b57\u7b26\u4e32\u200b bb\u3002</p> <p>\u200b\u7ed9\u5b9a\u200b\u5b57\u7b26\u4e32\u200b aa \u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u52a0\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u200b\uff0c\u200b\u5f97\u5230\u200b bb \u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\uff1b</p> <p>\u200b\u7ed9\u5b9a\u200b\u5b57\u7b26\u4e32\u200b aa \u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u52a0\u200b\u7b2c\u4e09\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u200b\uff0c\u200b\u5f97\u5230\u200b bb \u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u200b\uff1b</p> <p>\u2026</p> <p>\u200b\u7ed9\u5b9a\u200b\u5b57\u7b26\u4e32\u200b aa \u200b\u7684\u200b\u5012\u6570\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u52a0\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u200b\uff0c\u200b\u5f97\u5230\u200b bb \u200b\u7684\u200b\u5012\u6570\u200b\u7b2c\u4e8c\u4e2a\u200b\u5b57\u7b26\u200b\uff1b</p> <p>\u200b\u7ed9\u5b9a\u200b\u5b57\u7b26\u4e32\u200b aa \u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u52a0\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u200b\uff0c\u200b\u5f97\u5230\u200b bb \u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_45","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u5b57\u7b26\u4e32\u200b aa\u3002\u200b\u6ce8\u610f\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u7a7a\u683c\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u5b57\u7b26\u4e32\u200b\u5185\u200b\u7684\u200b\u5b57\u7b26\u200b\u7684\u200b ASCII \u200b\u503c\u5747\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 6363\u3002</p>"},{"location":"lang/cpp/2string/#_46","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u5b57\u7b26\u4e32\u200b bb\u3002</p>"},{"location":"lang/cpp/2string/#_47","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>2\u2264a\u200b\u7684\u200b\u957f\u5ea6\u200b\u22641002\u2264a\u200b\u7684\u200b\u957f\u5ea6\u200b\u2264100</p>"},{"location":"lang/cpp/2string/#_48","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1 2 3\n</code></pre>"},{"location":"lang/cpp/2string/#_49","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>QRRSd\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string a, b;\n    getline(cin, a);\n    for (int i = 0; i &lt; a.size(); i++) \n        b += (char)(a[i] + a[(i + 1) % a.size()]);\n\n    cout &lt;&lt; b &lt;&lt; endl;\n    return 0;\n}\n</code></pre> <p>sstream</p>"},{"location":"lang/cpp/2string/#770","title":"770\u200b\u5355\u8bcd\u200b\u66ff\u6362","text":"<p>\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u4ee5\u200b\u56de\u8f66\u200b\u7ed3\u675f\u200b\uff08\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 100100\uff09\u3002</p> <p>\u200b\u8be5\u200b\u5b57\u7b26\u4e32\u200b\u7531\u200b\u82e5\u5e72\u4e2a\u200b\u5355\u8bcd\u200b\u7ec4\u6210\u200b\uff0c\u200b\u5355\u8bcd\u200b\u4e4b\u95f4\u200b\u7528\u200b\u4e00\u4e2a\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\uff0c\u200b\u6240\u6709\u200b\u5355\u8bcd\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b\u3002</p> <p>\u200b\u73b0\u200b\u9700\u8981\u200b\u5c06\u200b\u5176\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u5355\u8bcd\u200b\u66ff\u6362\u6210\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5355\u8bcd\u200b\uff0c\u200b\u5e76\u200b\u8f93\u51fa\u200b\u66ff\u6362\u200b\u4e4b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_50","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5171\u200b 33 \u200b\u884c\u200b\u3002</p> <p>\u200b\u7b2c\u200b 11 \u200b\u884c\u662f\u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u5355\u8bcd\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b ss;</p> <p>\u200b\u7b2c\u200b 22 \u200b\u884c\u662f\u200b\u5f85\u200b\u66ff\u6362\u200b\u7684\u200b\u5355\u8bcd\u200b aa(\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 100100);</p> <p>\u200b\u7b2c\u200b 33 \u200b\u884c\u662f\u200b aa \u200b\u5c06\u200b\u88ab\u200b\u66ff\u6362\u200b\u7684\u200b\u5355\u8bcd\u200b bb(\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 100100)\u3002</p>"},{"location":"lang/cpp/2string/#_51","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u8f93\u51fa\u200b\u5c06\u200b ss \u200b\u4e2d\u200b\u6240\u6709\u200b\u5355\u8bcd\u200b aa \u200b\u66ff\u6362\u6210\u200b bb \u200b\u4e4b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_52","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>You want someone to help you\nYou\nI\n</code></pre>"},{"location":"lang/cpp/2string/#_53","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>I want someone to help you\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\nusing namespace std;\n\nint main() {\n    string s, a, b;\n    getline(cin, s);\n    cin &gt;&gt; a &gt;&gt; b;\n    stringstream ssin(s);\n    string str;\n    while(ssin &gt;&gt; str) {\n        if (str == a) cout &lt;&lt; b &lt;&lt; ' ';\n        else cout &lt;&lt; str &lt;&lt; ' ';\n    }\n\n\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\nusing namespace std;\n\nint main() {\n    string s;\n    getline(cin, s);\n    stringstream aa(s);\n    int a, b;\n    string c;\n    double d;\n    aa &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;\n    cout &lt;&lt; a &lt;&lt; endl &lt;&lt; b &lt;&lt; endl &lt;&lt; c &lt;&lt; endl &lt;&lt; d;\n\n\n    return 0;\n}\n</code></pre> <pre><code>1 2 aaa 1.1\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;cstdio&gt;\n\nusing namespace std;\n\nint main() {\n    char s[1000];\n    fgets(s, 1000, stdin);\n    int a, b;\n    char c[100];\n    double d;\n    sscanf(s, \"%d%d%s%ld\", &amp;a, &amp;b, c, &amp;d);\n\n    printf(\"%d %d %s %ld\", a, b, c, d);\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#777","title":"777\u200b\u6700\u957f\u200b\u51fa\u73b0\u200b\u7684\u200b\u8fde\u7eed\u200b\u5b57\u7b26","text":"<p>\u200b\u6c42\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u6700\u957f\u200b\u7684\u200b\u8fde\u7eed\u200b\u51fa\u73b0\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\u200b\u8f93\u51fa\u200b\u8be5\u200b\u5b57\u7b26\u200b\u53ca\u5176\u200b\u51fa\u73b0\u200b\u6b21\u6570\u200b\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b\u65e0\u200b\u7a7a\u767d\u200b\u5b57\u7b26\u200b\uff08\u200b\u7a7a\u683c\u200b\u3001\u200b\u56de\u8f66\u200b\u548c\u200b tabtab\uff09\uff0c\u200b\u5982\u679c\u200b\u8fd9\u6837\u200b\u7684\u200b\u5b57\u7b26\u200b\u4e0d\u6b62\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u7b2c\u4e00\u4e2a\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_54","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u8f93\u5165\u200b\u6574\u6570\u200b NN\uff0c\u200b\u8868\u793a\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u7684\u200b\u7ec4\u6570\u200b\u3002</p> <p>\u200b\u6bcf\u7ec4\u200b\u6570\u636e\u200b\u5360\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u4e0d\u200b\u542b\u200b\u7a7a\u767d\u200b\u5b57\u7b26\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 200200\u3002</p>"},{"location":"lang/cpp/2string/#_55","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6700\u957f\u200b\u7684\u200b\u8fde\u7eed\u200b\u51fa\u73b0\u200b\u7684\u200b\u5b57\u7b26\u200b\u53ca\u5176\u200b\u51fa\u73b0\u200b\u6b21\u6570\u200b\uff0c\u200b\u4e2d\u95f4\u200b\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_56","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>2\naaaaabbbbbcccccccdddddddddd\nabcdefghigk\n</code></pre>"},{"location":"lang/cpp/2string/#_57","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>d 10\na 1\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int n;\n    string s;\n    cin &gt;&gt; n;\n    while (n--) {\n        cin &gt;&gt; s;\n        int cnt = 0;\n        char ch;\n        for (int i = 0; i &lt; s.size(); i++) {\n            int j = i;\n            while (j &lt; s.size() &amp;&amp; s[j] == s[i]) j++;\n            if (j - i &gt; cnt) {\n                cnt = j - i;\n                ch = s[i];\n            }\n            j = j - 1;\n            i = j;\n        }\n        cout &lt;&lt; ch &lt;&lt; ' ' &lt;&lt;  cnt &lt;&lt; endl;\n    }\n    return 0;\n\n}\n</code></pre>"},{"location":"lang/cpp/2string/#_58","title":"\u6700\u957f\u200b\u5355\u8bcd","text":"<p>\u200b\u4e00\u4e2a\u200b\u4ee5\u200b <code>.</code> \u200b\u7ed3\u5c3e\u200b\u7684\u200b\u7b80\u5355\u200b\u82f1\u6587\u200b\u53e5\u5b50\u200b\uff0c\u200b\u5355\u8bcd\u200b\u4e4b\u95f4\u200b\u7528\u200b\u7a7a\u683c\u200b\u5206\u9694\u200b\uff0c\u200b\u6ca1\u6709\u200b\u7f29\u5199\u200b\u5f62\u5f0f\u200b\u548c\u200b\u5176\u5b83\u200b\u7279\u6b8a\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u6c42\u200b\u53e5\u5b50\u200b\u4e2d\u200b\u7684\u200b\u6700\u957f\u200b\u5355\u8bcd\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_59","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u8fd9\u4e2a\u200b\u7b80\u5355\u200b\u82f1\u6587\u200b\u53e5\u5b50\u200b\uff0c\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 500500\u3002</p>"},{"location":"lang/cpp/2string/#_60","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8be5\u200b\u53e5\u5b50\u200b\u4e2d\u200b\u6700\u957f\u200b\u7684\u200b\u5355\u8bcd\u200b\u3002\u200b\u5982\u679c\u200b\u591a\u4e8e\u200b\u4e00\u4e2a\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b\u7b2c\u4e00\u4e2a\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_61","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>I am a student of Peking University.\n</code></pre>"},{"location":"lang/cpp/2string/#_62","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>University\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string s, res = \"\";\n    while(cin &gt;&gt; s) {\n        // back \u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\n        if (s.back() == ' ') s.pop_back();\n        if (s.size() &gt; res.size()) res = s;\n    }\n    puts(res.c_str());\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#775","title":"775\u200b\u5012\u6392\u200b\u5355\u8bcd","text":"<p>\u200b\u7f16\u5199\u7a0b\u5e8f\u200b\uff0c\u200b\u8bfb\u5165\u200b\u4e00\u884c\u200b\u82f1\u6587\u200b(\u200b\u53ea\u200b\u5305\u542b\u200b\u5b57\u6bcd\u200b\u548c\u200b\u7a7a\u683c\u200b\uff0c\u200b\u5355\u8bcd\u200b\u95f4\u200b\u4ee5\u200b\u5355\u4e2a\u200b\u7a7a\u683c\u200b\u5206\u9694\u200b)\uff0c\u200b\u5c06\u200b\u6240\u6709\u200b\u5355\u8bcd\u200b\u7684\u200b\u987a\u5e8f\u200b\u5012\u6392\u200b\u5e76\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4f9d\u7136\u200b\u4ee5\u200b\u5355\u4e2a\u200b\u7a7a\u683c\u200b\u5206\u9694\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_63","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff08\u200b\u5b57\u7b26\u4e32\u200b\u957f\u5ea6\u200b\u81f3\u591a\u200b\u4e3a\u200b 100100\uff09\u3002</p>"},{"location":"lang/cpp/2string/#_64","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e3a\u200b\u6309\u200b\u8981\u6c42\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_65","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>I am a student\n</code></pre>"},{"location":"lang/cpp/2string/#_66","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>student a am I\n</code></pre>"},{"location":"lang/cpp/2string/#_67","title":"\u601d\u8def","text":"<p>\u200b\u4e0d\u7528\u200b\u8bfb\u53d6\u200b\u6574\u884c\u200b \u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u8bfb\u53d6\u200b\u5c31\u200b\u53ef\u4ee5\u200b</p> <pre><code>res = s + ' ' + res;\n</code></pre>"},{"location":"lang/cpp/2string/#code","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string s, res;\n    while(cin &gt;&gt; s)  res = s + ' ' + res;\n    cout &lt;&lt; res;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#776","title":"776\u200b\u5b57\u7b26\u4e32\u200b\u79fb\u4f4d\u200b\u5305\u542b\u200b\u95ee\u9898","text":"<p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u4e00\u6b21\u200b\u5faa\u73af\u200b\u79fb\u4f4d\u200b\u64cd\u4f5c\u200b\u4e3a\u200b\uff1a\u200b\u5c06\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u79fb\u52a8\u200b\u5230\u200b\u672b\u5c3e\u200b\u5f62\u6210\u200b\u65b0\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002</p> <p>\u200b\u7ed9\u5b9a\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b s1s1 \u200b\u548c\u200b s2s2\uff0c\u200b\u8981\u6c42\u200b\u5224\u5b9a\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u662f\u200b\u53e6\u200b\u4e00\u200b\u5b57\u7b26\u4e32\u200b\u901a\u8fc7\u200b\u82e5\u5e72\u6b21\u200b\u5faa\u73af\u200b\u79fb\u4f4d\u200b\u540e\u200b\u7684\u200b\u65b0\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u5b50\u4e32\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b <code>CDAA</code> \u200b\u662f\u200b\u7531\u200b <code>AABCD</code> \u200b\u4e24\u6b21\u200b\u79fb\u4f4d\u200b\u540e\u200b\u4ea7\u751f\u200b\u7684\u200b\u65b0\u4e32\u200b <code>BCDAA</code> \u200b\u7684\u200b\u5b50\u4e32\u200b\uff0c\u200b\u800c\u200b <code>ABCD</code> \u200b\u4e0e\u200b <code>ACBD</code> \u200b\u5219\u200b\u4e0d\u80fd\u200b\u901a\u8fc7\u200b\u591a\u6b21\u200b\u79fb\u4f4d\u200b\u6765\u200b\u5f97\u5230\u200b\u5176\u4e2d\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u200b\u65b0\u4e32\u200b\u7684\u200b\u5b50\u4e32\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_68","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u4e2d\u95f4\u200b\u7531\u200b\u5355\u4e2a\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\u3002</p> <p>\u200b\u5b57\u7b26\u4e32\u200b\u53ea\u200b\u5305\u542b\u200b\u5b57\u6bcd\u200b\u548c\u200b\u6570\u5b57\u200b\uff0c\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 3030\u3002</p>"},{"location":"lang/cpp/2string/#_69","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u662f\u200b\u53e6\u200b\u4e00\u200b\u5b57\u7b26\u4e32\u200b\u901a\u8fc7\u200b\u82e5\u5e72\u6b21\u200b\u5faa\u73af\u200b\u79fb\u4f4d\u200b\u4ea7\u751f\u200b\u7684\u200b\u65b0\u4e32\u200b\u7684\u200b\u5b50\u4e32\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>true</code>\uff0c\u200b\u5426\u5219\u200b\u8f93\u51fa\u200b <code>false</code>\u3002</p>"},{"location":"lang/cpp/2string/#_70","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>AABCD CDAA\n</code></pre>"},{"location":"lang/cpp/2string/#_71","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>true\n</code></pre>"},{"location":"lang/cpp/2string/#_72","title":"\u601d\u8def","text":"<p>\u200b\u904d\u5386\u200b\u79fb\u4f4d\u200b\u6b21\u6570\u200b -&gt; \u200b\u904d\u5386\u200bstart -&gt; \u200b\u904d\u5386\u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u200b\u770b\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b</p>"},{"location":"lang/cpp/2string/#code_1","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string a, b;\n    cin &gt;&gt; a &gt;&gt; b;\n    if (a.size() &lt; b.size()) swap(a, b);\n    for (int i = 0; i &lt; a.size(); i++) {\n        a = a.substr(1) + a[0];\n        for (int j = 0; j + b.size() &lt;= a.size(); j++) {\n            int k = 0;\n            for (; k &lt; b.size(); k++) {\n                if (b[k] != a[j + k]) break;\n            }\n            if (k == b.size()) {\n                puts(\"true\");\n                return 0;\n            }\n        }\n\n    }\n    puts(\"false\");\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#777_1","title":"777\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u4e58\u65b9","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u4e32\u200b aa \u200b\u548c\u200b bb\uff0c\u200b\u6211\u4eec\u200b\u5b9a\u4e49\u200b a\u00d7ba\u00d7b \u200b\u4e3a\u200b\u4ed6\u4eec\u200b\u7684\u200b\u8fde\u63a5\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b a=a=<code>abc</code> \u200b\u800c\u200b b=b=<code>def</code>\uff0c \u200b\u5219\u200b a\u00d7b=a\u00d7b=<code>abcdef</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5c06\u200b\u8fde\u63a5\u200b\u8003\u8651\u200b\u6210\u200b\u4e58\u6cd5\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u975e\u8d1f\u200b\u6574\u6570\u200b\u7684\u200b\u4e58\u65b9\u200b\u5c06\u200b\u7528\u200b\u4e00\u79cd\u200b\u901a\u5e38\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5b9a\u4e49\u200b\uff1aa0=a0=``(\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b)\uff0ca(n+1)=a\u00d7(an)a(n+1)=a\u00d7(an)\u3002</p>"},{"location":"lang/cpp/2string/#_73","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5305\u542b\u200b\u591a\u7ec4\u200b\u6d4b\u8bd5\u200b\u6837\u4f8b\u200b\uff0c\u200b\u6bcf\u7ec4\u200b\u6d4b\u8bd5\u200b\u6837\u4f8b\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u6bcf\u7ec4\u200b\u6837\u4f8b\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b ss\uff0css \u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 100100\u3002</p> <p>\u200b\u6700\u540e\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u6837\u4f8b\u200b\u540e\u9762\u200b\u5c06\u200b\u662f\u200b\u4e00\u4e2a\u70b9\u200b\u53f7\u200b\u4f5c\u4e3a\u200b\u4e00\u884c\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_74","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b ss\uff0c\u200b\u4f60\u200b\u9700\u8981\u200b\u8f93\u51fa\u200b\u6700\u5927\u200b\u7684\u200b nn\uff0c\u200b\u4f7f\u5f97\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b aa\uff0c\u200b\u8ba9\u200b s=ans=an\u3002</p>"},{"location":"lang/cpp/2string/#_75","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>abcd\naaaa\nababab\n.\n</code></pre>"},{"location":"lang/cpp/2string/#_76","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1\n4\n3\n</code></pre>"},{"location":"lang/cpp/2string/#_77","title":"\u601d\u8def","text":"<p>len / n = m</p> <p>r = m * n</p> <p>r == s</p>"},{"location":"lang/cpp/2string/#code_2","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string str, s;\n    while(cin &gt;&gt; str, str != \".\") {\n        int len = str.size();\n        for (int n  = len; n; n--) {\n            if (len % n == 0) {\n                int m = len / n;\n                s = str.substr(0, m);\n                string r;\n                for (int i = 0; i &lt; n; i++) r += s;\n                if (r == str){\n                    cout &lt;&lt; n &lt;&lt; endl;\n                    break;\n                } \n            }\n        }\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#778","title":"778\u200b\u5b57\u7b26\u4e32\u200b\u6700\u5927\u200b\u8de8\u8ddd","text":"<p>\u200b\u6709\u200b\u4e09\u4e2a\u200b\u5b57\u7b26\u4e32\u200b S,S1,S2S,S1,S2\uff0c\u200b\u5176\u4e2d\u200b\uff0cSS \u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 300300\uff0cS1S1 \u200b\u548c\u200b S2S2 \u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 1010\u3002</p> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u68c0\u6d4b\u200b S1S1 \u200b\u548c\u200b S2S2 \u200b\u662f\u5426\u200b\u540c\u65f6\u200b\u5728\u200b SS \u200b\u4e2d\u200b\u51fa\u73b0\u200b\uff0c\u200b\u4e14\u200b S1S1 \u200b\u4f4d\u4e8e\u200b S2S2 \u200b\u7684\u200b\u5de6\u8fb9\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b SS \u200b\u4e2d\u200b\u4e92\u4e0d\u200b\u4ea4\u53c9\u200b\uff08\u200b\u5373\u200b\uff0cS1S1 \u200b\u7684\u200b\u53f3\u200b\u8fb9\u754c\u70b9\u200b\u5728\u200b S2S2 \u200b\u7684\u200b\u5de6\u200b\u8fb9\u754c\u70b9\u200b\u7684\u200b\u5de6\u4fa7\u200b\uff09\u3002</p> <p>\u200b\u8ba1\u7b97\u200b\u6ee1\u8db3\u200b\u4e0a\u8ff0\u200b\u6761\u4ef6\u200b\u7684\u200b\u6700\u5927\u200b\u8de8\u8ddd\u200b\uff08\u200b\u5373\u200b\uff0c\u200b\u6700\u5927\u200b\u95f4\u9694\u200b\u8ddd\u79bb\u200b\uff1a\u200b\u6700\u200b\u53f3\u8fb9\u200b\u7684\u200b S2S2 \u200b\u7684\u200b\u8d77\u59cb\u200b\u70b9\u200b\u4e0e\u200b\u6700\u200b\u5de6\u8fb9\u200b\u7684\u200b S1S1 \u200b\u7684\u200b\u7ec8\u6b62\u200b\u70b9\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5b57\u7b26\u200b\u6570\u76ee\u200b\uff09\u3002</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b S1S1\uff0cS2S2 \u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u22121\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0cS=S= <code>abcd123ab888efghij45ef67kl</code>, S1=S1= <code>ab</code>, S2=S2= <code>ef</code>\uff0c\u200b\u5176\u4e2d\u200b\uff0cS1S1 \u200b\u5728\u200b SS \u200b\u4e2d\u200b\u51fa\u73b0\u200b\u4e86\u200b 22 \u200b\u6b21\u200b\uff0cS2S2 \u200b\u4e5f\u200b\u5728\u200b SS \u200b\u4e2d\u200b\u51fa\u73b0\u200b\u4e86\u200b 22 \u200b\u6b21\u200b\uff0c\u200b\u6700\u5927\u200b\u8de8\u8ddd\u200b\u4e3a\u200b\uff1a1818\u3002</p>"},{"location":"lang/cpp/2string/#_78","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u5b57\u7b26\u4e32\u200b S,S1,S2S,S1,S2\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u4e4b\u95f4\u200b\u7528\u200b\u9017\u53f7\u200b\u9694\u5f00\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u4fdd\u8bc1\u200b\u4e09\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u4e0d\u542b\u200b\u7a7a\u683c\u200b\u548c\u200b\u9017\u53f7\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_79","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6700\u5927\u200b\u8de8\u8ddd\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b S1S1 \u200b\u548c\u200b S2S2 \u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b \u22121\u22121\u3002</p>"},{"location":"lang/cpp/2string/#_80","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>abcd123ab888efghij45ef67kl,ab,ef\n</code></pre>"},{"location":"lang/cpp/2string/#_81","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>18\n</code></pre>"},{"location":"lang/cpp/2string/#_82","title":"\u601d\u8def","text":"<p>\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u8bfb\u5165\u200b</p>"},{"location":"lang/cpp/2string/#code_3","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    string str, s, s1, s2;\n    char c;\n    while (cin &gt;&gt; c, c != ',') s += c;\n    while (cin &gt;&gt; c, c != ',') s1 += c;\n    while (cin &gt;&gt; c) s2 += c;\n\n    int l = 0, r = s.size() - s2.size();\n    while (l &lt;= s.size() - s1.size()) {\n        int i = 0;\n        while(i &lt; s1.size() &amp;&amp; s1[i] == s[l + i]) i++;\n        if (i == s1.size())break;\n        l++;\n    }\n\n    while(r &gt;= 0) {\n        int i = 0;\n        while (i &lt; s2.size() &amp;&amp; s2[i] == s[r + i]) i++;\n        if (i == s2.size()) break;\n        r--;\n    }\n\n\n    l = l + s1.size() - 1;\n    if (l &lt;= r) {\n        cout &lt;&lt; r - l - 1;\n        return 0;\n    }\n    cout &lt;&lt; -1;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/2string/#779","title":"779 \u200b\u6700\u957f\u200b\u516c\u5171\u200b\u5b57\u7b26\u4e32\u200b\u540e\u7f00","text":"<p>\u200b\u7ed9\u51fa\u200b\u82e5\u5e72\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u8f93\u51fa\u200b\u8fd9\u4e9b\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u6700\u957f\u200b\u516c\u5171\u200b\u540e\u7f00\u200b\u3002</p>"},{"location":"lang/cpp/2string/#_83","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7531\u200b\u82e5\u5e72\u7ec4\u200b\u8f93\u5165\u200b\u7ec4\u6210\u200b\u3002</p> <p>\u200b\u6bcf\u7ec4\u200b\u8f93\u5165\u200b\u7684\u200b\u7b2c\u4e00\u884c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b N\u3002</p> <p>N \u200b\u4e3a\u200b 0 \u200b\u65f6\u200b\u8868\u793a\u200b\u8f93\u5165\u200b\u7ed3\u675f\u200b\uff0c\u200b\u5426\u5219\u200b\u540e\u9762\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u6709\u200b N \u200b\u884c\u200b\u8f93\u5165\u200b\uff0c\u200b\u6bcf\u884c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\uff08\u200b\u5b57\u7b26\u4e32\u200b\u5185\u4e0d\u542b\u200b\u7a7a\u767d\u7b26\u200b\uff09\u3002</p> <p>\u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e0d\u200b\u8d85\u8fc7\u200b 200\u3002</p>"},{"location":"lang/cpp/2string/#_84","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u4e3a\u200b NN \u200b\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u6700\u957f\u200b\u516c\u5171\u200b\u540e\u7f00\u200b\uff08\u200b\u53ef\u80fd\u200b\u4e3a\u7a7a\u200b\uff09\u3002</p>"},{"location":"lang/cpp/2string/#_85","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264N\u2264200</p>"},{"location":"lang/cpp/2string/#_86","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\nbaba\naba\ncba\n2\naa\ncc\n2\naa\na\n0\n</code></pre>"},{"location":"lang/cpp/2string/#_87","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>ba\n\na\n</code></pre>"},{"location":"lang/cpp/2string/#_88","title":"\u601d\u8def","text":"<p>\u200b\u83b7\u53d6\u200b\u957f\u5ea6\u200b\u6700\u5c0f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b </p> <p>len -&gt; 0 {</p> <p>\u200b   \u200b\u904d\u5386\u200b\u5b57\u7b26\u4e32\u200b {</p> <p>\u200b       \u200b\u904d\u5386\u200b\u6bcf\u4e2a\u200b\u540e\u7f00\u200b\u5b57\u7b26\u200b</p> <p>\u200b   }</p> <p>}</p>"},{"location":"lang/cpp/2string/#code_4","title":"code","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 200;\n\n\nint main() {\n    int n;\n    while(cin &gt;&gt; n, n) {\n        string s[200];\n        int len = 200;\n        for (int i = 0; i &lt; n; i++) {\n            cin &gt;&gt; s[i];\n            if (s[i].size() &lt; len) len = s[i].size();\n        }\n        while (len) {\n            bool success = true;\n            for (int i = 1; i &lt; n; i++) {\n                bool is_same = true;\n                for (int j = 1; j &lt;= len; j++) {\n                    if(s[0][s[0].size() - j] != s[i][s[i].size() - j]) {\n                        is_same = false;\n                        break;\n                    }\n                }\n                if (!is_same) {\n                    success = false;\n                    break;\n                }\n            }\n            if (success) break;\n            len--;\n        }\n        cout &lt;&lt; s[0].substr(s[0].size() - len) &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/3array/","title":"\u6570\u7ec4","text":""},{"location":"lang/cpp/3array/#_2","title":"\u57fa\u672c\u77e5\u8bc6","text":""},{"location":"lang/cpp/3array/#_3","title":"\u4e00\u7ef4\u200b\u6570\u7ec4","text":""},{"location":"lang/cpp/3array/#_4","title":"\u58f0\u660e","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n\n    int a[5], b[10];\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/3array/#_5","title":"\u521d\u59cb\u5316","text":"<p>a  \u200b\u7d22\u5f15\u200b2 \u200b\u540e\u9762\u200b\u7684\u200b\u6ca1\u6709\u200b\u8d4b\u503c\u200b\u5c31\u662f\u200b0</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    int a[10] = {1, 2, 3};\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/3array/#_6","title":"\u4e8c\u7ef4\u200b\u6570\u7ec4","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int a[3][3] = {\n        {1, 2, 3},\n        {1, 2, 3},\n        {1, 2, 3}\n    } ;\n\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            a[i][j] = i + j;\n        }\n    }\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            cout &lt;&lt; a[i][j] &lt;&lt; endl;\n        }\n    }\n\n\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main() {\n    int a[10];\n    // const \u200b\u5e38\u91cf\u200b\n    // 40 byte int = 4byte\n    memset(a, -1, 40);\n    // s\u200b\u8fd4\u56de\u200b\u6570\u7ec4\u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b\n    // a \u200b\u590d\u5236\u200b\u7ed9\u200b b\n    memcpy(b, a, sizeof a);\n    memset(a, 0 ,sizeof a);\n    for (int i = 0; i &lt; 10; i++) {\n        cout &lt;&lt; a[i] &lt;&lt; endl;\n    }\n\n\n    return 0;\n}\n</code></pre> <p>\u200b\u51fd\u6570\u200b\u5916\u5806\u200b</p> <p>\u200b\u51fd\u6570\u200b\u5185\u6808\u200b</p> <p>\u200b\u9ed8\u8ba4\u200b\u6808\u200b\u7a7a\u95f4\u200b1mb\u200b\u5c40\u90e8\u53d8\u91cf\u200b\u503c\u200b\u968f\u673a\u200b\u7684\u200b</p> <p>\u200b\u5168\u5c40\u53d8\u91cf\u200b\u662f\u200b0</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n\n    int a[3] = {0, 1, 2};\n    int b[] = {1, 2, 3};\n    // \u200b\u6ca1\u6709\u200b\u7ed9\u51fa\u200b\u7684\u200b\u503c\u200b \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0\n    int c[5] = {1, 2, 3};\n    int d[10] = {0};\n    // \u200b\u4e0d\u200b\u521d\u59cb\u5316\u200b \u200b\u503c\u200b\u662f\u200b\u968f\u673a\u200b\u7684\u200b\n\n\n\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/3array/#_7","title":"\u9898\u76ee","text":""},{"location":"lang/cpp/3array/#k","title":"\u6570\u7ec4\u200b\u7ffb\u8f6c\u200bk\u200b\u6b21","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main() {\n    int a[5] = {1, 2, 3, 4, 5};\n    int k;\n    cin &gt;&gt; k;\n    // [start, end)\n    reverse(a, a + 5);\n    reverse(a, a + k);\n    reverse(a + k, a + 5);\n\n\n\n    for (int i = 0; i &lt; 5; i++) {\n        cout &lt;&lt; a[i];\n    }\n    return 0;\n}\n</code></pre> <p>fabs()</p> <p>abs()</p> <p>sqrt() double</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main() {\n    int i = 3;\n    printf(\"%.20lf\", sqrt(i) * sqrt(i));\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/3array/#_8","title":"\u9ad8\u7cbe\u5ea6\u200b\u8ba1\u7b97","text":"<p>2^n</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 3000;\n\nint main() {\n    int a[N] = {1};\n    int m = 1, n;\n\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++) {\n        int t = 0;\n        for (int j = 0; j &lt; m; j++) {\n            t += a[j] * 2;\n            a[j] = t % 10;\n            t = t / 10;\n        }\n        if (t) a[m++] = 1;\n    }\n\n    for (int i = m - 1; i &gt;= 0; i--) cout &lt;&lt; a[i];\n\n\n}\n</code></pre> <p>==========</p> <pre><code>min(1, 2);\nmax(1, 2);\n</code></pre> <p>\u200b\u8f93\u5165\u200b\u6574\u6570\u200b NN\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b NN \u200b\u9636\u200b\u7684\u200b\u56de\u200b\u5b57\u5f62\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\u3002</p> <p>\u200b\u6570\u7ec4\u200b\u7684\u200b\u6700\u200b\u5916\u5c42\u200b\u4e3a\u200b 11\uff0c\u200b\u6b21\u200b\u5916\u5c42\u200b\u4e3a\u200b 22\uff0c\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002</p>"},{"location":"lang/cpp/3array/#_9","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u5165\u200b\u5305\u542b\u200b\u591a\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b NN\u3002</p> <p>\u200b\u5f53\u200b\u8f93\u5165\u200b\u884c\u4e3a\u200b N=0N=0 \u200b\u65f6\u200b\uff0c\u200b\u8868\u793a\u200b\u8f93\u5165\u200b\u7ed3\u675f\u200b\uff0c\u200b\u4e14\u200b\u8be5\u884c\u200b\u65e0\u9700\u200b\u4f5c\u200b\u4efb\u4f55\u200b\u5904\u7406\u200b\u3002</p>"},{"location":"lang/cpp/3array/#_10","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u8f93\u5165\u200b\u6574\u6570\u200b NN\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6ee1\u8db3\u8981\u6c42\u200b\u7684\u200b NN \u200b\u9636\u200b\u4e8c\u7ef4\u200b\u6570\u7ec4\u200b\u3002</p> <p>\u200b\u6bcf\u4e2a\u200b\u6570\u7ec4\u200b\u5360\u200b NN \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b NN \u200b\u4e2a\u7528\u200b\u7a7a\u683c\u200b\u9694\u5f00\u200b\u7684\u200b\u6574\u6570\u200b\u3002</p> <p>\u200b\u6bcf\u4e2a\u200b\u6570\u7ec4\u200b\u8f93\u51fa\u200b\u5b8c\u6bd5\u200b\u540e\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b\u3002</p>"},{"location":"lang/cpp/3array/#_11","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0\u2264N\u22641000\u2264N\u2264100</p>"},{"location":"lang/cpp/3array/#_12","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1\n2\n3\n4\n5\n0\n</code></pre>"},{"location":"lang/cpp/3array/#_13","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1\n\n1 1\n1 1\n\n1 1 1\n1 2 1\n1 1 1\n\n1 1 1 1\n1 2 2 1\n1 2 2 1\n1 1 1 1\n\n1 1 1 1 1\n1 2 2 2 1\n1 2 3 2 1\n1 2 2 2 1\n1 1 1 1 1\n</code></pre> <p>\u200b\u5750\u6807\u200b\u5230\u200b\u5de6\u8fb9\u200b \u200b\u53f3\u8fb9\u200b \u200b\u4e0a\u8fb9\u200b \u200b\u4e0b\u8fb9\u200b \u200b\u6700\u5c0f\u503c\u200b\u5c31\u662f\u200b\u8be5\u503c\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int n;\n\n    while(true) {\n        cin &gt;&gt; n;\n        if (!n) break;\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                int up = i + 1, down = n - i, left = j + 1, right = n - j;\n                cout &lt;&lt; min(min(up, down), min(left, right));\n                if (j != n - 1) cout &lt;&lt; \" \";\n            }\n            cout &lt;&lt; endl;\n        }\n        cout &lt;&lt; endl;\n\n    }\n\n    return 0;\n}\n</code></pre> <p>cpp \u200b\u4e00\u5b9a\u200b\u8981\u200b\u8d4b\u200b\u521d\u503c\u200b</p> <pre><code>int main() {\n    // \u200b\u8fd9\u4e2a\u200b\u7a7a\u683c\u200b\u4e0d\u4ec5\u200b\u53ef\u4ee5\u200b\u662f\u200b\u7a7a\u683c\u200b \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u6362\u884c\u200b\n    scanf(\"%d %d\",1, 2);\n}\n</code></pre> <p>\u200b\u9632\u6b62\u200b\u79d1\u5b66\u200b\u8f93\u51fa\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main() {\n    int n;\n\n    while (true) {\n        cin &gt;&gt; n;\n        if (!n) return 0;\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                cout &lt;&lt; (long int)pow(2, i + j);\n                if (j != n - 1) cout &lt;&lt; \" \";\n            }\n            cout &lt;&lt; endl;\n        }\n        cout &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre> <pre><code>int a[] = {1, 2, 3};\n</code></pre> <p>\u200b\u86c7\u5f62\u200b\u77e9\u9635\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint res[100][100];\n\nint main() {\n    int dx[] = {0, 1, 0, -1}, dy[] = {1, 0, -1, 0}, m, n;\n    cin &gt;&gt; m &gt;&gt; n;\n    for (int x = 0, y = 0, k = 1, d= 0; k &lt;= m * n; k++) {\n        res[x][y] = k;\n        int a = x + dx[d], b = y + dy[d];\n        if (a &lt; 0 || a &gt;= m || b &lt; 0 || b &gt;= n || res[a][b]) {\n            d = (d + 1) % 4;\n            a = x + dx[d];\n            b = y + dy[d];\n        }\n        x = a;\n        y = b;\n\n    }\n\n    for (int i = 0; i &lt; m; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            cout &lt;&lt; res[i][j] &lt;&lt; \" \";\n\n        }\n        cout &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/4if/","title":"4if","text":""},{"location":"lang/cpp/4if/#_1","title":"\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"lang/cpp/4if/#if","title":"if","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int i = 0;\n    if (i == 0) cout i;\n    else cout i + 1;\n\n    if (i &gt; 0) {\n        i++;\n        cout &lt;&lt; i;\n    }\n\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/4if/#_2","title":"\u5173\u7cfb\u200b\u8868\u8fbe\u5f0f","text":"<ul> <li>\u200b\u5927\u4e8e\u200b &gt;</li> <li>\u200b\u5c0f\u4e8e\u200b &lt;</li> <li>\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b &gt;=</li> <li>\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b &lt;=</li> <li>\u200b\u7b49\u4e8e\u200b ==</li> <li>\u200b\u4e0d\u200b\u7b49\u4e8e\u200b !=</li> </ul>"},{"location":"lang/cpp/4if/#_3","title":"\u6761\u4ef6\u200b\u8868\u8fbe\u5f0f","text":"<ul> <li>\u200b\u4e0e\u200b &amp;&amp;</li> <li>\u200b\u6216\u200b ||</li> <li>\u200b\u975e\u200b !</li> </ul> <p>printf(\"%5d!\\n\", i);</p> <p>\u200b\u5de6\u8fb9\u200b\u8865\u200b\u7a7a\u683c\u200b</p> <p>printf(\"%-5d!\\n\", i);</p> <p>printf(\"%05d!\\n\", i);</p> <p>printf(\"%05.2f!\\n\", m);</p> <pre><code>int t;\ncin &gt;&gt; t;\ncout &lt;&lt; -t &lt;&lt; endl;\n</code></pre> <p>|| \u200b\u7684\u200b\u4f18\u5148\u7ea7\u200b\u5c0f\u4e8e\u200b &amp;&amp;</p> <p>\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5751\u200b\u4e86\u200b</p>"},{"location":"lang/cpp/4if/#_4","title":"\u5750\u6807","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e24\u4e2a\u200b\u4fdd\u7559\u200b\u4e00\u4f4d\u200b\u5c0f\u6570\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b X,YX,Y\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u4e00\u4e2a\u70b9\u200b\u7684\u200b\u6a2a\u200b\u7eb5\u5750\u6807\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u5224\u65ad\u200b\u8be5\u70b9\u200b\u5728\u200b\u5750\u6807\u7cfb\u200b\u4e2d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_5","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e24\u4e2a\u200b\u6d6e\u70b9\u6570\u200b X,YX,Y\uff0c\u200b\u8868\u793a\u200b\u70b9\u200b\u7684\u200b\u6a2a\u200b\u7eb5\u5750\u6807\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_6","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5982\u679c\u200b\u70b9\u200b\u5728\u200b\u7b2c\u4e00\u200b\u8c61\u9650\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>Q1</code>\uff0c\u200b\u5728\u200b\u7b2c\u4e8c\u200b\u8c61\u9650\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>Q2</code>\uff0c\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u70b9\u200b\u5728\u200b\u539f\u70b9\u200b\u5904\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>Origem</code>\u3002</p> <p>\u200b\u5426\u5219\u200b\uff0c\u200b\u5982\u679c\u200b\u70b9\u200b\u5728\u200b xx \u200b\u5750\u6807\u200b\u4e0a\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>Eixo X</code>\uff0c\u200b\u5728\u200b yy \u200b\u5750\u6807\u200b\u4e0a\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>Eixo Y</code>\u3002</p>"},{"location":"lang/cpp/4if/#_7","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>\u221210.0\u2264X,Y\u226410.0\u221210.0\u2264X,Y\u226410.0</p>"},{"location":"lang/cpp/4if/#1","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b1\uff1a","text":"<pre><code>4.5 -2.2\n</code></pre>"},{"location":"lang/cpp/4if/#1_1","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b1\uff1a","text":"<pre><code>Q4\n</code></pre>"},{"location":"lang/cpp/4if/#2","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b2\uff1a","text":"<pre><code>0.0 0.0\n</code></pre>"},{"location":"lang/cpp/4if/#2_1","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b2\uff1a","text":"<pre><code>Origem\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    double a, b;\n    cin &gt;&gt; a &gt;&gt; b;\n    if (a &gt; 0 &amp;&amp; b &gt; 0) {\n        cout &lt;&lt; \"Q1\";\n    } else if (a &lt; 0 &amp;&amp; b &gt; 0) {\n        cout &lt;&lt; \"Q2\";\n    } else if (a &lt; 0 &amp;&amp; b &lt; 0) {\n        cout &lt;&lt; \"Q3\";\n    } else if (a &gt; 0 &amp;&amp; b &lt; 0) {\n        cout &lt;&lt; \"Q4\";\n    } else if (a == 0 &amp;&amp; b == 0) {\n        cout &lt;&lt; \"Origem\";\n    } else if (a == 0) {\n        cout &lt;&lt; \"Eixo Y\";\n    } else if (b == 0) {\n        cout &lt;&lt; \"Eixo X\";\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/4if/#2_2","title":"\u6e38\u620f\u200b\u65f6\u95f4\u200b2","text":"<p>\u200b\u8bfb\u53d6\u200b\u56db\u4e2a\u200b\u6574\u6570\u200b A,B,C,DA,B,C,D\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u6e38\u620f\u200b\u7684\u200b\u5f00\u59cb\u200b\u65f6\u95f4\u200b\u548c\u200b\u7ed3\u675f\u200b\u65f6\u95f4\u200b\u3002</p> <p>\u200b\u5176\u4e2d\u200b AA \u200b\u548c\u200b BB \u200b\u4e3a\u200b\u5f00\u59cb\u200b\u65f6\u523b\u200b\u7684\u200b\u5c0f\u65f6\u200b\u548c\u200b\u5206\u949f\u200b\u6570\u200b\uff0cCC \u200b\u548c\u200b DD \u200b\u4e3a\u200b\u7ed3\u675f\u200b\u65f6\u523b\u200b\u7684\u200b\u5c0f\u65f6\u200b\u548c\u200b\u5206\u949f\u200b\u6570\u200b\u3002</p> <p>\u200b\u8bf7\u200b\u4f60\u200b\u8ba1\u7b97\u200b\u6e38\u620f\u200b\u7684\u200b\u6301\u7eed\u65f6\u95f4\u200b\u3002</p> <p>\u200b\u6bd4\u8d5b\u200b\u6700\u77ed\u200b\u6301\u7eed\u200b 11 \u200b\u5206\u949f\u200b\uff0c\u200b\u6700\u957f\u200b\u6301\u7eed\u200b 2424 \u200b\u5c0f\u65f6\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_8","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u56db\u4e2a\u200b\u6574\u6570\u200b A,B,C,DA,B,C,D\u3002</p>"},{"location":"lang/cpp/4if/#_9","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u683c\u5f0f\u200b\u4e3a\u200b <code>O JOGO DUROU X HORA(S) E Y MINUTO(S)</code>\uff0c\u200b\u8868\u793a\u200b\u6e38\u620f\u200b\u5171\u200b\u6301\u7eed\u200b\u4e86\u200b XX \u200b\u5c0f\u65f6\u200b YY \u200b\u5206\u949f\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_10","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>0\u2264A,C\u2264230\u2264A,C\u226423, 0\u2264B,D\u2264590\u2264B,D\u226459</p>"},{"location":"lang/cpp/4if/#1_2","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b1\uff1a","text":"<pre><code>7 8 9 10\n</code></pre>"},{"location":"lang/cpp/4if/#1_3","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b1\uff1a","text":"<pre><code>O JOGO DUROU 2 HORA(S) E 2 MINUTO(S)\n</code></pre>"},{"location":"lang/cpp/4if/#2_3","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b2\uff1a","text":"<pre><code>7 7 7 7\n</code></pre>"},{"location":"lang/cpp/4if/#2_4","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b2\uff1a","text":"<pre><code>O JOGO DUROU 24 HORA(S) E 0 MINUTO(S)\n</code></pre>"},{"location":"lang/cpp/4if/#3","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b3\uff1a","text":"<pre><code>7 10 8 9\n</code></pre>"},{"location":"lang/cpp/4if/#3_1","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b3\uff1a","text":"<pre><code>O JOGO DUROU 0 HORA(S) E 59 MINUTO(S)\n</code></pre> <p>\u200b\u5c0f\u65f6\u200b\u76f8\u7b49\u200b \u200b\u5206\u949f\u200b\u4e0d\u200b\u7b49\u200b</p> <p>10 9 10 7</p> <p>\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u5fd8\u8bb0\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5316\u6210\u200bmin</p> <pre><code>#include &lt;cstdio&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int a, b, c, d;\n    cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;\n    if (a == c &amp;&amp; b == d) {\n        printf(\"O JOGO DUROU 24 HORA(S) E 0 MINUTO(S)\");\n    } else if (a == c) {\n        if (d &gt; b) printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\",c - a, d - b);\n        else printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\", 24 + c - a - 1, 60 + d - b);\n    } else if (c &gt; a) {\n        if (d &gt;= b) printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\",c - a, d - b);\n        else printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\", c - a - 1, 60 + d - b);\n    } else {\n        if (d &gt;= b) printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\",24 + c - a, d - b);\n        else printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\", 24 + c - a - 1, 60 + d - b);\n    }\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;cstdio&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int a, b, c, d;\n    cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;\n    int s = a * 60 + b;\n    int e = c * 60 + d;\n    int res = e - s;\n    if (res &lt;= 0) res += 1440;\n    printf(\"O JOGO DUROU %d HORA(S) E %d MINUTO(S)\", res / 60, res % 60);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/4if/#_11","title":"\u7b80\u5355\u200b\u7684\u200b\u6392\u5e8f","text":"<p>\u200b\u8bfb\u53d6\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b\u5e76\u200b\u6309\u200b\u5347\u5e8f\u200b\u5bf9\u200b\u5b83\u4eec\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_12","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_13","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u9996\u5148\u200b\uff0c\u200b\u5c06\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b\u6309\u200b\u5347\u5e8f\u200b\u987a\u5e8f\u200b\u8f93\u51fa\u200b\uff0c\u200b\u6bcf\u884c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\u3002</p> <p>\u200b\u7136\u540e\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u7a7a\u884c\u200b\u3002</p> <p>\u200b\u7d27\u63a5\u7740\u200b\uff0c\u200b\u5c06\u200b\u4e09\u4e2a\u200b\u6574\u6570\u200b\u6309\u539f\u200b\u8f93\u5165\u200b\u987a\u5e8f\u200b\u8f93\u51fa\u200b\uff0c\u200b\u6bcf\u884c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\u3002</p>"},{"location":"lang/cpp/4if/#_14","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>\u2212100\u2264\u200b\u8f93\u5165\u200b\u6574\u6570\u200b\u2264100\u2212100\u2264\u200b\u8f93\u5165\u200b\u6574\u6570\u200b\u2264100</p>"},{"location":"lang/cpp/4if/#_15","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>7 21 -14\n</code></pre>"},{"location":"lang/cpp/4if/#_16","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>-14\n7\n21\n\n7\n21\n-14\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int a, b, c, a1, b1, c1, t;\n    cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;\n    a1 = a;\n    b1 = b;\n    c1 = c;\n\n    if (a1 &lt; b1) {\n        t = a1;\n        a1 = b1;\n        b1 = t;\n        if (a1 &lt; c1) {\n            t = a1;\n            a1 = c1;\n            c1 = t;\n        }\n    }\n\n    if (a1 &lt; c1) {\n        t = a1;\n        a1 = c1;\n        c1 = t;\n        if (a1 &lt; b1) {\n            t = a1;\n            a1 = b1;\n            b1 = t;\n        }\n    }\n\n    if (b1  &lt; c1) {\n        t = b1;\n        b1 = c1;\n        c1 = t;\n    }\n\n    cout &lt;&lt; c1 &lt;&lt; endl;\n    cout &lt;&lt; b1 &lt;&lt; endl;\n    cout &lt;&lt; a1 &lt;&lt; endl;\n\n    cout &lt;&lt; endl;\n    cout &lt;&lt; a &lt;&lt; endl;\n    cout &lt;&lt; b &lt;&lt; endl;\n    cout &lt;&lt; c &lt;&lt; endl;\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/5while/","title":"5while","text":""},{"location":"lang/cpp/5while/#_1","title":"\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"lang/cpp/5while/#while","title":"while","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main()\n{\n   int i = 10;\n   while (i != 0) {\n       cout &lt;&lt; i;\n       i--;\n   }\n}\n</code></pre> <p>\u200b\u8f93\u5165\u200b</p> <p>EOF:\u200b\u7ed3\u675f\u7b26\u200b</p> <p>1</p> <pre><code>// \u200b\u8bfb\u200b\u4e0d\u5230\u200b\u5c31\u200b\u4f1a\u200b\u8fd4\u56de\u200bflase\nwhile (cin &gt;&gt; x)\n</code></pre> <p>2</p> <pre><code>// cin &gt;&gt; x, x \n// \u200b\u9017\u53f7\u200b\u8868\u8fbe\u5f0f\u200b \u200b\u4ee5\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\u4e3a\u51c6\u200b \nwhile(cin &gt;&gt; x, x)\n</code></pre> <p>3</p> <pre><code> while(scanf(\"%d\", &amp;x) != -1)\n</code></pre> <p>4</p> <pre><code>while(~scanf(\"%d\", &amp;x))\n</code></pre> <p>\u200b\u8f93\u51fa\u200b%</p> <pre><code>printf(\"%%\");\n</code></pre>"},{"location":"lang/cpp/5while/#do-while","title":"do while","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nint main()\n{\n    int i = 0;\n    do {\n        cout &lt;&lt; i;\n        i++;\n    } while (i != 0);\n}\n</code></pre>"},{"location":"lang/cpp/5while/#for","title":"for","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    int i = 0;\n    for (i; i &lt; 10; i++) cout &lt;&lt; i;\n}\n</code></pre>"},{"location":"lang/cpp/5while/#break-continue","title":"break continue","text":"<p>break\u200b\u8df3\u51fa\u200b\u5f53\u524d\u200b\u5faa\u73af\u200b</p> <p>continue:\u200b\u8df3\u51fa\u200b\u672c\u6b21\u200b\u5faa\u73af\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int n, a = 1, b = 1;\n    cin &gt;&gt; n;\n    int i = 0;\n    while (i &lt; n - 1) {\n        int c = a + b;\n        a = b;\n        b = c;\n        i++;\n    }\n\n    cout &lt;&lt; a;\n    return 0;\n}\n</code></pre> <p>\u200b\u5faa\u73af\u200b\u5feb\u200b</p> <p>\u200b\u9012\u5f52\u200b\u6162\u200b</p> <p>\u200b\u66fc\u54c8\u987f\u200b\u8ddd\u79bb\u200b</p> <pre><code>|x - x1| + |y - y1|\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int n;\n    cin &gt;&gt; n;\n    int mid = n / 2;\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            if ((abs(i - mid) + abs(j - mid)) &lt;= mid) {\n                cout &lt;&lt; \"*\";\n            } else {\n                cout &lt;&lt; \" \";\n            }\n        }\n        cout &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/5while/#_2","title":"\u8fde\u7eed\u200b\u5947\u6570\u200b\u7684\u200b\u548c","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e24\u4e2a\u200b\u6574\u6570\u200b XX \u200b\u548c\u200b YY\uff0c\u200b\u8f93\u51fa\u200b\u5728\u200b\u4ed6\u4eec\u200b\u4e4b\u95f4\u200b\uff08\u200b\u4e0d\u200b\u5305\u62ec\u200b XX \u200b\u548c\u200b YY\uff09\u200b\u7684\u200b\u6240\u6709\u200b\u5947\u6570\u200b\u7684\u200b\u548c\u200b\u3002</p>"},{"location":"lang/cpp/5while/#_3","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u8f93\u5165\u200b XX\uff0c\u200b\u7b2c\u4e8c\u884c\u200b\u8f93\u5165\u200b YY\u3002</p>"},{"location":"lang/cpp/5while/#_4","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6240\u6709\u200b\u6ee1\u8db3\u6761\u4ef6\u200b\u7684\u200b\u5947\u6570\u200b\u7684\u200b\u548c\u200b\u3002</p>"},{"location":"lang/cpp/5while/#_5","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>\u2212100\u2264X,Y\u2264100\u2212100\u2264X,Y\u2264100</p>"},{"location":"lang/cpp/5while/#1","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b1\uff1a","text":"<pre><code>6\n-5\n</code></pre>"},{"location":"lang/cpp/5while/#1_1","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b1\uff1a","text":"<pre><code>5\n</code></pre>"},{"location":"lang/cpp/5while/#2","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b2\uff1a","text":"<pre><code>15\n12\n</code></pre>"},{"location":"lang/cpp/5while/#2_1","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b2\uff1a","text":"<pre><code>13\n</code></pre>"},{"location":"lang/cpp/5while/#3","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b3\uff1a","text":"<pre><code>12\n12\n</code></pre>"},{"location":"lang/cpp/5while/#3_1","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b3\uff1a","text":"<pre><code>0\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u6b63\u8d1f\u6570\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main() {\n    int X, Y, t, res;\n    cin &gt;&gt; X &gt;&gt; Y;\n    if (X &gt; Y) {\n        t = Y;\n        Y = X;\n        X = t;\n    }\n    res = 0;\n    for (int i = X + 1; i &lt; Y; i++) {\n        if (abs(i % 2) == 1) res += i;\n    }\n    cout &lt;&lt; res;\n\n    return 0;\n}\n</code></pre> <p>\u200b\u58f0\u660e\u200b\u591a\u200b\u53d8\u91cf\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int n = 1, index = 0;\n    cout &lt;&lt; n &lt;&lt; index;\n    return 0;\n}\n</code></pre> <p>algorithm</p> <p>swap(x, y)</p>"},{"location":"lang/cpp/5while/#_6","title":"\u8fde\u7eed\u200b\u5947\u6570\u200b\u7684\u200b\u548c","text":"<p>\u200b\u8f93\u5165\u200b NN \u200b\u5bf9\u200b\u6574\u6570\u200b\u5bf9\u200b X,YX,Y\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u5bf9\u200b X,YX,Y\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6c42\u51fa\u200b\u5b83\u4eec\u200b\u4e4b\u95f4\u200b\uff08\u200b\u4e0d\u200b\u5305\u62ec\u200b XX \u200b\u548c\u200b YY\uff09\u200b\u7684\u200b\u6240\u6709\u200b\u5947\u6570\u200b\u7684\u200b\u548c\u200b\u3002</p>"},{"location":"lang/cpp/5while/#_7","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u8f93\u5165\u200b\u6574\u6570\u200b NN\uff0c\u200b\u8868\u793a\u200b\u5171\u6709\u200b NN \u200b\u5bf9\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b NN \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u8f93\u5165\u200b\u4e00\u7ec4\u200b\u6574\u6570\u200b XX \u200b\u548c\u200b YY\u3002</p>"},{"location":"lang/cpp/5while/#_8","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u6bcf\u200b\u5bf9\u200b X,YX,Y \u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u5360\u200b\u4e00\u884c\u200b\u7684\u200b\u5947\u6570\u200b\u548c\u200b\u3002</p>"},{"location":"lang/cpp/5while/#_9","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264N\u22641001\u2264N\u2264100, \u22121000\u2264X,Y\u22641000\u22121000\u2264X,Y\u22641000</p>"},{"location":"lang/cpp/5while/#_10","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>7\n4 5\n13 10\n6 4\n3 3\n3 5\n3 4\n3 8\n</code></pre>"},{"location":"lang/cpp/5while/#_11","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>0\n11\n5\n0\n0\n0\n12\n</code></pre> <p>1  -1 \u200b\u6570\u636e\u200b\u8303\u56f4\u200b</p> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    long int n, x, y;\n    cin &gt;&gt; n;\n\n    for (int i = 0; i &lt; n; i++) {\n        cin &gt;&gt; x &gt;&gt; y;\n        if (x &gt; y) swap(x, y);\n        int res = 0;\n        for (int j = x + 1; j &lt; y; j++) {\n            if (j % 2 == 1 || j % 2 == -1) res += j;\n        }\n        cout &lt;&lt; res &lt;&lt; endl;\n\n    }\n    return 0;\n}\n</code></pre> <p>\u200b\u4e0d\u200b\u8d4b\u503c\u200b \u200b\u5b83\u200b\u7684\u200b\u503c\u200b \u200b\u4e0d\u200b\u786e\u5b9a\u200b</p> <p>\u200b\u8d85\u65f6\u200b</p> <p>CPP:1s \u200b\u4e00\u4ebf\u6b21\u200b</p> <p>\u200b\u5b8c\u5168\u200b\u6570\u200b</p> <p>\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u9664\u4e86\u200b\u672c\u8eab\u200b\u4ee5\u5916\u200b\u7684\u200b\u5176\u4ed6\u200b\u6240\u6709\u200b\u7ea6\u6570\u200b\u7684\u200b\u548c\u200b\u5982\u679c\u200b\u7b49\u4e8e\u200b\u8be5\u6570\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u5c31\u200b\u79f0\u200b\u8fd9\u4e2a\u200b\u6574\u6570\u200b\u4e3a\u200b\u5b8c\u5168\u200b\u6570\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c66 \u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5b8c\u5168\u200b\u6570\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u7684\u200b\u9664\u4e86\u200b\u672c\u8eab\u200b\u4ee5\u5916\u200b\u7684\u200b\u5176\u4ed6\u200b\u7ea6\u6570\u200b\u7684\u200b\u548c\u200b\u4e3a\u200b 1+2+3=61+2+3=6\u3002</p> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u7ed9\u5b9a\u200b\u4f60\u200b NN \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u4f9d\u6b21\u200b\u5224\u65ad\u200b\u8fd9\u4e9b\u200b\u6570\u200b\u662f\u5426\u662f\u200b\u5b8c\u5168\u200b\u6570\u200b\u3002</p>"},{"location":"lang/cpp/5while/#_12","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u6574\u6570\u200b NN\uff0c\u200b\u8868\u793a\u200b\u5171\u6709\u200b NN \u200b\u4e2a\u200b\u6d4b\u8bd5\u7528\u4f8b\u200b\u3002</p> <p>\u200b\u63a5\u4e0b\u6765\u200b NN \u200b\u884c\u200b\uff0c\u200b\u6bcf\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u9700\u8981\u200b\u4f60\u200b\u8fdb\u884c\u200b\u5224\u65ad\u200b\u7684\u200b\u6574\u6570\u200b XX\u3002</p>"},{"location":"lang/cpp/5while/#_13","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u7528\u4f8b\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u7ed3\u679c\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u662f\u200b\u5b8c\u5168\u200b\u6570\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>X is perfect</code>\uff0c\u200b\u5176\u4e2d\u200b XX \u200b\u662f\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u4e0d\u662f\u200b\u5b8c\u5168\u200b\u6570\u200b\uff0c\u200b\u5219\u200b\u8f93\u51fa\u200b <code>X is not perfect</code>\uff0c\u200b\u5176\u4e2d\u200b XX \u200b\u662f\u200b\u6d4b\u8bd5\u6570\u636e\u200b\u3002</p>"},{"location":"lang/cpp/5while/#_14","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264X\u226410^8</p>"},{"location":"lang/cpp/5while/#_15","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n6\n5\n28\n</code></pre>"},{"location":"lang/cpp/5while/#_16","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>6 is perfect\n5 is not perfect\n28 is perfect\n</code></pre> <pre><code>using namespace std;\n\nint main() {\n    long int N, x;\n    cin &gt;&gt; N;\n    while (N--) {\n        cin &gt;&gt; x;\n        long int sum = 0;\n        for (long int i = 1; i * i &lt;= x ; i++) {\n            if (x % i == 0) {\n                if (i &lt; x) sum += i;\n                if (i != x / i &amp;&amp; x / i &lt; x) sum += x / i;\n            }\n        }\n        if (sum == x) cout &lt;&lt; x &lt;&lt; \" is perfect\\n\";\n        else cout &lt;&lt; x &lt;&lt; \" is not perfect\\n\";\n    }\n\n    return 0;\n}\n</code></pre> <p>\u200b\u6210\u200b\u5bf9\u200b\u51fa\u73b0\u200b\u7684\u200b</p> <p>6 </p> <p>2 </p> <p>========</p> <p>3</p>"},{"location":"lang/cpp/6func/","title":"6func","text":""},{"location":"lang/cpp/6func/#_1","title":"\u7406\u8bba","text":""},{"location":"lang/cpp/6func/#_2","title":"\u51fd\u6570","text":""},{"location":"lang/cpp/6func/#_3","title":"\u6837\u4f8b","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n// \u200b\u51fd\u6570\u200b\u58f0\u660e\u200b\nvoid f();\n\n// \u200b\u51fd\u6570\u200b\u5b9a\u4e49\u200b\n// b\u200b\u6709\u200b\u9ed8\u8ba4\u503c\u200b\u4e0d\u4f20\u200b\u4e5f\u200b\u4f1a\u200b\u6709\u503c\u200b\nvoid f(int a, int b = 10) {\n    // \u200b\u9759\u6001\u200b\u53d8\u91cf\u200b \u200b\u5806\u200b \n    // \u200b\u65e0\u8bba\u200b\u8c03\u7528\u200b\u591a\u5c11\u200b\u6b21\u200bf \u200b\u53ea\u4f1a\u200b\u5b9a\u4e49\u200b\u4e00\u6b21\u200bi\n    static int i = 10;\n    cout &lt;&lt; \"hello word\";\n    cout &lt;&lt; a &lt;&lt; b &lt;&lt; endl;\n}\n\nint main() {\n    // \u200b\u4e0d\u5199\u200b\u8fd4\u56de\u503c\u200b \u200b\u4f1a\u200b\u8fd4\u56de\u200b\u968f\u673a\u200b\u503c\u200b\n    f(1);\n    f(2, 3);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/6func/#_4","title":"\u4f20\u9012","text":"<pre><code>int max(int &amp;x, int &amp;y) {\n    x = 1;\n    y = 2;\n    if (x &gt; y) return x;\n    return y;\n}\n</code></pre> <pre><code>// *a a[] a[10]\nvoid out(int *a) {\n    for (int i = 0; i &lt; 3; i++) cout &lt;&lt; a[i];\n    cout  &lt;&lt; endl;\n}\n</code></pre> <pre><code>// (*a)[3]\n// \u200b\u7b2c\u4e00\u200b\u7ef4\u200b\u53c2\u6570\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b \u200b\u7b2c\u4e8c\u200b\u7ef4\u4e0d\u200b\u53ef\u4ee5\u200b a[][3]\n\nvoid output(int a[3][3]) {\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) cout &lt;&lt; a[i][j] &lt;&lt; endl;\n    }\n}\n</code></pre>"},{"location":"lang/cpp/6func/#_5","title":"\u9012\u5f52","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nint sum1(int n, int sum) {\n    if (n == 0) return sum;\n    else {\n        sum = n + sum1(n - 1, sum);\n    }\n\n    return sum;\n}\n// main\u200b\u51fd\u6570\u200b\u5199\u200b\u5728\u200b\u6700\u540e\u200b\nint main() {\n    cout &lt;&lt; sum1(3, 0);\n    return 0;\n}\n</code></pre> <p>-x</p>"},{"location":"lang/cpp/6func/#_6","title":"\u4e60\u9898","text":""},{"location":"lang/cpp/6func/#_7","title":"\u6700\u5c0f\u200b\u516c\u500d\u6570","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint lcm(int a, int b) {\n    if (a &lt; b) swap(a, b);\n    int i = 1;\n    while (i != 0) {\n        if (a * i % b == 0) break;\n        i++;\n    }\n    return a * i;\n}\n\nint main() {\n    int a, b;\n    cin &gt;&gt; a &gt;&gt; b;\n    cout &lt;&lt; lcm(a, b);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/6func/#817","title":"817\u200b\u6570\u7ec4\u200b\u53bb\u200b\u91cd","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b n \u200b\u7684\u200b\u6570\u7ec4\u200b a\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff1a</p> <pre><code>int get_unique_count(int a[], int n);  // \u200b\u8fd4\u56de\u200b\u6570\u7ec4\u200b\u524d\u200bn\u200b\u4e2a\u6570\u200b\u4e2d\u200b\u7684\u200b\u4e0d\u540c\u200b\u6570\u200b\u7684\u200b\u4e2a\u6570\u200b\n</code></pre>"},{"location":"lang/cpp/6func/#_8","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u7b2c\u4e00\u884c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b n\u3002</p> <p>\u200b\u7b2c\u4e8c\u884c\u200b\u5305\u542b\u200b n \u200b\u4e2a\u200b\u6574\u6570\u200b\uff0c\u200b\u8868\u793a\u200b\u6570\u7ec4\u200b a\u3002</p>"},{"location":"lang/cpp/6func/#_9","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\u8868\u793a\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u4e0d\u540c\u200b\u6570\u200b\u7684\u200b\u4e2a\u6570\u200b\u3002</p>"},{"location":"lang/cpp/6func/#_10","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u22641000, 1\u2264ai\u22641000</p>"},{"location":"lang/cpp/6func/#_11","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>5\n1 1 2 4 5\n</code></pre>"},{"location":"lang/cpp/6func/#_12","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>4\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint unique(int n, int a[]) {\n    int cnt = 0;\n    for (int i = 0; i &lt; n; i++) {\n        bool is_exists = false;\n        for (int j = 0; j &lt; i; j++) {\n            if (a[j] == a[i]) {\n                is_exists = true;\n                break;\n            }\n        }\n        if (!is_exists) cnt++;\n    }\n    return cnt;\n}\n\n\nint main() {\n    int n, a[1000];\n    cin &gt;&gt; n;\n    for (int i = 0; i &lt; n; i++) cin &gt;&gt; a[i];\n    cout &lt;&lt; unique(n, a);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/6func/#823","title":"823\u200b\u6392\u5217","text":"<p>\u200b\u7ed9\u5b9a\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b nn\uff0c\u200b\u5c06\u200b\u6570\u5b57\u200b 1\u223cn1\u223cn \u200b\u6392\u6210\u200b\u4e00\u6392\u200b\uff0c\u200b\u5c06\u4f1a\u200b\u6709\u200b\u5f88\u200b\u591a\u79cd\u200b\u6392\u5217\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\uff0c\u200b\u8bf7\u200b\u4f60\u200b\u6309\u7167\u200b\u5b57\u5178\u200b\u5e8f\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b\u6392\u5217\u200b\u65b9\u6cd5\u200b\u8f93\u51fa\u200b\u3002</p>"},{"location":"lang/cpp/6func/#_13","title":"\u8f93\u5165\u200b\u683c\u5f0f","text":"<p>\u200b\u5171\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b nn\u3002</p>"},{"location":"lang/cpp/6func/#_14","title":"\u8f93\u51fa\u200b\u683c\u5f0f","text":"<p>\u200b\u6309\u200b\u5b57\u5178\u200b\u5e8f\u200b\u8f93\u51fa\u200b\u6240\u6709\u200b\u6392\u5217\u200b\u65b9\u6848\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u65b9\u6848\u200b\u5360\u200b\u4e00\u884c\u200b\u3002</p>"},{"location":"lang/cpp/6func/#_15","title":"\u6570\u636e\u200b\u8303\u56f4","text":"<p>1\u2264n\u226491\u2264n\u22649</p>"},{"location":"lang/cpp/6func/#_16","title":"\u8f93\u5165\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>3\n</code></pre>"},{"location":"lang/cpp/6func/#_17","title":"\u8f93\u51fa\u200b\u6837\u4f8b\u200b\uff1a","text":"<pre><code>1 2 3\n1 3 2\n2 1 3\n2 3 1\n3 1 2\n3 2 1\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nconst int N = 10;\nint n;\n\nvoid dfs(int nums[], bool has_visited[], int index) {\n    if (index &gt; n) {\n        for (int i = 1; i &lt;= n; i++) cout &lt;&lt; nums[i] &lt;&lt; ' ';\n        cout &lt;&lt; endl;\n        return;\n    }\n\n    for (int i = 1; i &lt;= n; i++) {\n        if (has_visited[i]) continue;\n        has_visited[i] = true;\n        nums[index] = i;\n        dfs(nums, has_visited, index + 1);\n        has_visited[i] = false;\n    }\n}\n\nint main() {\n    int nums[N];\n    bool has_visited[N] = {false};\n    cin &gt;&gt; n;\n    dfs(nums, has_visited, 1);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/7class/","title":"7class","text":""},{"location":"lang/cpp/7class/#_1","title":"\u6982\u5ff5","text":""},{"location":"lang/cpp/7class/#_2","title":"\u7c7b","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Solution {\n\npublic:\n    // \u200b\u65b9\u6cd5\u200b\n    int add(int i, int j) {\n        return i + j;\n    }\n    int age = 11;\n    // \u200b\u6784\u9020\u51fd\u6570\u200b\n    Solution() {}\n    A(int _age, string _name) : age(_age), name(_name){}\n    // Solution(int _age) : age(_age){}\n\n    Solution(int _age) {\n        age = _age;\n    }\n\n\n// \u200b\u58f0\u660e\u200b\u51e0\u4e2a\u200b\u53d8\u91cf\u200b\n}solution1, solution2, solution3[10];\n\nint main() {\n    // \u200b\u53d8\u91cf\u200b . \u200b\u8bbf\u95ee\u200b\n    Solution s = Solution(23);\n    // s.age = 12;\n    cout &lt;&lt; s.age;\n    cout &lt;&lt; endl;\n    // \u200b\u6307\u9488\u200b -&gt; \u200b\u8fdb\u884c\u200b\u8bbf\u95ee\u200b\n    Solution* s1 = new Solution();\n    s1 -&gt; age = 13;\n    cout &lt;&lt; s1 -&gt; age;\n\n    return 0;\n}\n</code></pre> <p>\u200b\u7c7b\u4e2d\u200b\u7684\u200b\u53d8\u91cf\u200b\u548c\u200b\u51fd\u6570\u200b\u88ab\u200b\u7edf\u4e00\u200b\u79f0\u4e3a\u200b\u7c7b\u200b\u7684\u200b\u6210\u5458\u200b\u53d8\u91cf\u200b\u3002</p> <p>private:\u200b\u7c7b\u200b\u7684\u200b\u5916\u90e8\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b</p> <p>public:\u200b\u7c7b\u200b\u7684\u200b\u5916\u90e8\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b</p> <p>\u200b\u7c7b\u200b\u7ed3\u675f\u200b\u52a0\u200b\uff1b</p> <p>\u200b\u90fd\u200b\u662f\u200bpublic\u200b\u4e0d\u7528\u200b\u5199\u200b\u6784\u9020\u200b\u5668\u200b\uff0c\u200b\u76f4\u63a5\u200b{} \u200b\u5426\u5219\u200b\u9700\u8981\u200b\u5199\u200b\u6784\u9020\u200b\u5668\u200b</p>"},{"location":"lang/cpp/7class/#_3","title":"\u7ed3\u6784\u200b\u4f53","text":"<pre><code>struct Book {\n\n    int age = 11;\n    string name;\n};\n\nint main() {\n\n    Book b = Book();\n    cout &lt;&lt; b.name;\n    Book b1 = {11, \"matt\"};\n\n    return 0;\n}\n</code></pre> <p>\u200b\u7ed3\u6784\u200b\u4f53\u200b\u7684\u200b\u7528\u6cd5\u200b\u548c\u200b\u7c7b\u200b\u4e00\u6a21\u4e00\u6837\u200b\uff0c\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\u7c7b\u200b\u9ed8\u8ba4\u200b\u662f\u200bprivate,\u200b\u7ed3\u6784\u200b\u4f53\u662f\u200bpublic</p>"},{"location":"lang/cpp/7class/#_4","title":"\u6307\u9488","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n\n    int a = 10;\n    // \u200b\u6307\u9488\u200b\u7684\u200b\u58f0\u660e\u200b\n    // &amp;a \u200b\u83b7\u53d6\u200ba\u200b\u7684\u200b\u5730\u5740\u200b\n    int p = &amp;a;\n    // int* p = &amp;a; \n    // int&amp; p = a; p\u200b\u76f8\u5f53\u4e8e\u200ba\u200b\u7684\u200b\u522b\u540d\u200b\n    cout &lt;&lt; p &lt;&lt; endl;\n    // \u200b\u4fee\u6539\u200bp\u200b\u7684\u200b\u503c\u200b\n    *p = 12;\n    // *p\u200b\u53d6\u5f97\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\n    cout &lt;&lt; *p;\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/7class/#_5","title":"\u94fe\u8868","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nstruct Node {\n  int val;\n  Node* next;\n  Node(){}\n  Node(int _val) : val(_val){}\n\n}*head;\n\nint main() {\n    for (int i = 1; i &lt; 5; i++) {\n        // Node() \u200b\u53d8\u91cf\u200b   new Node(i) \u200b\u6307\u9488\u200b\n        Node* p = new Node(i);\n        //\u200b\u6307\u9488\u200b -&gt; \u200b\u53d8\u91cf\u200b.\n        p -&gt; next = head;\n        head = p;\n    }\n    Node* p = head;\n    while (p) {\n        cout &lt;&lt; p -&gt; val &lt;&lt; ' ';\n        p = p -&gt; next;\n    }\n\n    return 0;\n}\n</code></pre> <p>\u200b\u6808\u200b\u4ece\u200b\u4e0a\u200b\u5f80\u200b\u4e0b\u200b \u200b\u968f\u673a\u200b\u7684\u200b</p> <p>\u200b\u5806\u200b\u4ece\u200b\u4e0b\u200b\u5f80\u200b\u4e0a\u200b \u200b\u4f1a\u200b\u6709\u200b\u9ed8\u8ba4\u503c\u200b</p>"},{"location":"lang/cpp/7class/#_6","title":"\u4e60\u9898","text":""},{"location":"lang/cpp/7class/#8412n","title":"84\u200b\u6c42\u200b1+2+...+n","text":"<p>\u200b\u6c42\u200b 1+2+\u2026+n\uff0c\u200b\u8981\u6c42\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u4e58\u9664\u200b\u6cd5\u200b\u3001for\u3001while\u3001if\u3001else\u3001switch\u3001case \u200b\u7b49\u200b\u5173\u952e\u5b57\u200b\u53ca\u200b\u6761\u4ef6\u200b\u5224\u65ad\u200b\u8bed\u53e5\u200b (A?B:C)\u3002</p>"},{"location":"lang/cpp/7class/#_7","title":"\u6837\u4f8b","text":"<pre><code>\u200b\u8f93\u5165\u200b\uff1a10\n\n\u200b\u8f93\u51fa\u200b\uff1a55\n</code></pre>"},{"location":"lang/cpp/7class/#_8","title":"\u601d\u8def","text":"<p>\u200b\u5de7\u5999\u200b\u7684\u200b\u4f7f\u7528\u200b\u4e86\u200b&amp;&amp; \u200b\u7684\u200b\u77ed\u8def\u200b\u529f\u80fd\u200b</p>"},{"location":"lang/cpp/7class/#code","title":"code","text":"<pre><code>class Solution {\npublic:\n    int getSum(int n) {\n        int res = 0;\n        //  return \u200b\u4e0d\u80fd\u200b\u653e\u5728\u200b\u6761\u4ef6\u200b\u8868\u8fbe\u5f0f\u200b\u91cc\u9762\u200b\n        n &gt; 0 &amp;&amp; (res += getSum(n - 1) + n);\n        return res;\n    }\n\n};\n</code></pre>"},{"location":"lang/cpp/7class/#o1","title":"o1\u200b\u65f6\u95f4\u200b\u5220\u9664\u200b\u8282\u70b9","text":"<p>\u200b\u7ed9\u5b9a\u200b\u5355\u5411\u200b\u94fe\u8868\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u6307\u9488\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u5728\u200bO(1)\u200b\u65f6\u95f4\u200b\u5220\u9664\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u3002</p> <p>\u200b\u5047\u8bbe\u200b\u94fe\u8868\u200b\u4e00\u5b9a\u200b\u5b58\u5728\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8be5\u200b\u8282\u70b9\u200b\u4e00\u5b9a\u200b\u4e0d\u662f\u200b\u5c3e\u200b\u8282\u70b9\u200b\u3002</p>"},{"location":"lang/cpp/7class/#_9","title":"\u6837\u4f8b","text":"<pre><code>\u200b\u8f93\u5165\u200b\uff1a\u200b\u94fe\u8868\u200b 1-&gt;4-&gt;6-&gt;8\n      \u200b\u5220\u6389\u200b\u8282\u70b9\u200b\uff1a\u200b\u7b2c\u200b2\u200b\u4e2a\u200b\u8282\u70b9\u200b\u5373\u200b6\uff08\u200b\u5934\u200b\u8282\u70b9\u200b\u4e3a\u200b\u7b2c\u200b0\u200b\u4e2a\u200b\u8282\u70b9\u200b\uff09\n\n\u200b\u8f93\u51fa\u200b\uff1a\u200b\u65b0\u200b\u94fe\u8868\u200b 1-&gt;4-&gt;8\n</code></pre>"},{"location":"lang/cpp/7class/#_10","title":"\u601d\u8def","text":"<p>\u200b\u6574\u4f53\u200b\u8d4b\u503c\u200b</p>"},{"location":"lang/cpp/7class/#code_1","title":"code","text":"<pre><code>class Solution {\npublic:\n    void deleteNode(ListNode* node) {\n        // node -&gt; val = node -&gt; next -&gt; val;\n        // node -&gt; next = node -&gt; next -&gt; next;\n        // \u200b\u6574\u4f53\u200b\u8d4b\u503c\u200b\n        *node = *(node -&gt; next);\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_11","title":"\u5408\u5e76\u200b\u4fe9\u4e2a\u200b\u6709\u5e8f\u200b\u94fe\u8868","text":"<p>\u200b\u8f93\u5165\u200b\u4e24\u4e2a\u200b\u9012\u589e\u200b\u6392\u5e8f\u200b\u7684\u200b\u94fe\u8868\u200b\uff0c\u200b\u5408\u5e76\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u94fe\u8868\u200b\u5e76\u200b\u4f7f\u200b\u65b0\u200b\u94fe\u8868\u200b\u4e2d\u200b\u7684\u200b\u7ed3\u70b9\u200b\u4ecd\u7136\u200b\u662f\u200b\u6309\u7167\u200b\u9012\u589e\u200b\u6392\u5e8f\u200b\u7684\u200b\u3002</p>"},{"location":"lang/cpp/7class/#_12","title":"\u6837\u4f8b","text":"<pre><code>\u200b\u8f93\u5165\u200b\uff1a1-&gt;3-&gt;5 , 2-&gt;4-&gt;5\n\n\u200b\u8f93\u51fa\u200b\uff1a1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;5\n</code></pre>"},{"location":"lang/cpp/7class/#_13","title":"\u601d\u8def","text":"<p>tail = tail -&gt; next = l1;</p> <p>\u200b\u7b49\u4ef7\u200b\u4e8e\u200b</p> <p>tail -&gt; nest = l1;</p> <p>tail = tail -&gt; next;</p>"},{"location":"lang/cpp/7class/#code_2","title":"code","text":""},{"location":"lang/cpp/7class/#_14","title":"\u5783\u573e\u200b\u4ee3\u7801","text":"<pre><code>class Solution {\npublic:\n    ListNode* merge(ListNode* l1, ListNode* l2) {\n        if (!l1) return l2;\n        else if (!l2) return l1;\n        ListNode* head = new ListNode(-1), *node = new ListNode(-1);\n        if (l1 -&gt; val &lt; l2 -&gt; val) head -&gt; next = l1;\n        else head -&gt; next = l2;\n        node = head;\n        while (l1 &amp;&amp; l2) {\n            if (l1 -&gt; val &lt; l2 -&gt; val) {\n                node -&gt; next = l1;\n                l1 = l1 -&gt; next;\n            } else {\n                node -&gt; next = l2;\n                l2 = l2 -&gt;  ;\n            }\n            node = node -&gt; next;\n        }\n\n        if (l1) node -&gt; next = l1;\n\n        if (l2) node -&gt; next = l2;\n        return head -&gt; next;\n\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_15","title":"\u4f18\u79c0\u200b\u4ee3\u7801","text":"<pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode(int x) : val(x), next(NULL) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* merge(ListNode* l1, ListNode* l2) {\n        auto dummy = new ListNode(-1), tail = dummy;\n        while(l1 &amp;&amp; l2) {\n            if (l1 -&gt; val &lt; l2 -&gt; val) {\n                tail = tail -&gt; next = l1;\n                l1 = l1 -&gt; next;\n            } else {\n                tail = tail -&gt; next = l2;\n                l2 = l2 -&gt; next;\n            }\n        }\n\n        if (l1) tail -&gt; next = l1;\n        if (l2) tail -&gt; next = l2;\n        return dummy -&gt; next;\n\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_16","title":"\u7ffb\u8f6c\u200b\u94fe\u8868","text":""},{"location":"lang/cpp/7class/#_17","title":"\u601d\u8def","text":"<p>\u200b\u58f0\u660e\u200b\u4fe9\u4e2a\u200b\u8282\u70b9\u200b p q</p>"},{"location":"lang/cpp/7class/#_18","title":"\u5783\u573e\u200b\u4ee3\u7801","text":"<pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode(int x) : val(x), next(NULL) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* reverseList(ListNode* head) {\n        ListNode* node = new ListNode(-1);\n        ListNode* next;\n        while(head) {\n            next = head -&gt; next;\n            head -&gt; next = node -&gt; next;\n            node -&gt; next = head;\n            head = next;\n        } \n        return node -&gt;  next;\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_19","title":"\u4f18\u79c0\u200b\u4ee3\u7801","text":"<pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode(int x) : val(x), next(NULL) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* reverseList(ListNode* head) {\n        if (!head || !head -&gt; next) return head;\n\n        auto p = head, q = head -&gt; next;\n        while(q) {\n            auto o = q -&gt; next;\n            q -&gt; next = p;\n            p = q, q = o;\n        }\n        head -&gt; next = NULL;\n        return p;\n\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_20","title":"\u9012\u5f52","text":"<pre><code>class Solution {\npublic:\n    ListNode* reverseList(ListNode* head) {\n        if (!head || !head -&gt; next) return head;\n        auto res = reverseList(head -&gt; next);\n        head -&gt; next -&gt; next = head;\n        head -&gt; next = NULL;\n        return res;\n\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_21","title":"\u4fe9\u4e2a\u200b\u94fe\u8868\u200b\u627e\u200b\u516c\u5171\u200b\u7684\u200b\u8282\u70b9","text":"<p>\u200b\u7a7a\u200b\u8282\u70b9\u200b</p> <p>0 NULL nullptr</p>"},{"location":"lang/cpp/7class/#_22","title":"\u601d\u8def","text":""},{"location":"lang/cpp/7class/#code_3","title":"code","text":"<pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode(int x) : val(x), next(NULL) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode *findFirstCommonNode(ListNode *headA, ListNode *headB) {\n        auto l1 = headA;\n        auto l2 = headB;\n\n        while(l1 != l2) {\n            if (l1) l1 = l1 -&gt; next;\n            else l1 = headB;\n            if (l2) l2 = l2 -&gt; next;\n            else l2 = headA;\n        }\n\n\n        return l1;\n\n    }\n};\n</code></pre>"},{"location":"lang/cpp/7class/#_23","title":"\u5220\u9664\u200b\u91cd\u590d\u200b\u7684\u200b\u8282\u70b9","text":"<p>1-&gt; 2-&gt; 2-&gt; 3-&gt; 3</p> <p>1-&gt;3</p> <pre><code>/**\n * Definition for singly-linked list.\n * struct ListNode {\n *     int val;\n *     ListNode *next;\n *     ListNode(int x) : val(x), next(NULL) {}\n * };\n */\nclass Solution {\npublic:\n    ListNode* deleteDuplication(ListNode* head) {\n        auto dummy = new ListNode(-1);\n        dummy -&gt; next = head;\n        auto p = dummy;\n        while (p -&gt; next) {\n            auto q = p -&gt; next;\n            while(q -&gt; next &amp;&amp; q -&gt; val == q -&gt; next -&gt; val) q = q -&gt; next;\n\n\n            if (p -&gt; next != q)  {\n                p -&gt; next = q -&gt; next;\n            } else {\n                p = q;\n            }\n\n\n        }\n\n        return dummy -&gt; next;\n\n    }\n};\n</code></pre>"},{"location":"lang/cpp/arr/","title":"Arr","text":""},{"location":"lang/cpp/arr/#array","title":"array","text":"<p>\u200b\u58f0\u660e\u200b&amp;\u200b\u521d\u59cb\u5316\u200b</p> <pre><code>// \u200b\u58f0\u660e\u200b\nint a1[10];\n// \u200b\u521d\u59cb\u5316\u200b\na1[10] = {1, 2, 3}\nint a3[10][10] = {\n        {\n                1, 2, 3\n        }\n};\n</code></pre> <p>\u200b\u5c40\u90e8\u53d8\u91cf\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u503c\u200b\u662f\u200b\u968f\u673a\u200b\u7684\u200b</p> <p>\u200b\u5168\u5c40\u53d8\u91cf\u200b\u672a\u200b\u521d\u59cb\u5316\u200b\u5219\u200b\u662f\u200b\u9ed8\u8ba4\u503c\u200b</p> <p>sizeof:\u200b\u83b7\u53d6\u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b</p> <pre><code>// \u200b\u5982\u4e0b\u200b\u65b9\u6cd5\u200b\u9700\u8981\u200b\u5f15\u5165\u200b cstring\n// \u200b\u6309\u7167\u200b\u5b57\u8282\u200b\u8d4b\u503c\u200b\nmemset(a, -1, sizeof a);\n// src\u200b\u6570\u7ec4\u200b\u8d4b\u503c\u200b\u7ed9\u200bdst\nmemcpy(dst, src, sizeof src);\n</code></pre>"},{"location":"lang/cpp/arr/#ctrl","title":"ctrl \u200b\u63a7\u5236\u200b\u8bed\u53e5","text":""},{"location":"lang/cpp/arr/#if","title":"if","text":"<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    int i = 10;\n    cin &gt;&gt; i;\n    if (i &lt; 0) {\n        cout &lt;&lt; -1;\n    } else if (i &gt; 0) {\n        cout &lt;&lt; 1;\n    } else {\n        cout &lt;&lt; 0;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/arr/#while","title":"while","text":""},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/","title":"\u4f4d\u200b\u8fd0\u7b97","text":"<p>&amp; \u200b\u4e0e\u200b</p> <p>| \u200b\u6216\u200b</p> <p>~ \u200b\u975e\u200b</p> <p>^ \u200b\u5f02\u6216\u200b</p> <p>&gt;&gt; \u200b\u53f3\u79fb\u200b</p> <p>&lt;&lt; \u200b\u5de6\u79fb\u200b</p> <p>(1)  \u200b\u6c42\u200bx\u200b\u7684\u200b\u7b2c\u200bk\u200b\u4f4d\u200b\u6570\u5b57\u200b x &gt;&gt; k &amp; 1</p> <p>(2)  lowbit(x) = x &amp; -x\uff0c\u200b\u8fd4\u56de\u200bx\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b1</p> <p>100</p> <p>-100 </p> <p>100 \u200b\u53d6\u53cd\u200b+1</p>"},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/#_1","title":"\u5e38\u7528\u200b\u5e93\u51fd\u6570","text":""},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/#reverse","title":"reverse","text":"<p>\u200b\u7ffb\u8f6c\u200b</p> <pre><code>reverse(a.begin(), a.end())\n</code></pre>"},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/#unique","title":"unique","text":"<p>\u200b\u53bb\u200b\u91cd\u200b</p> <p>\u200b\u9002\u5408\u200b1  2 2 3 3 4</p> <p>\u200b\u4e0d\u200b\u9002\u5408\u200b 1 2 2 3 2</p> <pre><code>unique(a.begin(), a.end())\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main() {\n    vector&lt;int&gt; a({1, 2, 3, 3, 4});\n\n    int p = unique(a.begin(), a.end()) - a.begin();\n\n    cout &lt;&lt; p;\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/#random_shuffle","title":"random_shuffle","text":"<pre><code>random_shuffle(c.begin(), c.end());\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n#include &lt;ctime&gt;\n\nusing namespace std;\n\n// a \u200b\u662f\u5426\u200b\u6392\u200b\u5728\u200bb\u200b\u7684\u200b\u524d\u9762\u200b a &gt; b a \u200b\u5728\u200b\u524d\u9762\u200b\nbool cmp(int a, int b) {\n    return a &gt; b;\n}\n\n\nint main() {\n\n    srand(time(0));\n\n\n    vector&lt;int&gt; c({1, 2, 3, 4, 5});\n    random_shuffle(c.begin(), c.end());\n    for (auto x : c) cout &lt;&lt; x &lt;&lt; ' ';\n\n    cout &lt;&lt; endl;\n    sort(c.begin(), c.end());\n     for (auto x : c) cout &lt;&lt; x &lt;&lt; ' ';\n     cout &lt;&lt; endl;\n     //sort(c.begin(), c.end(), greater&lt;int&gt;());\n     sort(c.begin(), c.end(), cmp);\n      for (auto x : c) cout &lt;&lt; x &lt;&lt; ' ';\n     cout &lt;&lt; endl;\n\n\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/#sort","title":"sort","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nstruct User {\n    int x, y;\n    // \u200b\u5f53\u524d\u200b\u548c\u200b\u540e\u200b\u4e00\u4e2a\u200b\u6bd4\u8f83\u200b\n    bool operator&lt; (const User &amp;u) const {\n        return x &gt; u.x;\n    }\n}a[5];\n\nbool cmp(User a, User b) {\n    return a.x &gt; b.x;\n}\n\nint main() {\n\n    for (int i = 0; i &lt; 5; i++) {\n        a[i].x = i;\n        a[i].y = -i;\n    }\n\n    for (int i = 0; i &lt; 5; i++) cout &lt;&lt; a[i].x &lt;&lt; a[i].y &lt;&lt; ' ';\n    // sort(a, a + 5, greater&lt;int&gt;())\n    // sort(a, a + 5, cmp);\n    sort(a, a + 5);\n    cout &lt;&lt; endl;\n    for (int i = 0; i &lt; 5; i++) cout &lt;&lt; a[i].x &lt;&lt; a[i].y &lt;&lt; ' ';\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/%E4%BD%8D%E8%BF%90%E7%AE%97/#lower_bound-upper_bound","title":"lower_bound upper_bound","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main() {\n    int a[] = {1, 2, 3, 4, 5};\n\n    int p = lower_bound(a, a + 5, 2) - a;\n    // 1\n    cout &lt;&lt; p;\n\n\n    return 0;\n}\n</code></pre> <pre><code>class Solution {\npublic:\n    void reOrderArray(vector&lt;int&gt; &amp;array) {\n         int i = 0, j = array.size() - 1;\n\n         while (i &lt; j) {\n             while (i &lt; j &amp;&amp; array[i] % 2 == 1) i++;\n             while (i &lt; j &amp;&amp; array[j] % 2 == 0) j--;\n             swap(array[i], array[j]);\n             i++;\n             j--;\n         }\n         return;\n    }\n};\n</code></pre> <pre><code>class Solution {\npublic:\n    vector&lt;vector&lt;int&gt;&gt; permutation(vector&lt;int&gt;&amp; nums) {\n        vector&lt;vector&lt;int&gt;&gt; res;\n        sort(nums.begin(), nums.end());\n        do {\n            res.push_back(nums);\n        } while (next_permutation(nums.begin(), nums.end()));\n        return res;\n    }\n};\n</code></pre> <pre><code>class Solution {\npublic:\n    int NumberOf1(int n) {\n        int cnt = 0;\n        for (int i = 0; i&lt; 32; i++) {\n            if (n &amp; 1) cnt++;\n            n &gt;&gt;= 1;\n        }\n        return cnt;\n    }\n};\n</code></pre> <pre><code>class Solution {\npublic:\n    int NumberOf1(int n) {\n        int res = 0;\n        while (n) {\n            n -=  n &amp; -n;\n            res++;\n        }\n        return res;\n    }\n};\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nstruct Rec {\n        int m;\n        double n;\n        string s;\n}r[10000];\n\nbool cmp(Rec m1, Rec m2) {\n    return m1.m &lt; m2.m;\n}\n\nint main() {\n    int m;\n    int c;\n    double n;\n    string s;\n\n    scanf(\"%d\", &amp;c);\n    for (int i = 0; i &lt; c; i++) {\n        cin &gt;&gt; r[i].m &gt;&gt; r[i].n &gt;&gt; r[i].s;\n    }\n    sort(r, r + c, cmp);\n\n    for (int i = 0; i &lt; c; i++) {\n        printf(\"%d %.2lf %s\\n\", r[i].m, r[i].n, r[i].s.c_str());\n    }\n\n    return 0;\n\n}\n</code></pre>"},{"location":"lang/cpp/1stl/0init/","title":"0init","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;queue&gt;\n#include &lt;stack&gt;\n#include &lt;deque&gt;\n#include &lt;set&gt;\n#include &lt;map&gt;\n\nusing namespace std;\n\nint main() {\n    vector&lt;int&gt; v1({1, 2, 3});\n    v1 = {1, 2, 3};\n\n    queue&lt;int&gt; q({1, 2, 3});\n    // \u200b\u9519\u8bef\u200b\n    //q = {1, 2, 3};\n\n    deque&lt;int&gt; d1 = {1, 2, 3};\n\n    stack&lt;int&gt; stk1({1, 2, 3});\n    // \u200b\u9519\u8bef\u200b\n    // stack&lt;int&gt; s = {1, 2, 3};\n\n\n    set&lt;int&gt; s1 = {1, 2, 3};\n    set&lt;int&gt; s2({1, 2, 3});\n\n    map&lt;string, string&gt; m1({{1, 2}});\n\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;queue&gt;\n#include &lt;stack&gt;\n#include &lt;deque&gt;\n#include &lt;set&gt;\n#include &lt;map&gt;\n\nusing namespace std;\n\nint main() {\n\n\n\n\n    map&lt;string, string&gt; m1 = {\n        {\"name\", \"matt\"}\n    };\n\n    m1.insert({\"age\", \"17\"});\n\n    for (auto i = m1.begin(); i != m1.end(); i++) cout &lt;&lt; i -&gt; first;\n\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    // pair \u200b\u5728\u200biostream\u200b\u91cc\u9762\u200b\n    pair&lt;int, int&gt; p1 = {1, 2};\n    cout &lt;&lt; p1.first;\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1stl/1stl/","title":"1stl","text":""},{"location":"lang/cpp/1stl/1stl/#vector","title":"vector","text":"<p>vector\u200b\u662f\u200b\u53d8\u957f\u200b\u6570\u7ec4\u200b\uff0c\u200b\u652f\u6301\u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u5728\u200b\u4efb\u610f\u200b\u4f4d\u7f6e\u200bO(1)\u200b\u63d2\u5165\u200b\u3002\u200b\u4e3a\u4e86\u200b\u4fdd\u8bc1\u200b\u6548\u7387\u200b\uff0c\u200b\u5143\u7d20\u200b\u7684\u200b\u589e\u5220\u200b\u4e00\u822c\u200b\u5e94\u8be5\u200b\u5728\u200b\u672b\u5c3e\u200b\u8fdb\u884c\u200b\u3002</p>"},{"location":"lang/cpp/1stl/1stl/#_1","title":"\u57fa\u672c\u200b\u4f7f\u7528","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main() {\n    // \u200b\u521d\u59cb\u5316\u200b\n    vector&lt;int&gt; a({1, 2, 3});\n    a = {1, 2, 3};\n\n    // empty size clear\n    cout &lt;&lt; a.size() &lt;&lt; endl;  \n    cout &lt;&lt; a.empty() &lt;&lt; endl;\n    cout &lt;&lt; a.size() &lt;&lt; endl;\n\n\n    // \u200b\u8bbf\u95ee\u200b\n    cout &lt;&lt; a[0];\n\n    // \u200b\u8fed\u4ee3\u200b\u5668\u200b \u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u6307\u9488\u200b\n    cout &lt;&lt; \"iterator\";\n    vector&lt;int&gt;::iterator it = a.begin();\n    while (it != a.end()) {\n        cout &lt;&lt;  *it &lt;&lt; endl;\n        it++;\n    }\n\n\n    // front \u200b\u7b2c\u4e00\u4e2a\u200b\n    // back \u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\n    cout &lt;&lt; a.front() &lt;&lt; endl;\n    cout &lt;&lt; a.back() &lt;&lt; endl;\n\n    // \u200b\u4ece\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6dfb\u52a0\u200b\n    a.push_back(4);\n    cout &lt;&lt; a.back() &lt;&lt; endl;\n    // \u200b\u5220\u9664\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\n    a.pop_back();\n\n\n\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main() {\n    vector&lt;int&gt; a({1, 2, 3});\n    vector&lt;int&gt; b = {1, 2, 3, 4};\n    for (vector&lt;int&gt;::iterator it = a.begin(); it != a.end(); it++) {\n        cout &lt;&lt; *it;\n    }\n    cout &lt;&lt; endl;\n\n    for (auto it = b.begin(); it != b.end(); it++) cout &lt;&lt; *it;\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1stl/1stl/#queue","title":"queue","text":"<p>\u200b\u961f\u5217\u200b</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;queue&gt;\n\nusing namespace std;\n\nint main() {\n   queue&lt;int&gt; q({1, 3, 4});\n    // \u200b\u9519\u8bef\u200b\u7684\u200b\u3001\n    //q = {1, 2};\n   // push \u200b\u538b\u5165\u200b pop \u200b\u5f39\u200b\u51fa\u200b\n   q.push(1);\n   q.push(2);\n\n\n   cout &lt;&lt; q.size();\n   q.pop();\n   cout &lt;&lt; q.size();\n\n   cout &lt;&lt; endl;\n   // front \u200b\u5934\u200b back \u200b\u5c3e\u5df4\u200b\n   cout &lt;&lt; q.front() &lt;&lt; q.back();\n    return 0;\n}\n</code></pre> <p>priority_queue</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;queue&gt;\n\nusing namespace std;\n\nint main() {\n\n    priority_queue&lt;int&gt; p;\n    p.push(1);\n    p.push(2);\n    p.pop();\n    // cout &lt;&lt; p.size();\n\n    cout &lt;&lt; p.top();\n\n    cout &lt;&lt; \"\u200b\u5c0f\u6839\u5806\u200b\";\n    priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; q;\n    // priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; q\n    q.push(10);\n    q.push(2);\n    cout &lt;&lt; q.top();\n\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;queue&gt;\n\nusing namespace std;\n\nstruct User {\n    int x, y;\n    bool operator&lt; (const User &amp;u) const {\n        return x &lt; u.x;\n    }\n};\n\n// \u200b\u524d\u9762\u200b\u548c\u200b\u540e\u9762\u200b\u6bd4\u8f83\u200b\nbool cmp(User u1, User u2) {\n   return u1.x &gt; u2.x;\n}\n\nint main () {\n    priority_queue&lt;User&gt; p;\n    p.push({1, 2});\n    p.push({10, 3});\n    p.push({4, 3});\n\n    // \u200b\u6ce8\u610f\u200b\u8fd0\u7b97\u7b26\u200b\u4f18\u5148\u7ea7\u200b\n    cout &lt;&lt; (p.top().x);\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1stl/1stl/#stack","title":"stack","text":"<pre><code>#include &lt;stack&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n\n    stack&lt;int&gt; s;\n    s.push(1);\n    // top \u200b\u8fd4\u56de\u200b\u7a7a\u200b\n    s.pop();\n\n    cout &lt;&lt; s.top();\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1stl/1stl/#deque","title":"deque","text":"<p>\u200b\u53cc\u7aef\u200b\u961f\u5217\u200bdeque\u200b\u662f\u200b\u4e00\u4e2a\u200b\u652f\u6301\u200b\u5728\u200b\u4e24\u7aef\u200b\u9ad8\u6548\u200b\u63d2\u5165\u200b\u6216\u200b\u5220\u9664\u200b\u5143\u7d20\u200b\u7684\u200b\u8fde\u7eed\u200b\u7ebf\u6027\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002\u200b\u5b83\u200b\u5c31\u200b\u50cf\u662f\u200bvector\u200b\u548c\u200bqueue\u200b\u7684\u200b\u7ed3\u5408\u200b\u3002\u200b\u4e0e\u200bvector\u200b\u76f8\u6bd4\u200b\uff0cdeque\u200b\u5728\u200b\u5934\u90e8\u200b\u589e\u5220\u200b\u5143\u7d20\u200b\u4ec5\u200b\u9700\u8981\u200bO(1)\u200b\u7684\u200b\u65f6\u95f4\u200b\uff1b\u200b\u4e0e\u200bqueue\u200b\u76f8\u6bd4\u200b\uff0cdeque\u200b\u50cf\u200b\u6570\u7ec4\u200b\u4e00\u6837\u200b\u652f\u6301\u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b\u3002</p> <pre><code>#include &lt;iostream&gt;\n#include &lt;deque&gt;\n\nusing namespace std;\n\nint main() {\n\n  deque&lt;int&gt; d;\n  // push_front push_back pop_front pop_back\n  // front back\n  // begin end\n  // []\n   d.push_front(1);\n   d.push_front(2);\n   d.push_back(3);\n   d.pop_back();\n   cout &lt;&lt; d.front();\n   cout &lt;&lt; endl;\n   for (auto it = d.begin(); it != d.end(); it++) cout &lt;&lt; *it &lt;&lt; ' ';    \n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1stl/1stl/#set","title":"set","text":"<p>\u200b\u5934\u6587\u4ef6\u200bset\u200b\u4e3b\u8981\u200b\u5305\u62ec\u200bset\u200b\u548c\u200bmultiset\u200b\u4e24\u4e2a\u200b\u5bb9\u5668\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\u201c\u200b\u6709\u5e8f\u200b\u96c6\u5408\u200b\u201d\u200b\u548c\u200b\u201c\u200b\u6709\u5e8f\u200b\u591a\u91cd\u200b\u96c6\u5408\u200b\u201d\uff0c\u200b\u5373\u200b\u524d\u8005\u200b\u7684\u200b\u5143\u7d20\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b\uff0c\u200b\u800c\u200b\u540e\u8005\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u82e5\u5e72\u4e2a\u200b\u76f8\u7b49\u200b\u7684\u200b\u5143\u7d20\u200b\u3002set\u200b\u548c\u200bmultiset\u200b\u7684\u200b\u5185\u90e8\u200b\u5b9e\u73b0\u200b\u662f\u200b\u4e00\u68f5\u200b\u7ea2\u9ed1\u6811\u200b\uff0c\u200b\u5b83\u4eec\u200b\u652f\u6301\u200b\u7684\u200b\u51fd\u6570\u200b\u57fa\u672c\u76f8\u540c\u200b\u3002</p> <pre><code>#include &lt;set&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n\n    // empty size clear\n\n    // begin end find insert\n    // lower_bound upper_bound\n    // erase count\n\n    set&lt;int&gt; s1({1,2 ,-3});\n    s1 = {1, 2, 3};\n    set&lt;int&gt; s;\n    s.insert(1);\n    s.insert(1);\n    s.insert(2);\n    s.insert(34);\n    s.insert(40);\n    cout &lt;&lt; s.size();\n    cout &lt;&lt; \"find\" &lt;&lt; endl;\n    cout &lt;&lt; (s.find(3) == s.end());\n\n    // it++ it--\n    for (auto it = s.begin(); it != s.end(); it++) cout &lt;&lt; *it;\n\n    cout &lt;&lt; endl;\n    auto it = s.lower_bound(34);\n    cout &lt;&lt; \"lower_bound\" &lt;&lt; *it;\n    cout &lt;&lt; endl;\n    it = s.upper_bound(34);\n    cout &lt;&lt; \"upper_bound\" &lt;&lt; *it;\n    s.erase(it);\n    cout &lt;&lt; endl;\n    cout &lt;&lt; s.count(40);\n\n\n    return 0;\n}\n</code></pre>"},{"location":"lang/cpp/1stl/1stl/#map","title":"map","text":"<p>map\u200b\u5bb9\u5668\u200b\u662f\u200b\u4e00\u4e2a\u200b\u952e\u503c\u200b\u5bf9\u200bkey-value\u200b\u7684\u200b\u6620\u5c04\u200b\uff0c\u200b\u5176\u200b\u5185\u90e8\u200b\u5b9e\u73b0\u200b\u662f\u200b\u4e00\u68f5\u200b\u4ee5\u200bkey\u200b\u4e3a\u200b\u5173\u952e\u7801\u200b\u7684\u200b\u7ea2\u200b\u9ed1\u6811\u200b\u3002Map\u200b\u7684\u200bkey\u200b\u548c\u200bvalue\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u610f\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5176\u4e2d\u200bkey\u200b\u5fc5\u987b\u200b\u5b9a\u4e49\u200b\u5c0f\u4e8e\u53f7\u200b\u8fd0\u7b97\u7b26\u200b\u3002</p> <pre><code>#include &lt;map&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\n\nint main() {\n\n    // empty size clear\n    // []\n\n    map&lt;string, string&gt; m1{{\"a\", \"a1\"}, {\"b\", \"b1\"}};\n    m1 = {{\"a\", \"b\"}};\n    map&lt;int, int&gt; m1;\n    m1[1] = 2;\n    m1.insert({1, 2});\n\n\n    // begin end find insert\n    cout &lt;&lt; (m1.find(1) == m1.end()); \n\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"base\" &lt;&lt; m1.empty() &lt;&lt; m1.size();\n    m1.clear();\n    cout &lt;&lt; \"clear\";\n    cout &lt;&lt; m1.size();\n\n    // begin end\n    cout &lt;&lt; \"begin end\" &lt;&lt; endl;\n    for (auto it = m1.begin(); it != m1.end(); it++) cout &lt;&lt; (it-&gt;first) &lt;&lt;  (it -&gt; second);\n\n    return 0;\n}\n</code></pre> <pre><code>// unordered_set \u200b\u65e0\u5e8f\u200bset o(1)\n// unordered_multiset&lt;int&gt;\n\n// unordered_map \u200b\u4e00\u822c\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b cpp 11\u200b\u652f\u6301\u200b\n\n\n    pair&lt;int, string&gt; p, q;\n    p = {1, \"matt\"};\n\n    // cpp 99\n    p = make_pair(1, \"bb\");\n    cout &lt;&lt; p.first &lt;&lt; p.second;\n</code></pre> <pre><code>#include &lt;iostream&gt;\n#include &lt;bitset&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main() {\n   bitset&lt;10&gt; s;\n   // \u200b\u4ece\u200b\u540e\u9762\u200b\n   s.set(3);\n   cout &lt;&lt; s;\n   s.reset(3);\n   cout &lt;&lt; endl;\n   cout &lt;&lt; s;\n\n    return 0;\n}\n</code></pre> <pre><code>0000001000\n0000000000\n</code></pre>"},{"location":"lang/go/name/","title":"Go \u200b\u5e38\u89c1\u200b\u547d\u540d\u200b\u5355\u8bcd\u200b\u4e0e\u200b\u533a\u522b\u200b\u8be6\u89e3","text":""},{"location":"lang/go/name/#1","title":"1. \u200b\u521b\u5efa\u200b\u76f8\u5173","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b New \u200b\u8fd4\u56de\u200b\u65b0\u200b\u5b9e\u4f8b\u200b \u200b\u5e38\u7528\u200b\u4e8e\u200b\u6784\u9020\u51fd\u6570\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u6d89\u53ca\u200b\u5916\u90e8\u200b\u8d44\u6e90\u200b \u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b/\u200b\u6307\u9488\u200b <code>NewUser(name string) *User</code> Create \u200b\u521b\u5efa\u200b\u5e76\u200b\u6301\u4e45\u200b\u5316\u200b \u200b\u4f34\u968f\u200b\u526f\u4f5c\u7528\u200b\uff08\u200b\u5199\u200b\u6570\u636e\u5e93\u200b\u3001\u200b\u53d1\u200b\u8bf7\u6c42\u200b\u7b49\u200b\uff09 \u200b\u8d44\u6e90\u200b\u843d\u5730\u200b\u3001\u200b\u4e1a\u52a1\u200b\u521b\u5efa\u200b <code>CreateUser(ctx, user)</code> Build \u200b\u6309\u200b\u6b65\u9aa4\u200b\u7ec4\u88c5\u200b \u200b\u8fc7\u7a0b\u200b\u578b\u200b\u521b\u5efa\u200b\uff0c\u200b\u53ef\u200b\u6709\u200b\u4e2d\u95f4\u72b6\u6001\u200b \u200b\u590d\u6742\u200b\u5bf9\u8c61\u200b\u751f\u6210\u200b\u3001\u200b\u6784\u9020\u200b\u5668\u200b\u6a21\u5f0f\u200b <code>BuildRequest(cfg)</code> Init \u200b\u521d\u59cb\u5316\u200b\u5df2\u6709\u200b\u5bf9\u8c61\u200b \u200b\u4e0d\u200b\u65b0\u5efa\u200b\uff0c\u200b\u4fee\u6539\u200b\u73b0\u6709\u200b\u5b9e\u4f8b\u200b\u521d\u59cb\u72b6\u6001\u200b \u200b\u6a21\u5757\u200b\u542f\u52a8\u200b\u3001\u200b\u590d\u7528\u200b\u5bf9\u8c61\u200b <code>u.Init(name)</code> Setup \u200b\u914d\u7f6e\u200b\u5e76\u200b\u51c6\u5907\u200b\u53ef\u7528\u200b \u200b\u73af\u5883\u200b\u51c6\u5907\u200b\uff0c\u200b\u53ef\u200b\u5305\u542b\u200b Init \u200b\u548c\u200b\u914d\u7f6e\u200b \u200b\u670d\u52a1\u200b/\u200b\u6d4b\u8bd5\u200b\u51c6\u5907\u200b <code>SetupServer(s)</code> Make Go \u200b\u5173\u952e\u5b57\u200b \u200b\u521b\u5efa\u200b slice/map/channel \u200b\u96c6\u5408\u200b\u521d\u59cb\u5316\u200b <code>make(map[string]string)</code>"},{"location":"lang/go/name/#2","title":"2. \u200b\u83b7\u53d6\u200b\u76f8\u5173","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Get \u200b\u83b7\u53d6\u200b\u5df2\u6709\u200b\u6570\u636e\u200b \u200b\u4e3b\u52a8\u200b\u53d6\u56de\u200b\uff0c\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u6570\u636e\u200b\u6765\u6e90\u200b Getter \u200b\u65b9\u6cd5\u200b\u3001\u200b\u7f13\u5b58\u200b <code>GetUser(id)</code> Fetch \u200b\u83b7\u53d6\u200b\u5e76\u200b\u53ef\u80fd\u200b\u66f4\u65b0\u200b \u200b\u5e38\u200b\u6d89\u53ca\u200b\u5916\u90e8\u200b\u8bf7\u6c42\u200b/\u200b\u8017\u65f6\u200b\u64cd\u4f5c\u200b HTTP\u3001API \u200b\u62c9\u53d6\u200b <code>FetchPostsFromAPI()</code> Find \u200b\u641c\u7d22\u200b\u5e76\u200b\u8fd4\u56de\u200b\u5339\u914d\u200b\u9879\u200b \u200b\u67e5\u627e\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u5bf9\u8c61\u200b \u200b\u5217\u8868\u200b/\u200b\u96c6\u5408\u200b\u641c\u7d22\u200b <code>FindUserByName(name)</code> Load \u200b\u4ece\u200b\u5b58\u50a8\u200b\u52a0\u8f7d\u200b \u200b\u6765\u6e90\u200b\u56fa\u5b9a\u200b\uff08\u200b\u78c1\u76d8\u200b\u3001DB\u3001\u200b\u7f13\u5b58\u200b\uff09 \u200b\u6587\u4ef6\u200b\u3001\u200b\u914d\u7f6e\u200b\u3001\u200b\u6301\u4e45\u200b\u5316\u200b\u6570\u636e\u200b <code>LoadConfig(path)</code> Read \u200b\u987a\u5e8f\u200b\u8bfb\u53d6\u200b \u200b\u6d41\u200b/\u200b\u6587\u4ef6\u200b/\u200b\u7f51\u7edc\u200b\u8bfb\u53d6\u200b\uff0c\u200b\u5f3a\u8c03\u200b\u8fc7\u7a0b\u200b I/O \u200b\u64cd\u4f5c\u200b <code>ReadFile(file)</code> Query \u200b\u6570\u636e\u5e93\u200b/\u200b\u7ed3\u6784\u5316\u200b\u67e5\u8be2\u200b \u200b\u53ef\u80fd\u200b\u5e26\u200b\u6761\u4ef6\u200b\uff0c\u200b\u8fd4\u56de\u200b\u96c6\u5408\u200b SQL/\u200b\u641c\u7d22\u5f15\u64ce\u200b <code>QueryUsers(filter)</code> Lookup \u200b\u952e\u503c\u200b\u67e5\u627e\u200b \u200b\u5feb\u901f\u200b\u5b9a\u4f4d\u200b\u503c\u200b\uff0c\u200b\u4e0d\u200b\u904d\u5386\u200b Map\u3001\u200b\u7d22\u5f15\u200b\u67e5\u627e\u200b <code>Lookup(key)</code>"},{"location":"lang/go/name/#3","title":"3. \u200b\u8bbe\u7f6e\u200b\u4e0e\u200b\u66f4\u65b0","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Set \u200b\u76f4\u63a5\u200b\u8d4b\u503c\u200b \u200b\u4e00\u6b21\u6027\u200b\u66f4\u65b0\u200b\u67d0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b/\u200b\u914d\u7f6e\u200b Setter \u200b\u65b9\u6cd5\u200b <code>SetTimeout(d)</code> Assign \u200b\u6307\u6d3e\u200b \u200b\u8bed\u4e49\u200b\u6bd4\u200b Set \u200b\u66f4\u200b\u6b63\u5f0f\u200b\uff0c\u200b\u53ef\u200b\u6279\u91cf\u200b \u200b\u6743\u9650\u200b\u5206\u914d\u200b\u3001\u200b\u53d8\u91cf\u200b\u8d4b\u503c\u200b <code>AssignRole(user, role)</code> Apply \u200b\u5e94\u7528\u200b\u914d\u7f6e\u200b/\u200b\u64cd\u4f5c\u200b \u200b\u6279\u91cf\u200b\u751f\u6548\u200b\uff0c\u200b\u53ef\u80fd\u200b\u6709\u200b\u6821\u9a8c\u200b \u200b\u6837\u5f0f\u200b\u3001\u200b\u7b56\u7565\u200b\u5e94\u7528\u200b <code>ApplyConfig(cfg)</code> Update \u200b\u5c40\u90e8\u200b\u66f4\u65b0\u200b \u200b\u6539\u52a8\u200b\u5df2\u6709\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b \u200b\u6570\u636e\u5e93\u200b\u66f4\u65b0\u200b\u3001\u200b\u72b6\u6001\u200b\u66f4\u65b0\u200b <code>UpdateUserEmail(id, email)</code> Modify \u200b\u4fee\u6539\u200b \u200b\u540c\u200b Update\uff0c\u200b\u4f46\u200b\u591a\u200b\u7528\u4e8e\u200b\u5185\u90e8\u200b\u72b6\u6001\u200b\u53d8\u66f4\u200b \u200b\u5bf9\u8c61\u200b\u53d8\u66f4\u200b <code>ModifySettings(s)</code> Refresh \u200b\u5237\u65b0\u200b\u6570\u636e\u200b \u200b\u4ece\u6e90\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u6700\u65b0\u200b\u72b6\u6001\u200b \u200b\u7f13\u5b58\u200b\u3001\u200b\u5217\u8868\u200b\u5237\u65b0\u200b <code>RefreshCache()</code> Replace \u200b\u66ff\u6362\u200b \u200b\u5b8c\u5168\u200b\u66ff\u6362\u200b\u539f\u503c\u200b \u200b\u6587\u4ef6\u200b\u66ff\u6362\u200b\u3001\u200b\u5168\u91cf\u200b\u66f4\u65b0\u200b <code>ReplaceConfig(newCfg)</code> Patch \u200b\u8865\u4e01\u200b\u5f0f\u200b\u66f4\u65b0\u200b \u200b\u5c40\u90e8\u200b\u6539\u52a8\u200b\uff0c\u200b\u4e0d\u200b\u5168\u91cf\u200b\u66ff\u6362\u200b JSON Patch\u3001\u200b\u589e\u91cf\u200b\u66f4\u65b0\u200b <code>PatchUserData(id, patch)</code>"},{"location":"lang/go/name/#4","title":"4. \u200b\u5220\u9664\u200b\u4e0e\u200b\u6e05\u7406","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Delete \u200b\u5220\u9664\u200b\u5bf9\u8c61\u200b \u200b\u903b\u8f91\u200b/\u200b\u7269\u7406\u200b\u5220\u9664\u200b\u5747\u200b\u53ef\u200b \u200b\u5220\u9664\u200b\u7528\u6237\u200b\u3001\u200b\u8bb0\u5f55\u200b <code>DeleteUser(id)</code> Remove \u200b\u79fb\u9664\u200b \u200b\u66f4\u200b\u504f\u200b\u4ece\u200b\u96c6\u5408\u200b\u4e2d\u200b\u79fb\u51fa\u200b \u200b\u5217\u8868\u200b\u79fb\u9664\u200b\u5143\u7d20\u200b <code>RemoveItem(list, item)</code> Drop \u200b\u4e22\u5f03\u200b \u200b\u4e0d\u200b\u5173\u5fc3\u200b\u72b6\u6001\u200b\uff0c\u200b\u76f4\u63a5\u200b\u653e\u5f03\u200b \u200b\u6570\u636e\u5e93\u200b\u8868\u200b\u5220\u9664\u200b <code>DropTable(name)</code> Clear \u200b\u6e05\u7a7a\u200b \u200b\u5168\u90e8\u200b\u79fb\u9664\u200b \u200b\u6e05\u7a7a\u200b\u7f13\u5b58\u200b <code>ClearCache()</code> Purge \u200b\u5f7b\u5e95\u6e05\u9664\u200b \u200b\u4e0d\u53ef\u200b\u6062\u590d\u200b \u200b\u5386\u53f2\u8bb0\u5f55\u200b\u6e05\u7406\u200b <code>PurgeLogs()</code>"},{"location":"lang/go/name/#5","title":"5. \u200b\u68c0\u67e5\u200b\u4e0e\u200b\u9a8c\u8bc1","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Check \u200b\u68c0\u67e5\u200b\u6761\u4ef6\u200b \u200b\u7b80\u5355\u200b\u5224\u65ad\u200b \u200b\u5065\u5eb7\u68c0\u67e5\u200b <code>CheckHealth()</code> Verify \u200b\u6821\u9a8c\u200b\u771f\u5b9e\u6027\u200b \u200b\u7ed3\u679c\u200b\u9700\u8981\u200b\u88ab\u200b\u4fe1\u4efb\u200b \u200b\u7b7e\u540d\u200b\u9a8c\u8bc1\u200b <code>VerifyToken(token)</code> Validate \u200b\u6821\u9a8c\u200b\u5408\u6cd5\u6027\u200b \u200b\u591a\u200b\u7528\u4e8e\u200b\u8f93\u5165\u200b/\u200b\u914d\u7f6e\u200b \u200b\u8868\u5355\u200b\u9a8c\u8bc1\u200b <code>ValidateInput(data)</code> Ensure \u200b\u786e\u4fdd\u200b\u6761\u4ef6\u200b\u6210\u7acb\u200b \u200b\u53ef\u80fd\u200b\u5305\u542b\u200b\u4fee\u590d\u200b\u6b65\u9aa4\u200b \u200b\u521b\u5efa\u200b\u76ee\u5f55\u200b\uff08\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u5efa\u200b\uff09 <code>EnsureDirExists(path)</code> Confirm \u200b\u786e\u8ba4\u200b \u200b\u7528\u6237\u200b\u4ea4\u4e92\u5f0f\u200b\u786e\u8ba4\u200b \u200b\u5f39\u7a97\u200b\u786e\u8ba4\u200b <code>ConfirmAction()</code> Test \u200b\u6d4b\u8bd5\u200b \u200b\u5355\u5143\u200b/\u200b\u96c6\u6210\u200b\u6d4b\u8bd5\u200b \u200b\u65ad\u8a00\u200b\u3001\u200b\u7528\u4f8b\u200b <code>TestConnection()</code>"},{"location":"lang/go/name/#6","title":"6. \u200b\u8f6c\u6362\u200b\u4e0e\u200b\u5904\u7406","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Convert \u200b\u7c7b\u578b\u8f6c\u6362\u200b \u200b\u4fdd\u7559\u200b\u7b49\u4ef7\u200b\u6570\u636e\u200b <code>int</code> \u200b\u8f6c\u200b <code>string</code> <code>ConvertToString(val)</code> Transform \u200b\u7ed3\u6784\u200b\u8f6c\u6362\u200b \u200b\u7ed3\u6784\u200b\u6216\u200b\u5f62\u6001\u200b\u6539\u53d8\u200b JSON \u2192 Struct <code>TransformUserDTO(u)</code> Cast \u200b\u5f3a\u5236\u200b\u7c7b\u578b\u8f6c\u6362\u200b \u200b\u4f4e\u200b\u5c42\u7ea7\u200b\u8bed\u4e49\u200b\uff0c\u200b\u5c11\u200b\u7528\u200b \u200b\u6307\u9488\u200b\u7c7b\u578b\u8f6c\u6362\u200b <code>CastToType(x)</code> Map \u200b\u6620\u5c04\u200b \u200b\u96c6\u5408\u200b\u5143\u7d20\u200b\u6620\u5c04\u200b\u8f6c\u6362\u200b Map \u200b\u51fd\u6570\u200b <code>MapStrings(list, fn)</code> Marshal \u200b\u5e8f\u5217\u5316\u200b Go \u2192 JSON/XML/... <code>json.Marshal(v)</code> Unmarshal \u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b JSON/XML/... \u2192 Go <code>json.Unmarshal(data, &amp;v)</code> Serialize \u200b\u5e8f\u5217\u5316\u200b\uff08\u200b\u901a\u7528\u200b\uff09 \u200b\u6570\u636e\u7ed3\u6784\u200b \u2192 \u200b\u5b57\u8282\u200b\u6d41\u200b <code>Serialize(obj)</code> Deserialize \u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\uff08\u200b\u901a\u7528\u200b\uff09 \u200b\u5b57\u8282\u200b\u6d41\u200b \u2192 \u200b\u6570\u636e\u7ed3\u6784\u200b <code>Deserialize(data)</code>"},{"location":"lang/go/name/#7","title":"7. \u200b\u63a7\u5236\u200b\u4e0e\u200b\u6267\u884c","text":"\u5355\u8bcd\u200b \u200b\u542b\u4e49\u200b \u200b\u7279\u70b9\u200b/\u200b\u533a\u522b\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Run \u200b\u6267\u884c\u200b\u4e3b\u200b\u4efb\u52a1\u200b \u200b\u4e3b\u6d41\u7a0b\u200b\u6267\u884c\u200b <code>RunServer()</code> Do \u200b\u6267\u884c\u200b\u67d0\u200b\u64cd\u4f5c\u200b \u200b\u4e00\u822c\u6027\u200b\u6267\u884c\u200b <code>DoRequest()</code> Exec \u200b\u6267\u884c\u547d\u4ee4\u200b \u200b\u7cfb\u7edf\u200b/SQL/\u200b\u5916\u90e8\u200b\u7a0b\u5e8f\u200b <code>ExecCommand(cmd)</code> Execute \u200b\u6267\u884c\u200b \u200b\u540c\u200b Exec\uff0c\u200b\u8bed\u4e49\u200b\u66f4\u200b\u6b63\u5f0f\u200b <code>ExecutePlan()</code> Process \u200b\u5904\u7406\u200b \u200b\u5305\u542b\u200b\u591a\u4e2a\u200b\u6b65\u9aa4\u200b <code>ProcessMessage(msg)</code> Operate \u200b\u64cd\u4f5c\u200b \u200b\u504f\u200b\u4e1a\u52a1\u200b\u64cd\u4f5c\u200b <code>OperateMachine()</code>"},{"location":"lang/go/name/#8","title":"8. \u200b\u5e38\u89c1\u200b\u5e03\u5c14\u200b\u524d\u7f00","text":"\u524d\u7f00\u200b \u200b\u542b\u4e49\u200b \u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b Is \u200b\u662f\u5426\u200b \u200b\u72b6\u6001\u200b\u5224\u65ad\u200b <code>IsActive()</code> Has \u200b\u62e5\u6709\u200b/\u200b\u5b58\u5728\u200b \u200b\u5bf9\u8c61\u200b\u5185\u90e8\u200b\u72b6\u6001\u200b <code>HasPermission()</code> Can \u200b\u80fd\u591f\u200b/\u200b\u53ef\u884c\u200b \u200b\u5bf9\u8c61\u200b \u200b\u80fd\u529b\u200b/\u200b\u6761\u4ef6\u200b <code>CanRetry()</code> Should \u200b\u5e94\u8be5\u200b/\u200b\u63a8\u8350\u200b \u200b\u64cd\u4f5c\u200b \u200b\u89c4\u5219\u200b/\u200b\u7b56\u7565\u200b/\u200b\u63a8\u8350\u200b <code>ShouldUpdate()</code> Allow \u200b\u5141\u8bb8\u200b/\u200b\u53ef\u4ee5\u200b \u200b\u68c0\u67e5\u200b\u5916\u90e8\u200b\u89c4\u5219\u200b\u6216\u200b\u6743\u9650\u200b <code>AllowGuest()</code> Enable/Disable \u200b\u5f00\u5173\u200b \u200b\u6a21\u5757\u200b\u542f\u505c\u200b <code>EnableCache()</code>"},{"location":"lang/go/name/#9","title":"9. \u200b\u5e38\u7528\u200b\u7ed3\u6784\u200b\u4f53\u200b\u540e\u7f00\u200b\uff08\u200b\u6982\u5ff5\u200b\u533a\u5206\u200b\uff09","text":"\u540e\u7f00\u200b \u200b\u8bed\u4e49\u200b \u200b\u533a\u522b\u200b \u200b\u793a\u4f8b\u200b Info \u200b\u4fe1\u606f\u200b\u5feb\u7167\u200b \u200b\u6982\u89c8\u200b/\u200b\u5143\u200b\u6570\u636e\u200b <code>FileInfo</code> Data \u200b\u6838\u5fc3\u200b\u6570\u636e\u200b \u200b\u539f\u59cb\u200b/\u200b\u4f20\u8f93\u6570\u636e\u200b <code>SensorData</code> Detail \u200b\u8be6\u7ec6\u200b\u6570\u636e\u200b \u200b\u5b8c\u6574\u200b\u4e1a\u52a1\u200b\u6570\u636e\u200b <code>OrderDetail</code> Stats \u200b\u7edf\u8ba1\u6570\u636e\u200b \u200b\u805a\u5408\u200b/\u200b\u5206\u6790\u200b <code>UserStats</code> Summary \u200b\u6458\u8981\u200b \u200b\u7b80\u8981\u200b\u62a5\u544a\u200b <code>OrderSummary</code> Record \u200b\u8bb0\u5f55\u200b \u200b\u5386\u53f2\u200b\u6761\u76ee\u200b <code>LogRecord</code> Entry \u200b\u96c6\u5408\u200b\u9879\u200b \u200b\u5217\u8868\u200b\u5143\u7d20\u200b <code>QueueEntry</code> Config \u200b\u914d\u7f6e\u200b \u200b\u53c2\u6570\u200b\u96c6\u5408\u200b <code>DBConfig</code> Param \u200b\u53c2\u6570\u200b \u200b\u8f93\u5165\u200b\u53c2\u6570\u200b <code>LoginParam</code> Request \u200b\u8bf7\u6c42\u200b API \u200b\u8f93\u5165\u200b <code>LoginRequest</code> Response \u200b\u54cd\u5e94\u200b API \u200b\u8f93\u51fa\u200b <code>LoginResponse</code> Result \u200b\u7ed3\u679c\u200b \u200b\u64cd\u4f5c\u200b\u8f93\u51fa\u200b <code>QueryResult</code> State \u200b\u72b6\u6001\u200b \u200b\u5f53\u524d\u200b\u72b6\u6001\u200b <code>TaskState</code> Status \u200b\u72b6\u6001\u200b\u7801\u200b \u200b\u679a\u4e3e\u200b\u5316\u200b\u72b6\u6001\u200b <code>JobStatus</code> Model \u200b\u6570\u636e\u6a21\u578b\u200b ORM/\u200b\u6301\u4e45\u200b\u5316\u200b <code>UserModel</code> Entity \u200b\u4e1a\u52a1\u200b\u5b9e\u4f53\u200b DDD \u200b\u6838\u5fc3\u200b\u5bf9\u8c61\u200b <code>UserEntity</code> Profile \u200b\u6863\u6848\u200b \u200b\u914d\u7f6e\u200b\u6982\u8981\u200b/\u200b\u7528\u6237\u200b\u8d44\u6599\u200b <code>UserProfile</code> Meta \u200b\u5143\u200b\u6570\u636e\u200b \u200b\u6570\u636e\u200b\u7684\u200b\u63cf\u8ff0\u200b\u4fe1\u606f\u200b <code>ImageMeta</code> <ol> <li> <ul> <li>item / elem\uff1a\u200b\u66f4\u200b\u901a\u7528\u200b\u7684\u200b\u96c6\u5408\u200b\u5143\u7d20\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5f3a\u8c03\u200b\u8bb0\u5f55\u200b\u6216\u200b\u6761\u76ee\u200b\u6027\u8d28\u200b\u3002</li> <li>node\uff1a\u200b\u5f3a\u8c03\u200b\u6570\u636e\u7ed3\u6784\u200b\u4e2d\u200b\u7684\u200b\u8282\u70b9\u200b\uff08\u200b\u6811\u200b\u3001\u200b\u94fe\u8868\u200b\u3001\u200b\u56fe\u200b\uff09\u3002</li> <li>record\uff1a\u200b\u66f4\u200b\u504f\u200b\u6570\u636e\u5e93\u200b\u6216\u200b\u65e5\u5fd7\u200b\u4e0a\u4e0b\u6587\u200b\uff0c\u200b\u6bd4\u200b entry \u200b\u66f4\u200b\u6b63\u5f0f\u200b\u3002</li> <li>entry\uff1a\u200b\u4ecb\u4e8e\u200b item \u200b\u548c\u200b record \u200b\u4e4b\u95f4\u200b\uff0c\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u662f\u200b\u96c6\u5408\u200b\u5143\u7d20\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u65e5\u5fd7\u200b/\u200b\u914d\u7f6e\u200b\u6761\u76ee\u200b\u3002</li> </ul> </li> </ol> <p>info \u200b\u5185\u5bb9\u200b</p> <p>meta \u200b\u63cf\u8ff0\u200b\u6570\u636e\u200b\u7684\u200b\u5c5e\u6027\u200b\u3001\u200b\u4e0a\u4e0b\u6587\u200b</p> \u200b\u8bcd\u6c47\u200b \u200b\u542b\u4e49\u200b \u200b\u4f7f\u7528\u200b\u573a\u666f\u200b \u200b\u793a\u4f8b\u200b\u547d\u540d\u200b data \u200b\u539f\u59cb\u6570\u636e\u200b\uff0c\u200b\u53ef\u200b\u5904\u7406\u200b/\u200b\u8ba1\u7b97\u200b \u200b\u5185\u5b58\u200b\u5b58\u50a8\u200b\u3001\u200b\u6570\u636e\u5e93\u200b\u8bb0\u5f55\u200b\u3001\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b\u3001\u200b\u7f51\u7edc\u200b payload userData, configData, rawData info \u200b\u4fe1\u606f\u200b\u3001\u200b\u63cf\u8ff0\u6027\u200b\u5185\u5bb9\u200b\u3001\u200b\u5143\u200b\u6570\u636e\u200b \u200b\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\u3001\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b\u3001\u200b\u4e8b\u4ef6\u200b\u4fe1\u606f\u200b\u3001\u200b\u5c55\u793a\u200b userInfo, serverInfo, logInfo val / value \u200b\u503c\u200b\uff0c\u200b\u5355\u4e2a\u200b\u53d8\u91cf\u200b\u6216\u200b\u4e34\u65f6\u200b\u6570\u636e\u200b \u200b\u51fd\u6570\u200b\u5185\u90e8\u200b\u3001\u200b\u5faa\u73af\u200b\u3001\u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200b val := 42, maxValue item / elem / entry \u200b\u96c6\u5408\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b \u200b\u5217\u8868\u200b\u3001\u200b\u5207\u7247\u200b\u3001map \u200b\u904d\u5386\u200b for _, item := range list, entry := record node \u200b\u8282\u70b9\u200b \u200b\u6811\u7ed3\u6784\u200b\u3001\u200b\u56fe\u200b\u7ed3\u6784\u200b\u3001\u200b\u94fe\u8868\u200b treeNode, node.next buf / buffer \u200b\u7f13\u51b2\u533a\u200b I/O\u3001\u200b\u7f51\u7edc\u200b\u3001\u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200b buf := make([]byte, 1024) tmp / temp \u200b\u4e34\u65f6\u200b\u53d8\u91cf\u200b \u200b\u4e34\u65f6\u200b\u8ba1\u7b97\u200b\u3001\u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200b tmp := processData() id / uid / gid / sid \u200b\u552f\u4e00\u200b\u6807\u8bc6\u7b26\u200b \u200b\u7528\u6237\u200bID\u3001\u200b\u7ec4\u200bID\u3001\u200b\u4f1a\u8bdd\u200bID userID, sessionID ts / timestamp \u200b\u65f6\u95f4\u200b\u6233\u200b \u200b\u8bb0\u5f55\u200b\u4e8b\u4ef6\u200b\u65f6\u95f4\u200b createdAt, updatedAt, expireAt list / slice / arr \u200b\u6709\u5e8f\u200b\u96c6\u5408\u200b \u200b\u5207\u7247\u200b\u3001\u200b\u6570\u7ec4\u200b userList, itemsSlice map / dict \u200b\u952e\u503c\u200b\u5bf9\u200b\u96c6\u5408\u200b \u200b\u5185\u5b58\u200b\u6620\u5c04\u200b\u3001\u200b\u7f13\u5b58\u200b userMap, configMap set \u200b\u552f\u4e00\u200b\u96c6\u5408\u200b \u200b\u552f\u4e00\u200b\u503c\u200b\u5b58\u50a8\u200b idSet, uniqueKeys queue / stack / chan \u200b\u961f\u5217\u200b/\u200b\u6808\u200b/\u200b\u901a\u9053\u200b \u200b\u5e76\u53d1\u200b\u4efb\u52a1\u200b\u3001\u200b\u6d88\u606f\u200b\u5904\u7406\u200b jobQueue, eventChan ctx \u200b\u4e0a\u4e0b\u6587\u200b \u200b\u8d85\u65f6\u200b\u3001\u200b\u53d6\u6d88\u200b\u3001Trace ID ctx := context.Background() cfg / config / opts / options \u200b\u914d\u7f6e\u200b\u6216\u200b\u9009\u9879\u200b \u200b\u7cfb\u7edf\u914d\u7f6e\u200b\u3001\u200b\u51fd\u6570\u53c2\u6570\u200b dbConfig, clientOpts msg / message \u200b\u6d88\u606f\u200b \u200b\u7f51\u7edc\u901a\u4fe1\u200b\u3001\u200b\u4e8b\u4ef6\u200b\u3001\u200b\u65e5\u5fd7\u200b msg := getMessage(), eventMessage payload / body \u200b\u6570\u636e\u200b\u8f7d\u8377\u200b HTTP\u200b\u8bf7\u6c42\u200b\u3001RPC\u200b\u6d88\u606f\u200b payload := req.Body event \u200b\u4e8b\u4ef6\u200b \u200b\u7cfb\u7edf\u200b\u4e8b\u4ef6\u200b\u3001\u200b\u6d88\u606f\u200b\u603b\u7ebf\u200b userEvent, jobEvent record / entry \u200b\u6570\u636e\u200b\u8bb0\u5f55\u200b \u200b\u6570\u636e\u5e93\u200b\u884c\u200b\u3001\u200b\u65e5\u5fd7\u200b\u8bb0\u5f55\u200b logEntry, dbRecord status / state \u200b\u72b6\u6001\u200b \u200b\u5bf9\u8c61\u200b\u72b6\u6001\u200b\u3001\u200b\u4efb\u52a1\u200b\u72b6\u6001\u200b taskStatus, serverState flag \u200b\u6807\u5fd7\u200b \u200b\u6761\u4ef6\u200b\u63a7\u5236\u200b isEnabled, hasError ready / active / enabled / disabled \u200b\u5e03\u5c14\u200b\u72b6\u6001\u200b \u200b\u542f\u7528\u200b\u3001\u200b\u6d3b\u52a8\u200b\u6807\u5fd7\u200b isReady, featureEnabled ok / success / fail / valid \u200b\u68c0\u67e5\u200b\u7ed3\u679c\u200b \u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\u3001\u200b\u6821\u9a8c\u200b ok, err := check() Run / Execute / Perform / Do \u200b\u6267\u884c\u200b\u52a8\u4f5c\u200b \u200b\u4efb\u52a1\u200b\u3001\u200b\u547d\u4ee4\u200b\u3001\u200b\u6d41\u7a0b\u200b RunServer(), ExecuteJob(), PerformMigration(), doRequest() Start / Stop / Shutdown / Close \u200b\u751f\u547d\u5468\u671f\u200b \u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b\u670d\u52a1\u200b\u6216\u200b\u8d44\u6e90\u200b StartWorker(), StopServer(), Shutdown(), CloseFile() Get / Fetch / Find / Lookup / Search / List / Scan \u200b\u8bfb\u53d6\u200b/\u200b\u67e5\u8be2\u200b \u200b\u5185\u5b58\u200b\u3001\u200b\u7f13\u5b58\u200b\u3001\u200b\u6570\u636e\u5e93\u200b\u3001\u200b\u8fdc\u7a0b\u200b GetUser(), FetchProfile(), FindItem(), LookupByKey(), SearchUsers(), ListOrders(), ScanRows() Set / Update / Add / Remove / Delete / Drop / Append / Push / Pop \u200b\u4fee\u6539\u200b/\u200b\u589e\u5220\u200b \u200b\u5185\u5b58\u200b\u3001\u200b\u6570\u636e\u5e93\u200b\u3001\u200b\u96c6\u5408\u200b SetConfig(), UpdateUser(), AddItem(), RemoveFromCache(), DeleteRecord(), DropTable(), AppendSlice(), PushJob(), PopItem() Parse / Decode / Unmarshal / Encode / Marshal \u200b\u89e3\u6790\u200b/\u200b\u5e8f\u5217\u5316\u200b \u200b\u6587\u672c\u200b\u3001JSON\u3001Protobuf ParseURL(), DecodeJSON(), UnmarshalProto(), EncodeBase64(), MarshalJSON() Convert / Transform / Format / Normalize / Sanitize \u200b\u8f6c\u6362\u200b/\u200b\u683c\u5f0f\u5316\u200b \u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u3001\u200b\u683c\u5f0f\u5316\u200b\u3001\u200b\u6e05\u7406\u200b ConvertMillis(), TransformData(), FormatTime(), NormalizeEmail(), SanitizeHTML() Check / Validate / Verify / Ensure / Assert / Confirm / Guard \u200b\u6821\u9a8c\u200b/\u200b\u68c0\u67e5\u200b \u200b\u8f93\u5165\u200b\u9a8c\u8bc1\u200b\u3001\u200b\u4e1a\u52a1\u200b\u89c4\u5219\u200b\u3001\u200b\u65ad\u8a00\u200b ValidateInput(), VerifySignature(), EnsureDirExists(), AssertEqual(), ConfirmAction(), GuardPermission() Send / Post / Publish / Emit / Push / Receive / Read / Pull / Subscribe / Consume \u200b\u6d88\u606f\u200b/\u200b\u901a\u4fe1\u200b \u200b\u7f51\u7edc\u200b\u8bf7\u6c42\u200b\u3001\u200b\u4e8b\u4ef6\u200b\u3001\u200b\u6d88\u606f\u200b\u961f\u5217\u200b SendRequest(), PostMessage(), PublishEvent(), EmitSignal(), PushJob(), ReceiveMessage(), ReadFrame(), PullUpdates(), SubscribeChannel(), ConsumeQueue() Handle / Process / Serve / Dispatch \u200b\u5904\u7406\u200b \u200b\u8bf7\u6c42\u200b/\u200b\u4efb\u52a1\u200b/\u200b\u4e8b\u4ef6\u200b HandleRequest(), ProcessBatch(), ServeHTTP(), DispatchJob() Schedule / Enqueue / Work / Await / Wait \u200b\u5e76\u53d1\u200b/\u200b\u8c03\u5ea6\u200b \u200b\u4efb\u52a1\u8c03\u5ea6\u200b\u3001goroutine\u200b\u7ba1\u7406\u200b ScheduleJob(), EnqueueTask(), Worker.Do(), AwaitCompletion(), WaitAll()"},{"location":"lang/go/name2/","title":"Go \u200b\u547d\u540d\u200b\u53c2\u8003\u624b\u518c\u200b\uff08\u200b\u5b8c\u6574\u7248\u200b\uff09","text":""},{"location":"lang/go/name2/#1","title":"1. \u200b\u57fa\u672c\u200b\u89c4\u5219","text":"<ul> <li>\u200b\u5c0f\u200b\u9a7c\u5cf0\u200b\uff1a\u200b\u5185\u90e8\u200b\u4f7f\u7528\u200b\uff08\u200b\u672a\u200b\u5bfc\u51fa\u200b\uff09\u200b\u53d8\u91cf\u200b\u3001\u200b\u51fd\u6570\u200b\u3002</li> <li>\u200b\u5927\u200b\u9a7c\u5cf0\u200b\uff1a\u200b\u5bfc\u51fa\u200b\uff08\u200b\u53ef\u200b\u88ab\u200b\u5916\u90e8\u200b\u5305\u200b\u4f7f\u7528\u200b\uff09\u200b\u53d8\u91cf\u200b\u3001\u200b\u51fd\u6570\u200b\u3001\u200b\u7ed3\u6784\u200b\u4f53\u200b\u3001\u200b\u63a5\u53e3\u200b\u3002</li> <li>\u200b\u5168\u200b\u5927\u5199\u200b + \u200b\u4e0b\u5212\u7ebf\u200b\uff1a\u200b\u5c11\u200b\u7528\u200b\uff0c\u200b\u4e00\u822c\u200b\u7528\u4e8e\u200b\u5e38\u91cf\u200b\u6216\u200b\u679a\u4e3e\u200b\u3002</li> <li>\u200b\u5305\u540d\u200b\uff1a\u200b\u77ed\u5c0f\u200b\u3001\u200b\u5c0f\u5199\u200b\u3001\u200b\u65e0\u200b\u4e0b\u5212\u7ebf\u200b\uff0c\u200b\u907f\u514d\u200b\u4e0e\u200b\u6807\u51c6\u200b\u5e93\u200b\u51b2\u7a81\u200b\u3002</li> <li>\u200b\u907f\u514d\u200b\u5197\u4f59\u200b\uff1a\u200b\u4e0d\u200b\u91cd\u590d\u200b\u7c7b\u578b\u4fe1\u606f\u200b\uff0c\u200b\u4f8b\u5982\u200b userStruct \u2192 user\u3002</li> </ul>"},{"location":"lang/go/name2/#2","title":"2. \u200b\u53d8\u91cf\u200b\u547d\u540d","text":"<p>\u200b\u7279\u70b9\u200b\uff1a\u200b\u77ed\u5c0f\u200b\u6e05\u6670\u200b\uff0c\u200b\u8868\u8fbe\u200b\u8bed\u4e49\u200b\u3002</p>"},{"location":"lang/go/name2/#21","title":"2.1 \u200b\u901a\u7528\u200b\u53d8\u91cf","text":"<ul> <li>data\uff1a\u200b\u901a\u7528\u200b\u6570\u636e\u200b\u3002</li> <li>val / value\uff1a\u200b\u503c\u200b\u3002</li> <li>item / elem / entry\uff1a\u200b\u96c6\u5408\u200b\u9879\u200b\u3002</li> <li>node\uff1a\u200b\u8282\u70b9\u200b\u3002</li> <li>buf / buffer\uff1a\u200b\u7f13\u51b2\u533a\u200b\u3002</li> <li>tmp / temp\uff1a\u200b\u4e34\u65f6\u200b\u53d8\u91cf\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#22","title":"2.2 \u200b\u72b6\u6001\u200b/\u200b\u6807\u5fd7","text":"<ul> <li>ok\uff1a\u200b\u662f\u5426\u200b\u6210\u529f\u200b\u3002</li> <li>ready\uff1a\u200b\u51c6\u5907\u200b\u597d\u200b\u3002</li> <li>enabled / disabled\uff1a\u200b\u542f\u7528\u200b/\u200b\u7981\u7528\u200b\u3002</li> <li>valid / invalid\uff1a\u200b\u6709\u6548\u200b/\u200b\u65e0\u6548\u200b\u3002</li> <li>dirty\uff1a\u200b\u6570\u636e\u200b\u5df2\u200b\u4fee\u6539\u200b\u4f46\u200b\u672a\u200b\u540c\u6b65\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#23","title":"2.3 \u200b\u8ba1\u6570\u200b/\u200b\u7d22\u5f15","text":"<ul> <li>i, j, k\uff1a\u200b\u5faa\u73af\u200b\u53d8\u91cf\u200b\u3002</li> <li>count / num / total\uff1a\u200b\u8ba1\u6570\u200b\u3002</li> <li>idx / index\uff1a\u200b\u7d22\u5f15\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#24","title":"2.4 \u200b\u65f6\u95f4\u200b/\u200b\u6807\u8bc6","text":"<ul> <li>ts\uff1a\u200b\u65f6\u95f4\u200b\u6233\u200b\u3002</li> <li>createdAt / updatedAt / expireAt\uff1a\u200b\u65f6\u95f4\u200b\u5b57\u200b\u6bb5\u200b\u3002</li> <li>id / uid / gid / sid\uff1a\u200b\u5404\u79cd\u200b\u6807\u8bc6\u7b26\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#25","title":"2.5 \u200b\u96c6\u5408","text":"<ul> <li>list / slice\uff1a\u200b\u5207\u7247\u200b\u3002</li> <li>map\uff1a\u200b\u6620\u5c04\u200b\u3002</li> <li>set\uff1a\u200b\u96c6\u5408\u200b\u3002</li> <li>queue / stack / chan\uff1a\u200b\u961f\u5217\u200b\u3001\u200b\u6808\u200b\u3001\u200b\u901a\u9053\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#26","title":"2.6 \u200b\u4e0a\u4e0b\u6587\u200b/\u200b\u914d\u7f6e","text":"<ul> <li>ctx\uff1a\u200b\u4e0a\u4e0b\u6587\u200b\u3002</li> <li>cfg / conf\uff1a\u200b\u914d\u7f6e\u200b\u3002</li> <li>opts / options\uff1a\u200b\u9009\u9879\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#3","title":"3. \u200b\u5e38\u91cf\u200b\u547d\u540d","text":"<p>\u200b\u7279\u70b9\u200b\uff1a\u200b\u8868\u8fbe\u200b\u56fa\u5b9a\u503c\u200b\u3001\u200b\u679a\u4e3e\u200b\u3001\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u3002</p> <ul> <li>\u200b\u679a\u4e3e\u200b/\u200b\u72b6\u6001\u200b\uff1a</li> </ul> <pre><code>const (\n    StatusOK    = 200\n    StatusError = 500\n)\n</code></pre> <p>\u200b\u73af\u5883\u200b/\u200b\u914d\u7f6e\u200b\uff1a</p> <pre><code>const (\n    EnvProduction = \"production\"\n    EnvDev        = \"dev\"\n)\n</code></pre> <p>\u200b\u9ed8\u8ba4\u503c\u200b\uff1a</p> <pre><code>const DefaultTimeout = 5 * time.Second\n</code></pre> <p>\u200b\u8bf4\u660e\u200b\uff1a\u200b\u5bfc\u51fa\u200b\u5e38\u91cf\u200b\u4e00\u822c\u200b\u7528\u200b\u9a7c\u5cf0\u200b\uff08\u200b\u5982\u200b DefaultTimeout\uff09\uff0c\u200b\u5185\u90e8\u200b\u53ef\u5168\u200b\u5927\u5199\u200b\u3002</p>"},{"location":"lang/go/name2/#4","title":"4. \u200b\u51fd\u6570\u200b/\u200b\u65b9\u6cd5\u200b\u547d\u540d","text":"<p>\u200b\u7279\u70b9\u200b\uff1a\u200b\u52a8\u8bcd\u200b\u5f00\u5934\u200b\uff0c\u200b\u6e05\u695a\u200b\u8868\u8fbe\u200b\u884c\u4e3a\u200b\u3002</p>"},{"location":"lang/go/name2/#41","title":"4.1 \u200b\u521b\u5efa\u200b/\u200b\u9500\u6bc1","text":"<ul> <li>New\uff1a\u200b\u6784\u9020\u51fd\u6570\u200b\uff0c\u200b\u5982\u200b NewClient\u3002</li> <li>Create\uff1a\u200b\u521b\u5efa\u200b\u4e1a\u52a1\u200b\u5bf9\u8c61\u200b\u6216\u200b\u8d44\u6e90\u200b\u3002</li> <li>Init\uff1a\u200b\u521d\u59cb\u5316\u200b\u3002</li> <li>Destroy / Dispose / Close\uff1a\u200b\u9500\u6bc1\u200b\u6216\u200b\u5173\u95ed\u200b\u8d44\u6e90\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#42","title":"4.2 \u200b\u542f\u52a8\u200b/\u200b\u505c\u6b62\u200b/\u200b\u8fd0\u884c","text":"<ul> <li>Start\uff1a\u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\u6216\u200b\u4efb\u52a1\u200b\u3002</li> <li>Stop / Shutdown\uff1a\u200b\u505c\u6b62\u200b\u3002</li> <li>Run\uff1a\u200b\u8fd0\u884c\u200b\u957f\u671f\u200b\u4efb\u52a1\u200b\u6216\u4e3b\u200b\u5faa\u73af\u200b\u3002</li> <li>Execute / Exec\uff1a\u200b\u6267\u884c\u200b\u4e00\u6b21\u6027\u200b\u547d\u4ee4\u200b\u6216\u200b\u4efb\u52a1\u200b\u3002</li> <li>Perform\uff1a\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u6216\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5e38\u7528\u200b\u4e8e\u200b\u6709\u6b65\u9aa4\u200b\u7684\u200b\u6267\u884c\u200b\u3002</li> <li>Do\uff1a\u200b\u7075\u6d3b\u200b\u5185\u90e8\u200b\u6267\u884c\u200b\uff0c\u200b\u4e00\u822c\u200b\u4e0d\u200b\u5bfc\u51fa\u200b\u3002</li> </ul> <p>\u200b\u533a\u522b\u200b\uff1a</p> <ul> <li>Run\uff1a\u200b\u6301\u7eed\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u670d\u52a1\u200b\u6216\u200b goroutine\u3002</li> <li>Execute\uff1a\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u4efb\u52a1\u200b\u3002</li> <li>Perform\uff1a\u200b\u5b8c\u6210\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\u6216\u200b\u6d41\u7a0b\u200b\u3002</li> <li>Do\uff1a\u200b\u5185\u90e8\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u53ef\u200b\u7528\u4e8e\u200b\u6d4b\u8bd5\u200b\u6216\u200b\u5c0f\u200b\u529f\u80fd\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#43","title":"4.3 \u200b\u8bfb\u53d6\u200b/\u200b\u67e5\u8be2","text":"<ul> <li>Get\uff1a\u200b\u83b7\u53d6\u200b\u503c\u200b\u3002</li> <li>Fetch\uff1a\u200b\u62c9\u53d6\u200b\uff0c\u200b\u5e38\u200b\u8868\u793a\u200b\u8fdc\u7a0b\u200b\u6216\u200b\u7f13\u5b58\u200b\u3002</li> <li>Find / Lookup / Search\uff1a\u200b\u67e5\u627e\u200b\u3002</li> <li>List\uff1a\u200b\u5217\u51fa\u200b\u96c6\u5408\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#44","title":"4.4 \u200b\u4fee\u6539\u200b/\u200b\u66f4\u65b0","text":"<ul> <li>Set\uff1a\u200b\u8bbe\u7f6e\u200b\u503c\u200b\u3002</li> <li>Update\uff1a\u200b\u66f4\u65b0\u200b\u6570\u636e\u200b\u3002</li> <li>Add / Append / Push\uff1a\u200b\u589e\u52a0\u200b\u3002</li> <li>Remove / Delete / Drop / Pop\uff1a\u200b\u5220\u9664\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#45","title":"4.5 \u200b\u8f6c\u6362\u200b/\u200b\u5904\u7406","text":"<ul> <li>Parse\uff1a\u200b\u89e3\u6790\u200b\u5b57\u7b26\u4e32\u200b\u6216\u200b\u683c\u5f0f\u200b\u3002</li> <li>Convert / Transform\uff1a\u200b\u8f6c\u6362\u200b\u7c7b\u578b\u200b\u6216\u200b\u6570\u636e\u200b\u3002</li> <li>Serialize / Marshal / Unmarshal\uff1a\u200b\u5e8f\u5217\u5316\u200b/\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#46","title":"4.6 \u200b\u6821\u9a8c\u200b/\u200b\u68c0\u67e5","text":"<ul> <li>Check\uff1a\u200b\u68c0\u67e5\u200b\u72b6\u6001\u200b\u3002</li> <li>Validate\uff1a\u200b\u9a8c\u8bc1\u200b\u6b63\u786e\u6027\u200b\u3002</li> <li>Verify\uff1a\u200b\u9a8c\u8bc1\u200b\u771f\u5b9e\u6027\u200b\u3002</li> <li>Ensure / Must\uff1a\u200b\u786e\u4fdd\u200b\u6761\u4ef6\u200b\u6210\u7acb\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#47","title":"4.7 \u200b\u72b6\u6001\u200b\u67e5\u8be2","text":"<ul> <li>IsXxx / HasXxx / CanXxx / ShouldXxx\uff1a\u200b\u5e03\u5c14\u200b\u8fd4\u56de\u503c\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#48","title":"4.8 \u200b\u5de5\u5177\u200b\u65b9\u6cd5","text":"<ul> <li>Compute / Calculate\uff1a\u200b\u8ba1\u7b97\u200b\u3002</li> <li>Build / Compose\uff1a\u200b\u6784\u5efa\u200b\u3002</li> <li>Generate\uff1a\u200b\u751f\u6210\u200b\u5185\u5bb9\u200b\u3002</li> <li>Handle / Process\uff1a\u200b\u5904\u7406\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#5","title":"5. \u200b\u7ed3\u6784\u200b\u4f53\u200b\u547d\u540d","text":"<p>\u200b\u7279\u70b9\u200b\uff1a\u200b\u540d\u8bcd\u200b\u6216\u200b\u540d\u8bcd\u200b\u77ed\u8bed\u200b\uff0c\u200b\u8868\u8fbe\u200b\u5b9e\u4f53\u200b\u3001\u200b\u6982\u5ff5\u200b\u3001\u200b\u5bb9\u5668\u200b\u3002</p> <ul> <li>\u200b\u5b9e\u4f53\u6a21\u578b\u200b\uff1aUser\u3001Order\u3001Product\u3002</li> <li>\u200b\u5bb9\u5668\u200b/\u200b\u7ba1\u7406\u5668\u200b\uff1aCache\u3001Pool\u3001Manager\u3002</li> <li>\u200b\u8bf7\u6c42\u200b/\u200b\u54cd\u5e94\u200b\uff1aRequest\u3001Response\u3001Payload\u3002</li> <li>\u200b\u914d\u7f6e\u200b/\u200b\u9009\u9879\u200b\uff1aConfig\u3001Options\u3001Settings\u3002</li> <li>\u200b\u670d\u52a1\u200b/\u200b\u5ba2\u6237\u7aef\u200b\uff1aService\u3001Client\u3001Server\u3001Handler\u3002</li> </ul> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> <pre><code>type User struct {\n    ID    int\n    Name  string\n    Email string\n}\n</code></pre>"},{"location":"lang/go/name2/#6","title":"6. \u200b\u63a5\u53e3\u200b\u547d\u540d","text":"<p>\u200b\u7279\u70b9\u200b\uff1a\u200b\u8868\u793a\u200b\u4e00\u79cd\u200b\u80fd\u529b\u200b\u6216\u200b\u884c\u4e3a\u200b\uff0c\u200b\u5e38\u7528\u200b -er \u200b\u7ed3\u5c3e\u200b\u3002</p> <ul> <li>Reader / Writer / Closer / Seeker\uff1a\u200b\u6807\u51c6\u200b\u5e93\u200b\u98ce\u683c\u200b\u3002</li> <li>Fetcher / Processor / Notifier / Logger\uff1a\u200b\u884c\u4e3a\u200b\u3002</li> <li>Service \u200b\u63a5\u53e3\u200b\uff1aUserService\u3001PaymentProcessor\u3002</li> </ul> <p>\u200b\u793a\u4f8b\u200b\uff1a</p> <pre><code>type Reader interface {\n    Read(p []byte) (n int, err error)\n}\n\ntype UserService interface {\n    CreateUser(ctx context.Context, u *User) error\n}\n</code></pre>"},{"location":"lang/go/name2/#7","title":"7. \u200b\u5305\u540d","text":"<ul> <li>\u200b\u89c4\u5219\u200b\uff1a\u200b\u5c0f\u5199\u200b\u3001\u200b\u5355\u6570\u200b\u3001\u200b\u7b80\u77ed\u200b\u3002</li> <li>\u200b\u793a\u4f8b\u200b\uff1acache\u3001config\u3001client\u3001server\u3001http\u3001json\u3002</li> <li>\u200b\u907f\u514d\u200b\uff1a\u200b\u4e0b\u5212\u7ebf\u200b\u3001\u200b\u590d\u6570\u200b\u3001\u200b\u4e0e\u200b\u6807\u51c6\u200b\u5e93\u200b\u91cd\u590d\u200b\u3002</li> </ul>"},{"location":"lang/go/name2/#8","title":"8. \u200b\u5e38\u89c1\u200b\u547d\u540d\u200b\u5efa\u8bae\u200b\u4e0e\u200b\u53cd\u4f8b","text":"<ul> <li>\u200b\u907f\u514d\u200b\u91cd\u590d\u200b\u7c7b\u578b\u200b\uff1auserStruct \u2192 user\u3002</li> <li>\u200b\u907f\u514d\u200b\u542b\u7cca\u200b\uff1adata1, data2 \u2192 \u200b\u6539\u4e3a\u200b rawData, parsedData\u3002</li> <li>\u200b\u9519\u8bef\u200b\u547d\u540d\u200b\uff1aHandleAllThing() \u2192 HandleEvents()\u3002</li> <li>\u200b\u63a5\u53e3\u200b\u547d\u540d\u200b\uff1a\u200b\u907f\u514d\u200b IUserService \u200b\u524d\u7f00\u200b\u3002</li> </ul>"},{"location":"lang/go/pprof/","title":"Pprof","text":""},{"location":"lang/go/pprof/#_1","title":"\u4ee3\u7801\u200b\u914d\u7f6e","text":"<p>gin \u200b\u4f7f\u7528\u200b</p> <pre><code>package httpserv\n\nimport (\n    \"github.com/gin-contrib/pprof\"\n    \"github.com/gin-gonic/gin\"\n    \"github.com/imattdu/go-standard/middleware\"\n)\n\nfunc Start() {\n    r := gin.New()\n    // \u200b\u4f7f\u7528\u200bpprof\n    pprof.Register(r)\n    r.Use(middleware.GinLogger(), middleware.GinRecovery(true),\n        middleware.TraceLoggerMiddleware())\n    Config(r)\n    _ = r.Run() // \u200b\u76d1\u542c\u200b\u5e76\u200b\u5728\u200b 0.0.0.0:8080 \u200b\u4e0a\u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\n}\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200b\u7684\u200b http.DefaultServeMux</p> <pre><code>import _ \"net/http/pprof\"\n\n\nhttp.ListenAndServe(\"0.0.0.0:8000\", nil)\n</code></pre> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b server pprof\u200b\u4e2d\u200binit\u200b\u7684\u200b\u914d\u7f6e\u200b</p> <pre><code>r.HandleFunc(\"/debug/pprof/\", pprof.Index)\nr.HandleFunc(\"/debug/pprof/cmdline\", pprof.Cmdline)\nr.HandleFunc(\"/debug/pprof/profile\", pprof.Profile)\nr.HandleFunc(\"/debug/pprof/symbol\", pprof.Symbol)\nr.HandleFunc(\"/debug/pprof/trace\", pprof.Trace)\n</code></pre> <pre><code>func init() {\n    http.HandleFunc(\"/debug/pprof/\", Index)\n    http.HandleFunc(\"/debug/pprof/cmdline\", Cmdline)\n    http.HandleFunc(\"/debug/pprof/profile\", Profile)\n    http.HandleFunc(\"/debug/pprof/symbol\", Symbol)\n    http.HandleFunc(\"/debug/pprof/trace\", Trace)\n}\n</code></pre> <pre><code>go tool pprof -http=:9000 http://localhost:8080/debug/pprof/allocs\n</code></pre> <pre><code>brew install graphviz\n</code></pre>"},{"location":"lang/go/0base/0setup/","title":"111","text":""},{"location":"lang/go/0base/0setup/#mac","title":"mac","text":""},{"location":"lang/go/0base/0setup/#_1","title":"\u5b89\u88c5","text":"<pre><code>brew install go\n</code></pre>"},{"location":"lang/go/0base/0setup/#_2","title":"\u914d\u7f6e","text":"<pre><code>vim .zshrc\n</code></pre> <p>\u200b\u914d\u7f6e\u200b<pre><code>GOROOT=/opt/homebrew/Cellar/go/1.17.6/libexec\nexport GOROOT\nexport GOPATH=/Users/matt/workspace/go\nexport GOBIN=$GOPATH/bin\nexport PATH=$PATH:$GOBIN:$GOROOT/bin # (1)!\n</code></pre> 1.   I'm a code annotation! I can contain <code>code</code>, formatted     text, images, ... basically anything that can be written in Markdown.</p> <pre><code>this is good # (1)!\n</code></pre> <ol> <li>If you ++cmd++  me, I'm     rendered open in a new tab. You can also right-click me to copy link     address to share me with others.</li> </ol>"},{"location":"lang/go/0base/0setup/#win","title":"win","text":""},{"location":"lang/go/0base/0setup/#_3","title":"\u5b89\u88c5","text":"<p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <p>win10/64-\u300b\u200b\u9009\u62e9\u200bx86-64</p> <p></p> <p></p>"},{"location":"lang/go/0base/0setup/#_4","title":"\u914d\u7f6e","text":"<p>GOROOT:\u200b\u6307\u5b9a\u200bgo\u200b\u7684\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b</p> <p>path:\u200b\u6307\u5b9a\u200bgo\u200b\u7684\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200bbin\u200b\u76ee\u5f55\u200b</p> <p>GOPATH:\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff0cgo\u200b\u9879\u76ee\u200b\u7684\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b</p> <p>\u200b\u7cfb\u7edf\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u6dfb\u52a0\u200b</p> <p>GOROOT</p> <pre><code>D:\\develop\\env\\go\n</code></pre> <p>path</p> <pre><code>%GOROOT%\\bin\n</code></pre> <p>GOPATH</p> <pre><code>D:\\matt\\workspace\\go\n</code></pre> <p></p> <p></p>"},{"location":"lang/go/0base/0setup/#_5","title":"\u8bbe\u7f6e","text":""},{"location":"lang/go/0base/0setup/#_6","title":"\u8bbe\u7f6e\u200b\u56fd\u5185\u200b\u955c\u50cf","text":"<pre><code>go env -w GOPROXY=https://goproxy.cn,direct\n</code></pre>"},{"location":"lang/go/0base/0setup/#gogomod","title":"go\u200b\u7684\u200b\u4f9d\u8d56\u200b\u7ba1\u7406\u200b\uff0c\u200b\u5f00\u542f\u200bgomod","text":"<pre><code>go env -w GO111MODULE=on\n</code></pre>"},{"location":"lang/go/0base/0setup/#sumgolangorg","title":"\u9a8c\u8bc1\u200b\u914d\u7f6e\u200b,\u200b\u53ef\u80fd\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u7f51\u7ad9\u200b\u65e0\u6cd5\u8bbf\u95ee\u200b sum.golang.org","text":"<pre><code>go env -w GOSUMDB=\"sum.golang.google.cn\"\n</code></pre> <p>\u200b\u6216\u8005\u200b\u5173\u95ed\u200b\u9a8c\u8bc1\u200b</p> <pre><code>go env -w GOSUMDB=off\n</code></pre>"},{"location":"lang/go/0base/0setup/#_7","title":"\u9a8c\u8bc1","text":"<p>\u200b\u9a8c\u8bc1\u200bgo\u200b\u73af\u5883\u200b\u662f\u5426\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b</p> <pre><code>go version\n</code></pre> <p>\u200b\u683c\u5f0f\u5316\u200b\u4ee3\u7801\u200b</p> <pre><code>go fmt -w main.go\n</code></pre>"},{"location":"lang/go/0base/0setup/#_8","title":"\u8d44\u6599","text":"<p>\u200b\u4e2d\u6587\u200bAPI</p> <p>\u200b\u5b98\u7f51\u200b</p>"},{"location":"lang/go/0base/0setup/#_9","title":"\u4f7f\u7528","text":""},{"location":"lang/go/0base/0setup/#_10","title":"\u9879\u76ee\u200b\u653e\u5728\u200b\u76ee\u5f55\u200b\u4e0b","text":"<p>\u200b\u9879\u76ee\u200b\u90fd\u200b\u653e\u5728\u200bsrc\u200b\u4e0b\u9762\u200b</p> <p>\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u4f9d\u8d56\u200b\u90fd\u200b\u4f1a\u200b\u8fdb\u5165\u200b\u5230\u200bpkg\u200b\u6587\u4ef6\u5939\u200b</p> <p>\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u8fdb\u5165\u200bbin</p> <p></p>"},{"location":"lang/go/0base/0setup/#_11","title":"\u5305\u200b\u7684\u200b\u7ba1\u7406","text":"<p>GO111MODULE\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\uff1aoff\u3001on\u3001auto\uff08\u200b\u9ed8\u8ba4\u503c\u200b\uff09\uff0c\u200b\u4ece\u200bGO111MODULE\u200b\u53d8\u91cf\u540d\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0c\u200b\u662f\u200bGo1.11\u200b\u7248\u672c\u200b\u4e4b\u540e\u200b\u624d\u200b\u51fa\u6765\u200b\u6709\u200b\u4f9d\u8d56\u200b\u5305\u200b\u7ba1\u7406\u200b\u529e\u6cd5\u200b\u3002</p> <ul> <li>\u200b\u4e3a\u200b<code>off</code>\u200b\u65f6\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u4f7f\u7528\u200bgo mod\uff0c\u200b\u67e5\u627e\u200b\u4f9d\u8d56\u200b\u5305\u200b\u7684\u200b\u987a\u5e8f\u200b\u662f\u200b\uff1a\u200b\u5f53\u524d\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b/vendor\uff0c\u200b\u5176\u6b21\u200b\u662f\u200b$GOPATH/src $GOROOT/src\uff08\u200b\u8fd9\u662f\u200bGolang1.11\u200b\u7248\u672c\u200b\u4e4b\u524d\u200b\u7684\u200b\u7528\u6cd5\u200b\uff09\u3002</li> <li>\u200b\u4e3a\u200b<code>on</code>\u200b\u65f6\u200b\uff0c\u200b\u5219\u200b\u5f00\u542f\u200bgo mod\uff0c\u200b\u67e5\u627e\u200b\u4f9d\u8d56\u200b\u5305\u662f\u200b\u4ee5\u200b\u5f53\u524d\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u7684\u200b<code>go.mod</code>\u200b\u6587\u4ef6\u200b\u4e3a\u200b\u57fa\u51c6\u200b\uff0c\u200b\u4f1a\u200b\u5ffd\u7565\u200b <code>$GOPATH</code> \u200b\u548c\u200b <code>vendor</code> \u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u53ea\u200b\u6839\u636e\u200b<code>go.mod</code>\u200b\u4e0b\u8f7d\u200b\u4f9d\u8d56\u200b\u3002</li> <li>\u200b\u4e3a\u200b<code>auto</code>\u200b\u6216\u200b\u672a\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u5219\u200bgo\u200b\u547d\u4ee4\u200b\u6839\u636e\u200b\u5f53\u524d\u76ee\u5f55\u200b\u542f\u7528\u200b\u6216\u200b\u7981\u7528\u200b\u6a21\u5757\u200b\u652f\u6301\u200b\u3002\u200b\u6839\u636e\u200b\u5f53\u524d\u200b\u6587\u4ef6\u5939\u200b\u662f\u5426\u200b\u6709\u200bgo.mod\u200b\u6765\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u5f00\u542f\u200bgomod</li> </ul> <p></p>"},{"location":"lang/go/0base/0setup/#goland","title":"goland \u200b\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"lang/go/0base/0setup/#1global-gopath","title":"1.Global GOPATH","text":"<p>\u200b\u9009\u5219\u200b\u4f60\u200b\u5728\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b\u914d\u7f6e\u200b\u7684\u200bGOPATH\u200b\u8def\u5f84\u200b</p>"},{"location":"lang/go/0base/0setup/#2project-gopath","title":"2.Project GOPATH","text":"<p>\u200b\u9879\u76ee\u200b\u7684\u200bGOPATH,\u200b\u6700\u200b\u597d\u4e0d\u597d\u200b\u8bbe\u7f6e\u200bGlobal GOPATH,\u200b\u56e0\u4e3a\u200b\u90a3\u200b\u4f60\u200b\u7684\u200b\u9879\u76ee\u200b\u5c06\u4f1a\u200b\u4f7f\u7528\u200b\u5230\u200b\u6240\u7528\u200b\u914d\u7f6e\u200b\u5230\u200bGOPATH\u200b\u7684\u200b\u6587\u4ef6\u200b</p>"},{"location":"lang/go/0base/0setup/#3use-gopath-thats-defined-in-system-environment","title":"3.Use GOPATH that`s defined in system environment","text":"<p>\u200b\u5982\u679c\u200b\u9009\u4e2d\u200b\u8fd9\u4e2a\u200b\uff0c\u200b\u4ed6\u200b\u5c06\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u5b9a\u4e49\u200b\u7684\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u5230\u200bGlobal GOPATH</p>"},{"location":"lang/go/0base/0setup/#4index-entire-gopath","title":"4.Index entire GOPATH:","text":"<p>\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u914d\u7f6e\u200b\u7684\u200bgopath,\u200b\u4e00\u822c\u200b\u4e0d\u8981\u200b\u52fe\u9009\u200b\u8fd9\u4e2a\u200b</p>"},{"location":"lang/go/0base/0setup/#_12","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"lang/go/0base/0setup/#_13","title":"\u7f16\u8bd1","text":"<pre><code>go build -o ./bin/main main.go\n</code></pre>"},{"location":"lang/go/0base/0setup/#_14","title":"\u8fd0\u884c","text":"<pre><code>go run main.go -config app.cfg\n</code></pre>"},{"location":"lang/go/0base/0setup/#go-get","title":"go get","text":"<ol> <li>download</li> <li>compile</li> <li>install</li> </ol>"},{"location":"lang/go/0base/0setup/#_15","title":"\u53c2\u6570","text":"<pre><code>go get -u xxx\n</code></pre> -d \u200b\u53ea\u200b\u4e0b\u8f7d\u200b\u4e0d\u200b\u5b89\u88c5\u200b -u \u200b\u66f4\u65b0\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e0d\u4f1a\u200b\u66f4\u65b0\u200b\u4e0b\u8f7d"},{"location":"lang/go/0base/0setup/#_16","title":"\u6307\u5b9a\u200b\u7248\u672c","text":"<pre><code>go get k8s.io/klog@v1.0.0\n</code></pre>"},{"location":"lang/go/0base/0setup/#go-install","title":"go  install","text":"<ol> <li>compile</li> <li>install</li> </ol> <pre><code>go mod init\n\ngo mod tidy\n</code></pre> <p>go mod download \u200b\u4e0b\u8f7d\u200b\u6a21\u5757\u200b\u5230\u200b\u672c\u5730\u200b\u7f13\u5b58\u200b\uff0c\u200b\u7f13\u5b58\u200b\u8def\u5f84\u200b\u662f\u200b $GOPATH/pkg/mod/cache go mod edit \u200b\u662f\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u547d\u4ee4\u200b\u7248\u200b\u7f16\u8f91\u200b go.mod \u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f8b\u5982\u200b go mod edit -fmt go.mod \u200b\u4f1a\u200b\u683c\u5f0f\u5316\u200b go.mod go mod graph \u200b\u628a\u200b\u6a21\u5757\u200b\u4e4b\u95f4\u200b\u7684\u200b\u4f9d\u8d56\u56fe\u200b\u663e\u793a\u200b\u51fa\u6765\u200b go mod init \u200b\u521d\u59cb\u5316\u200b\u6a21\u5757\u200b\uff08\u200b\u4f8b\u5982\u200b\u628a\u200b\u539f\u672c\u200bdep\u200b\u7ba1\u7406\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\u8f6c\u6362\u200b\u8fc7\u6765\u200b\uff09 go mod tidy \u200b\u589e\u52a0\u200b\u7f3a\u5931\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u79fb\u9664\u200b\u6ca1\u7528\u200b\u7684\u200b\u5305\u200b go mod vendor \u200b\u628a\u200b\u4f9d\u8d56\u200b\u62f7\u8d1d\u5230\u200b vendor/ \u200b\u76ee\u5f55\u200b\u4e0b\u200b go mod verify \u200b\u786e\u8ba4\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b go mod why \u200b\u89e3\u91ca\u200b\u4e3a\u4ec0\u4e48\u200b\u9700\u8981\u200b\u5305\u200b\u548c\u200b\u6a21\u5757\u200b</p>"},{"location":"lang/go/0base/1base/","title":"1base","text":""},{"location":"lang/go/0base/1base/#_1","title":"\u57fa\u7840","text":""},{"location":"lang/go/0base/1base/#_2","title":"\u7a0b\u5e8f","text":"<p>\u200b\u65b0\u5efa\u200b\u9879\u76ee\u200b</p> <p>\u200b\u9879\u76ee\u200b\u4e0b\u200b\u521b\u5efa\u200bsrc\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u521b\u5efa\u200bbin\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u521b\u5efa\u200bpkg\u200b\u6587\u4ef6\u5939\u200b</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Println(\"hello word\")\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#_3","title":"\u7f16\u8bd1\u200b\u8fd0\u884c","text":""},{"location":"lang/go/0base/1base/#_4","title":"\u7f16\u8bd1\u200b\u8fd0\u884c\u200b\u5206\u5f00","text":"<p>\u200b\u7f16\u8bd1\u200b</p> <pre><code>go build hello.go\n</code></pre> <p>\u200b\u8fd0\u884c\u200b</p> <pre><code>hello.exe\n</code></pre>"},{"location":"lang/go/0base/1base/#_5","title":"\u7f16\u8bd1\u200b\u8fd0\u884c\u200b\u4e0d\u200b\u5206\u5f00","text":"<pre><code>go run hello.go\n</code></pre>"},{"location":"lang/go/0base/1base/#_6","title":"\u5206\u5f00\u200b\u548c\u200b\u4e0d\u200b\u5206\u5f00\u200b\u533a\u522b","text":"<p>1) \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5148\u200b\u7f16\u8bd1\u200b\u751f\u6210\u200b\u4e86\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8be5\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u62f7\u8d1d\u5230\u200b\u6ca1\u6709\u200b go \u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\u7684\u200b\u673a\u5668\u200b\u4e0a\u200b\uff0c\u200b\u4ecd\u7136\u200b\u53ef\u4ee5\u200b\u8fd0\u884c\u200b </p> <p>2) \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u662f\u200b\u76f4\u63a5\u200b go run go \u200b\u6e90\u4ee3\u7801\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5982\u679c\u200b\u8981\u200b\u5728\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u673a\u5668\u200b\u4e0a\u200b\u8fd9\u4e48\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4e5f\u200b\u9700\u8981\u200b go \u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\uff0c\u200b\u5426\u5219\u200b\u65e0\u6cd5\u200b\u6267\u884c\u200b\u3002 </p> <p>3) \u200b\u5728\u200b\u7f16\u8bd1\u200b\u65f6\u200b\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u4f1a\u200b\u5c06\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u4f9d\u8d56\u200b\u7684\u200b\u5e93\u200b\u6587\u4ef6\u200b\u5305\u542b\u200b\u5728\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u6240\u4ee5\u200b\uff0c\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u53d8\u5927\u200b\u4e86\u200b\u5f88\u591a\u200b\u3002</p>"},{"location":"lang/go/0base/1base/#_7","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>go\u200b\u6e90\u6587\u4ef6\u200b\u4ee5\u200b go \u200b\u4e3a\u200b\u6269\u5c55\u540d\u200b</p> <p>go \u200b\u7684\u200b\u5165\u53e3\u200b\u51fd\u6570\u200b\u662f\u200b main() \u200b\u51fd\u6570\u200b</p> <p>go \u200b\u4e25\u683c\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b</p> <p>go \u200b\u8bed\u53e5\u200b\u4e0d\u200b\u9700\u8981\u200b\u52a0\u5206\u200b\u53f7\u200b\uff0cgo\u200b\u8bed\u8a00\u200b\u81ea\u52a8\u200b\u4f1a\u52a0\u5206\u200b\u53f7\u200b</p> <p>go\u200b\u8bed\u53e5\u200b\u662f\u200b\u4e00\u884c\u200b\u4e00\u884c\u200b\u7f16\u8bd1\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e00\u884c\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u5199\u200b\u591a\u6761\u200b\u8bed\u53e5\u200b</p> <p>\u200b\u5f15\u7528\u200b\u7684\u200b\u5305\u200b\u6216\u8005\u200b\u5b9a\u4e49\u200b\u7684\u200b\u53d8\u91cf\u200b\u5fc5\u987b\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u4f1a\u200b\u62a5\u9519\u200b</p>"},{"location":"lang/go/0base/1base/#_8","title":"\u6ce8\u91ca","text":"<pre><code>package main\n\nimport \"fmt\"\nimport \"time\"\n\nfunc main() {\n    // \u200b\u884c\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u884c\u200b\u6ce8\u91ca\u200b\n    /*\n      \u200b\u5757\u200b\u6ce8\u91ca\u200b\n      \u200b\u4f60\u597d\u200b\u5757\u200b\u6ce8\u91ca\u200b\n    */\n    fmt.Println(time.Now())\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#_9","title":"\u53d8\u91cf","text":""},{"location":"lang/go/0base/1base/#_10","title":"\u57fa\u7840","text":""},{"location":"lang/go/0base/1base/#_11","title":"\u8f6c\u4e49\u5b57\u7b26","text":"<p>\u200b\u4e00\u4e9b\u200b\u7279\u6b8a\u200b\u7684\u200b\u5b57\u7b26\u200b\uff1a\u200b\u6bd4\u5982\u200b\u7528\u6237\u200b\u60f3\u8981\u200b\u6211\u4eec\u200b\u6253\u51fa\u200b\u6362\u884c\u200b</p> <pre><code>1) \\t : \u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u5236\u8868\u7b26\u200b\uff0c\u200b\u901a\u5e38\u200b\u4f7f\u7528\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6392\u7248\u200b\u3002\n\n2) \\n \uff1a\u200b\u6362\u884c\u7b26\u200b \n\n3) \\\\ \uff1a\u200b\u4e00\u4e2a\u200b\\ \n\n4) \\\\\" \uff1a\u200b\u4e00\u4e2a\u200b\"\n\n5) \\r \uff1a\u200b\u4e00\u4e2a\u200b\u56de\u8f66\u200b\n    fmt.Println(\"aaa\\r bb\");\n</code></pre>"},{"location":"lang/go/0base/1base/#_12","title":"\u53d8\u91cf\u200b\u58f0\u660e","text":"<p>\u200b\u6307\u5b9a\u200b\u53d8\u91cf\u200b\u7c7b\u578b\u200b\uff0c</p> <p>\u200b\u6574\u6570\u200b\uff1a0</p> <p>\u200b\u6d6e\u70b9\u6570\u200b\uff1a0</p> <p>bool:false</p> <pre><code>// \u200b\u5982\u679c\u200b\u4e0d\u200b\u8d4b\u503c\u200b\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b\u5b83\u200b\u7684\u200b\u9ed8\u8ba4\u503c\u200b\nvar j int\n</code></pre> <p>\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u7c7b\u578b\u200b\uff0c\u200b\u81ea\u5df1\u200b\u5224\u65ad\u200b</p> <pre><code>var i = 100\nvar j\n</code></pre> <p>\u200b\u7b2c\u4e09\u79cd\u200b,\u200b\u7701\u7565\u200bvar</p> <pre><code>// i\u200b\u6ca1\u6709\u200b\u58f0\u660e\u200b\u8fc7\u200b\ni := 100\n</code></pre> <p>\u200b\u591a\u200b\u53d8\u91cf\u200b\u58f0\u660e\u200b</p> <pre><code>var a, b, c int\nfmt.Println(a, b, c)\n\nvar d, e, f = 1, 2, 3\nfmt.Println(d, e, f)\n\ng, h := \"1\", \"2\"\nfmt.Println(g, h)\n</code></pre> <p>\u200b\u5168\u5c40\u53d8\u91cf\u200b</p> <pre><code>// \u200b\u5168\u5c40\u53d8\u91cf\u200b\nvar a1 = 100\nvar a2 = 200\n// \u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\nvar (\n    a3 = 300\n    a4 = 400\n)\n</code></pre> <p>\u200b\u5e38\u91cf\u200b</p> <pre><code>// \u200b\u5e38\u91cf\u200b\nconst i = 10\n</code></pre>"},{"location":"lang/go/0base/1base/#_13","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"lang/go/0base/1base/#_14","title":"\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b","text":""},{"location":"lang/go/0base/1base/#_15","title":"\u6574\u6570","text":"<p>\u200b\u6709\u200b\u7b26\u53f7\u200b</p> <p></p> <p>\u200b\u65e0\u200b\u7b26\u53f7\u200b</p> <p></p> <p></p> <pre><code>package main\n\n// import \"fmt\"\n// import \"unsafe\"\nimport (\n    \"fmt\"\n    \"unsafe\"\n)\n\nfunc main() {\n    var i int = 100\n    fmt.Println(i, unsafe.Sizeof(i))\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#_16","title":"\u6d6e\u70b9\u6570","text":"<p>\u200b\u7cfb\u7edf\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200bfloat64,\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200bfloat64</p> \u200b\u7c7b\u578b\u200b \u200b\u5360\u7528\u200b\u5b58\u50a8\u200b\u5927\u5c0f\u200b \u200b\u8303\u56f4\u200b float32 4 -3.4E38\uff5e3.4E38 float64 8 -1.7E308\uff5e1.7E308 <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var i float64 = 1.1\n    fmt.Println(\"\u200b\u6d6e\u70b9\u6570\u200b\", i)\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#_17","title":"\u5b57\u7b26","text":"<p>\u200b\u4f7f\u7528\u200b'',\u200b\u5b57\u7b26\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7801\u503c\u200b</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    var i byte = '1'\n    fmt.Println(i)\n    fmt.Printf(\"%c\\n\", i)\n    // %d %s %c\n    // \u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u8d85\u8fc7\u200bbyte\u200b\u8868\u793a\u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f7f\u7528\u200bint\u200b\u7c7b\u578b\u200b\u5373\u53ef\u200b\n    var j int = '\u200b\u4e2d\u200b'\n    fmt.Printf(\"%c\", j)\n}\n</code></pre> <p>\u200b\u5b57\u7b26\u200b</p> <p>\u200b\u5b58\u50a8\u200b\u5230\u200b \u200b\u8ba1\u7b97\u673a\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u5b57\u7b26\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7801\u503c\u200b\uff08\u200b\u6574\u6570\u200b\uff09\u200b\u627e\u200b\u51fa\u6765\u200b </p> <p>\u200b\u5b58\u50a8\u200b\uff1a\u200b\u5b57\u7b26\u200b---&gt;\u200b\u5bf9\u5e94\u200b\u7801\u503c\u200b----&gt;\u200b\u4e8c\u8fdb\u5236\u200b--&gt;\u200b\u5b58\u50a8\u200b </p> <p>\u200b\u8bfb\u53d6\u200b\uff1a\u200b\u4e8c\u8fdb\u5236\u200b----&gt; \u200b\u7801\u503c\u200b ----&gt; \u200b\u5b57\u7b26\u200b --&gt; \u200b\u8bfb\u53d6\u200b</p> <p>\u200b   </p>"},{"location":"lang/go/0base/1base/#bool","title":"bool","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"unsafe\"\n)\n\nfunc main() {\n    var i bool = false\n    fmt.Println(i, unsafe.Sizeof(i))\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#string","title":"string","text":"<pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    var name string = \"matt\"\n    var address = `\n        hahahninrerer\n    `\n    fmt.Println(name)\n    fmt.Println(address)\n\n}\n</code></pre> <p>1\u200b\u4e00\u822c\u200b\u4f7f\u7528\u200b\"\",\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8f93\u51fa\u200b\u53cd\u200b\u5f15\u53f7\u200b``</p> <p>2\u200b\u53cd\u200b\u5f15\u53f7\u200b\u53ef\u4ee5\u200b\u8d4b\u503c\u200b\u591a\u884c\u200b</p> <p>3\u200b\u5b57\u7b26\u4e32\u200b\u62fc\u63a5\u200b</p> <p>+\u200b\u8981\u200b\u5199\u200b\u5728\u200b\u6bcf\u200b\u4e00\u884c\u200b\u540e\u9762\u200b</p> <pre><code>var address = \"hello\" +\n    \"word\"\n</code></pre> <p>4</p> <pre><code> // \u200b\u591a\u884c\u200b\u8f93\u51fa\u200b\n    fmt.Println(\"hello word\",\n        \"\u200b\u4f60\u597d\u200b\") \n</code></pre>"},{"location":"lang/go/0base/1base/#_18","title":"\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"lang/go/0base/1base/#_19","title":"\u57fa\u672c\u200b\u6570\u636e\u200b\u7c7b\u578b\u8f6c\u6362","text":"<p>\u200b\u6ce8\u610f\u200b</p> <pre><code>var i int8 = 10\n// i + 8 \u200b\u662f\u200bint8\u200b\u7c7b\u578b\u200b\n</code></pre> <p>\u200b\u4e00\u822c\u200b\u90fd\u200b\u662f\u200b\u5f3a\u8f6c\u200b</p> <pre><code>var i int8 = 1\nvar j = int16(i)\n</code></pre>"},{"location":"lang/go/0base/1base/#_20","title":"\u57fa\u672c\u200b\u7c7b\u578b\u200b\u8f6c\u200b\u5b57\u7b26\u4e32","text":"<p>\u200b\u4f7f\u7528\u200bfmt\u200b\u4e0b\u200b\u7684\u200bSprintf</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var i int8 = 100\n    var address string = fmt.Sprintf(\"%d hello3434\", i)\n\n    fmt.Println(address)\n}\n</code></pre> <p>\u200b\u4f7f\u7528\u200bstrconv\u200b\u5305\u200b</p>"},{"location":"lang/go/0base/1base/#_21","title":"\u5b57\u7b26\u4e32\u200b\u8f6c\u200b\u5176\u4ed6\u200b\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b","text":"<p>\u200b\u4f7f\u7528\u200bstrconv\u200b\u5305\u200b</p> <p></p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"strconv\"\n)\n\nfunc main() {\n\n    var i string = \"100\"\n    var j int64\n    // \u200b\u56e0\u4e3a\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\u4f1a\u200b\u6709\u200b\u4fe9\u4e2a\u200b\u8fd4\u56de\u503c\u200b\n    j, _ = strconv.ParseInt(i, 10, 8)\n    fmt.Println(j)\n\n}\n</code></pre> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u5982\u679c\u200b\u662f\u200b\"hello\"\u200b\u8f6c\u200bint\uff0c\u200b\u90a3\u4e48\u200b\u76f4\u63a5\u200b\u8f6c\u4e3a\u200b0\uff0c\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b</p> <p>\u200b\u9ad8\u7cbe\u5ea6\u200b\u5230\u200b\u4f4e\u200b\u7cbe\u5ea6\u200b\u53ea\u4f1a\u200b\u7cbe\u5ea6\u200b\u4e22\u5931\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b</p>"},{"location":"lang/go/0base/1base/#_22","title":"\u6307\u9488\u200b\u7c7b\u578b","text":""},{"location":"lang/go/0base/1base/#_23","title":"\u57fa\u7840","text":"<pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    var num int = 10\n    var p *int = &amp;num\n    fmt.Println(p)\n    *p = 20\n    fmt.Println(num)\n}\n</code></pre> <p>&amp;num:\u200b\u83b7\u53d6\u200bnum\u200b\u5730\u5740\u200b</p> <p>*int:int\u200b\u7c7b\u578b\u200b\u7684\u200b\u6307\u9488\u200b</p> <p>*p:\u200b\u83b7\u53d6\u200bp\u200b\u6307\u9488\u200b\u6307\u5411\u200b\u53d8\u91cf\u200b\u7684\u200b\u5730\u5740\u200b</p>"},{"location":"lang/go/0base/1base/#_24","title":"\u503c\u200b\u7c7b\u578b\u200b\u548c\u200b\u5f15\u7528\u200b\u7c7b\u578b","text":"<p>(1) \u200b\u503c\u200b\u7c7b\u578b\u200b\uff0c\u200b\u90fd\u200b\u6709\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u9488\u200b\u7c7b\u578b\u200b\uff0c \u200b\u5f62\u5f0f\u200b\u4e3a\u200b \u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u6bd4\u5982\u200b int \u200b\u7684\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u9488\u200b\u5c31\u662f\u200b int, float32\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u9488\u200b\u7c7b\u578b\u200b\u5c31\u662f\u200b *float32, \u200b\u4f9d\u6b21\u200b\u7c7b\u63a8\u200b\u3002 </p> <p>(2) \u200b\u503c\u200b\u7c7b\u578b\u200b\u5305\u62ec\u200b\uff1a\u200b\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b\u200b int \u200b\u7cfb\u5217\u200b, float \u200b\u7cfb\u5217\u200b, bool, string \u3001\u200b\u6570\u7ec4\u200b\u548c\u200b\u7ed3\u6784\u200b\u4f53\u200b struct</p> <p>(1) \u200b\u503c\u200b\u7c7b\u578b\u200b\uff1a\u200b\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b\u200b int \u200b\u7cfb\u5217\u200b, float \u200b\u7cfb\u5217\u200b, bool, string \u3001\u200b\u6570\u7ec4\u200b\u548c\u200b\u7ed3\u6784\u200b\u4f53\u200b struct (2) \u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b\uff1a\u200b\u6307\u9488\u200b\u3001slice \u200b\u5207\u7247\u200b\u3001map\u3001\u200b\u7ba1\u9053\u200b chan\u3001interface \u200b\u7b49\u200b\u90fd\u200b\u662f\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u503c\u200b\u7c7b\u578b\u200b\uff1a\u200b\u53d8\u91cf\u200b\u76f4\u63a5\u200b\u5b58\u50a8\u200b\u503c\u200b\uff0c\u200b\u5185\u5b58\u200b\u901a\u5e38\u200b\u5728\u200b\u6808\u200b\u4e2d\u200b\u5206\u914d\u200b</p> <p>\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b\uff1a\u200b\u53d8\u91cf\u200b\u5b58\u50a8\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5730\u5740\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7a7a\u95f4\u200b\u624d\u200b\u771f\u6b63\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b(\u200b\u503c\u200b)\uff0c\u200b\u5185\u5b58\u200b\u901a\u5e38\u200b\u5728\u200b\u5806\u200b \u200b\u4e0a\u200b\u5206\u914d\u200b\uff0c\u200b\u5f53\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u53d8\u91cf\u200b\u5f15\u7528\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u65f6\u200b\uff0c\u200b\u8be5\u200b\u5730\u5740\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6570\u636e\u200b\u7a7a\u95f4\u200b\u5c31\u200b\u6210\u4e3a\u200b\u4e00\u4e2a\u200b\u5783\u573e\u200b\uff0c\u200b\u7531\u200bGC \u200b\u6765\u200b\u56de\u6536\u200b</p>"},{"location":"lang/go/0base/1base/#_25","title":"\u6807\u8bc6\u7b26","text":""},{"location":"lang/go/0base/1base/#_26","title":"\u57fa\u7840","text":"<p>Golang \u200b\u5bf9\u200b\u5404\u79cd\u200b\u53d8\u91cf\u200b\u3001\u200b\u65b9\u6cd5\u200b\u3001\u200b\u51fd\u6570\u200b\u7b49\u200b\u547d\u540d\u200b\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u5b57\u7b26\u200b\u5e8f\u5217\u200b\u79f0\u4e3a\u200b\u6807\u8bc6\u7b26\u200b</p> <p>\u200b\u51e1\u662f\u200b\u81ea\u5df1\u200b\u53ef\u4ee5\u200b\u8d77\u200b\u540d\u5b57\u200b\u7684\u200b\u5730\u65b9\u200b\u90fd\u200b\u53eb\u200b\u6807\u8bc6\u7b26\u200b</p>"},{"location":"lang/go/0base/1base/#_27","title":"\u547d\u540d\u200b\u89c4\u5219","text":"<p>(1) \u200b\u7531\u200b 26 \u200b\u4e2a\u200b\u82f1\u6587\u5b57\u6bcd\u200b\u5927\u5c0f\u5199\u200b\uff0c0-9 \uff0c_ \u200b\u7ec4\u6210\u200b</p> <p>(2) \u200b\u6570\u5b57\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u5f00\u5934\u200b\u3002var num int //ok var 3num int //error</p> <p>(3) Golang \u200b\u4e2d\u200b\u4e25\u683c\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b</p> <p>(4) \u200b\u4e0b\u5212\u7ebf\u200b\"_\"\u200b\u672c\u8eab\u200b\u5728\u200bGo \u200b\u4e2d\u662f\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u7a7a\u200b\u6807\u8bc6\u7b26\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4ee3\u8868\u200b\u4efb\u4f55\u200b\u5176\u5b83\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\uff0c\u200b\u4f46\u200b \u200b\u662f\u200b\u5b83\u200b\u5bf9\u5e94\u200b\u7684\u200b\u503c\u4f1a\u200b\u88ab\u200b\u5ffd\u7565\u200b(\u200b\u6bd4\u5982\u200b\uff1a\u200b\u5ffd\u7565\u200b\u67d0\u4e2a\u200b\u8fd4\u56de\u503c\u200b)\u3002\u200b\u6240\u4ee5\u200b\u4ec5\u80fd\u200b\u88ab\u200b\u4f5c\u4e3a\u200b\u5360\u4f4d\u200b\u7b26\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4f5c\u4e3a\u200b\u6807\u8bc6\u7b26\u200b\u4f7f\u7528\u200b</p>"},{"location":"lang/go/0base/1base/#_28","title":"\u7cfb\u7edf\u200b\u4fdd\u7559\u200b\u5173\u952e\u5b57","text":""},{"location":"lang/go/0base/1base/#_29","title":"\u7cfb\u7edf\u200b\u7684\u200b\u9884\u5b9a\u200b\u4e49\u200b\u6807\u8bc6\u7b26","text":"<p>\u200b\u5f53\u7136\u200b\uff0c\u200b\u8fd9\u200b\u662f\u200b\u5728\u200b go \u200b\u4e2d\u200b\uff0cgo \u200b\u7684\u200b\u5173\u952e\u5b57\u200b\u591a\u200b\u662f\u200b\u8bed\u53e5\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u800c\u200b\u9884\u5b9a\u200b\u4e49\u200b\u6807\u8bc6\u7b26\u200b\u591a\u200b\u662f\u200b\u7c7b\u578b\u200b</p>"},{"location":"lang/go/0base/1base/#_30","title":"\u8fd0\u7b97\u7b26","text":""},{"location":"lang/go/0base/1base/#_31","title":"\u7b97\u672f\u200b\u8fd0\u7b97\u7b26","text":""},{"location":"lang/go/0base/1base/#_32","title":"\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"lang/go/0base/1base/#1","title":"1.\u200b\u53d6\u6a21\u200b%","text":"<p>a % b = a - a / b * b</p> <p>\u200b\u4e0e\u200ba\u200b\u7684\u200b\u6b63\u8d1f\u200b\u4e00\u81f4\u200b</p>"},{"location":"lang/go/0base/1base/#2","title":"2.\u200b\u9664\u6cd5","text":"<pre><code>10/3   = 3\n</code></pre>"},{"location":"lang/go/0base/1base/#3-","title":"3.++ --","text":"<p>go \u200b\u8bed\u8a00\u200b\u53ea\u200b\u652f\u6301\u200b i++, i-- \u200b\u8fd9\u6837\u200b\u7684\u200b\uff0c\u200b\u6ca1\u6709\u200b --i , ++i \u200b\u540c\u65f6\u200b j = i++\u200b\u8fd9\u6837\u200b\u4e5f\u200b\u662f\u200b\u9519\u8bef\u200b\u7684\u200b</p>"},{"location":"lang/go/0base/1base/#_33","title":"\u5173\u7cfb\u200b\u8fd0\u7b97\u7b26","text":""},{"location":"lang/go/0base/1base/#_34","title":"\u903b\u8f91\u200b\u8fd0\u7b97\u7b26","text":"<p>\u200b\u77ed\u8def\u200b</p> <p>(1) &amp;&amp;\u200b\u4e5f\u200b\u53eb\u200b\u77ed\u8def\u200b\u4e0e\u200b\uff1a\u200b\u5982\u679c\u200b\u7b2c\u4e00\u4e2a\u200b\u6761\u4ef6\u200b\u4e3a\u200b false\uff0c\u200b\u5219\u200b\u7b2c\u4e8c\u4e2a\u200b\u6761\u4ef6\u200b\u4e0d\u4f1a\u200b\u5224\u65ad\u200b\uff0c\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u4e3a\u200b false </p> <p>(2) ||\u200b\u4e5f\u200b\u53eb\u200b\u77ed\u8def\u200b\u6216\u200b\uff1a\u200b\u5982\u679c\u200b\u7b2c\u4e00\u4e2a\u200b\u6761\u4ef6\u200b\u4e3a\u200b true\uff0c\u200b\u5219\u200b\u7b2c\u4e8c\u4e2a\u200b\u6761\u4ef6\u200b\u4e0d\u4f1a\u200b\u5224\u65ad\u200b\uff0c\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u4e3a\u200b true</p>"},{"location":"lang/go/0base/1base/#_35","title":"\u8d4b\u503c\u200b\u8fd0\u7b97\u7b26","text":""},{"location":"lang/go/0base/1base/#_36","title":"\u539f\u7801\u200b\u53cd\u7801\u200b\u8865\u7801","text":"<p>\u200b\u6b63\u6570\u200b\u548c\u200b0\uff1a\u200b\u539f\u7801\u200b\u53cd\u7801\u200b\u8865\u7801\u200b\u76f8\u540c\u200b</p> <p>\u200b\u8d1f\u6570\u200b\u7684\u200b\u53cd\u7801\u200b\uff1a\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u5176\u4ed6\u200b\u4f4d\u200b\u53d6\u53cd\u200b</p> <p>\u200b\u8d1f\u6570\u200b\u7684\u200b\u8865\u7801\u200b\uff1a\u200b\u53cd\u7801\u200b+1</p> <p>\u200b\u8ba1\u7b97\u673a\u200b\u90fd\u200b\u662f\u200b\u4ee5\u200b\u8865\u7801\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b</p>"},{"location":"lang/go/0base/1base/#_37","title":"\u4f4d\u200b\u8fd0\u7b97\u7b26","text":"<p>\u200b\u56e0\u6b64\u200b\u6240\u8bf4\u200b\u7684\u200b \u200b\u6709\u200b\u7b26\u53f7\u200b\u3001\u200b\u65e0\u200b\u7b26\u53f7\u200b \u200b\u770b\u200b\u7684\u200b\u5c31\u662f\u200b\u4e8c\u8fdb\u5236\u200b\u7684\u200b\u7b26\u53f7\u200b\u4f4d\u200b\uff0c \u200b\u65e0\u200b\u7b26\u53f7\u200b:3\u200b\u5c31\u200b\u4e0d\u7ba1\u200b\u7b26\u53f7\u200b\u4f4d\u200b\uff0c\u200b\u53f3\u79fb\u200b\u53ea\u200b\u586b\u5145\u200b0\uff1b\u200b\u6709\u200b\u7b26\u53f7\u200b\uff0c\u200b\u5c31\u662f\u200b\u7b26\u53f7\u200b\u4f4d\u662f\u200b\u5565\u200b\uff0c\u200b\u6211\u200b\u5c31\u200b\u586b\u5145\u200b\u5565\u200b\uff0cJava\u200b\u4e2d\u200b\u4e5f\u200b\u662f\u200b\u540c\u7406\u200b\u3002</p>"},{"location":"lang/go/0base/1base/#_38","title":"\u8fd0\u7b97\u7b26\u200b\u4f18\u5148\u7ea7","text":"<p>1\uff1a\u200b\u62ec\u53f7\u200b\uff0c++, --</p> <p>2: \u200b\u5355\u76ee\u200b\u8fd0\u7b97\u200b </p> <p>3\uff1a\u200b\u7b97\u672f\u200b\u8fd0\u7b97\u7b26\u200b </p> <p>4\uff1a\u200b\u79fb\u4f4d\u200b\u8fd0\u7b97\u200b </p> <p>5\uff1a\u200b\u5173\u7cfb\u200b\u8fd0\u7b97\u7b26\u200b </p> <p>6\uff1a\u200b\u4f4d\u200b\u8fd0\u7b97\u7b26\u200b </p> <p>7\uff1a\u200b\u903b\u8f91\u200b\u8fd0\u7b97\u7b26\u200b </p> <p>8\uff1a\u200b\u8d4b\u503c\u200b\u8fd0\u7b97\u7b26\u200b </p> <p>9\uff1a\u200b\u9017\u53f7\u200b</p>"},{"location":"lang/go/0base/1base/#go","title":"go\u200b\u6ca1\u6709\u200b\u4e09\u6728\u200b\u8fd0\u7b97\u7b26","text":""},{"location":"lang/go/0base/1base/#_39","title":"\u6d41\u7a0b\u200b\u63a7\u5236","text":""},{"location":"lang/go/0base/1base/#if-else","title":"if else","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var age int\n    fmt.Scanln(&amp;age)\n    if age &lt; 0 {\n        fmt.Println(\"\u200b\u9519\u8bef\u200b\u7684\u200b\u6570\u636e\u200b\")\n    } else if age &lt; -1 {\n        fmt.Println(\"\u200b\u672a\u6210\u5e74\u200b\")\n    } else {\n        fmt.Println(\"\u200b\u6210\u5e74\u4eba\u200b\")\n    }\n}\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u5373\u4f7f\u200bif\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u53ea\u6709\u200b\u4ee5\u53ca\u200b\u4ecd\u7136\u200b\u8981\u52a0\u200b{}</p>"},{"location":"lang/go/0base/1base/#switch","title":"switch","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var ch byte\n    // \u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b Scanln\n\n    fmt.Scanf(\"%c\", &amp;ch)\n    // switch 'a'\n    // switch test('a')\n    switch ch {\n        case 'a', 'b':\n            fmt.Println(\"\u200b\u661f\u671f\u4e00\u200b\u6216\u8005\u200b\u661f\u671f\u4e8c\u200b\")\n        case 'c':\n            fmt.Println(\"\u200b\u661f\u671f\u4e09\u200b\")\n        default:\n            fmt.Println(\"\u200b\u5176\u4ed6\u200b\")\n    }\n\n\n\n\n}\n</code></pre> <p>switch\uff1a\u200b\u4e0d\u200b\u9700\u8981\u200b\u5199\u200bbreak\uff0cgo\u200b\u5df2\u7ecf\u200b\u5e2e\u200b\u6211\u4eec\u200b\u6dfb\u52a0\u200b\u4e86\u200b</p> <p>golang \u200b\u7684\u200b case \u200b\u540e\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u53ef\u4ee5\u200b\u6709\u200b\u591a\u4e2a\u200b\uff0c\u200b\u4f7f\u7528\u200b \u200b\u9017\u53f7\u200b \u200b\u95f4\u9694\u200b,\u200b\u8868\u793a\u200b\u6216\u200b\u7684\u200b\u610f\u601d\u200b</p> <p>case \u200b\u540e\u200b\u7684\u200b\u5404\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u503c\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u5fc5\u987b\u200b\u548c\u200b switch \u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u6570\u636e\u7c7b\u578b\u200b\u4e00\u81f4\u200b</p> <p>case/switch \u200b\u540e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b( \u200b\u5373\u200b\uff1a\u200b\u5e38\u91cf\u200b\u503c\u200b\u3001\u200b\u53d8\u91cf\u200b\u3001\u200b\u4e00\u4e2a\u200b\u6709\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u51fd\u6570\u200b\u7b49\u200b\u90fd\u200b\u53ef\u4ee5\u200b)</p> <pre><code>// switch 'a'\n// switch test('a')\n</code></pre> <p>default:\u200b\u4e0d\u662f\u200b\u5fc5\u987b\u200b\u7684\u200b</p> <p>case \u200b\u540e\u9762\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u5982\u679c\u200b\u662f\u200b\u5e38\u91cf\u200b\u503c\u200b(\u200b\u5b57\u9762\u200b\u91cf\u200b)\uff0c\u200b\u5219\u200b\u8981\u6c42\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b</p> <p>switch:\u200b\u53ef\u4ee5\u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4e0d\u200b\u63a8\u8350\u200b</p> <pre><code>switch age := 12; {\n\n    case age == 18:\n        fmt.Println(\"18\")\n        // \u200b\u7a7f\u900f\u200b\n        fallthrough\n    case age &lt; 18:\n        fmt.Println(\"\u200b\u672a\u6210\u5e74\u200b\")\n        fallthrough\n    default:\n        fmt.Println(\"\u200b\u6210\u5e74\u200b\")\n}\n</code></pre> <p>switch\uff1a\u200b\u6a21\u62df\u200bifel</p> <pre><code>switch {\ncase 1 == 1 &amp;&amp; 2 == 3:\n    fmt.Println(\"error\")\ndefault:\n    fmt.Println(\"true\")\n}\n</code></pre> <p>switch \u200b\u7a7f\u900f\u200b-fallthrough \uff0c\u200b\u5982\u679c\u200b\u5728\u200b case \u200b\u8bed\u53e5\u200b\u5757\u200b\u540e\u200b\u589e\u52a0\u200b fallthrough ,\u200b\u5219\u200b\u4f1a\u200b\u7ee7\u7eed\u6267\u884c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b case\uff0c\u200b\u4e5f\u200b \u200b\u53eb\u200b switch \u200b\u7a7f\u900f\u200b,\u200b\u4f46\u662f\u200b\u53ea\u200b\u53ef\u4ee5\u200b\u7a7f\u900f\u200b\u4e00\u6b21\u200b</p>"},{"location":"lang/go/0base/1base/#63forgowhile","title":"6.3for//go\u200b\u6ca1\u6709\u200bwhile","text":"<pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n\n\n    for i := 0; i &lt; 10; i++{\n        fmt.Println(\"matt\", i)\n    }\n\n}\n</code></pre> <pre><code>i := 0\nfor i &lt; 10 {\n    fmt.Println(\"matt\", i)\n    i++\n}\n</code></pre> <p>\u200b\u904d\u5386\u200b\u5b57\u7b26\u4e32\u200b</p> <p>\u200b\u6839\u636e\u200b\u5b57\u7b26\u200b\u904d\u5386\u200b\u7684\u200b</p> <pre><code>var str = \"hello wordz\u200b\u4e2d\u6587\u200b\"\n// \u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u4f20\u7edf\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u904d\u5386\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u9519\u200b\uff0c\u200b\u56e0\u4e3a\u200b3\u200b\u4e2a\u200b\u5b57\u8282\u200b\nfor index, val := range str {\n    //fmt.Println(index, val)\n    fmt.Printf(\"%d %c\\n\", index, val)\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#64break","title":"6.4break","text":"<p>break:\u200b\u8df3\u51fa\u200bfor\u200b\u5faa\u73af\u200b</p>"},{"location":"lang/go/0base/1base/#65continue","title":"6.5continue","text":"<p>continue:\u200b\u8df3\u51fa\u200b\u5f53\u524d\u200b\u5faa\u73af\u200b</p>"},{"location":"lang/go/0base/1base/#66label","title":"6.6label","text":"<p>label:\u200b\u4f7f\u7528\u200bbreak\u200b\u8df3\u51fa\u200b\u6307\u5b9a\u200b\u7684\u200bfor\u200b\u5faa\u73af\u200b</p> <p>\u200b\u540c\u6837\u200bcontinue\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n\n    label1:\n        for i := 0; i &lt; 10; i++ {\n            for j := 0; j &lt; 10; j++ {\n                if j == 3 {\n                    break label1\n                }\n                fmt.Println(j)\n            }\n            fmt.Println(i)\n        }\n}\n</code></pre>"},{"location":"lang/go/0base/1base/#67goto","title":"6.7goto","text":"<p>goto:\u200b\u8df3\u8f6c\u200b\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    goto label1\n    fmt.Print(\"\u200b\u4e0d\u200b\u6267\u884c\u200b\")\n    label1:\n        fmt.Print(\"\u200b\u6267\u884c\u200b\")\n}\n</code></pre> <pre><code>\u200b\u8f93\u51fa\u200b\uff1a\u200b\u6267\u884c\u200b\n</code></pre>"},{"location":"lang/go/0base/1base/#_40","title":"\u95ee\u9898","text":"<p>\u200b\u5728\u200b\u51fd\u6570\u200b\u5916\u200b\u4f7f\u7528\u200b\u5982\u4e0b\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u9519\u200b</p> <pre><code>i := 1\n\n// \u200b\u7b49\u4ef7\u200b\u4e8e\u200b\nvar i int\n// i = 1 \u200b\u8d4b\u503c\u200b\u8bed\u53e5\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u5728\u200b\u51fd\u6570\u200b\u5916\u200b\u4f7f\u7528\u200b\uff0c\u200b\u662f\u200b\u6267\u884c\u200b\u8bed\u53e5\u200b\ni = 1\n</code></pre>"},{"location":"lang/go/0base/2data_structure/","title":"\u6570\u7ec4","text":""},{"location":"lang/go/0base/2data_structure/#_2","title":"\u4ecb\u7ecd","text":"<p>\u200b\u5b58\u653e\u200b\u591a\u4e2a\u200b\u540c\u4e00\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b</p>"},{"location":"lang/go/0base/2data_structure/#_3","title":"\u4f7f\u7528","text":""},{"location":"lang/go/0base/2data_structure/#_4","title":"\u58f0\u660e","text":"<pre><code>var arr1 [3]int\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_5","title":"\u56db\u79cd\u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5","text":"<pre><code>var arr1 [3]int = [3]int{1, 2, 3}\nfmt.Println(arr1)\n\nvar arr2 = [5]int{1, 2, 3, 4, 5}\nfmt.Println(arr2)\n\narr3 := [...]float64{1, 2, 3}\nfmt.Println(arr3)\n\nvar arr4 = [...]string{1: \"aa\", 0: \"bb\"}\nfmt.Println(arr4)\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_6","title":"\u904d\u5386","text":"<pre><code>for index, val := range arr4 \n{   \n    fmt.Println(index, val)\n}\n</code></pre> <pre><code>for i := 0; i &lt; len(arr4); i++ {    \n    fmt.Println(arr4[i])\n}\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_7","title":"\u6ce8\u610f","text":"<p>1.\u200b\u6570\u7ec4\u200b\u4e00\u65e6\u200b\u58f0\u660e\u200b\uff0c\u200b\u5176\u200b\u957f\u5ea6\u200b\u4e0d\u80fd\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b\uff1b\u200b\u6570\u7ec4\u200b\u521b\u5efa\u200b\u540e\u200b\uff0c\u200b\u6ca1\u6709\u200b\u8d4b\u503c\u200b\uff0c\u200b\u4f1a\u200b\u6709\u200b\u9ed8\u8ba4\u503c\u200b</p> <p>2.go \u200b\u8bed\u8a00\u200b\u4e2d\u200b\u6570\u7ec4\u200b\u662f\u200b\u503c\u200b\u7c7b\u578b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b</p> <p>3.\u200b\u4f20\u9012\u200b\u53c2\u6570\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u6570\u7ec4\u200b\u957f\u5ea6\u200b</p> <pre><code>// [3]int [4]int \u200b\u8ba4\u4e3a\u200b\u662f\u200b\u4e0d\u540c\u200b\u6570\u636e\u7c7b\u578b\u200b\nfunc valueTest(arr [3]int) {    \n    arr[0] = 1\n}\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_8","title":"\u4e8c\u7ef4\u200b\u6570\u7ec4","text":"<pre><code>func main() {   \n    var arr = [2][2]int{{1, 2}, {3, 4}} \n    fmt.Println(arr)    \n    // \u200b\u53ea\u6709\u200b\u7b2c\u4e00\u4e2a\u200b\u53ef\u4ee5\u200b\u4e3a\u200b...  \n    var arr1 = [...][3]int{{1, 2}, {3, 4}}  \n    fmt.Println(arr1)\n}\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_9","title":"\u5207\u7247","text":""},{"location":"lang/go/0base/2data_structure/#_10","title":"\u57fa\u7840","text":""},{"location":"lang/go/0base/2data_structure/#_11","title":"\u521d\u59cb\u5316","text":"<p>\u200b\u6570\u7ec4\u200b\u7684\u200b\u5207\u200b - make - \u200b\u76f4\u63a5\u200b\u521d\u59cb\u5316\u200b - \u200b\u76f4\u63a5\u200b\u58f0\u660e\u200b</p> <p>1</p> <pre><code>var arr = [5]int{1, 2, 3, 45, 5}\nslice := arr[2:4]\narr[2] = -1\nfmt.Println(slice)\n// \u200b\u5143\u7d20\u200b\u6570\u91cf\u200bfmt.Println(len(slice))\n// \u200b\u5bb9\u91cf\u200bfmt.Println(cap(slice))\n</code></pre> <p>2</p> <pre><code>var slice1 []int = make([]int, 2, 10)\nslice1[0] = 0\nslice1[1] = 1\nfmt.Println(slice1)\n</code></pre> <p>3</p> <pre><code>fmt.Println(\"\u200b\u65b9\u5f0f\u200b\u4e09\u200b\")\nvar slice2 []float64 = []float64{1, 2, 3}\nfmt.Println(cap(slice2))\n</code></pre> <p>4</p> <pre><code>var s []int\n</code></pre> <pre><code>type slice struct {     \n    ptr *[2]int     \n    len int     \n    cap int\n}\n</code></pre> <p>\u200b\u5f15\u7528\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b</p> <p>\u200b\u6570\u91cf\u200b</p> <p>\u200b\u5bb9\u91cf\u200b</p>"},{"location":"lang/go/0base/2data_structure/#_12","title":"\u904d\u5386","text":"<pre><code>for index, value := range slice2 {  \n    fmt.Printf(\"---%v:%v \", index, value)\n}\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_13","title":"\u4f7f\u7528","text":""},{"location":"lang/go/0base/2data_structure/#_14","title":"\u6570\u7ec4\u200b\u5207\u7247\u200b\u5206\u5272","text":"<pre><code>var slieceDemo = arr[startIndex: endIndex]\n</code></pre> <p>\u200b\u5305\u542b\u200b\u5de6\u8fb9\u200b\uff0c\u200b\u4e0d\u200b\u5305\u542b\u200b\u53f3\u8fb9\u200b</p> <p>var slice = arr[0:end] \u200b\u53ef\u4ee5\u200b\u7b80\u5199\u200b var slice = arr[:end] </p> <p>var slice = arr[start:len(arr)] \u200b\u53ef\u4ee5\u200b\u7b80\u5199\u200b\uff1a var slice = arr[start:] </p> <p>var slice = arr[0:len(arr)] \u200b\u53ef\u4ee5\u200b\u7b80\u5199\u200b: var slice = arr[:]</p> <p>cap \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u7edf\u8ba1\u200b\u5207\u7247\u200b\u7684\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u5373\u200b\u6700\u5927\u200b\u53ef\u4ee5\u200b\u5b58\u653e\u200b\u591a\u5c11\u200b\u4e2a\u200b\u5143\u7d20\u200b\u3002</p> <p>\u200b\u5207\u7247\u200b\u4ecd\u7136\u200b\u53ef\u4ee5\u200b\u5207\u7247\u200b</p> <pre><code>// \u200b\u5143\u7d20\u200b\u6570\u91cf\u200bfmt.Println(len(slice))// \u200b\u5bb9\u91cf\u200bfmt.Println(cap(slice))\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#append","title":"append","text":"<p>\u200b\u7528\u200b append \u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5207\u7247\u200b\u8fdb\u884c\u200b\u52a8\u6001\u200b\u8ffd\u52a0\u200b</p> <pre><code>var arr = [5]int{1, 2, 3, 4, 5}\nvar slice []int = arr[:]\nfmt.Println(slice)// \u200b\u8fd4\u56de\u200b\nslice = append(slice, 10)\nfmt.Println(slice)\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_15","title":"\u5207\u7247\u200b\u7684\u200b\u62f7\u8d1d","text":"<pre><code>package mainimport \"fmt\"\nfunc main() {   \n    var slice1 []int = make([]int, 5)   \n    var slice2 []int = make([]int, 10)  \n    slice1[0] = 1   \n    copy(slice2, slice1)    \n    fmt.Println(slice2)\n}\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_16","title":"\u6ce8\u610f","text":"<p>\u200b\u5207\u7247\u200b\u662f\u200b\u5f15\u7528\u200b\u4f20\u9012\u200b</p> <p>string\u200b\u5e95\u5c42\u200b\u4e5f\u200b\u662f\u200b\u6570\u7ec4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5207\u7247\u200b</p>"},{"location":"lang/go/0base/2data_structure/#_17","title":"\u6570\u7ec4","text":""},{"location":"lang/go/0base/2data_structure/#map","title":"Map\u200b\u4f7f\u7528","text":""},{"location":"lang/go/0base/2data_structure/#_18","title":"\u4ecb\u7ecd","text":"<p>key-value \u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b java \u200b\u4e2d\u200b\u7684\u200b map</p> <p>key \u200b\u7684\u200b\u7c7b\u578b\u200b\uff1abool, \u200b\u6570\u5b57\u200b\uff0cstring, \u200b\u6307\u9488\u200b, channel , \u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u662f\u200b\u53ea\u200b\u5305\u542b\u200b\u524d\u9762\u200b\u51e0\u4e2a\u200b\u7c7b\u578b\u200b\u7684\u200b \u200b\u63a5\u53e3\u200b, \u200b\u7ed3\u6784\u200b\u4f53\u200b, \u200b\u6570\u7ec4\u200b\uff0c\u200b\u901a\u5e38\u200b key \u200b\u4e3a\u200b int \u3001string \u200b\u6ce8\u610f\u200b: slice\uff0c map \u200b\u8fd8\u6709\u200b function \u200b\u4e0d\u200b\u53ef\u4ee5\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u200b\u51e0\u4e2a\u200b\u6ca1\u6cd5\u7528\u200b == \u200b\u6765\u200b\u5224\u65ad\u200b valuetype \u200b\u7684\u200b\u7c7b\u578b\u200b\u548c\u200b key \u200b\u57fa\u672c\u200b\u4e00\u6837\u200b\uff0c\u200b\u901a\u5e38\u200b\u4e3a\u200b: \u200b\u6570\u5b57\u200b(\u200b\u6574\u6570\u200b,\u200b\u6d6e\u70b9\u6570\u200b),string,map,struct</p>"},{"location":"lang/go/0base/2data_structure/#_19","title":"\u4f7f\u7528","text":""},{"location":"lang/go/0base/2data_structure/#_20","title":"\u58f0\u660e","text":"<pre><code>var map1 map[int]int\n</code></pre> <p>1.map \u200b\u5728\u200b\u4f7f\u7528\u200b\u524d\u200b\u4e00\u5b9a\u200b\u8981\u200bmake(\u200b\u9700\u8981\u200b\u5206\u914d\u5185\u5b58\u200b)</p> <p>2.map \u200b\u7684\u200b key \u200b\u662f\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b\uff0cv \u200b\u53ef\u4ee5\u200b\u91cd\u590d\u200b</p> <p>map \u200b\u7684\u200b key-value \u200b\u662f\u200b\u65e0\u5e8f\u200b</p>"},{"location":"lang/go/0base/2data_structure/#_21","title":"\u4e09\u79cd\u200b\u4f7f\u7528\u200b\u65b9\u5f0f","text":"<pre><code>var map1 map[int]int\nmap1 = make(map[int]int, 10)\nfmt.Println(map1)\n</code></pre> <pre><code>map2 := make(map[int]int, 10)\nfmt.Println(map2)\n</code></pre> <pre><code>map3 := map[int]int {\n    1: 1,\n    2: 2,\n}\nfmt.Println(map3)\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#map_1","title":"map\u200b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5","text":""},{"location":"lang/go/0base/2data_structure/#_22","title":"\u6dfb\u52a0\u200b\u548c\u200b\u66f4\u65b0","text":"<pre><code>var a = make(map[int]string)\na[0] = \"matt\"\na[1] = \"pony\"\na[0] = \"jack\"\na[100] = \"aa\"\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_23","title":"\u5220\u9664","text":"<pre><code>// \u200b\u5220\u9664\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b key \u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u51fa\u9519\u200b\ndelete(a, 1)\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_24","title":"\u67e5\u627e","text":"<pre><code>// val:\u200b\u503c\u200b ok:\u200b\u662f\u5426\u200b\u627e\u5230\u200b\nval, ok := a[3]\nfmt.Println(ok, val)\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_25","title":"\u904d\u5386","text":"<pre><code>a1 := make(map[string]string)\na1[\"1\"] = \"a\"\na1[\"2\"] = \"b\"\na1[\"3\"] = \"c\"\na1[\"4\"] = \"d\"\nfor k, v := range a1 {\n    fmt.Println(k, v)\n}\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_26","title":"\u957f\u5ea6","text":"<pre><code>fmt.Println(len(a1), \"map\u200b\u7684\u200b\u957f\u5ea6\u200b\")\n</code></pre>"},{"location":"lang/go/0base/2data_structure/#_27","title":"\u6ce8\u610f","text":"<p>map\u200b\u662f\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b</p> <p>map\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u6269\u5bb9\u200b</p> <p>map\u200b\u7684\u200b value \u200b\u7ecf\u5e38\u200b\u662f\u200bstruct</p>"},{"location":"lang/go/0base/3func/","title":"3func","text":""},{"location":"lang/go/0base/3func/#_1","title":"\u8ba4\u8bc6","text":"<pre><code>func add(i int, j int) int {\n    return i + j\n}\n</code></pre> <p>func \u200b\u51fd\u6570\u200b\u540d\u200b (\u200b\u53c2\u6570\u200b\u5217\u8868\u200b) (\u200b\u8fd4\u56de\u503c\u200b\u7c7b\u578b\u200b\u5217\u8868\u200b)</p> <p>\u200b   \u200b\u51fd\u6570\u200b\u4f53\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u6709\u200b\u8fd4\u56de\u503c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6ca1\u6709\u200b</p>"},{"location":"lang/go/0base/3func/#_2","title":"\u5305","text":""},{"location":"lang/go/0base/3func/#_3","title":"\u4ec0\u4e48\u200b\u662f\u200b\u5305","text":"<p>\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u5305\u200b</p>"},{"location":"lang/go/0base/3func/#_4","title":"\u4f7f\u7528","text":"<pre><code>package db\n\nvar Ip int = 11\n</code></pre> <pre><code>package main\n\nimport (\n    // \u200b\u5305\u540d\u200b\u7684\u200b\u8def\u5f84\u200b\u662f\u200b\u5728\u200b %GOPATH/src\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7684\u200b\n    \"db\"\n    \"fmt\"\n    \"utils\"\n)\n\nfunc main()  {\n    fmt.Println(\"hello word\")\n    fmt.Println(utils.Add(1, 2))\n    fmt.Println(db.Ip)\n}\n</code></pre>"},{"location":"lang/go/0base/3func/#_5","title":"\u6ce8\u610f\u4e8b\u9879","text":""},{"location":"lang/go/0base/3func/#1","title":"1.\u200b\u6587\u4ef6\u200b\u7684\u200b\u5305\u540d\u200b\u901a\u5e38\u200b\u548c\u200b\u5b83\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u540d\u200b\u4e00\u6837","text":""},{"location":"lang/go/0base/3func/#2","title":"2.\u200b\u5305\u200b\u7684\u200b\u5f15\u5165","text":"<pre><code>import \"utils\"\n</code></pre> <p>\u200b\u63a8\u8350\u200b\u8fd9\u79cd\u200b</p> <pre><code>import (\n        \"fmt\"\n    \"utils\"\n)\n</code></pre> <p>\u200b\u5173\u4e8e\u200b\u5305\u200b\u7684\u200b\u8def\u5f84\u200b\uff1a\u200b\u5305\u200b\u7684\u200b\u8def\u5f84\u200b\u662f\u200b\u5728\u200b $GOPATH/src \u200b\u5f00\u59cb\u200b\u627e\u200b</p>"},{"location":"lang/go/0base/3func/#3","title":"3.\u200b\u5305\u540d\u200b.\u200b\u65b9\u6cd5\u200b \u200b\u5305\u540d\u200b.\u200b\u53d8\u91cf","text":"<p>\u200b\u5927\u5c0f\u5199\u200b</p> <p>\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b\u53d8\u91cf\u540d\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b\u540d\u200b</p>"},{"location":"lang/go/0base/3func/#4","title":"4.\u200b\u5305\u540d\u200b\u53ef\u4ee5\u200b\u8d77\u200b\u522b\u540d","text":"<pre><code>import tDb \"db\"\n</code></pre>"},{"location":"lang/go/0base/3func/#5go-main","title":"5.\u200b\u5982\u679c\u200b\u60f3\u200b\u628a\u200b\u4e00\u4e2a\u200b.go\u200b\u6587\u4ef6\u200b\u7f16\u8bd1\u6210\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\uff0c\u200b\u5219\u200b\u628a\u200b\u8be5\u200b\u6587\u4ef6\u200b\u5305\u540d\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b main","text":""},{"location":"lang/go/0base/3func/#return","title":"return","text":"<p>\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u5199\u200b ()</p> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b_\u200b\u63a5\u6536\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b</p> <pre><code>func add(i int, j int) int {\n    return i + j\n}\n</code></pre> <pre><code>func add(i int, j int) (int, int) {\n    return i + j, 1\n}\n</code></pre> <pre><code>func main() {\n\n    res, _ = add(1, 2)\n}\n</code></pre>"},{"location":"lang/go/0base/3func/#_6","title":"\u51fd\u6570\u200b\u6ce8\u610f\u200b\u7ec6\u8282","text":""},{"location":"lang/go/0base/3func/#1_1","title":"1.\u200b\u53c2\u6570\u503c\u200b \u3001\u200b\u5f15\u7528","text":"<p>\u200b\u7c7b\u578b\u200b\u53ef\u4ee5\u200b\u662f\u200b\u503c\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u57fa\u7840\u200b\u6570\u636e\u7c7b\u578b\u200b\u3001\u200b\u6570\u7ec4\u200b\u4f7f\u7528\u200b\u503c\u5f97\u200b\u4f20\u9012\u200b\uff0c\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b\u4f7f\u7528\u200b\u5f15\u7528\u200b\u4f20\u9012\u200b</p> <p>1)\u200b\u503c\u200b\u7c7b\u578b\u200b\uff1a\u200b\u57fa\u672c\u200b\u6570\u636e\u7c7b\u578b\u200b int \u200b\u7cfb\u5217\u200b, float \u200b\u7cfb\u5217\u200b, bool, string \u3001\u200b\u6570\u7ec4\u200b\u548c\u200b\u7ed3\u6784\u200b\u4f53\u200b struct </p> <p>2)\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b\uff1a\u200b\u6307\u9488\u200b\u3001slice \u200b\u5207\u7247\u200b\u3001map\u3001\u200b\u7ba1\u9053\u200b chan\u3001interface \u200b\u7b49\u200b\u90fd\u200b\u662f\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b</p>"},{"location":"lang/go/0base/3func/#2_1","title":"2.\u200b\u652f\u6301\u200b\u53ef\u53d8\u200b\u53c2\u6570","text":"<pre><code>func test4(args... int) () {\n    fmt.Println(args)\n    fmt.Println(len(args))\n}\n</code></pre> <pre><code>func main() {\n    test4(1, 2, 3)\n}\n</code></pre>"},{"location":"lang/go/0base/3func/#3_1","title":"3.\u200b\u652f\u6301\u200b\u5bf9\u200b\u65b9\u6cd5\u200b\u8fd4\u56de\u503c\u200b\u547d\u540d","text":"<p>\u200b\u53ef\u4ee5\u200b\u4e0d\u5199\u200b return sum</p> <pre><code>// \u200b\u76f4\u63a5\u200b\u5bf9\u200b\u8fd4\u56de\u503c\u200b\u547d\u540d\u200b\nfunc test3(i int, j int) (sum int) {\n    sum = i + j\n    return\n}\n</code></pre>"},{"location":"lang/go/0base/3func/#4-_","title":"4.\u200b\u4f7f\u7528\u200b _\u200b\u63a5\u6536\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8fd4\u56de\u503c","text":""},{"location":"lang/go/0base/3func/#5","title":"5.\u200b\u51fd\u6570","text":"<p>\u200b\u6ce8\u610f\u200b\u53d8\u91cf\u200b\u7684\u200b\u8bbf\u95ee\u200b\u8303\u56f4\u200b\uff0c\u200b\u51fd\u6570\u200b\u5185\u200b\u58f0\u660e\u200b\u7684\u200b\uff0c\u200b\u51fd\u6570\u200b\u5916\u200b\u5c31\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5982\u679c\u200b\u51fd\u6570\u200b\u5185\u200b\u548c\u200b\u51fd\u6570\u200b\u58f0\u660e\u200b\u76f8\u540c\u200b\u7684\u200b\u53d8\u91cf\u200b\uff0c\u200b\u5219\u200b\u51fd\u6570\u200b\u5185\u200b\u4f7f\u7528\u200b\u51fd\u6570\u200b\u5185\u200b\u58f0\u660e\u200b\u7684\u200b\u53d8\u91cf\u200b</p> <p>\u200b\u5927\u5c0f\u5199\u200b\u63a7\u5236\u200b\u8bbf\u95ee\u200b\u8303\u56f4\u200b</p> <p>\u200b\u4e0d\u200b\u652f\u6301\u200b\u91cd\u8f7d\u200b</p>"},{"location":"lang/go/0base/3func/#6","title":"6.\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u53c2\u6570","text":"<pre><code>a := test1\nfmt.Println(a(1))\n</code></pre> <pre><code>func test2(test1 func(int) (int, int), n int) (){\n    fmt.Println(test1(1))\n    return\n}\n</code></pre>"},{"location":"lang/go/0base/3func/#init","title":"init\u200b\u51fd\u6570","text":"<p>main\u200b\u51fd\u6570\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\u88ab\u200b\u6267\u884c\u200b</p> <pre><code>func init() {\n    // main\u200b\u51fd\u6570\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\u88ab\u200b\u6267\u884c\u200b\n    fmt.Println(\"init function\")\n}\n</code></pre> <p>\u200b\u53d8\u91cf\u200b\u5b9a\u4e49\u200b -&gt; init \u200b\u51fd\u6570\u200b -&gt; main \u200b\u51fd\u6570\u200b</p> <p>\u200b\u5982\u679c\u200b\u5f15\u7528\u200b\u4e86\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5148\u200b\u6267\u884c\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u7684\u200b</p>"},{"location":"lang/go/0base/3func/#_7","title":"\u533f\u540d\u200b\u51fd\u6570","text":""},{"location":"lang/go/0base/3func/#_8","title":"\u8ba4\u77e5","text":"<p>\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\uff1a\u200b\u6ca1\u6709\u200b\u540d\u5b57\u200b\u7684\u200b\u51fd\u6570\u200b</p>"},{"location":"lang/go/0base/3func/#_9","title":"\u4f7f\u7528","text":"<p>1.\u200b\u5728\u200b\u5b9a\u4e49\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u4f7f\u7528\u200b</p> <pre><code>// \u200b\u5b9a\u4e49\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u4f7f\u7528\u200b\n    res := func(i int, j int) int {\n        return i + j\n    }(1, 2)\n    fmt.Println(res)\n</code></pre> <p>2.\u200b\u5c06\u200b\u51fd\u6570\u200b\u8d4b\u503c\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b</p> <pre><code>// \u200b\u5c06\u200b\u8be5\u200b\u51fd\u6570\u200b\u7ed9\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u901a\u8fc7\u200b\u53d8\u91cf\u200b\u6765\u200b\u8c03\u7528\u200b\n    add := func(i int, j int) int {\n        return i + j\n    }\n    fmt.Println(add(1, 2))\n</code></pre>"},{"location":"lang/go/0base/3func/#_10","title":"\u95ed\u5305","text":""},{"location":"lang/go/0base/3func/#_11","title":"\u8ba4\u8bc6","text":"<p>\u200b\u95ed\u5305\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u548c\u200b\u4e0e\u5176\u200b\u76f8\u5173\u200b\u7684\u200b\u5f15\u7528\u200b\u73af\u5883\u200b\u7ec4\u5408\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6574\u4f53\u200b(\u200b\u5b9e\u4f53\u200b)</p> <p>\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b</p>"},{"location":"lang/go/0base/3func/#_12","title":"\u4f7f\u7528","text":"<pre><code>func makeSuffix(suffix string) func(string) string {\n\n    return func(fileName string) string {\n        if strings.HasSuffix(fileName, suffix) {\n            return fileName\n        }\n        return fileName + suffix\n    }\n}\n</code></pre> <p>\u200b\u8fd4\u56de\u200b\u7684\u200b\u51fd\u6570\u200b\u548c\u200bsuffix\u200b\u7ec4\u6210\u200b\u4e00\u4e2a\u200b\u6574\u4f53\u200b\uff0c\u200b\u8fd4\u56de\u200b\u7684\u200b\u51fd\u6570\u200b\u5bf9\u200bsuffix\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b</p> <pre><code>func main() {\n\n    b := makeSuffix(\".jpg\")\n    fmt.Println(b(\"aaa.js\"))\n    fmt.Println(b(\"aa.jpg\"))\n}\n</code></pre>"},{"location":"lang/go/0base/3func/#defer","title":"defer\u200b\u4f7f\u7528","text":"<pre><code>func testDefer(n int) int {\n    // \u200b\u503c\u200b\u7684\u200b\u62f7\u8d1d\u200b\n    defer fmt.Println(\"defer\" + fmt.Sprintln(n))\n    n++\n    fmt.Println(\"111\")\n    return 1\n}\n</code></pre> <pre><code>defer fmt.Println(\"defer\" + fmt.Sprintln(n))\n</code></pre> <p>\u200b\u8fd9\u6837\u200b\u4f1a\u200b\u4f9d\u6b21\u200b\u538b\u5165\u200b\u6808\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u8be5\u200b\u51fd\u6570\u200b\u6267\u884c\u200b\u5b8c\u540e\u200b\u5728\u200b\u4ece\u200b\u6808\u200b\u53d6\u51fa\u200b\uff0c\u200b\u540c\u65f6\u200bn\u200b\u4e5f\u200b\u662f\u200b\u503c\u200b\u7684\u200b\u62f7\u8d1d\u200b</p>"},{"location":"lang/go/0base/4struct/","title":"\u7ed3\u6784\u200b\u4f53","text":""},{"location":"lang/go/0base/4struct/#_2","title":"\u6982\u8ff0","text":"<p>go \u200b\u8bed\u8a00\u200b\u5e76\u200b\u6ca1\u6709\u200b\u7c7b\u200b\uff0c\u200b\u800c\u200b\u91c7\u7528\u200b\u7ed3\u6784\u200b\u4f53\u200b\uff0c\u200b\u4ecd\u7136\u200b\u6709\u200b\u9762\u5411\u5bf9\u8c61\u200b\u4e2d\u200b\u5c01\u88c5\u200b\u7ee7\u627f\u200b\u591a\u6001\u200b\u7b49\u200b\u7279\u6027\u200b\u3002</p>"},{"location":"lang/go/0base/4struct/#_3","title":"\u7ed3\u6784\u200b\u4f53\u200b\u4f7f\u7528","text":""},{"location":"lang/go/0base/4struct/#_4","title":"\u58f0\u660e\u200b\u7ed3\u6784\u200b\u4f53","text":"<pre><code>type \u200b\u7ed3\u6784\u200b\u4f53\u540d\u200b struct {\n    \u200b\u5b57\u6bb5\u540d\u200b \u200b\u7c7b\u578b\u200b\n}\n</code></pre> <pre><code>type Person struct {\n    Name string\n    Age  int\n    // \u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u5305\u200b\u8bbf\u95ee\u200b\u4e0d\u5230\u200b\n    p *int\n    slice []int\n    map1 map[string]string\n}\n</code></pre> <p>\u200b\u7ed3\u6784\u200b\u4f53\u662f\u200b\u503c\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7ed3\u6784\u200b\u4f53\u200b\u53d8\u91cf\u200b\u540e\u200b\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u7ed9\u200b\u5b57\u200b\u6bb5\u200b\u8d4b\u503c\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u6709\u200b\u96f6\u503c\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5728\u200b\u6ca1\u6709\u200b\u8fdb\u884c\u200b\u5206\u914d\u5185\u5b58\u200b\u5219\u200b\u5b83\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b nil \u3002</p>"},{"location":"lang/go/0base/4struct/#_5","title":"\u7ed3\u6784\u200b\u4f53\u200b\u521d\u59cb\u5316","text":"<pre><code>func main() {\n    // 1\n    var person Person\n    person.Age = 11\n    person.Name = \"matt\"\n    fmt.Println(person)\n    //2\n    var p1 = Person{}\n    fmt.Println(p1)\n\n    // 3\n    var p3 *Person = new(Person)\n    (*p3).Name = \"33\"\n    p3.Name = \"44\u200b\u4f18\u5316\u200b\u7b49\u4ef7\u200b\u4e8e\u200b\u4e0a\u9762\u200b\u7684\u200b\"\n    fmt.Println(*p3)\n\n    // 4\n    var p4 *Person = &amp;Person{}\n    p4.Age = 111\n    fmt.Println(*p4)\n}\n</code></pre> <p>\u200b\u521b\u5efa\u200b\u7ed3\u6784\u200b\u4f53\u200b\u53d8\u91cf\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u5b57\u200b\u6bb5\u503c\u200b</p> <pre><code>func main() {\n    var c Computer = Computer{\n        Age: 1,\n        Name: \"matt\",\n    }\n    fmt.Println(c)\n}\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u5199\u200b\u90e8\u5206\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u8fd9\u6837\u200b\u6307\u5b9a\u200b\u5b57\u200b\u6bb5\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u6309\u200b\u7ed3\u6784\u200b\u4f53\u4e2d\u200b\u7684\u200b\u987a\u5e8f\u200b\uff0c\u200b\u5426\u5219\u200b\u5c31\u8981\u200b\u6309\u200b\u7ed3\u6784\u200b\u4f53\u4e2d\u200b\u7684\u200b\u987a\u5e8f\u200b\u3002</p>"},{"location":"lang/go/0base/4struct/#_6","title":"\u7ed3\u6784\u200b\u4f53\u200b\u4f7f\u7528\u200b\u6ce8\u610f","text":"<p>1.\u200b\u7ed3\u6784\u200b\u4f53\u200b\u6240\u6709\u200b\u5b57\u6bb5\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8fde\u7eed\u200b\u7684\u200b</p> <p>2.struct \u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5b57\u6bb5\u200b\u4e0a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5199\u200b\u4e0a\u200b\u4e00\u4e2a\u200b tag, \u200b\u8be5\u200b tag \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u53cd\u5c04\u200b\u673a\u5236\u200b\u83b7\u53d6\u200b\uff0c\u200b\u5e38\u89c1\u200b\u7684\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b\u5c31\u662f\u200b\u5e8f\u5217\u5316\u200b\u548c\u200b\u53cd\u200b\u5e8f\u5217\u5316\u200b\u3002</p> <pre><code>import \"fmt\"\nimport \"encoding/json\"\n\ntype A struct {\n    age int\n    num int\n}\n\ntype B struct {\n    age int\n    num int\n}\n\ntype C struct {\n    Name string `json:\"name\"`\n}\nfunc main() {\n    var a A\n    var b B\n    a.age = 1\n    // \u200b\u8981\u6c42\u200b\u5b57\u200b\u6bb5\u200b\u4e00\u81f4\u200b\n    b = B(a)\n    var c C\n    c.Name = \"hello ma\"\n    str1, _ := json.Marshal(c)\n    fmt.Println(string(str1))\n    fmt.Println(b)\n}\n</code></pre> <p></p> <p>3.\u200b\u4fe9\u4e2a\u200b\u7ed3\u6784\u200b\u4f53\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8981\u6c42\u200b\u8fd9\u200b\u4fe9\u4e2a\u200b\u7ed3\u6784\u200b\u4f53\u200b\u9700\u8981\u200b\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b</p> <pre><code>a = B(b)\n</code></pre> <p>4.\u200b\u5bf9\u200b\u7ed3\u6784\u200b\u4f53\u200b\u8fdb\u884c\u200b\u91cd\u65b0\u200b\u5b9a\u4e49\u200b\uff0c golang \u200b\u8ba4\u4e3a\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b</p> <pre><code>type P Person\n</code></pre>"},{"location":"lang/go/0base/4struct/#_7","title":"\u65b9\u6cd5","text":""},{"location":"lang/go/0base/4struct/#_8","title":"\u4f7f\u7528","text":"<pre><code>import \"fmt\"\n\ntype Person struct {\n    Age int\n}\n\nfunc (p Person) getAge() int {\n    return p.Age\n}\n\nfunc main() {\n    var p Person\n    p.Age = 18\n    fmt.Println(p.getAge())\n\n}\n</code></pre> <p>\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u548c\u200b Person \u200b\u7ed3\u6784\u200b\u4f53\u200b\u8fdb\u884c\u200b\u7ed1\u5b9a\u200b</p> <p>\u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u8c03\u7528\u200b\u4f1a\u200b\u628a\u200b\u8c03\u7528\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u7684\u200b\u53d8\u91cf\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u8be5\u200b\u65b9\u6cd5\u200b</p>"},{"location":"lang/go/0base/4struct/#_9","title":"\u65b9\u6cd5\u200b\u4f7f\u7528\u200b\u6ce8\u610f","text":"<p>1.\u200b\u7ed3\u6784\u200b\u4f53\u200b\u7c7b\u578b\u200b\u662f\u200b\u503c\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5728\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u4e2d\u200b\uff0c\u200b\u9075\u5b88\u200b\u503c\u200b\u7c7b\u578b\u200b\u7684\u200b\u4f20\u9012\u200b\u673a\u5236\u200b\uff0c\u200b\u662f\u200b\u503c\u200b\u62f7\u8d1d\u200b\u4f20\u9012\u200b\u65b9\u5f0f\u200b</p> <p>\u200b\u65b9\u6cd5\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u7ed3\u6784\u200b\u4f53\u200b\u6307\u9488\u200b,\u200b\u5f15\u7528\u200b\u4f20\u9012\u200b</p> <p>\u200b\u65b9\u6cd5\u200b\u63a5\u6536\u200b\u7c7b\u578b\u200b\u662f\u200b\u4ec0\u4e48\u200b\u5c31\u662f\u200b\u4ec0\u4e48\u200b\u4f20\u9012\u200b</p> <pre><code>func (circle *Circle) test()  {\n    // (*circle).R\n    // \u200b\u8fdb\u884c\u200b\u4e86\u200b\u4f18\u5316\u200b\n    fmt.Println(circle.R)\n}\n</code></pre> <p>2.\u200b\u65b9\u6cd5\u200b\u4e0d\u4ec5\u200b\u53ef\u4ee5\u200b\u4f5c\u7528\u200b\u4e8e\u200b\u7ed3\u6784\u200b\u4f53\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f5c\u7528\u200b\u4e8e\u200b int,string\u200b\u7b49\u200b</p> <pre><code>import \"fmt\"\n\nfunc (i integer) testInt() {\n    fmt.Println(i)\n}\n\ntype integer int\n\nfunc main() {\n    var j integer = 10\n    j.testInt()\n}\n</code></pre> <p>3.\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8bbf\u95ee\u200b\u8303\u56f4\u200b\u63a7\u5236\u200b\u7684\u200b\u89c4\u5219\u200b\uff0c\u200b\u548c\u200b\u51fd\u6570\u200b\u4e00\u6837\u200b\u3002\u200b\u65b9\u6cd5\u200b\u540d\u200b\u9996\u5b57\u6bcd\u200b\u5c0f\u5199\u200b\uff0c\u200b\u53ea\u80fd\u200b\u5728\u200b\u672c\u5305\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u65b9\u6cd5\u200b\u9996\u5b57\u6bcd\u200b \u200b\u5927\u5199\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u672c\u5305\u200b\u548c\u200b\u5176\u5b83\u200b\u5305\u200b\u8bbf\u95ee\u200b\u3002</p> <p>4.\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u7c7b\u578b\u200b\u5b9e\u73b0\u200b\u4e86\u200b String()\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u90a3\u4e48\u200b fmt.Println \u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u8c03\u7528\u200b\u8fd9\u4e2a\u200b\u53d8\u91cf\u200b\u7684\u200b String()\u200b\u8fdb\u884c\u200b\u8f93\u51fa\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b java \u200b\u4e2d\u200b\u7684\u200b toString() \u200b\u65b9\u6cd5\u200b</p> <pre><code>func (c Computer) String() string {\n    str := fmt.Sprintf(\"Name=%s Age=%d\", c.Name, c.Age)\n    return str\n}\n</code></pre>"},{"location":"lang/go/0base/4struct/#_10","title":"\u9762\u5411\u5bf9\u8c61\u200b\u7279\u6027","text":""},{"location":"lang/go/0base/4struct/#_11","title":"\u5c01\u88c5","text":""},{"location":"lang/go/0base/4struct/#_12","title":"\u6982\u5ff5","text":"<p>\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u5c5e\u6027\u200b\u9690\u85cf\u200b\u8d77\u6765\u200b\uff0c\u200b\u5c5e\u6027\u200b\u7684\u200b\u64cd\u4f5c\u200b\u53ea\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u88ab\u200b\u6388\u6743\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p>"},{"location":"lang/go/0base/4struct/#_13","title":"\u4f7f\u7528","text":"<p>\u200b\u7ed3\u6784\u200b\u4f53\u200b\u5c5e\u6027\u200b\u3001\u200b\u65b9\u6cd5\u200b\u9996\u5b57\u6bcd\u200b\u5c0f\u5199\u200b\uff0c\u200b\u5176\u4ed6\u200b\u5305\u200b\u5c31\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5f53\u524d\u200b\u5305\u200b\u4ecd\u7136\u200b\u53ef\u4ee5\u200b\u8bbf\u95ee\u200b\u3002</p> <p>\u200b\u4e3a\u200b\u7ed3\u6784\u200b\u4f53\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u521b\u5efa\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u76f8\u5f53\u4e8e\u200bjava\u200b\u4e2d\u200b\u7684\u200b\u6784\u9020\u51fd\u6570\u200b\u3002</p> <p>\u200b\u7f16\u5199\u200bset,get \u200b\u65b9\u6cd5\u200b\u3002</p> <pre><code>package main\n\ntype Person struct {\n    name string\n    age  int\n}\n\nfunc NewPerson() Person {\n    var person = Person{}\n    return person\n}\n\nfunc (p *Person) SetName(name string) {\n    p.name = name\n}\n\nfunc (p *Person) GetName() string {\n    return p.name\n}\n</code></pre>"},{"location":"lang/go/0base/4struct/#_14","title":"\u7ee7\u627f","text":""},{"location":"lang/go/0base/4struct/#_15","title":"\u6982\u8ff0","text":"<p>\u200b\u5b50\u7c7b\u200b\u5177\u6709\u200b\u7236\u7c7b\u200b\u7684\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b</p>"},{"location":"lang/go/0base/4struct/#_16","title":"\u4f7f\u7528","text":"<pre><code>type S struct {\n    Name string\n    Age int\n}\n\ntype X struct {\n    S\n}\n\nfunc (s S) showInfo() {\n    fmt.Println(s.Name)\n}\n\nfunc (x *X) showInfo() {\n    fmt.Printf(\"x---name=%v age=%v\\n\",x.Name, x.Age)\n}\n\nfunc main() {\n    var x  = &amp;X{}\n    x.S.Name = \"matt\"\n    x.S.Name = \"aa\"\n    x.Name = \"ma\"\n\n    x.S.showInfo()\n\n    x1 := X{\n        S{\n            Name: \"aa\",\n            Age: 11,\n        },\n    }\n    fmt.Println(x1)\n\n\n}\n</code></pre>"},{"location":"lang/go/0base/4struct/#_17","title":"\u7ee7\u627f\u200b\u4f7f\u7528\u200b\u6ce8\u610f","text":"<p>\u200b\u7ed3\u6784\u200b\u4f53\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5d4c\u5957\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u200b\u6240\u6709\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u548c\u200b\u65b9\u6cd5\u200b(\u200b\u9996\u5b57\u6bcd\u200b\u5927\u5c0f\u5199\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b)</p> <p>\u200b\u7ed3\u6784\u200b\u4f53\u200b\u8bbf\u95ee\u200b\u53ef\u4ee5\u200b\u7b80\u5316\u200b</p> <pre><code>func main() {\n    var x  = &amp;X{}\n    x.S.Name = \"matt\"\n    // \u200b\u5bf9\u200b\u4e0a\u9762\u200b\u8fdb\u884c\u200b\u7b80\u5316\u200b\n    x.Name = \"ma\"\n    x.S.showInfo()\n\n}\n</code></pre> <p>1.\u200b\u4e0a\u8ff0\u200bName\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u9996\u5148\u200b\u4f1a\u200b\u4ece\u200b X \u200b\u4e2d\u200b\u67e5\u627e\u200b\u8be5\u200b\u5c5e\u6027\u200b\uff0c\u200b\u627e\u200b\u4e0d\u5230\u200b\u5728\u200b\u4ece\u4e0d\u200bS\u200b\u4e2d\u200b\u627e\u200b\uff0c\u200b\u6700\u540e\u200b\u627e\u200b\u4e0d\u5230\u200b\u5219\u200b\u62a5\u9519\u200b\u3002</p> <p>\u200b\u5f53\u200b\u7ed3\u6784\u200b\u4f53\u200b\u548c\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u91c7\u7528\u200b\u5c31\u8fd1\u200b\u8bbf\u95ee\u200b\u539f\u5219\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5982\u200b\u5e0c\u671b\u200b\u8bbf\u95ee\u200b \u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u548c\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u540d\u200b\uff08x.S.Name\uff09\u200b\u6765\u200b\u533a\u5206\u200b</p> <p>2.\u200b\u7ed3\u6784\u200b\u4f53\u200b\u5d4c\u5165\u200b\u4e24\u4e2a\u200b(\u200b\u6216\u200b\u591a\u4e2a\u200b)\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u200b\uff0c\u200b\u5982\u200b\u4e24\u4e2a\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u548c\u200b\u65b9\u6cd5\u200b(\u200b\u540c\u65f6\u200b\u7ed3\u6784\u200b\u4f53\u200b\u672c\u8eab\u200b \u200b\u6ca1\u6709\u200b\u540c\u540d\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u548c\u200b\u65b9\u6cd5\u200b)\uff0c\u200b\u5728\u200b\u8bbf\u95ee\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u5fc5\u987b\u200b\u660e\u786e\u200b\u6307\u5b9a\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u200b\u540d\u5b57\u200b\uff0c\u200b\u5426\u5219\u200b\u7f16\u8bd1\u200b\u62a5\u9519\u200b\u3002</p> <p>3.\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b struct \u200b\u5d4c\u5957\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u6709\u540d\u200b\u7ed3\u6784\u200b\u4f53\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u6a21\u5f0f\u200b\u5c31\u662f\u200b\u7ec4\u5408\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u200b\u7ec4\u5408\u200b\u5173\u7cfb\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u8bbf\u95ee\u200b\u7ec4\u5408\u200b \u200b\u7684\u200b\u7ed3\u6784\u200b\u4f53\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u6216\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5e26\u4e0a\u200b\u7ed3\u6784\u200b\u4f53\u200b\u7684\u200b\u540d\u5b57\u200b \u200b\u5b57\u200b\u6bb5\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b \u200b\u65b9\u6cd5\u200b\u4e0d\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b</p> <pre><code>type A struct {\n    Name string\n}\n\ntype B struct {\n    a A\n}\n\nfunc main() {\n    var b B = B{}\n    b.a.Name = \"matt\"\n    fmt.Println(b)\n}\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u521b\u5efa\u200b\u7ed3\u6784\u200b\u4f53\u200b\u53d8\u91cf\u200b\u65f6\u200b\u6307\u5b9a\u200b\u533f\u540d\u200b\u7ed3\u6784\u200b\u4f53\u503c\u200b</p> <pre><code>var a A = B{\n    B{\n        Name: \"matt sir\"\n    }\n}\n</code></pre> <pre><code>package main\n\nimport \"fmt\"\n\ntype F1 struct {\n    Name string\n}\n\ntype S1 struct {\n    F1\n    Age int\n}\n\nfunc main() {\n    s1 := S1{\n        Age: 11,\n        F1: F1{\n            Name:\"matt\",\n        },\n    }\n\n    fmt.Println(s1)\n}\n</code></pre>"},{"location":"lang/go/0base/4struct/#_18","title":"\u63a5\u53e3","text":""},{"location":"lang/go/0base/4struct/#_19","title":"\u4f7f\u7528","text":"<pre><code>type I interface {\n    start()\n}\n\ntype A struct {\n}\n\nfunc (a *A) start() {\n    fmt.Println(\"A \u200b\u5f00\u59cb\u200b...\")\n}\n</code></pre> <p>\u200b\u7ed3\u6784\u200b\u4f53\u200b A \u200b\u5b9e\u73b0\u200b\u63a5\u53e3\u200b I</p>"},{"location":"lang/go/0base/4struct/#_20","title":"\u4f7f\u7528\u200b\u63a5\u53e3\u200b\u6ce8\u610f","text":"<p>1.\u200b\u63a5\u53e3\u200b\u4e2d\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u6709\u200b\u53d8\u91cf\u200b,\u200b\u53ea\u6709\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u63a5\u53e3\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u6ca1\u6709\u200b\u5b9e\u73b0\u200b</p> <p>2.\u200b\u4e00\u4e2a\u200b\u81ea\u5b9a\u4e49\u200b\u7c7b\u578b\u200b\uff08\u200b\u5305\u62ec\u200b\u7ed3\u6784\u200b\u4f53\u200b\uff09\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u63a5\u53e3\u200b\u7684\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c31\u200b\u8ba4\u4e3a\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u8be5\u200b\u63a5\u53e3\u200b</p> <p>3.\u200b\u63a5\u53e3\u200b\u672c\u8eab\u200b\u4e0d\u80fd\u200b\u521b\u5efa\u200b\u5b9e\u4f8b\u200b,\u200b\u4f46\u662f\u200b\u53ef\u4ee5\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u8be5\u200b\u63a5\u53e3\u200b\u7684\u200b\u81ea\u5b9a\u4e49\u200b\u7c7b\u578b\u200b\u7684\u200b\u53d8\u91cf\u200b(\u200b\u5b9e\u4f8b\u200b)</p> <p>interface \u200b\u7c7b\u578b\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b(\u200b\u5f15\u7528\u200b\u7c7b\u578b\u200b)\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u5bf9\u200b interface \u200b\u521d\u59cb\u5316\u200b\u5c31\u200b\u4f7f\u7528\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b\u8f93\u51fa\u200b nil</p> <pre><code>// I\u200b\u662f\u200b\u63a5\u53e3\u200b s \u200b\u662f\u200bS\u200b\u7684\u200b\u5b9e\u4f8b\u200b\uff0cS\u200b\u5b9e\u73b0\u200bI\nvar s I\n</code></pre> <p>4.\u200b\u4e00\u4e2a\u200b\u63a5\u53e3\u200b\u53ef\u4ee5\u200b\u7ee7\u627f\u200b\u591a\u4e2a\u200b\u63a5\u53e3\u200b\uff0c\u200b\u6bd4\u5982\u200bA\u200b\u63a5\u53e3\u200b\u7ee7\u627f\u200bB\uff0cC, \u200b\u5982\u679c\u200b\u5b9e\u73b0\u200bA\u200b\u63a5\u53e3\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u8981\u200b\u628a\u200bA,B,C\u200b\u4e2d\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u3002</p> <p>5.\u200b\u7a7a\u200b\u63a5\u53e3\u200b\u662f\u200b\u6ca1\u6709\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5373\u200b\u4efb\u4f55\u200b\u53d8\u91cf\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u7a7a\u200b\u63a5\u53e3\u200b</p>"},{"location":"lang/go/0base/4struct/#_21","title":"\u5b9e\u73b0\u200b\u548c\u200b\u7ee7\u627f","text":"<p>\u200b\u7ee7\u627f\u200b\u7684\u200b\u4ef7\u503c\u200b\u4e3b\u8981\u200b\u5728\u4e8e\u200b\uff1a\u200b\u89e3\u51b3\u200b\u4ee3\u7801\u200b\u7684\u200b\u590d\u7528\u200b\u6027\u200b\u548c\u200b\u53ef\u7ef4\u62a4\u6027\u200b\u3002 </p> <p>\u200b\u63a5\u53e3\u200b\u7684\u200b\u4ef7\u503c\u200b\u4e3b\u8981\u200b\u5728\u4e8e\u200b\uff1a\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u8bbe\u8ba1\u200b\u597d\u200b\u5404\u79cd\u200b\u89c4\u8303\u200b(\u200b\u65b9\u6cd5\u200b)\uff0c\u200b\u8ba9\u200b\u5176\u5b83\u200b\u81ea\u5b9a\u4e49\u200b\u7c7b\u578b\u200b\u53bb\u200b\u5b9e\u73b0\u200b\u8fd9\u4e9b\u200b\u65b9\u6cd5\u200b</p>"},{"location":"lang/go/0base/4struct/#_22","title":"\u591a\u6001","text":"<p>\u200b\u591a\u6001\u200b\u53c2\u6570\u200b\uff1a</p> <p>\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200bI\u200b\u7c7b\u578b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u5b9e\u73b0\u200bI\u200b\u7c7b\u578b\u200b\u7684\u200b\u6240\u6709\u200b\u7c7b\u200b</p> <p>\u200b\u591a\u6001\u200b\u6570\u7ec4\u200b</p> <p>\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200bI\u200b\u7c7b\u578b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u5b9e\u73b0\u200bI\u200b\u7c7b\u578b\u200b\u7684\u200b\u6240\u6709\u200b\u7c7b\u200b</p>"},{"location":"lang/go/0base/4struct/#_23","title":"\u7c7b\u578b\u200b\u65ad\u8a00","text":""},{"location":"lang/go/0base/4struct/#_24","title":"\u6982\u8ff0","text":"<p>\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\u77e5\u9053\u200b\u4ed6\u200b\u662f\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u63a5\u53e3\u7c7b\u578b\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5b83\u200b\u662f\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u5177\u4f53\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4f7f\u7528\u200b\u65ad\u8a00\u200b\u3002</p>"},{"location":"lang/go/0base/4struct/#_25","title":"\u4f7f\u7528","text":"<pre><code>func main() {\n    var a interface{}\n    var b B = B{}\n    a = b\n    c, ok := a.(B)\n    fmt.Println(ok)\n    fmt.Println(c)\n}\n</code></pre>"},{"location":"lang/go/0base/4struct/#_26","title":"\u5176\u4ed6","text":""},{"location":"lang/go/0base/4struct/#_27","title":"\u53cd\u5f15\u5b57\u200b\u6bb5","text":"<pre><code>type User struct {\n    Id   int64  `json:\"id\"`\n    Name string `json:\"name\"`\n    Age  int64  `json:\"age\"`\n    // omitempty \u200b\u5982\u679c\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u8fd9\u4e2a\u200b\u5b57\u6bb5\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u8f93\u51fa\u200b\n    // \u200b\u4e0d\u200b\u52a0\u200bomitempty\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u8bbe\u7f6e\u200b\u8fd9\u4e2a\u200b\u5b57\u6bb5\u200b\u4e5f\u200b\u4f1a\u200b\u8f93\u51fa\u200b\u9ed8\u8ba4\u503c\u200b\n    H string `json:\"h,omitempty\"`\n}\n</code></pre> <p>get: \u200b\u5f97\u5230\u200b\uff0c\u200b\u83b7\u5f97\u200b select\uff1a\u200b\u9009\u62e9\u200b find\uff1a\u200b\u5f3a\u8c03\u200b\u627e\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002 search\uff1a\u200b\u5f3a\u8c03\u200b\u627e\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002</p> <p>\u200b\u6211\u7528\u200b\u4e00\u53e5\u200b\u8bdd\u200b\u8ba9\u200b\u4f60\u200b\u660e\u767d\u200b\u533a\u522b\u200b\u3002\u200b\u5148\u200bSEARCH\uff0c\u200b\u518d\u200bFIND(OUT\uff09\uff0c\u200b\u518d\u200bSELECT\uff0c\u200b\u6700\u540e\u200bGET</p>"},{"location":"lang/go/0base/7error/","title":"\u5f02\u5e38\u200b\u5904\u7406","text":""},{"location":"lang/go/0base/7error/#panic-recover","title":"panic recover","text":"<p>panic:\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b</p> <p>recover:\u200b\u6355\u83b7\u200b\u5f02\u5e38\u200b</p> <p>\u200b\u53ea\u200b\u5bf9\u200b\u8fd0\u884c\u200b\u65f6\u200b\u5f02\u5e38\u200b\u8fdb\u884c\u200b\u6355\u83b7\u200b\uff0c\u200b\u7f16\u8bd1\u200b\u5f02\u5e38\u200b\u4e0d\u4f1a\u200b\u6355\u83b7\u200b</p> <p>recover\uff1a\u200b\u4e00\u822c\u200b\u7528\u4e8e\u200b\u6355\u83b7\u200b\u4e00\u4e2a\u200b\u534f\u7a0b\u200b\u7684\u200bpacking\u200b\u884c\u4e3a\u200b\uff0c\u200b\u6355\u83b7\u200bpanic\uff0c \u200b\u5982\u679c\u200b\u540c\u65f6\u200b\u6709\u200b\u591a\u4e2a\u200b\u90a3\u4e48\u200b\u53ea\u200b\u5bf9\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5f02\u5e38\u200b\u8fdb\u884c\u200b\u6355\u83b7\u200b</p> <p>recover\u200b\u53ea\u6709\u200b\u5728\u200b\u5ef6\u8fdf\u200b(defer)\u200b\u8c03\u7528\u200b\u624d\u200b\u6709\u6548\u200b\uff0c\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b </p> <p>\u200b\u63a8\u8350\u200brecover\u200b\u5199\u200b\u5728\u200bpanic\u200b\u4e4b\u524d\u200b</p> <pre><code>func main() {\n    //t1()\n    // \u200b\u53ea\u200b\u5bf9\u200b\u8fd0\u884c\u200b\u65f6\u200b\u5f02\u5e38\u200b\u8fdb\u884c\u200b\u6355\u83b7\u200b\n    defer func() {\n        if err := recover(); err != nil {\n            fmt.Println(err)\n        }\n    }()\n\n    var ch chan int = make(chan int, 10)\n    close(ch)\n    ch &lt;- 1\n\n    fmt.Println(\"hello word\")\n\n\n}\n</code></pre>"},{"location":"lang/go/0base/7error/#error","title":"error","text":"<p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8fd4\u56de\u200berror </p> <pre><code>package main\n\nimport (\n    \"errors\"\n    \"fmt\"\n)\n\nfunc t4(i int) error {\n    if i == 0 {\n        return errors.New(\"this is \u200b\u81ea\u5b9a\u4e49\u200b\u9519\u8bef\u200b\")\n    }\n    return nil\n}\n\nfunc t5() error {\n\n    return fmt.Errorf(\"this is \u200b\u81ea\u5b9a\u4e49\u200b\u9519\u8bef\u200b\")\n}\n\nfunc main() {\n    i := 1\n    fmt.Scanf(\"%d\", &amp;i)\n    err := t4(i)\n    fmt.Println(err)\n\n}\n</code></pre> <pre><code>this is \u200b\u81ea\u5b9a\u4e49\u200b\u9519\u8bef\u200b\n</code></pre> <pre><code>package main\n\nimport \"fmt\"\n\ntype AError struct {\n    name string\n}\n\nfunc (e *AError) Error(str string) string {\n    e.name = str\n    return e.name\n}\n\nfunc main() {\n    var i int\n    fmt.Scanf(\"%d\", &amp;i)\n    if i &lt; 0 {\n        e := &amp;AError{}\n        fmt.Println(e.Error(\"aaaa\"))\n    }\n}\n</code></pre>"},{"location":"lang/go/0base/7error/#error_1","title":"\u81ea\u5b9a\u4e49\u200berror","text":"<pre><code>package main\n\nimport \"fmt\"\n\ntype MyError struct {\n    Name string\n    Id   int\n}\n\n// \u200b\u5199\u200b Error \u200b\u65b9\u6cd5\u200b\nfunc (p *MyError) Error() string {\n    return fmt.Sprintf(\"name=%s, id=%d\", p.Name, p.Id)\n}\n\nfunc s1(i int) error {\n    if i &gt; 0 {\n        return nil\n    }\n    return &amp;MyError{\n        Name: \"e1\",\n        Id:   11,\n    }\n}\n\nfunc main() {\n    i := 1\n    fmt.Scanf(\"%d\", &amp;i)\n    fmt.Println(s1(i))\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/0groutine/","title":"groutinue","text":"<p>TODO\uff1a</p> <p>\u200b   \u200b\u8fdb\u7a0b\u200b\u7ebf\u7a0b\u200b\u534f\u7a0b\u200b\u533a\u522b\u200b \u200b\u5206\u522b\u200b\u662f\u200b\u5565\u200b</p> <p>\u200b   \u200b\u5e95\u5c42\u200b\u539f\u7406\u200b</p> <p>\u200b\u7ebf\u7a0b\u200b\uff1a\u200b\u9700\u8981\u200b\u7ef4\u62a4\u200b\u7ebf\u7a0b\u200b\u6c60\u200b\uff0c\u200b\u7ebf\u7a0b\u200b\u7684\u200b\u8c03\u5ea6\u200b\u53bb\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b</p> <p>\u200b\u534f\u7a0b\u200b\uff1ago\u200b\u8bed\u8a00\u200b\u5df2\u7ecf\u200b\u5e2e\u200b\u6211\u4eec\u200b\u5b9e\u73b0\u200b\u4e86\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u200b\u5b9a\u4e49\u200b\u4efb\u52a1\u200b\u5373\u53ef\u200b,\u200b\u8ba9\u200b\u7cfb\u7edf\u200b\u5c06\u200b\u6211\u4eec\u200b\u7684\u200b\u4efb\u52a1\u5206\u914d\u200b\u7ed9\u200bcpu\u200b\u6267\u884c\u200b</p> <pre><code>go \u200b\u51fd\u6570\u200b()\n</code></pre> <p>main \u200b\u534f\u7a0b\u200b\u7ed3\u675f\u200b \u200b\u6574\u4f53\u200b\u7a0b\u5e8f\u200b\u5c31\u200b\u4f1a\u200b\u7ed3\u675f\u200b \u200b\u4e0d\u4f1a\u200b\u7b49\u5f85\u200b\u5176\u4ed6\u200b\u534f\u7a0b\u200b</p>"},{"location":"lang/go/1concurrent/0groutine/#timesleep","title":"time.Sleep","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    go func() {\n        fmt.Println(\"start...\")\n        time.Sleep(time.Second * 10)\n        fmt.Println(\"end...\")\n    }()\n\n    fmt.Println(\"main start...\")\n    time.Sleep(time.Second * 5)\n    fmt.Println(\"main end...\")\n}\n</code></pre>"},{"location":"lang/go/1concurrent/0groutine/#wg","title":"wg","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar wg sync.WaitGroup\n\nfunc w1() {\n    defer wg.Done()\n    fmt.Println(\"wg1\")\n}\n\n\nfunc main() {\n\n\n    for  i := 0; i &lt; 10; i++ {\n        wg.Add(1)\n        go w1()\n    }\n    wg.Wait()\n    fmt.Println(\"main\")\n}\n</code></pre>"},{"location":"lang/go/1concurrent/1runtime/","title":"runtime","text":"<ul> <li>runtime.Gosched()</li> <li>runtime.Goexit()</li> <li>runtime.GOMAXPROCS(1)</li> </ul> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"runtime\"\n)\n\nfunc main() {\n    // 1.15 \u200b\u9ed8\u8ba4\u200b\u662f\u200bcpu\u200b\u6838\u5fc3\u200b\u6570\u200b \u200b\u65e0\u9700\u200b\u914d\u7f6e\u200b\n    runtime.GOMAXPROCS(1)\n    go func() {\n        for i := 0; i &lt; 10; i++ {\n            if i == 5 {\n                // \u200b\u9000\u51fa\u200b\u5f53\u524d\u200b\u534f\u7a0b\u200b\n                runtime.Goexit()\n            }\n            fmt.Println(\"son...\")\n        }\n    }()\n\n    for i := 0; i &lt; 2; i++ {\n        // \u200b\u8ba9\u51fa\u200bCPU\u200b\u65f6\u95f4\u200b\u7247\u200b\uff0c\u200b\u91cd\u65b0\u200b\u7b49\u5f85\u200b\u5b89\u6392\u200b\u4efb\u52a1\u200b\n        runtime.Gosched()\n        fmt.Println(\"main...\")\n\n\n    }\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/2channel/","title":"channel","text":""},{"location":"lang/go/1concurrent/2channel/#_1","title":"\u58f0\u660e\u200b+\u200b\u521d\u59cb\u5316","text":"<pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n\n  // \u200b\u9700\u8981\u200bmake 5\uff1a\u200b\u5bb9\u91cf\u200b\n    var t1 chan int = make(chan int, 5)\n  // var t1 = make(chan int, 5)\n  // \u200b\u5199\u5165\u200b\n    t1 &lt;- 11\n  // \u200b\u8bfb\u53d6\u200b\n    fmt.Println(&lt;-t1)\n  // \u200b\u5173\u95ed\u200b\n    close(t1)\n    t2 := make(chan int)\n    go func() {\n        fmt.Println(len(t2))\n        fmt.Println(cap(t2))\n        &lt;- t2\n\n    }()\n\n\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/2channel/#_2","title":"\u6ce8\u610f","text":"<p>1.\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u5173\u95ed\u200b\u7684\u200b\u901a\u9053\u200b\u518d\u200b\u53d1\u9001\u200b\u503c\u200b\u5c31\u200b\u4f1a\u200b\u5bfc\u81f4\u200bpanic\u3002 2.\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u5173\u95ed\u200b\u7684\u200b\u901a\u9053\u200b\u8fdb\u884c\u200b\u63a5\u6536\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u83b7\u53d6\u200b\u503c\u200b\u76f4\u5230\u200b\u901a\u9053\u200b\u4e3a\u7a7a\u200b\u3002 3.\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u5173\u95ed\u200b\u7684\u200b\u5e76\u4e14\u200b\u6ca1\u6709\u200b\u503c\u200b\u7684\u200b\u901a\u9053\u200b\u6267\u884c\u200b\u63a5\u6536\u200b\u64cd\u4f5c\u200b\u4f1a\u200b\u5f97\u5230\u200b\u5bf9\u5e94\u200b\u7c7b\u578b\u200b\u7684\u200b\u96f6\u503c\u200b\u3002 4.\u200b\u5173\u95ed\u200b\u4e00\u4e2a\u200b\u5df2\u7ecf\u200b\u5173\u95ed\u200b\u7684\u200b\u901a\u9053\u200b\u4f1a\u200b\u5bfc\u81f4\u200bpanic\u3002</p>"},{"location":"lang/go/1concurrent/2channel/#_3","title":"\u65e0\u200b\u7f13\u51b2\u200b\u7ba1\u9053","text":"<p>\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u534f\u7a0b\u200b\u5c31\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f7f\u7528\u200b\u534f\u7a0b\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b</p> <p>\u200b\u62a5\u9519\u200b</p> <pre><code>package main\n\nfunc main() {\n    c1 := make(chan int)\n    c1 &lt;- 1\n    &lt;-c1\n}\n</code></pre> <p>\u200b\u963b\u585e\u200b</p> <p></p> <p>\u200b\u4f7f\u7528\u200b\u534f\u7a0b\u200b</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    //c1 := make(chan int)\n    //c1 &lt;- 1\n    //&lt;-c1\n\n    c2 := make(chan int)\n    go func() {\n        c2 &lt;- 1\n    }()\n    fmt.Println(&lt;-c2)\n}\n</code></pre>"},{"location":"lang/go/1concurrent/2channel/#_4","title":"\u6709\u200b\u7f13\u51b2\u200b\u7ba1\u9053","text":"<pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    //c1 := make(chan int)\n    //c1 &lt;- 1\n    //&lt;-c1\n\n    c2 := make(chan int)\n    go func() {\n        c2 &lt;- 1\n    }()\n    fmt.Println(&lt;-c2)\n\n    c3 := make(chan int, 10)\n    c3 &lt;- 11\n    fmt.Println(len(c3), cap(c3))\n}\n</code></pre>"},{"location":"lang/go/1concurrent/2channel/#_5","title":"\u8bfb\u53d6","text":"<p>\u200b\u4fe9\u79cd\u200b\u8bfb\u53d6\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    t3 := make(chan int, 100)\n    for i := 0; i &lt; 1; i++ {\n        t3 &lt;- i\n    }\n    // close(t3)\n    &lt;-t3\n    _, ok := &lt;-t3\n    fmt.Println(ok)\n\n    v, ok := &lt;-t3\n    fmt.Println(ok, v)\n    close(t3)\n    // range \u200b\u9700\u8981\u200b\u5148\u200b\u5173\u95ed\u200b\uff0c \u200b\u4f7f\u7528\u200b\u534f\u7a0b\u200b\u5c31\u200b\u4e0d\u7528\u200bclose\n    for v := range t3 {\n        fmt.Println(v)\n    }\n\n    // ok \u200b\u5224\u65ad\u200b\uff1a\u200b\u5b83\u4f1a\u200b\u4e0d\u65ad\u200b\u4ece\u200b\u7ba1\u9053\u200b\u8bfb\u53d6\u6570\u636e\u200b\uff0c \u200b\u7ba1\u9053\u200b\u4e3a\u7a7a\u200b\u5c31\u200b\u4f1a\u200b\u62a5\u9519\u200b\uff0c \u200b\u5982\u679c\u200b\u5173\u95ed\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\n    for {\n        v, ok := &lt;-t3\n        fmt.Println(ok)\n        if ok {\n            fmt.Println(v)\n        } else {\n            break\n        }\n    }\n\n}\n</code></pre> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n\n    c1 := make(chan int, 3)\n    for i := 0; i &lt; 3; i++ {\n        c1 &lt;- i\n    }\n    go func() {\n        for v :=  range c1 {\n            fmt.Println(v)\n        }\n    }()\n    fmt.Println(\"hello word\")\n    time.Sleep(time.Second*1)\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/2channel/#_6","title":"\u5355\u5411\u200b\u7ba1\u9053","text":"<p>\u200b\u53ef\u4ee5\u200b\u628a\u200b\u53cc\u5411\u200b\u7ba1\u9053\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u5355\u5411\u200b\u7ba1\u9053\u200b\uff0c\u200b\u6bd4\u5982\u200b\u51fd\u6570\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200b\u5355\u5411\u200b\u7ba1\u9053\u200b</p> <pre><code>package main\n\nfunc main() {\n    t1 := make(chan&lt;- int, 5)\n    t1 &lt;- 1\n    // \u200b\u62a5\u9519\u200b\n    //fmt.Println(&lt;-t1)\n\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/2channel/#_7","title":"\u5f02\u5e38","text":"channel nil \u200b\u975e\u7a7a\u200b \u200b\u7a7a\u200b \u200b\u6ee1\u200b \u200b\u975e\u6ee1\u200b \u200b\u63a5\u6536\u200b \u200b\u963b\u585e\u200b \u200b\u63a5\u6536\u200b\u503c\u200b \u200b\u963b\u585e\u200b \u200b\u63a5\u6536\u200b\u503c\u200b \u200b\u63a5\u6536\u200b\u503c\u200b \u200b\u53d1\u9001\u200b \u200b\u963b\u585e\u200b \u200b\u53d1\u9001\u200b\u503c\u200b \u200b\u53d1\u9001\u200b\u503c\u200b \u200b\u963b\u585e\u200b \u200b\u53d1\u9001\u200b\u503c\u200b \u200b\u5173\u95ed\u200b panic \u200b\u5173\u95ed\u200b\u6210\u529f\u200b\uff0c\u200b\u8bfb\u5b8c\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u96f6\u503c\u200b \u200b\u5173\u95ed\u200b\u6210\u529f\u200b\uff0c\u200b\u8bfb\u5b8c\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u96f6\u503c\u200b \u200b\u5173\u95ed\u200b\u6210\u529f\u200b\uff0c\u200b\u8bfb\u5b8c\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u96f6\u503c\u200b \u200b\u5173\u95ed\u200b\u6210\u529f\u200b\uff0c\u200b\u8bfb\u5b8c\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u96f6\u503c"},{"location":"lang/go/1concurrent/3%E5%AE%9A%E6%97%B6%E5%99%A8/","title":"\u5b9a\u65f6\u5668","text":""},{"location":"lang/go/1concurrent/3%E5%AE%9A%E6%97%B6%E5%99%A8/#_2","title":"\u53ea\u200b\u6267\u884c\u200b\u4e00\u6b21","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    // \u200b\u53ea\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\n    fmt.Println(time.Now(), \"begin\")\n    timer := time.NewTimer(time.Second * 2)\n    fmt.Println(&lt;-timer.C, \"\u200b\u65f6\u95f4\u200b\u5230\u200b\")\n    fmt.Println(time.Now(), \"end....\")\n}\n</code></pre>"},{"location":"lang/go/1concurrent/3%E5%AE%9A%E6%97%B6%E5%99%A8/#_3","title":"\u6267\u884c\u200b\u591a\u6b21","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n\n    // \u200b\u5b9a\u65f6\u5668\u200b\u6267\u884c\u200b\u591a\u6b21\u200b\n    ticker := time.NewTicker(time.Second * 2)\n\n    for {\n        &lt;-ticker.C\n        fmt.Println(\"\u200b\u65f6\u95f4\u200b\u5230\u200b\")\n    }\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/4select/","title":"select","text":""},{"location":"lang/go/1concurrent/4select/#_1","title":"\u57fa\u7840","text":"<p>\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u5224\u65ad\u200b\u591a\u4e2a\u200b\u7ba1\u9053\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u53d1\u9001\u200b\u3001\u200b\u63a5\u6536\u200b</p> <p>\u200b\u5982\u679c\u200b\u540c\u65f6\u200b\u6709\u200b\u591a\u4e2a\u200b\u7ba1\u9053\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u968f\u673a\u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b</p> <p>\u200b\u5982\u679c\u200b\u90fd\u200b\u6709\u200b\u51c6\u5907\u200b\u597d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6267\u884c\u200bdefault</p> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5224\u65ad\u200b\u7ba1\u9053\u200b\u662f\u5426\u200b\u5b58\u6ee1\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"math/rand\"\n)\n\nfunc main() {\n\n    t1 := make(chan int, 10)\n    t2 := make(chan int, 10)\n\n    for i := 0; i &lt; 10; i++ {\n        t1 &lt;- i\n        t2 &lt;- rand.Int()\n    }\nb1:\n    for {\n        select {\n        case v := &lt;-t1:\n            fmt.Println(v)\n        case v := &lt;-t2:\n            fmt.Println(\"t2:\", v)\n        default:\n            fmt.Println(\"else\")\n            break b1\n        }\n    }\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/5lock/","title":"5lock","text":""},{"location":"lang/go/1concurrent/5lock/#_1","title":"\u95ee\u9898","text":"<p>\u200b\u540c\u65f6\u200b\u6709\u200b\u591a\u4e2a\u200b\u534f\u7a0b\u200b\u5bf9\u200b\u5171\u4eab\u200b\u6570\u636e\u200b\u4fee\u6539\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u95ee\u9898\u200b</p>"},{"location":"lang/go/1concurrent/5lock/#_2","title":"\u4e92\u65a5\u200b\u9501\u200b\u3001\u200b\u8bfb\u5199\u200b\u9501","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar (\n    cnt int\n  // \u200b\u4e92\u65a5\u200b\u9501\u200b\n    lock sync.Mutex\n  // \u200b\u8bfb\u5199\u200b\u9501\u200b\n    rwLock sync.RWMutex\n    w sync.WaitGroup\n\n)\n\n\nfunc add() {\n\n  // \u200b\u4e92\u65a5\u200b\u9501\u200b\n    for i:= 0; i &lt; 1000; i++ {\n        lock.Lock()\n        cnt++\n        lock.Unlock()\n    }\n    w.Done()\n}\n\nfunc get() {\n    // \u200b\u8bfb\u9501\u200b\n    rwLock.RLock()\n    rwLock.RUnlock()\n    // \u200b\u5199\u9501\u200b\n    rwLock.Lock()\n    rwLock.Unlock()\n}\n\nfunc main() {\n    // \u200b\u52a0\u9501\u200b 2000 \u200b\u4e0d\u200b\u52a0\u9501\u200b 1220\n    w.Add(2)\n    go add()\n    go add()\n    w.Wait()\n    fmt.Println(cnt)\n\n\n}\n</code></pre> <p>\u200b\u4e92\u65a5\u200b\u9501\u200b\uff1a\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u534f\u7a0b\u200b\u83b7\u5f97\u200b\u4e92\u65a5\u200b\u9501\u200b\uff0c\u200b\u5176\u4ed6\u200b\u534f\u7a0b\u200b\u53ea\u80fd\u200b\u7b49\u5f85\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u534f\u7a0b\u200b\u91ca\u653e\u200b\u9501\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b\u968f\u673a\u200b\u73af\u5f62\u200b\u7b49\u5f85\u200b\u8be5\u9501\u200b\u7684\u200b\u4e00\u4e2a\u200b\u534f\u7a0b\u200b</p> <p>\u200b\u8bfb\u5199\u200b\u9501\u200b\uff1a\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u534f\u7a0b\u200b\u83b7\u53d6\u200b\u8bfb\u9501\u200b\uff0c\u200b\u5176\u4ed6\u200b\u534f\u7a0b\u200b\u4ecd\u7136\u200b\u53ef\u4ee5\u200b\u83b7\u53d6\u200b\u8bfb\u9501\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u80fd\u200b\u83b7\u53d6\u200b\u5199\u9501\u200b\uff0c\u200b\u53ea\u80fd\u200b\u7b49\u5f85\u200b\uff1b</p> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u4e00\u4e2a\u200b\u534f\u7a0b\u200b\u83b7\u53d6\u200b\u5199\u9501\u200b\uff0c\u200b\u5176\u4ed6\u200b\u534f\u7a0b\u200b\u53ea\u80fd\u200b\u7b49\u5f85\u200b</p>"},{"location":"lang/go/1concurrent/6sync/","title":"sync","text":""},{"location":"lang/go/1concurrent/6sync/#syncwaitgroup","title":"sync.WaitGroup","text":"<p>sync.WaitGroup\u200b\u5185\u90e8\u200b\u7ef4\u62a4\u200b\u7740\u200b\u4e00\u4e2a\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u503c\u200b\u53ef\u4ee5\u200b\u589e\u52a0\u200b\u548c\u200b\u51cf\u5c11\u200b\u3002</p> <p>Add(n):+n</p> <p>Done:-1</p> <p>Wait:\u200b\u7b49\u5f85\u200b\u8ba1\u6570\u5668\u200b\u4e3a\u200b0</p> <p>\u200b\u6ce8\u610f\u200bsync.WaitGroup\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7ed3\u6784\u200b\u4f53\u200b\uff0c\u200b\u4f20\u9012\u200b\u7684\u200b\u65f6\u5019\u200b\u8981\u200b\u4f20\u9012\u200b\u6307\u9488\u200b\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar (\n    wg1 sync.WaitGroup\n)\n\nfunc t1() {\n    fmt.Println(\"t1...\")\n    // \u200b\u8ba1\u6570\u5668\u200b-2\n    defer wg1.Done()\n}\n\nfunc main() {\n    // \u200b\u8ba1\u6570\u5668\u200b+2\n    wg1.Add(2)\n    go add()\n    go add()\n    // \u200b\u8ba9\u200bmain\u200b\u534f\u7a0b\u200b\u7b49\u5f85\u200bwg\u200b\u8ba1\u6570\u5668\u200b\u4e3a\u200b0\u200b\u5728\u200b\u6267\u884c\u200b\n    wg1.Wait()\n}\n</code></pre>"},{"location":"lang/go/1concurrent/6sync/#synconce","title":"sync.Once","text":"<p>\u200b\u53ea\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b</p> <p>sync.Once\u200b\u5176\u5b9e\u200b\u5185\u90e8\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b\u4e92\u65a5\u200b\u9501\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5e03\u5c14\u503c\u200b\uff0c\u200b\u4e92\u65a5\u200b\u9501\u200b\u4fdd\u8bc1\u200b\u5e03\u5c14\u503c\u200b\u548c\u200b\u6570\u636e\u200b\u7684\u200b\u5b89\u5168\u200b\uff0c\u200b\u800c\u200b\u5e03\u5c14\u503c\u200b\u7528\u6765\u200b\u8bb0\u5f55\u200b\u521d\u59cb\u5316\u200b\u662f\u5426\u200b\u5b8c\u6210\u200b\u3002\u200b\u8fd9\u6837\u200b\u8bbe\u8ba1\u200b\u5c31\u200b\u80fd\u200b\u4fdd\u8bc1\u200b\u521d\u59cb\u5316\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u200b\u5e76\u53d1\u200b\u5b89\u5168\u200b\u7684\u200b\u5e76\u4e14\u200b\u521d\u59cb\u5316\u200b\u64cd\u4f5c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u88ab\u200b\u6267\u884c\u200b\u591a\u6b21\u200b\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nvar (\n    so sync.Once\n    m  map[int]string\n)\n\nfunc a2() {\n    m = make(map[int]string)\n}\n\nfunc a1() {\n    // \u200b\u4e0d\u200b\u4f7f\u7528\u200b so \u200b\u901a\u8fc7\u200b\u5224\u65ad\u200b m != nil \u200b\u53ef\u80fd\u200b\u6ca1\u6709\u200b\u521d\u59cb\u5316\u200b\u5b8c\u6210\u200b\u4f46\u662f\u200b != nil\n    // \u200b\u4f7f\u7528\u200b\u534f\u7a0b\u200b\u53c8\u4f1a\u6709\u200b\u5b89\u5168\u200b\u95ee\u9898\u200b\n    so.Do(a2)\n    fmt.Println(\"this is good\")\n}\n\nfunc main() {\n  go a1()\n  go a1()\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/6sync/#syncmap","title":"sync.Map","text":"<p>\u200b\u7cfb\u7edf\u200b\u5185\u7f6e\u200b\u7684\u200bmap\u200b\u4e0d\u200b\u5b89\u5168\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync\"\n)\n\nfunc main() {\n    m1 := sync.Map{}\n\n  // \u200b\u6dfb\u52a0\u200b\n    m1.Store(\"name\", \"matt\")\n    m1.Store(\"age\", 22)\n\n  // \u200b\u83b7\u53d6\u200b\n    fmt.Println(m1.Load(\"name\"))\n\n  // \u200b\u5b58\u50a8\u200b\u6216\u8005\u200b\u66f4\u65b0\u200b\n    v, ok := m1.LoadOrStore(\"name\", \"matt\")\n    if ok {\n        fmt.Println(v)\n    }\n\n  // \u200b\u5220\u9664\u200b\n    m1.Delete(\"name\")\n\n    // \u200b\u5b58\u5728\u200b\u8fd4\u56de\u200bfalse\n    v, ok = m1.LoadOrStore(\"name\", \"aaa\")\n    if !ok {\n        fmt.Println(v, \"2222load and store\")\n    }\n\n    //m1.Delete(\"age\")\n\n    // \u200b\u4e0d\u200b\u5b58\u5728\u200b\u8fd4\u56de\u200b false\n    v, ok = m1.Load(\"ccc\")\n    fmt.Println(v, ok)\n\n  // \u200b\u904d\u5386\u200b\n    m1.Range(func(k, v interface{}) bool {\n        fmt.Println(k, v)\n        return true\n    })\n\n\n\n\n}\n</code></pre>"},{"location":"lang/go/1concurrent/7atomic/","title":"atomic","text":""},{"location":"lang/go/1concurrent/7atomic/#_1","title":"\u57fa\u7840\u200b\u64cd\u4f5c","text":"<p>\u200b\u539f\u5b50\u200b\u64cd\u4f5c\u200b</p> \u200b\u65b9\u6cd5\u200b \u200b\u89e3\u91ca\u200b func LoadInt32(addr *int32) (val int32) func LoadInt64(addr <code>*int64</code>) (val int64)func LoadUint32(addr<code>*uint32</code>) (val uint32)func LoadUint64(addr<code>*uint64</code>) (val uint64)func LoadUintptr(addr<code>*uintptr</code>) (val uintptr)func LoadPointer(addr<code>*unsafe.Pointer</code>) (val unsafe.Pointer) \u200b\u8bfb\u53d6\u200b\u64cd\u4f5c\u200b func StoreInt32(addr <code>*int32</code>, val int32) func StoreInt64(addr <code>*int64</code>, val int64) func StoreUint32(addr <code>*uint32</code>, val uint32) func StoreUint64(addr <code>*uint64</code>, val uint64) func StoreUintptr(addr <code>*uintptr</code>, val uintptr) func StorePointer(addr <code>*unsafe.Pointer</code>, val unsafe.Pointer) \u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b func AddInt32(addr <code>*int32</code>, delta int32) (new int32) func AddInt64(addr <code>*int64</code>, delta int64) (new int64) func AddUint32(addr <code>*uint32</code>, delta uint32) (new uint32) func AddUint64(addr <code>*uint64</code>, delta uint64) (new uint64) func AddUintptr(addr <code>*uintptr</code>, delta uintptr) (new uintptr) \u200b\u4fee\u6539\u200b\u64cd\u4f5c\u200b func SwapInt32(addr <code>*int32</code>, new int32) (old int32) func SwapInt64(addr <code>*int64</code>, new int64) (old int64) func SwapUint32(addr <code>*uint32</code>, new uint32) (old uint32) func SwapUint64(addr <code>*uint64</code>, new uint64) (old uint64) func SwapUintptr(addr <code>*uintptr</code>, new uintptr) (old uintptr) func SwapPointer(addr <code>*unsafe.Pointer</code>, new unsafe.Pointer) (old unsafe.Pointer) \u200b\u4ea4\u6362\u200b\u64cd\u4f5c\u200b func CompareAndSwapInt32(addr <code>*int32</code>, old, new int32) (swapped bool) func CompareAndSwapInt64(addr <code>*int64</code>, old, new int64) (swapped bool) func CompareAndSwapUint32(addr <code>*uint32</code>, old, new uint32) (swapped bool) func CompareAndSwapUint64(addr <code>*uint64</code>, old, new uint64) (swapped bool) func CompareAndSwapUintptr(addr <code>*uintptr</code>, old, new uintptr) (swapped bool) func CompareAndSwapPointer(addr <code>*unsafe.Pointer</code>, old, new unsafe.Pointer) (swapped bool) \u200b\u6bd4\u8f83\u200b\u5e76\u200b\u4ea4\u6362\u200b\u64cd\u4f5c\u200b <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"sync/atomic\"\n)\n\nfunc main() {\n    var i int64 = 100\n    res := atomic.AddInt64(&amp;i, 100)\n    res = atomic.SwapInt64(&amp;i, 3)\n    fmt.Println(res, i)\n\n}\n</code></pre>"},{"location":"lang/go/2lib/0string/","title":"0string","text":"<p>\u200b\u5b57\u7b26\u4e32\u200b\u5e38\u7528\u200b\u7684\u200b\u51fd\u6570\u200b</p>"},{"location":"lang/go/2lib/0string/#1len","title":"1.len():\u200b\u7edf\u8ba1\u200b\u5b57\u7b26\u4e32\u200b\u5b57\u8282\u200b\u7684\u200b\u957f\u5ea6","text":"<p>\u200b\u4e00\u4e2a\u200b\u4e2d\u6587\u200b\u4e09\u4e2a\u200b\u5b57\u8282\u200b</p> <pre><code>var str string = \"hello \u200b\u4e2d\u6587\u200b\"\nfmt.Println(len(str))\n</code></pre>"},{"location":"lang/go/2lib/0string/#2","title":"2.\u200b\u5b57\u7b26\u4e32\u200b\u904d\u5386\u200b\uff0c\u200b\u6839\u636e\u200b\u5b57\u7b26\u200b\u8fdb\u884c\u200b\u904d\u5386","text":"<pre><code>str1 := []rune(str)\nfor i := 0; i &lt; len(str1); i++ {\n    fmt.Printf(\"%c\", str1[i])\n}\n</code></pre>"},{"location":"lang/go/2lib/0string/#3","title":"3.\u200b\u5b57\u7b26\u4e32\u200b\u8f6c\u200b\u6574\u6570","text":"<pre><code>str2 := \"1111111\"\nvar i int64\n// bitsize\u200b\u6307\u5b9a\u200b8\uff0c \u200b\u5982\u679c\u200b\u662f\u200b3333 \u200b\u5219\u200b\u8fd4\u56de\u200b128\ni, _ = strconv.ParseInt(str2, 10, 64)\nfmt.Println(i)\n\nstr3 := \"123\"\n//var k int\nk, err := strconv.Atoi(str3)\nif err != nil {\n    fmt.Println(\"\u200b\u8f6c\u6362\u200b\u9519\u8bef\u200b\")\n} else {\n    fmt.Println(k)\n}\n</code></pre>"},{"location":"lang/go/2lib/0string/#4","title":"4.\u200b\u6574\u6570\u200b\u8f6c\u200b\u5b57\u7b26\u4e32","text":"<pre><code>var str4 string = strconv.Itoa(11)\nfmt.Println(str4)\n</code></pre>"},{"location":"lang/go/2lib/0string/#5-byte-var-bytes-bytehello-go","title":"5.\u200b\u5b57\u7b26\u4e32\u200b \u200b\u8f6c\u200b []byte: var bytes = []byte(\"hello go\")","text":"<pre><code>var str string = \"hello word\"\nbytes := []byte(str)\nfmt.Println(bytes)\n</code></pre>"},{"location":"lang/go/2lib/0string/#6","title":"6.\u200b\u5b57\u8282\u200b\u8f6c\u200b\u5b57\u7b26\u4e32","text":"<pre><code>fmt.Println(string(bytes))\n</code></pre>"},{"location":"lang/go/2lib/0string/#7","title":"7.\u200b\u5341\u8fdb\u5236\u200b\u8f6c\u200b\u4efb\u610f\u200b\u8fdb\u5236","text":"<pre><code>// \u200b\u5341\u8fdb\u5236\u200b\u8f6c\u200b\u4e8c\u8fdb\u5236\u200b\nfmt.Println(strconv.FormatInt(67,2))\n</code></pre>"},{"location":"lang/go/2lib/0string/#8-stringscontainsseafood-foo-true","title":"8.\u200b\u67e5\u627e\u200b\u5b50\u4e32\u200b\u662f\u5426\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u4e2d\u200b: strings.Contains(\"seafood\", \"foo\") //true","text":"<pre><code>// strings Contains\nfmt.Println(strings.Contains(\"hello\", \"ele\"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#9","title":"9.\u200b\u7edf\u8ba1\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u6709\u200b\u51e0\u4e2a\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u4e32","text":"<pre><code>// strings Count\nfmt.Println(\"strings Count:\" ,strings.Count(\"hello\", \"e\"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#10","title":"10.\u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u8f83","text":"<p>EqualFold:\u200b\u5ffd\u7565\u200b\u5927\u5c0f\u5199\u200b</p> <pre><code>// strings.EqualFold\nfmt.Println(strings.EqualFold(\"ab\", \"Ab\"))\nfmt.Println(\"ab\" == \"Ab\")\n</code></pre>"},{"location":"lang/go/2lib/0string/#11","title":"11\u200b\u8fd4\u56de\u200b\u5b50\u4e32\u200b\u7b2c\u4e00\u6b21\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u51fa\u73b0\u200b\u7684\u200b\u4f4d\u7f6e","text":"<pre><code>fmt.Println(\"Index\")\nfmt.Println(strings.Index(\"abcdef mcatt\", \"c\"))\nfmt.Println(strings.LastIndex(\"abcdef mcactt\", \"c\"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#12","title":"12\u200b\u8fd4\u56de\u200b\u5b50\u4e32\u200b\u6700\u540e\u200b\u4e00\u6b21\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u51fa\u73b0\u200b\u7684\u200b\u4f4d\u7f6e","text":"<pre><code>fmt.Println(strings.LastIndex(\"abcdef mcactt\", \"c\"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#13-stringsreplacego-go-hello-go-go-n-n-n-1","title":"13\u200b\u5c06\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b50\u4e32\u200b\u66ff\u6362\u6210\u200b \u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u5b50\u4e32\u200b: strings.Replace(\"go go hello\", \"go\", \"go \u200b\u8bed\u8a00\u200b\", n) n \u200b\u53ef\u4ee5\u200b\u6307\u200b \u200b\u5b9a\u200b\u4f60\u200b\u5e0c\u671b\u200b\u66ff\u6362\u200b\u51e0\u4e2a\u200b\uff0c\u200b\u5982\u679c\u200b n=-1 \u200b\u8868\u793a\u200b\u5168\u90e8\u200b\u66ff\u6362","text":"<pre><code>fmt.Println(strings.Replace(\"aa bb ccbc bb bb \", \"bb\", \"BB\", -1))\n</code></pre>"},{"location":"lang/go/2lib/0string/#14","title":"14\u200b\u5b57\u7b26\u4e32\u200b\u5206\u5272","text":"<pre><code>str := \"aabcbebeeee\"\nstrArr := strings.Split(str, \"b\")\nfor i := 0; i &lt; len(strArr); i++ {\n    fmt.Print(strArr[i])\n}\n</code></pre>"},{"location":"lang/go/2lib/0string/#15","title":"15\u200b\u5b57\u7b26\u4e32\u200b\u5927\u5c0f\u5199\u200b\u8f6c\u6362","text":"<pre><code>fmt.Println(strings.ToLower(\"Abc\"))\nfmt.Println(strings.ToUpper(\"Abc\"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#16","title":"16\u200b\u53bb\u9664\u200b\u5b57\u7b26\u4e32\u200b\u4fe9\u200b\u8fb9\u200b\u7684\u200b\u7a7a\u683c","text":"<pre><code>fmt.Println(strings.TrimSpace(\"   aa  dfer dfdf    \"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#17","title":"17\u200b\u5b57\u7b26\u4e32\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u200b\u53bb\u9664","text":"<pre><code>fmt.Println(strings.Trim(\"aabbccaa\", \"aa\"))\n</code></pre> <pre><code>fmt.Println(strings.TrimLeft(\"aabbccaa\", \"aa\"))\n\nfmt.Println(strings.TrimRight(\"aabbcccaa\", \"aa\"))\n</code></pre>"},{"location":"lang/go/2lib/0string/#18","title":"18\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u67d0\u4e2a\u200b\u524d\u7f00\u200b\u3001\u200b\u540e\u7f00","text":"<pre><code>fmt.Println(strings.HasPrefix(\"aabbcc\", \"aa\"))\nfmt.Println(strings.HasSuffix(\"aabbcc\", \"aa\"))\n</code></pre>"},{"location":"lang/go/2lib/1time/","title":"\u65f6\u95f4","text":""},{"location":"lang/go/2lib/1time/#_2","title":"\u65f6\u95f4\u200b\u7c7b\u578b","text":"<p>time.Time\u200b\u7c7b\u578b\u200b\u8868\u793a\u200b\u65f6\u95f4\u200b\u3002</p> <p>time.Now()\u200b\u51fd\u6570\u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7684\u200b\u65f6\u95f4\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7136\u540e\u200b\u83b7\u53d6\u200b\u65f6\u95f4\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5e74\u6708\u65e5\u200b\u65f6\u5206\u79d2\u200b\u7b49\u200b\u4fe1\u606f\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n\n    // 1\u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\n    t := time.Now()\n    fmt.Println(t)\n\n    year := t.Year()\n    month := t.Month()\n    day := t.Day()\n    hour := t.Hour()\n    minute := t.Minute()\n    second := t.Second()\n\n\n    fmt.Println(year, month, day, hour, minute, second)\n\n\n    // 2.\u200b\u83b7\u53d6\u200b\u65f6\u95f4\u200b\u6233\u200b\n    // s\n    timestamp1 := t.Unix()\n    // ns\n    timestamp2 := t.UnixNano()\n    fmt.Println(timestamp1, timestamp2)\n    // \u200b\u65f6\u95f4\u200b\u6233\u200b -&gt; \u200b\u65f6\u95f4\u200b\u5bf9\u8c61\u200b\n    t1 := time.Unix(timestamp1, 0)\n    fmt.Println(t1)\n\n    // 3.\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\n    fmt.Println(time.Second, time.Minute)\n\n    // 4.\u200b\u65f6\u95f4\u200b\u64cd\u4f5c\u200b\n    op := time.Now()\n    opAdd := op.Add(time.Hour)\n    fmt.Println(op, opAdd)\n\n    fmt.Println(op.Sub(opAdd))\n\n    fmt.Println(op.Equal(opAdd), \"equal\")\n    // op \u200b\u662f\u5426\u200b\u5728\u200bopAdd\u200b\u4e4b\u524d\u200b \u200b\u662f\u200b\uff1atrue\n    fmt.Println(op.Before(opAdd), \"before\")\n    fmt.Println(op.After(opAdd), \"after\")\n\n    // \u200b\u5b9a\u65f6\u5668\u200b \u200b\u53ef\u200b\u53c2\u8003\u200b\u5e76\u53d1\u200b\n\n\n    fmt.Println(\"\u200b\u65f6\u95f4\u200b\u683c\u5f0f\u5316\u200b--------------\")\n    // 5 \u200b\u65f6\u95f4\u200b\u683c\u5f0f\u5316\u200b\n    ft := time.Now()\n    // \u200b\u683c\u5f0f\u5316\u200b\u7684\u200b\u6a21\u677f\u200b\u4e3a\u200bGo\u200b\u7684\u200b\u51fa\u751f\u200b\u65f6\u95f4\u200b2006\u200b\u5e74\u200b1\u200b\u6708\u200b2\u200b\u53f7\u200b15\u200b\u70b9\u200b04\u200b\u5206\u200b Mon Jan\n    // 24\u200b\u5c0f\u65f6\u200b\u5236\u200b\n    fmt.Println(ft.Format(\"2006-01-02 15:04:05.000 Mon Jan\"))\n    // 12\u200b\u5c0f\u65f6\u200b\u5236\u200b\n    fmt.Println(ft.Format(\"2006-01-02 03:04:05.000 PM Mon Jan\"))\n    fmt.Println(ft.Format(\"2006/01/02 15:04\"))\n    fmt.Println(ft.Format(\"15:04 2006/01/02\"))\n    fmt.Println(ft.Format(\"2006-01-02\"))\n\n\n    // \u200b\u52a0\u8f7d\u200b\u65f6\u200b\u533a\u200b\n    loc, err := time.LoadLocation(\"Asia/Shanghai\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    // \u200b\u6309\u7167\u200b\u6307\u5b9a\u200b\u65f6\u533a\u200b\u548c\u200b\u6307\u5b9a\u200b\u683c\u5f0f\u200b\u89e3\u6790\u200b\u5b57\u7b26\u4e32\u200b\u65f6\u95f4\u200b\n    pT, err := time.ParseInLocation(\"2006/01/02 15:04:05\", \"2018/08/04 14:15:20\", loc)\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    fmt.Println(pT)\n\n}\n</code></pre>"},{"location":"lang/go/2lib/1time/#_3","title":"\u65f6\u95f4\u200b\u6233","text":"<p>\u200b\u65f6\u95f4\u200b\u6233\u200b\u662f\u200b\u81ea\u200b1970\u200b\u5e74\u200b1\u200b\u6708\u200b1\u200b\u65e5\u200b\uff0808:00:00GMT\uff09\u200b\u81f3\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\u7684\u200b\u603b\u200b\u79d2\u6570\u200b\u3002\u200b\u5b83\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200bUnix\u200b\u65f6\u95f4\u200b\u6233\u200b\uff08UnixTimestamp\uff09\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n\n    // 2.\u200b\u83b7\u53d6\u200b\u65f6\u95f4\u200b\u6233\u200b\n    // s\n    timestamp1 := t.Unix()\n    // ns\n    timestamp2 := t.UnixNano()\n    fmt.Println(timestamp1, timestamp2)\n    // \u200b\u65f6\u95f4\u200b\u6233\u200b -&gt; \u200b\u65f6\u95f4\u200b\u5bf9\u8c61\u200b\n    t1 := time.Unix(timestamp1, 0)\n    fmt.Println(t1)\n\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/1time/#_4","title":"\u65f6\u95f4\u200b\u95f4\u9694","text":"<p>\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b</p> <pre><code>const (\n    Nanosecond  Duration = 1\n    Microsecond          = 1000 * Nanosecond\n    Millisecond          = 1000 * Microsecond\n    Second               = 1000 * Millisecond\n    Minute               = 60 * Second\n    Hour                 = 60 * Minute\n)\n</code></pre>"},{"location":"lang/go/2lib/1time/#_5","title":"\u65f6\u95f4\u200b\u64cd\u4f5c","text":""},{"location":"lang/go/2lib/1time/#add","title":"add","text":"<p>t1.Add(time.Second)</p>"},{"location":"lang/go/2lib/1time/#sub","title":"sub","text":"<p>\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u6bb5\u200bt-u\u3002\u200b\u5982\u679c\u200b\u7ed3\u679c\u200b\u8d85\u51fa\u200b\u4e86\u200bDuration\u200b\u53ef\u4ee5\u200b\u8868\u793a\u200b\u7684\u200b\u6700\u5927\u503c\u200b/\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u5c06\u200b\u8fd4\u56de\u200b\u6700\u5927\u503c\u200b/\u200b\u6700\u5c0f\u503c\u200b\u3002</p> <p>\u200b\u8981\u200b\u83b7\u53d6\u200b\u65f6\u95f4\u200b\u70b9\u200bt-d\uff08d\u200b\u4e3a\u200bDuration\uff09\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bt.Add(-d)\u3002</p> <p>time.Sub(time.Second)</p>"},{"location":"lang/go/2lib/1time/#equal","title":"Equal","text":"<p>\u200b\u5224\u65ad\u200b\u4fe9\u4e2a\u200b\u65f6\u95f4\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\uff0c \u200b\u548c\u200bt1 == t2\u200b\u4e0d\u540c\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u8fd8\u4f1a\u200b\u6bd4\u8f83\u200b\u5730\u533a\u200b\u548c\u200b\u65f6\u95f4\u200b</p> <p>t1.Equal(t2)</p>"},{"location":"lang/go/2lib/1time/#before","title":"Before","text":""},{"location":"lang/go/2lib/1time/#after","title":"After","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n\n    // 4.\u200b\u65f6\u95f4\u200b\u64cd\u4f5c\u200b\n    op := time.Now()\n    opAdd := op.Add(time.Hour)\n    fmt.Println(op, opAdd)\n\n    fmt.Println(op.Sub(opAdd))\n\n    fmt.Println(op.Equal(opAdd), \"equal\")\n    // op \u200b\u662f\u5426\u200b\u5728\u200bopAdd\u200b\u4e4b\u524d\u200b \u200b\u662f\u200b\uff1atrue\n    fmt.Println(op.Before(opAdd), \"before\")\n    fmt.Println(op.After(opAdd), \"after\")\n\n    // \u200b\u5b9a\u65f6\u5668\u200b \u200b\u53ef\u200b\u53c2\u8003\u200b\u5e76\u53d1\u200b\n\n\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/1time/#_6","title":"\u65f6\u95f4\u200b\u683c\u5f0f\u5316","text":"<p>go\u200b\u8bde\u751f\u200b\u65f6\u95f4\u200b\uff1a 2006 0102 15:04</p> <p>2006 1234</p> <p>\u200b\u5982\u679c\u200b\u60f3\u200b\u683c\u5f0f\u5316\u200b\u4e3a\u200b12\u200b\u5c0f\u65f6\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u9700\u200b\u6307\u5b9a\u200bPM\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n\n\n\n    fmt.Println(\"\u200b\u65f6\u95f4\u200b\u683c\u5f0f\u5316\u200b--------------\")\n    // 5 \u200b\u65f6\u95f4\u200b\u683c\u5f0f\u5316\u200b\n    ft := time.Now()\n    // \u200b\u683c\u5f0f\u5316\u200b\u7684\u200b\u6a21\u677f\u200b\u4e3a\u200bGo\u200b\u7684\u200b\u51fa\u751f\u200b\u65f6\u95f4\u200b2006\u200b\u5e74\u200b1\u200b\u6708\u200b2\u200b\u53f7\u200b15\u200b\u70b9\u200b04\u200b\u5206\u200b Mon Jan\n    // 24\u200b\u5c0f\u65f6\u200b\u5236\u200b\n    fmt.Println(ft.Format(\"2006-01-02 15:04:05.000 Mon Jan\"))\n    // 12\u200b\u5c0f\u65f6\u200b\u5236\u200b\n    fmt.Println(ft.Format(\"2006-01-02 03:04:05.000 PM Mon Jan\"))\n    fmt.Println(ft.Format(\"2006/01/02 15:04\"))\n    fmt.Println(ft.Format(\"15:04 2006/01/02\"))\n    fmt.Println(ft.Format(\"2006-01-02\"))\n\n\n    // \u200b\u52a0\u8f7d\u200b\u65f6\u200b\u533a\u200b\n    loc, err := time.LoadLocation(\"Asia/Shanghai\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    // \u200b\u6309\u7167\u200b\u6307\u5b9a\u200b\u65f6\u533a\u200b\u548c\u200b\u6307\u5b9a\u200b\u683c\u5f0f\u200b\u89e3\u6790\u200b\u5b57\u7b26\u4e32\u200b\u65f6\u95f4\u200b\n    pT, err := time.ParseInLocation(\"2006/01/02 15:04:05\", \"2018/08/04 14:15:20\", loc)\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    fmt.Println(pT)\n\n}\n</code></pre>"},{"location":"lang/go/2lib/2flag/","title":"flag","text":""},{"location":"lang/go/2lib/2flag/#osargs","title":"os.Args","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n\n    if len(os.Args) &gt; 0 {\n        for index, arg := range os.Args {\n            fmt.Println(index, arg)\n        }\n    }\n\n}\n</code></pre> <pre><code>go build -o \"mflag\" mflag.go\n</code></pre> <p>os.Args\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5207\u7247\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b\u6267\u884c\u200b\u6587\u4ef6\u200b\u7684\u200b\u540d\u79f0\u200b\u3002</p>"},{"location":"lang/go/2lib/2flag/#flag_1","title":"flag","text":""},{"location":"lang/go/2lib/2flag/#_1","title":"\u652f\u6301\u200b\u7684\u200b\u7c7b\u578b","text":"<p>flag\u200b\u5305\u200b\u652f\u6301\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b\u6709\u200bbool\u3001int\u3001int64\u3001uint\u3001uint64\u3001float float64\u3001string\u3001duration\u3002</p> flag\u200b\u53c2\u6570\u200b \u200b\u6709\u6548\u503c\u200b \u200b\u5b57\u7b26\u4e32\u200bflag \u200b\u5408\u6cd5\u200b\u5b57\u7b26\u4e32\u200b \u200b\u6574\u6570\u200bflag 1234\u30010664\u30010x1234\u200b\u7b49\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u8d1f\u6570\u200b\u3002 \u200b\u6d6e\u70b9\u6570\u200bflag \u200b\u5408\u6cd5\u200b\u6d6e\u70b9\u6570\u200b bool\u200b\u7c7b\u578b\u200bflag 1, 0, t, f, T, F, true, false, TRUE, FALSE, True, False\u3002 \u200b\u65f6\u95f4\u6bb5\u200bflag \u200b\u4efb\u4f55\u200b\u5408\u6cd5\u200b\u7684\u200b\u65f6\u95f4\u6bb5\u200b\u5b57\u7b26\u4e32\u200b\u3002\u200b\u5982\u200b\u201d300ms\u201d\u3001\u201d-1.5h\u201d\u3001\u201d2h45m\u201d\u3002\u200b\u5408\u6cd5\u200b\u7684\u200b\u5355\u4f4d\u200b\u6709\u200b\u201dns\u201d\u3001\u201dus\u201d /\u201c\u00b5s\u201d\u3001\u201dms\u201d\u3001\u201ds\u201d\u3001\u201dm\u201d\u3001\u201dh\u201d\u3002"},{"location":"lang/go/2lib/2flag/#_2","title":"\u5b9a\u4e49","text":""},{"location":"lang/go/2lib/2flag/#flagtype","title":"flag.Type()","text":"<pre><code>name := flag.StringVar(\"name\", \"jack\", \"\u200b\u59d3\u540d\u200b\")\n</code></pre> <p>name:\u200b\u5bf9\u5e94\u200b\u7c7b\u578b\u200b\u7684\u200b\u6307\u9488\u200b</p>"},{"location":"lang/go/2lib/2flag/#flagtypevar","title":"flag.TypeVar() \u200b\u63a8\u8350\u200b\u4f7f\u7528","text":"<pre><code>flag.StringVar(&amp;name, \"name\", \"jack\", \"\u200b\u59d3\u540d\u200b\")\nflag.IntVar(&amp;age, \"age\", 17, \"\u200b\u5e74\u9f84\u200b\")\nflag.BoolVar(&amp;married, \"married\", false, \"\u200b\u662f\u5426\u200b\u7ed3\u5a5a\u200b\")\nflag.DurationVar(&amp;delay, \"delay\", 0, \"\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\")\n</code></pre>"},{"location":"lang/go/2lib/2flag/#_3","title":"\u89e3\u6790","text":"<p>flag.Parse()</p> <ul> <li>-flag xxx \uff08\u200b\u4f7f\u7528\u200b\u7a7a\u683c\u200b\uff0c\u200b\u4e00\u4e2a\u200b-\u200b\u7b26\u53f7\u200b\uff09</li> <li>--flag xxx \uff08\u200b\u4f7f\u7528\u200b\u7a7a\u683c\u200b\uff0c\u200b\u4e24\u4e2a\u200b-\u200b\u7b26\u53f7\u200b\uff09</li> <li>-flag=xxx \uff08\u200b\u4f7f\u7528\u200b\u7b49\u200b\u53f7\u200b\uff0c\u200b\u4e00\u4e2a\u200b-\u200b\u7b26\u53f7\u200b\uff09</li> <li>--flag=xxx \uff08\u200b\u4f7f\u7528\u200b\u7b49\u200b\u53f7\u200b\uff0c\u200b\u4e24\u4e2a\u200b-\u200b\u7b26\u53f7\u200b\uff09</li> </ul> <p>Flag\u200b\u89e3\u6790\u200b\u5728\u200b\u7b2c\u4e00\u4e2a\u200b\u975e\u200bflag\u200b\u53c2\u6570\u200b\uff08\u200b\u5355\u4e2a\u200b\u201d-\u201c\u200b\u4e0d\u662f\u200bflag\u200b\u53c2\u6570\u200b\uff09\u200b\u4e4b\u524d\u200b\u505c\u6b62\u200b</p>"},{"location":"lang/go/2lib/2flag/#_4","title":"\u5176\u4ed6\u200b\u51fd\u6570","text":"<ul> <li>flag.Args() ////\u200b\u8fd4\u56de\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u540e\u200b\u7684\u200b\u5176\u4ed6\u200b\u53c2\u6570\u200b\uff0c\u200b\u4ee5\u200b[]string\u200b\u7c7b\u578b\u200b</li> <li>flag.NArg() //\u200b\u8fd4\u56de\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u540e\u200b\u7684\u200b\u5176\u4ed6\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b</li> <li>flag.NFlag() //\u200b\u8fd4\u56de\u200b\u4f7f\u7528\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u53c2\u6570\u200b\u4e2a\u6570\u200b</li> </ul>"},{"location":"lang/go/2lib/2flag/#_5","title":"\u4f7f\u7528","text":"<pre><code>package main\n\nimport (\n    \"flag\"\n    \"fmt\"\n    \"os\"\n    \"time\"\n)\n\nfunc main() {\n\n    if len(os.Args) &gt; 0 {\n        for index, arg := range os.Args {\n            fmt.Println(index, arg)\n        }\n    }\n\n    var name string\n    var age int\n    var married bool\n    var delay time.Duration\n\n    flag.StringVar(&amp;name, \"name\", \"jack\", \"\u200b\u59d3\u540d\u200b\")\n    flag.IntVar(&amp;age, \"age\", 17, \"\u200b\u5e74\u9f84\u200b\")\n    flag.BoolVar(&amp;married, \"married\", false, \"\u200b\u662f\u5426\u200b\u7ed3\u5a5a\u200b\")\n    flag.DurationVar(&amp;delay, \"delay\", 0, \"\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\")\n\n    // \u200b\u89e3\u6790\u200b\n    flag.Parse()\n    fmt.Println(name, age, married, delay)\n\n    fmt.Println(flag.Args())\n    fmt.Println(flag.NArg())\n    fmt.Println(flag.NFlag())\n\n}\n</code></pre>"},{"location":"lang/go/2lib/3log/","title":"log","text":""},{"location":"lang/go/2lib/3log/#logger","title":"logger","text":""},{"location":"lang/go/2lib/3log/#_1","title":"\u4f7f\u7528","text":"<p>Print\u200b\u7cfb\u5217\u200b(Print|Printf|Println\uff09\u3001Fatal\u200b\u7cfb\u5217\u200b\uff08Fatal|Fatalf|Fatalln\uff09\u3001\u200b\u548c\u200bPanic\u200b\u7cfb\u5217\u200b\uff08Panic|Panicf|Panicln\uff09</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"log\"\n)\n\nfunc main() {\n\n\n    v := \"this is log\"\n    log.Print(v)\n    log.Println(v)\n    log.Printf(\"\u200b\u666e\u901a\u200b\u65e5\u5fd7\u200b%s\", v)\n    // Fatal\u200b\u7cfb\u5217\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5728\u200b\u5199\u5165\u200b\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\u540e\u200b\u8c03\u7528\u200bos.Exit(1)\n    log.Fatalln(\"fatal \u200b\u65e5\u5fd7\u200b\")\n    log.Panicln(\"panic \u200b\u65e5\u5fd7\u200b\")\n\n}\n</code></pre>"},{"location":"lang/go/2lib/3log/#_2","title":"\u914d\u7f6e","text":"<p>log\u200b\u6807\u51c6\u200b\u5e93\u4e2d\u200b\u7684\u200bFlags\u200b\u51fd\u6570\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u6807\u51c6\u200blogger\u200b\u7684\u200b\u8f93\u51fa\u200b\u914d\u7f6e\u200b\uff0c\u200b\u800c\u200bSetFlags\u200b\u51fd\u6570\u200b\u7528\u6765\u200b\u8bbe\u7f6e\u200b\u6807\u51c6\u200blogger\u200b\u7684\u200b\u8f93\u51fa\u200b\u914d\u7f6e\u200b\u3002</p> <pre><code>const (\n    // \u200b\u63a7\u5236\u200b\u8f93\u51fa\u200b\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\u7684\u200b\u7ec6\u8282\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u63a7\u5236\u200b\u8f93\u51fa\u200b\u7684\u200b\u987a\u5e8f\u200b\u548c\u200b\u683c\u5f0f\u200b\u3002\n    // \u200b\u8f93\u51fa\u200b\u7684\u200b\u65e5\u5fd7\u200b\u5728\u200b\u6bcf\u4e00\u9879\u200b\u540e\u4f1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5192\u53f7\u200b\u5206\u9694\u200b\uff1a\u200b\u4f8b\u5982\u200b2009/01/23 01:23:23.123123 /a/b/c/d.go:23: message\n    Ldate         = 1 &lt;&lt; iota     // \u200b\u65e5\u671f\u200b\uff1a2009/01/23\n    Ltime                         // \u200b\u65f6\u95f4\u200b\uff1a01:23:23\n    Lmicroseconds                 // \u200b\u5fae\u79d2\u200b\u7ea7\u522b\u200b\u7684\u200b\u65f6\u95f4\u200b\uff1a01:23:23.123123\uff08\u200b\u7528\u4e8e\u200b\u589e\u5f3a\u200bLtime\u200b\u4f4d\u200b\uff09\n    Llongfile                     // \u200b\u6587\u4ef6\u200b\u5168\u200b\u8def\u5f84\u540d\u200b+\u200b\u884c\u53f7\u200b\uff1a /a/b/c/d.go:23\n    Lshortfile                    // \u200b\u6587\u4ef6\u540d\u200b+\u200b\u884c\u53f7\u200b\uff1ad.go:23\uff08\u200b\u4f1a\u200b\u8986\u76d6\u200b\u6389\u200bLlongfile\uff09\n    LUTC                          // \u200b\u4f7f\u7528\u200bUTC\u200b\u65f6\u95f4\u200b\n    LstdFlags     = Ldate | Ltime // \u200b\u6807\u51c6\u200blogger\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\n)\n</code></pre> <p>\u200b\u57fa\u7840\u200b\u914d\u7f6e\u200b</p> <p>\u200b\u914d\u7f6e\u200b\u524d\u7f00\u200b</p> <p>\u200b\u914d\u7f6e\u200b\u8f93\u51fa\u200b\u7684\u200b\u4f4d\u7f6e\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"os\"\n)\n\nfunc main() {\n\n    logFile, err := os.OpenFile(\"./imatt.log\", os.O_CREATE|os.O_WRONLY|os.O_APPEND, 0644)\n    if err != nil {\n        fmt.Println(\"open log file failed, err:\", err)\n        return\n    }\n    log.SetFlags(log.Llongfile | log.Lmicroseconds | log.Ldate)\n    log.SetPrefix(\"[imatt]\")\n    log.SetOutput(logFile)\n    v := \"this is log\"\n    log.Print(v)\n    log.Println(v)\n    log.Printf(\"\u200b\u666e\u901a\u200b\u65e5\u5fd7\u200b%s\", v)\n    // Fatal\u200b\u7cfb\u5217\u200b\u51fd\u6570\u200b\u4f1a\u200b\u5728\u200b\u5199\u5165\u200b\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\u540e\u200b\u8c03\u7528\u200bos.Exit(1)\n    log.Fatalln(\"fatal \u200b\u65e5\u5fd7\u200b\")\n    log.Panicln(\"panic \u200b\u65e5\u5fd7\u200b\")\n\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/3log/#logger_1","title":"\u521b\u5efa\u200blogger","text":"<pre><code>    func New(out io.Writer, prefix string, flag int) *Logger\n</code></pre> <pre><code>package main\n\nimport (\n    \"log\"\n    \"os\"\n)\n\nfunc main() {\n\n    logger := log.New(os.Stdout, \"&lt;matt&gt;\", log.Lshortfile|log.Ldate|log.Ltime)\n    logger.Println(\"this is log\")\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/3log/#_3","title":"\u7b2c\u4e09\u65b9\u200b\u65e5\u5fd7\u200b\u5e93","text":"<p>logrus\u3001zap</p>"},{"location":"lang/go/2lib/4io/","title":"io","text":"<ul> <li><code>os.Stdin</code>\uff1a\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\u7684\u200b\u6587\u4ef6\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e3a\u200b<code>*File</code></li> <li><code>os.Stdout</code>\uff1a\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u7684\u200b\u6587\u4ef6\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e3a\u200b<code>*File</code></li> <li> <p><code>os.Stderr</code>\uff1a\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b\u8f93\u51fa\u200b\u7684\u200b\u6587\u4ef6\u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e3a\u200b<code>*File</code></p> </li> <li> <p><code>func Create(name string) (file *File, err Error)</code></p> </li> <li> <p>\u200b\u6839\u636e\u200b\u63d0\u4f9b\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6743\u9650\u200b\u662f\u200b0666</p> </li> <li> <p><code>func NewFile(fd uintptr, name string) *File</code></p> </li> <li> <p>\u200b\u6839\u636e\u200b\u6587\u4ef6\u200b\u63cf\u8ff0\u7b26\u200b\u521b\u5efa\u200b\u76f8\u5e94\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u5bf9\u8c61\u200b</p> </li> <li> <p><code>func Open(name string) (file *File, err Error)</code></p> </li> <li> <p>\u200b\u53ea\u8bfb\u200b\u65b9\u5f0f\u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u540d\u79f0\u200b\u4e3a\u200bname\u200b\u7684\u200b\u6587\u4ef6\u200b</p> </li> <li> <p><code>func OpenFile(name string, flag int, perm uint32) (file *File, err Error)</code></p> </li> <li> <p>\u200b\u6253\u5f00\u200b\u540d\u79f0\u200b\u4e3a\u200bname\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0cflag\u200b\u662f\u200b\u6253\u5f00\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u53ea\u8bfb\u200b\u3001\u200b\u8bfb\u5199\u200b\u7b49\u200b\uff0cperm\u200b\u662f\u200b\u6743\u9650\u200b</p> </li> <li> <p><code>func (file *File) Write(b []byte) (n int, err Error)</code></p> </li> <li> <p>\u200b\u5199\u5165\u200bbyte\u200b\u7c7b\u578b\u200b\u7684\u200b\u4fe1\u606f\u200b\u5230\u200b\u6587\u4ef6\u200b</p> </li> <li> <p><code>func (file *File) WriteAt(b []byte, off int64) (n int, err Error)</code></p> </li> <li> <p>\u200b\u5728\u200b\u6307\u5b9a\u200b\u4f4d\u7f6e\u200b\u5f00\u59cb\u200b\u5199\u5165\u200bbyte\u200b\u7c7b\u578b\u200b\u7684\u200b\u4fe1\u606f\u200b</p> </li> <li> <p><code>func (file *File) WriteString(s string) (ret int, err Error)</code></p> </li> <li> <p>\u200b\u5199\u5165\u200bstring\u200b\u4fe1\u606f\u200b\u5230\u200b\u6587\u4ef6\u200b</p> </li> <li> <p><code>func (file *File) Read(b []byte) (n int, err Error)</code></p> </li> <li> <p>\u200b\u8bfb\u53d6\u6570\u636e\u200b\u5230\u200bb\u200b\u4e2d\u200b</p> </li> <li> <p><code>func (file *File) ReadAt(b []byte, off int64) (n int, err Error)</code></p> </li> <li> <p>\u200b\u4ece\u200boff\u200b\u5f00\u59cb\u200b\u8bfb\u53d6\u6570\u636e\u200b\u5230\u200bb\u200b\u4e2d\u200b</p> </li> <li> <p><code>func Remove(name string) Error</code></p> </li> <li> <p>\u200b\u5220\u9664\u200b\u6587\u4ef6\u540d\u200b\u4e3a\u200bname\u200b\u7684\u200b\u6587\u4ef6\u200b</p> </li> </ul>"},{"location":"lang/go/2lib/4io/#_1","title":"\u6253\u5f00\u200b\u5173\u95ed\u200b\u6587\u4ef6","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n\n    f, err := os.Open(\"./f.go\")\n    if err != nil {\n        fmt.Println(\"open file failed! err:\", err)\n        return\n    }\n    defer f.Close()\n}\n</code></pre>"},{"location":"lang/go/2lib/4io/#_2","title":"\u5199\u200b\u6587\u4ef6","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n    f, err := os.Create(\"./a.txt\")\n    if err != nil {\n        fmt.Println(\"create file failed, err = \", err)\n        return\n    }\n    defer f.Close()\n    for i := 0; i &lt; 100; i++ {\n\n        f.WriteString(\"matt\")\n        f.Write([]byte(\"abcd\"))\n    }\n\n}\n</code></pre>"},{"location":"lang/go/2lib/4io/#_3","title":"\u8bfb\u200b\u6587\u4ef6","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"os\"\n)\n\nfunc main() {\n\n    //var a1 [10]int = [10]int{1, 2, 3, 4}\n    //var a2 []int\n    //// \u200b\u7528\u4e8e\u200b\u4e00\u6b21\u200b\u6dfb\u52a0\u200b\u591a\u4e2a\u200b\n    //a2 = append(a2, a1[:10]...)\n    //fmt.Println(a2)\n\n    f, err := os.Open(\"./m.txt\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    defer f.Close()\n    var buf [128]byte\n    var content []byte\n    for {\n        n, err := f.Read(buf[:])\n        if err == io.EOF {\n            break\n        }\n\n        if err != nil {\n            fmt.Println(\"read file err \", err)\n            return\n        }\n\n        content = append(content, buf[:n]...)\n    }\n\n    fmt.Println(string(content))\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/4io/#_4","title":"\u62f7\u8d1d\u200b\u6587\u4ef6","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"io\"\n    \"os\"\n)\n\n// \u200b\u62f7\u8d1d\u200b\u6587\u4ef6\u200b\nfunc main() {\n\n    srcF, err := os.Open(\"./m.txt\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    dstF, err := os.Create(\"./m1.txt\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    buf := make([]byte, 1024)\n    for {\n        n, err := srcF.Read(buf)\n        if err == io.EOF {\n            break\n        }\n        if err != nil {\n            fmt.Println(err)\n            return\n        }\n\n        dstF.Write(buf[:n])\n\n    }\n\n    srcF.Close()\n    dstF.Close()\n\n}\n</code></pre>"},{"location":"lang/go/2lib/4io/#bufio","title":"bufio","text":"\u6a21\u5f0f\u200b \u200b\u542b\u4e49\u200b os.O_WRONLY \u200b\u53ea\u200b\u5199\u200b os.O_CREATE \u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b os.O_RDONLY \u200b\u53ea\u8bfb\u200b os.O_RDWR \u200b\u8bfb\u5199\u200b os.O_TRUNC \u200b\u6e05\u7a7a\u200b os.O_APPEND \u200b\u8ffd\u52a0\u200b <pre><code>package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"io\"\n    \"os\"\n)\n\nfunc w() {\n    f, err := os.OpenFile(\"./m.txt\", os.O_CREATE|os.O_WRONLY, 0777)\n    if err != nil {\n        return\n    }\n    defer f.Close()\n\n    writer := bufio.NewWriter(f)\n    for i := 0; i &lt; 100; i++ {\n        writer.WriteString(\"matt\\n\")\n    }\n\n    writer.Flush()\n\n}\n\nfunc r() {\n    f, err := os.Open(\"./m.txt\")\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    defer f.Close()\n    reader := bufio.NewReaderSize(f, 100)\n    for {\n        line, prefix, err := reader.ReadLine()\n        if err == io.EOF {\n            break\n        }\n        if err != nil {\n            return\n        }\n        fmt.Println(string(line), prefix)\n    }\n}\n\nfunc main() {\n    //w()\n    r()\n}\n</code></pre>"},{"location":"lang/go/2lib/4io/#ioutil","title":"ioutil","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"io/ioutil\"\n)\n\nfunc iw()  {\n    err := ioutil.WriteFile(\"m.txt\", []byte(\"www.baidu.com\"), 0777)\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n}\n\nfunc ir()  {\n    content, err := ioutil.ReadFile(\"m.txt\")\n    if err != nil {\n        return\n    }\n    fmt.Println(string(content))\n}\n\nfunc main() {\n    //iw()\n    ir()\n}\n</code></pre>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/","title":"\u53cd\u5c04","text":""},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_2","title":"\u6982\u5ff5","text":"<p>\u200b\u53cd\u5c04\u200b\uff1a\u200b\u662f\u200b\u5728\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u5bf9\u200b\u7a0b\u5e8f\u200b\u672c\u8eab\u200b\u8fdb\u884c\u200b\u8bbf\u95ee\u200b\u548c\u200b\u4fee\u6539\u200b</p> <p>var i int = 100</p> <p>i\u200b\u7684\u200b\u7c7b\u578b\u4fe1\u606f\u200b\u662f\u200bint \u200b\u503c\u200b\u4fe1\u606f\u200b\u662f\u200b100</p> <ul> <li>\u200b\u7c7b\u578b\u4fe1\u606f\u200b\uff1a\u200b\u662f\u200b\u9759\u6001\u200b\u7684\u200b\u5143\u200b\u4fe1\u606f\u200b\uff0c\u200b\u662f\u200b\u9884\u5148\u200b\u5b9a\u4e49\u200b\u597d\u200b\u7684\u200b</li> <li>\u200b\u503c\u200b\u4fe1\u606f\u200b\uff1a\u200b\u662f\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u52a8\u6001\u200b\u6539\u53d8\u200b\u7684\u200b</li> </ul>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_3","title":"\u63a5\u53e3","text":""},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_4","title":"\u63a5\u53e3\u200b\u76f8\u5173\u200b\u53cd\u5c04","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"reflect\"\n)\n\n\n// \u200b\u83b7\u53d6\u200b\u7c7b\u578b\u200b\nfunc reflect_type(a interface{}) {\n    t := reflect.TypeOf(a)\n    fmt.Println(t)\n\n    // \u200b\u5177\u4f53\u200b\u7c7b\u578b\u200b\n    k := t.Kind()\n    log.Println(k)\n    switch k {\n    case reflect.String:\n        log.Println(\"string\")\n    case reflect.Int:\n        log.Println(\"int\")\n    default:\n        log.Println(\"nooo\")\n    }\n}\n\n// \u200b\u83b7\u53d6\u200b\u503c\u200b\nfunc reflectValue(i interface{}) {\n    v := reflect.ValueOf(i)\n    log.Println(v)\n\n    k := v.Kind()\n    log.Println(k)\n    switch k {\n    case reflect.Int:\n        log.Println(\"int\")\n    }\n\n}\n\n// \u200b\u4fee\u6539\u200b\u503c\u200b\nfunc reflectSetValue(i interface{}) {\n    v := reflect.ValueOf(i)\n    log.Println(v)\n\n    k := v.Kind()\n    log.Println(k)\n    switch k {\n    case reflect.Int:\n        v.SetInt(17)\n        fmt.Println(\"set\", v.Int())\n    case reflect.Ptr:\n        v.Elem().SetInt(200)\n        // Elem \u200b\u83b7\u53d6\u200b\u5730\u5740\u200b\u6307\u5411\u200b\u7684\u200b\u53d8\u91cf\u200b\n        fmt.Println(\"set\", v.Elem().Int())\n        fmt.Println(v.Pointer())\n    }\n\n}\n\nfunc main() {\n    var i = 100\n    //reflect_type(i)\n    //log.Println(\"-----\")\n    //reflectValue(1000)\n\n    reflectSetValue(&amp;i)\n    reflectSetValue(\"mattt\")\n}\n</code></pre>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_5","title":"\u7ed3\u6784\u200b\u4f53","text":""},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_6","title":"\u83b7\u53d6\u200b\u5b57\u200b\u6bb5\u200b\u65b9\u6cd5","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype A struct {\n    Id   int\n    Name string\n    Sex  bool\n}\n\ntype B struct {\n    A\n    T1 int\n}\n\n\nfunc (a A) t1() {\n    fmt.Println(a.Sex, a.Name, a.Id)\n}\n\nfunc r(a interface{}) {\n    t := reflect.TypeOf(a)\n    fmt.Println(t)\n    fmt.Println(t.Name())\n\n    v := reflect.ValueOf(a)\n    fmt.Println(v)\n\n    for i := 0; i &lt; v.NumField(); i++ {\n        f := t.Field(i)\n        // \u200b\u5b57\u6bb5\u540d\u200b \u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\n        fmt.Println(f.Name, f.Type)\n\n        v := v.Field(i).Interface()\n        fmt.Println(v)\n    }\n\n    fmt.Println(\"method\")\n\n    for i:= 0; i &lt; v.NumMethod(); i++ {\n        m := t.Method(i)\n        fmt.Println(m.Name, m.Type, \"method\")\n    }\n\n}\n\n\n\nfunc main() {\n    a := A{}\n    r(a)\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_7","title":"\u67e5\u770b\u200b\u533f\u540d\u200b\u5b57\u200b\u6bb5","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype A struct {\n    Id   int\n    Name string\n    Sex  bool\n}\n\ntype B struct {\n    A\n    T1 int\n}\n\n\nfunc (a A) t1() {\n    fmt.Println(a.Sex, a.Name, a.Id)\n}\n\n\n\n\n\nfunc main() {\n\n\n    b := B{\n        A: A{\n            Id: 1,\n            Name: \"matt\",\n            Sex: false,\n\n        },\n        T1: 11,\n    }\n\n    t := reflect.TypeOf(b)\n    fmt.Println(t, t.Field(0))\n\n    fmt.Println(reflect.ValueOf(b).Field(0))\n\n}\n</code></pre>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_8","title":"\u4fee\u6539\u200b\u7ed3\u6784\u200b\u4f53\u200b\u7684\u200b\u503c","text":"<p>\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u6307\u9488\u200b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype S3 struct {\n    Name string\n    Id   int\n}\n\nfunc (s S3) S3M(str string, i int) {\n    fmt.Println(str, i)\n}\n\nfunc setValue(s interface{}) {\n    v := reflect.ValueOf(s)\n    v = v.Elem()\n    nameF := v.FieldByName(\"Name\")\n    if nameF.Kind() == reflect.String {\n        nameF.SetString(\"matt\")\n    }\n}\n\n// \u200b\u5c5e\u6027\u200b\u65b9\u6cd5\u200b \u200b\u79c1\u6709\u200b\u83b7\u53d6\u200b\u4e0d\u5230\u200b\nfunc main() {\n    s := S3{}\n    //setValue(&amp;s)\n    //fmt.Println(s)\n\n\n}\n</code></pre>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#_9","title":"\u8c03\u7528\u200b\u65b9\u6cd5","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype S3 struct {\n    Name string\n    Id   int\n}\n\nfunc (s S3) S3M(str string, i int) {\n    fmt.Println(str, i)\n}\n\n\n\n// \u200b\u5c5e\u6027\u200b\u65b9\u6cd5\u200b \u200b\u79c1\u6709\u200b\u83b7\u53d6\u200b\u4e0d\u5230\u200b\nfunc main() {\n    s := S3{}\n\n\n    v := reflect.ValueOf(s)\n    m := v.MethodByName(\"S3M\")\n    args := []reflect.Value{reflect.ValueOf(\"matt\"), reflect.ValueOf(111)}\n    m.Call(args)\n}\n</code></pre>"},{"location":"lang/go/2lib/9%E5%8F%8D%E5%B0%84/#tag","title":"\u83b7\u53d6\u200b\u5b57\u6bb5\u200b\u7684\u200b tag","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"reflect\"\n)\n\ntype S4 struct {\n    Id int `json:\"id\" db:\"idd\"`\n}\n\nfunc main() {\n    s := S4{}\n    v := reflect.ValueOf(s)\n    t := v.Type()\n\n    f := t.Field(0)\n    j := f.Tag.Get(\"json\")\n    fmt.Println(j)\n\n}\n</code></pre>"},{"location":"lang/java/java%E5%AE%89%E8%A3%85/","title":"Java\u200b\u5b89\u88c5","text":""},{"location":"lang/java/java%E5%AE%89%E8%A3%85/#jdk","title":"jdk","text":""},{"location":"lang/java/java%E5%AE%89%E8%A3%85/#_1","title":"\u5b89\u88c5","text":"<p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\uff1ahttps://www.oracle.com/java/technologies/downloads/#java8-mac</p> <p>\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b\uff08\u200b\u90fd\u200b\u662f\u200b\u9ed8\u8ba4\u200b\u65e0\u9700\u200b\u66f4\u6539\u200b\uff09</p> <p></p>"},{"location":"lang/java/java%E5%AE%89%E8%A3%85/#_2","title":"\u914d\u7f6e","text":"<pre><code># if shell\nvim .bash_profile\n# if zsh\nvim .zshrc\n</code></pre> <pre><code>JAVA_HOME=/Library/java/JavaVirtualMachines/jdk1.8.0_321.jdk/Contents/Home\nPATH=$JAVA_HOME/bin:$PATH:.\nCLASSPATH=$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar:.\nexport JAVA_HOME\nexport PATH\nexport CLASSPATH\n</code></pre> <pre><code>source .bash_profile\n</code></pre>"},{"location":"lang/java/java%E5%AE%89%E8%A3%85/#_3","title":"\u9a8c\u8bc1","text":"<pre><code>java -version\n\n\njava\n\n\njavac\n</code></pre>"},{"location":"lang/java/maven/","title":"Maven","text":""},{"location":"lang/java/maven/#maven","title":"maven\u200b\u5b89\u88c5\u200b\u4e0e\u200b\u914d\u7f6e","text":""},{"location":"lang/java/maven/#mac","title":"mac","text":""},{"location":"lang/java/maven/#_1","title":"\u5b89\u88c5","text":"<p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\uff1ahttps://maven.apache.org/download.cgi</p> <p></p> <p>\u200b\u89e3\u538b\u200b\u91cd\u547d\u540d\u200b\u4e3a\u200b ApacheMaven\uff0c\u200b\u79fb\u52a8\u200b\u5230\u200b/usr/local\u200b\u4e0b\u200b</p> <p>\u200b\u91cd\u547d\u540d\u200b</p> <pre><code>mv apache-maven-3.8.4 ApacheMaven\n</code></pre> <p>\u200b\u79fb\u52a8\u200b</p> <pre><code>mv ./ApacheMaven /usr/local/\n</code></pre>"},{"location":"lang/java/maven/#_2","title":"\u914d\u7f6e","text":"<pre><code>vi ~/.bash_profile \n</code></pre> <pre><code>export M=\"/usr/local/ApacheMaven\"\nexport PATH=\"$M/bin:$PATH\"\n</code></pre> <pre><code>source ~/.bash_profile\n</code></pre> <pre><code>mvn -v\n</code></pre>"},{"location":"lang/java/maven/#windows","title":"Windows","text":""},{"location":"lang/java/maven/#1java_home","title":"1.\u200b\u68c0\u67e5\u200bJAVA_HOME\u200b\u73af\u5883\u53d8\u91cf\u200b\u3002","text":"<p>Maven\u200b\u662f\u200b\u4f7f\u7528\u200bJava\u200b\u5f00\u53d1\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5fc5\u987b\u200b\u77e5\u9053\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200b\u73af\u5883\u200b\u4e2d\u200bJDK\u200b\u7684\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u3002</p> <pre><code>C:\\Users\\matt&gt;echo %JAVA_HOME%\nD:\\develop\\env\\jdk-8u201-windows-x64\n</code></pre>"},{"location":"lang/java/maven/#2maven","title":"2.\u200b\u89e3\u538b\u200bMaven\u200b\u7684\u200b\u6838\u5fc3\u200b\u7a0b\u5e8f\u200b\u3002","text":"<p>\u200b\u5c06\u200bapache-maven-3.5.0-bin.zip\u200b\u89e3\u538b\u200b\u5230\u200b\u4e00\u4e2a\u200b\u975e\u4e2d\u6587\u200b\u65e0\u200b\u7a7a\u683c\u200b\u7684\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u3002\u200b\u4f8b\u5982\u200b</p> <p></p>"},{"location":"lang/java/maven/#3","title":"3.\u200b\u914d\u7f6e\u200b\u73af\u5883\u53d8\u91cf","text":"<p>\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5199\u200b\u5728\u200b\u7cfb\u7edf\u200b\u73af\u5883\u53d8\u91cf\u200b\u4e2d\u200b</p> <p>M2_HOME</p> <pre><code>D:\\develop\\env\\apache-maven-3.5.0\n</code></pre> <p>path</p> <pre><code>%M2_HOME%\\bin\n</code></pre>"},{"location":"lang/java/maven/#_3","title":"\u9a8c\u8bc1","text":""},{"location":"lang/java/maven/#maven_1","title":"\u67e5\u770b\u200bMaven\u200b\u7248\u672c\u4fe1\u606f\u200b\u9a8c\u8bc1\u200b\u5b89\u88c5\u200b\u662f\u5426\u200b\u6b63\u786e","text":""},{"location":"lang/java/maven/#aliyun-jdk","title":"\u914d\u7f6e\u200b\u4f9d\u8d56\u200b\u4e0b\u8f7d\u200b\u4f4d\u7f6e\u200b\u3001aliyun\u200b\u4ed3\u5e93\u200b\u3001 jdk","text":"<p>[1]Maven\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\uff1a~.m2\\repository\u200b\u76ee\u5f55\u200b\u3002</p> <p>Tips\uff1a~\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\u7684\u200b\u5bb6\u200b\u76ee\u5f55\u200b\u3002</p> <p>[2]Maven\u200b\u7684\u200b\u6838\u5fc3\u200b\u7a0b\u5e8f\u200b\u5e76\u200b\u4e0d\u200b\u5305\u542b\u200b\u5177\u4f53\u200b\u529f\u80fd\u200b\uff0c\u200b\u4ec5\u200b\u8d1f\u8d23\u200b\u5b8f\u89c2\u200b\u8c03\u5ea6\u200b\u3002\u200b\u5177\u4f53\u200b\u529f\u80fd\u200b\u7531\u200b\u63d2\u4ef6\u200b\u6765\u200b\u5b8c\u6210\u200b\u3002Maven\u200b\u6838\u5fc3\u200b\u7a0b\u5e8f\u200b\u4f1a\u5230\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u4e2d\u200b\u67e5\u627e\u200b\u63d2\u4ef6\u200b\u3002\u200b\u5982\u679c\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u5c31\u200b\u4f1a\u200b\u4ece\u200b\u8fdc\u7a0b\u200b\u4e2d\u592e\u200b\u4ed3\u5e93\u200b\u4e0b\u8f7d\u200b\u3002\u200b\u6b64\u65f6\u200b\u5982\u679c\u200b\u4e0d\u80fd\u200b\u4e0a\u7f51\u200b\u5219\u200b\u65e0\u6cd5\u200b\u6267\u884c\u200bMaven\u200b\u7684\u200b\u5177\u4f53\u200b\u529f\u80fd\u200b\u3002\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200bMaven\u200b\u7684\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u5728\u200b\u8054\u7f51\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e0b\u8f7d\u200b\u597d\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002</p> <p>[3]Maven\u200b\u7684\u200b\u6838\u5fc3\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4f4d\u7f6e\u200b\uff1a</p> <pre><code>\u200b\u89e3\u538b\u200b\u76ee\u5f55\u200b\\ D:\\Server\\ apache-maven-3.5.0\\conf\\settings.xml\n</code></pre> <p>[4]\u200b\u8bbe\u7f6e\u200b\u65b9\u5f0f\u200b</p> <pre><code>&lt;localRepository&gt;D:/develop/env/mavenRepository&lt;/localRepository&gt;\n</code></pre> <p></p> <p>\u200b\u6307\u5b9a\u200baliyun\u200b\u4ed3\u5e93\u200b</p> <pre><code> &lt;mirrors&gt;\n    &lt;mirror&gt;  \n        &lt;id&gt;alimaven&lt;/id&gt;\n        &lt;name&gt;aliyun maven&lt;/name&gt;\n        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\n        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; \n    &lt;/mirror&gt;\n&lt;/mirrors&gt;\n</code></pre> <p>\u200b\u6307\u5b9a\u200bjdk\u200b\u7248\u672c\u200b</p> <pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;jdk-1.8&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;jdk&gt;1.8&lt;/jdk&gt;\n        &lt;/activation&gt;\n\n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n            &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt; \n&lt;/profiles&gt;\n</code></pre>"},{"location":"lang/java/%E6%B3%9B%E5%9E%8B/","title":"\u6cdb\u578b","text":"<p>\u200b\u6cdb\u578b\u200b\u64e6\u9664\u200b</p> <p>ava\u200b\u662f\u200b\u5728\u200bJava5\u200b\u7684\u200b\u65f6\u5019\u200b\u5f15\u5165\u200b\u7684\u200b\u6cdb\u578b\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u652f\u6301\u200b\u6cdb\u578b\u200b\uff0cJVM\u200b\u7684\u200bclass\u200b\u6587\u4ef6\u200b\u4e5f\u200b\u505a\u200b\u4e86\u200b\u76f8\u5e94\u200b\u7684\u200b\u4fee\u6539\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u5c31\u662f\u200b\u65b0\u589e\u200b\u4e86\u200bSignature\u200b\u5c5e\u6027\u200b\u8868\u200b\uff0cjava\u200b\u7f16\u8bd1\u200b\u4e3a\u200b\u5b57\u8282\u200b\u7801\u540e\u200b\uff0c\u200b\u5176\u200b\u7533\u660e\u200b\u4fa7\u6cdb\u200b\u578b\u200b\u4fe1\u606f\u200b\u90fd\u200b\u5b58\u50a8\u200b\u5728\u200bSignature\u200b\u4e2d\u200b\uff0c\u200b\u901a\u8fc7\u200b\u53cd\u5c04\u200b\u83b7\u53d6\u200b\u7684\u200b\u6cdb\u578b\u200b\u4fe1\u606f\u200b\u90fd\u200b\u6765\u6e90\u4e8e\u200b\u8fd9\u91cc\u200b\u3002</p> <p>\u200b\u800c\u200bSignature\u200b\u5c5e\u6027\u200b\u8868\u200b\u53ef\u4ee5\u200b\u88ab\u200bclass\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5b57\u200b\u6bb5\u8868\u200b\uff0c\u200b\u65b9\u6cd5\u200b\u8868\u200b\u643a\u5e26\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u4f7f\u5f97\u200b\uff1a\u200b\u7c7b\u200b\u58f0\u660e\u200b\uff0c\u200b\u5b57\u200b\u6bb5\u200b\u58f0\u660e\u200b\uff0c\u200b\u65b9\u6cd5\u200b\u58f0\u660e\u200b\u4e2d\u200b\u7684\u200b\u6cdb\u578b\u200b\u4fe1\u606f\u200b\u5f97\u4ee5\u200b\u4fdd\u7559\u200b\u3002</p> <p>\u200b\u4e0a\u9762\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u9664\u4e86\u200bmethod2\u200b\u65b9\u6cd5\u200b\u5185\u90e8\u200b\u7684\u200b\u6cdb\u578b\u200b\u4fe1\u606f\u200b\u5747\u200b\u53ef\u4ee5\u200b\u4fdd\u7559\u200b\u5230\u200b\u5b57\u8282\u200b\u7801\u4e2d\u200b\uff0c\u200b\u6cdb\u578b\u200b\u64e6\u9664\u200b\u7684\u200b\u4ec5\u4ec5\u200b\u662f\u200bCode\u200b\u5c5e\u6027\u200b\u8868\u200b\u91cc\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u800c\u200b\u65b9\u6cd5\u200b\u4f53\u5728\u200b\u5b57\u8282\u200b\u7801\u4e2d\u200b\u6b63\u662f\u200b\u5b58\u653e\u200b\u5728\u200bCode\u200b\u5c5e\u6027\u200b\u8868\u200b\u7684\u200b\u3002\u200b\u901a\u8fc7\u200b\u4e0a\u9762\u200b\u7684\u200b\u56de\u7b54\u200b\u5927\u5bb6\u200b\u5e94\u8be5\u200b\u5f88\u200b\u6e05\u695a\u200b\u4e86\u200b\uff0c\u200b\u6240\u8c13\u200b\u7684\u200bjava\u200b\u6cdb\u578b\u200b\u64e6\u9664\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u53ea\u662f\u200b\u64e6\u200b\u9664\u4e86\u200b\u65b9\u6cd5\u200b\u4f53\u200b\u7684\u200b\u6cdb\u578b\u200b\u4fe1\u606f\u200b\u3002</p> <ol> <li>*\u200b\u58f0\u660e\u200b\u4fa7\u6cdb\u200b\u578b\u200b\u4fe1\u606f\u200b\u4fdd\u7559\u200b* \u200b\u4f8b\u5982\u200b\u58f0\u660e\u200b\u6cdb\u578b\u200b\u63a5\u53e3\u200b\uff0c\u200b\u6cdb\u578b\u200b\u7c7b\u200b\uff0c\u200b\u6cdb\u578b\u200b\u65b9\u6cd5\u200b\u65f6\u200b\u7684\u200b\u6cdb\u578b\u200b\u4fe1\u606f\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u4fa7\u6cdb\u200b\u578b\u200b\u4fe1\u606f\u200b\u64e6\u9664\u200b \u200b\u4f8b\u5982\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5c40\u90e8\u53d8\u91cf\u200b\u7b49\u200b\u3002</li> </ol>"},{"location":"lang/python/0-%E5%AE%89%E8%A3%85/","title":"0 \u200b\u5b89\u88c5","text":"<pre><code>brew install python\n</code></pre> <p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200bcd\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u3002env: python: No such file or directory</p> <pre><code>ln -s /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/bin/python3 /usr/local/bin/python3\n\n\nln -s /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/bin/python3 /usr/local/bin/python3\n</code></pre>"},{"location":"lang/python/0-%E5%AE%89%E8%A3%85/#_1","title":"\u9694\u79bb\u200b\u73af\u5883\u200b\u5b89\u88c5","text":""},{"location":"lang/python/0-%E5%AE%89%E8%A3%85/#pipenv","title":"pipenv","text":"<pre><code>pip3 install pipenv\n</code></pre> <pre><code># \u200b\u8fdb\u5165\u200b\u73af\u5883\u200b\npipenv shell\n\n# \u200b\u9000\u51fa\u200b\nexit\n\n# \u200b\u6839\u636e\u200bprofile\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\npipenv install\n\n# \u200b\u5b89\u88c5\u200b\u547d\u4ee4\u200b\npipenv install beautifulsoup4   #\u200b\u5728\u200b\u9879\u76ee\u200b\u6240\u5728\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u200bbeautifulsoup4\npipenv install parsel==1.3.1    #\u200b\u5b89\u88c5\u200bparsel\u200b\u5e76\u200b\u6307\u5b9a\u200b\u5176\u200b\u7248\u672c\u200b\npipenv install --dev nose2      #\u200b\u5b89\u88c5\u200bnose2\u200b\u5305\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u5173\u8054\u200b\u4e3a\u200b\u53ea\u200b\u5728\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\u4e2d\u200b\u9700\u8981\u200b\u7684\u200b\u5305\u200b\n\n\n# \u200b\u5378\u8f7d\u200b\npipenv uninstall beautifulsoup4 #\u200b\u5728\u200b\u9879\u76ee\u200b\u6240\u5728\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u5378\u8f7d\u200bbeautifulsoup4\npipenv uninstall --all          #\u200b\u4ece\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u79fb\u9664\u200b\u6240\u6709\u200b\u5df2\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u4f46\u200bPipfile.lock\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u53d7\u200b\u5f71\u54cd\u200b\npipenv uninstall --all--dev     #\u200b\u4ece\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u5378\u8f7d\u200b\u6240\u6709\u200b\u5f00\u53d1\u5305\u200b\uff0c\u200b\u5e76\u200b\u4ece\u200bPipfile\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u79fb\u9664\u200b\u8fd9\u4e9b\u200b\u5305\u200b\n\n\n# \u200b\u66f4\u65b0\u200b\u547d\u4ee4\u200b\npipenv update requests          #\u200b\u5728\u200b\u9879\u76ee\u200b\u4e2d\u200b\u66f4\u65b0\u200brequests\u200b\u5305\u200b\npipenv update                   #\u200b\u66f4\u65b0\u200b\u9879\u76ee\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u5305\u200b\npipenv update --outdated        #\u200b\u67e5\u770b\u200b\u73b0\u6709\u200b\u5305\u200b\u54ea\u4e9b\u200b\u5df2\u7ecf\u200b\u8fc7\u671f\u200b\n\n\n#\u200b\u67e5\u770b\u200b\u547d\u4ee4\u200b\npipenv grash                    #\u200b\u663e\u793a\u200b\u73b0\u6709\u200b\u7684\u200b\u4f9d\u8d56\u200b\u5305\u200b\npipenv lock                     #\u200b\u66f4\u65b0\u200bPipfile.lock\u200b\u6587\u4ef6\u200b\u9501\u5b9a\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u7684\u200b\u4f9d\u8d56\u200b\u7248\u672c\u200b\n\n\n\npipenv --rm\n</code></pre> <p>requirements.txt</p> <pre><code>\u200b\u65b9\u6cd5\u200b1\uff1apipenv run pip freeze &gt; requirements.txt\n\u200b\u65b9\u6cd5\u200b2\uff1apipenv lock -r --dev &gt; requirements.txt\n\n\n\n\n\u200b\u865a\u62df\u73af\u5883\u200b\u4e2d\u200b\u5bfc\u5165\u200brequirements.txt\npipenv install -r requirements.txt\n</code></pre> <p>243</p>"},{"location":"lang/python/11/","title":"11","text":"<pre><code>brew search python\nbrew install python@3.10\n</code></pre>"},{"location":"lang/python/flask/","title":"Flask","text":""},{"location":"lang/python/flask/#_1","title":"\u57fa\u7840\u200b\u4f7f\u7528","text":""},{"location":"lang/python/flask/#_2","title":"\u4ecb\u7ecd","text":"<p>Python Web \u200b\u5b9e\u73b0\u200b\u7684\u200b\u5f00\u53d1\u200b\u6846\u67b6\u200b</p> <p>\u200b\u5c0f\u800c\u7f8e\u200b\uff0c\u200b\u4e30\u5bcc\u200b\u7684\u200b\u5468\u8fb9\u200b\u6269\u5c55\u200b</p>"},{"location":"lang/python/flask/#_3","title":"\u5b89\u88c5","text":"<pre><code>pip install flask\n</code></pre> <p>\u200b\u9a8c\u8bc1\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b</p> <pre><code>\u200b\u9a8c\u8bc1\u200b\n&gt;&gt;&gt; import flask\n&gt;&gt;&gt; flask.__version__\n'1.1.2'\n</code></pre>"},{"location":"lang/python/flask/#_4","title":"\u4f7f\u7528","text":"<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef test_matt():\n    return 'hello'\n</code></pre> <p>\u200b\u53c2\u6570\u200bname \u200b\u8868\u793a\u200b\u5e94\u7528\u200b\u7684\u200b\u4e3b\u200b\u6a21\u5757\u200b\u6216\u200b\u5305\u200b\u7684\u200b\u540d\u79f0\u200b\u3002\u200b\u4f7f\u7528\u200b\u8be5\u200b\u53c2\u6570\u200bFlaskFlask\u200b\u786e\u5b9a\u200b\u5e94\u7528\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u7136\u540e\u200b\u627e\u5230\u200b\u5e94\u7528\u200b\u4e2d\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5982\u200b\u7f51\u9875\u200b\u4e2d\u200b\u7684\u200b\u56fe\u7247\u200b\u76ee\u5f55\u200b\uff0c\u200b\u6a21\u677f\u200b\u76ee\u5f55\u200b \u200b\u88c5\u9970\u200b\u5668\u200bapp.route() \u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u8def\u7531\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5373\u200b\uff1a\u200b\u7528\u6237\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u8f93\u5165\u200bURL\uff0c\u200b\u4f7f\u7528\u200b\u5bf9\u5e94\u200b\u7684\u200b\u51fd\u6570\u200b\u5904\u7406\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\uff08\u200b\u53ef\u200b\u5199\u200b\u591a\u4e2a\u200b\uff09</p>"},{"location":"lang/python/flask/#_5","title":"\u542f\u52a8","text":"<p>\u200b\u542f\u52a8\u200b\u670d\u52a1\u5668\u200b  1.\u200b\u6b65\u9aa4\u200b1\uff1a\u200b\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b</p> <p>Windows set FLASK_APP=app.py  Linux export FLASK_APP=app.py\u3001</p> <p>2.\u200b\u6b65\u9aa4\u200b2flask run web\uff1a\u200b\u542f\u52a8\u200b\u5185\u7f6e\u200b\u670d\u52a1\u5668\u200b</p> <p>\u200b\u6307\u5b9a\u200bIP\u200b\u53ca\u200b\u7aef\u53e3\u200b\uff1a flask run host=0.0.0.0 port=8001 \u200b\u6216\u200b\uff1a flask run -h 127.0.0.1 -p 8001</p> <p>\u200b\u5f00\u542f\u200b\u8c03\u8bd5\u6a21\u5f0f\u200b</p> <p>Windows set FLASK_ENV=development</p> <p>Linux export FLASK_ENV=development</p> <p>\u200b   </p>"},{"location":"lang/python/flask/#mvt","title":"MVT\u200b\u6a21\u578b\u200b\uff1a\u200b\u5f85\u200b\u8865\u5145","text":"<p>\u200b\u89c6\u56fe\u200b\uff1apy\u200b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b</p> <p>\u200b\u6a21\u578b\u200b\uff1amysql\u200b\u67e5\u8be2\u200b\u51fa\u6765\u200b\u7684\u200b</p> <p>\u200b\u6a21\u677f\u200b\uff1a\u200b\u9875\u9762\u200b</p> <p></p>"},{"location":"lang/python/flask/#_6","title":"\u8def\u7531","text":""},{"location":"lang/python/flask/#_7","title":"\u57fa\u672c\u200b\u4f7f\u7528","text":"<p>\u200b\u4f7f\u7528\u200b\u88c5\u9970\u200b\u5668\u200b:\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b</p> <pre><code>@app.route(url_name, methods)\n\n# urlURL: \u200b\u5339\u914d\u200b\u7684\u200b\u5730\u5740\u200b\n# methods: ['GET', 'POST']\u200b\u6240\u200b\u652f\u6301\u200b\u7684\u200b\u8bf7\u6c42\u200b\u65b9\u5f0f\u200b\uff08\uff09\n</code></pre> <p>\u200b\u5b9e\u4f8b\u200b\uff1a</p> <pre><code>@app.route('/login', methods=['GET', 'POST'])\n</code></pre> <p>\u200b\u4f7f\u7528\u200bAPI</p> <p>app.add_url_rule(url,url_name view_name)</p> <p>url : \u200b\u5339\u914d\u200b\u7684\u200bURL\u200b\u5730\u5740\u200b url_nameURL: \u200b\u7ed9\u200b\u7684\u200b\u547d\u540d\u200b view_name: \u200b\u89c6\u56fe\u200b\u51fd\u6570\u200b</p>"},{"location":"lang/python/flask/#_8","title":"\u5339\u914d\u200b\u89c4\u5219","text":"<p>\uf075 \u200b\u5339\u914d\u200b\u6574\u4e2a\u200b\u6587\u5b57\u200b @app.route('/hello')  \uf075 \u200b\u4f20\u9012\u200b\u53c2\u6570\u200b @app.route('/user/') <p>username\u200b\u9700\u8981\u200b\u5728\u200b\u51fd\u6570\u200b\u4e2d\u5199\u200b</p> <pre><code>@app.route('/matt/&lt;username&gt;', methods=['GET', 'POST'])\ndef test_route_1(username):\n    return 'matt' + username\n</code></pre> <p>\uf075 \u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b @app.route('/post/') <p></p> <p>URL\u200b\u914d\u7f6e\u200b\u53ca\u200b\u8def\u7531\u200b  \uf075 \u200b\u67e5\u770b\u200bURL\u200b\u89c4\u5219\u200b\u5217\u8868\u200b app.url_map  \uf075 URL\u200b\u9006\u5411\u200b\u89e3\u6790\u200b\uff08\u200b\u6839\u636e\u200b\u540d\u79f0\u200b\u89e3\u6790\u200b\u6210\u200b\u5b57\u7b26\u4e32\u200b\uff09URL &lt;1&gt;url_for(url_name, **kwargs) &lt;2&gt;\u200b\u9759\u6001\u200b\u6587\u4ef6\u200b\u56fe\u7247\u200b(/css/js)\u200b\u5f15\u7528\u200b url_for('static', filename='style.css')</p> <p>URL\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b @app.route('/page/')  def list_user(page): <p>URL\u200b\u4e2d\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u53ef\u9009\u200b \u200b\u6682\u65f6\u200b\u4e0d\u662f\u200b\u7279\u522b\u200b\u7406\u89e3\u200b</p> <pre><code>@app.route('/page/&lt;page&gt;')\ndef list_user(page=None):\n</code></pre> <p></p>"},{"location":"lang/python/flask/#_9","title":"\u5e94\u7528\u200b\u4e0a\u4e0b\u6587\u200b\u5bf9\u8c61","text":"<p>1 current_app \u200b\u5f53\u524d\u200b\u5e94\u7528\u200b\u7684\u200b\u5b9e\u4f8b\u200b 2 g \u200b\u5904\u7406\u200b\u8bf7\u6c42\u200b\u65f6\u200b\u7684\u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8bf7\u6c42\u200b\u90fd\u200b\u4f1a\u200b\u91cd\u8bbe\u200b\u8fd9\u4e2a\u200b\u53d8\u91cf\u200b</p>"},{"location":"lang/python/flask/#_10","title":"\u8bf7\u6c42\u200b\u4e0a\u4e0b\u6587","text":"<p>1 request \u200b\u8bf7\u6c42\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5c01\u88c5\u200b\u4e86\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u51fa\u200b\u7684\u200b\u8bf7\u6c42\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200bHTTP 2 session \u200b\u7528\u6237\u200b\u4f1a\u8bdd\u200b(dict)\uff0c\u200b\u5404\u200b\u8bf7\u6c42\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u5171\u4eab\u200b</p> <pre><code>@app.route('/test/req')\ndef test_request():\n    # print('hello test_request')\n    test_args = request.args\n    print(request.args.get('name', 'dmx')) #\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5c31\u200bdmx\n    # \u200b\u4e3b\u673a\u200b\u5730\u5740\u200b\n    print(request.headers)\n    headers = request.headers\n    print(headers.get('Host'))\n    print(request.remote_addr)\n    return {'name': 'matt'}\n</code></pre>"},{"location":"lang/python/flask/#_11","title":"\u8bf7\u6c42\u200b\u94a9\u5b50","text":"<p>1.before_first_request     \u200b\u670d\u52a1\u5668\u200b\u521d\u59cb\u5316\u200b\u540e\u200b\u7b2c\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\u5230\u8fbe\u200b\u524d\u200b\u6267\u884c\u200b 2.before_request     \u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\u5230\u8fbe\u200b\u524d\u200b\u6267\u884c\u200b</p> <p>3.fter_request     \u200b\u6bcf\u6b21\u200b\u8bf7\u6c42\u200b\u5904\u7406\u200b\u5b8c\u6210\u200b\u540e\u200b\u6267\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u8bf7\u6c42\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4ea7\u751f\u200b\u4e86\u200b\u5f02\u5e38\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u6267\u884c\u200b 4.teardown_request     \u200b\u6bcf\u6b21\u200b\u8bf7\u6c42\u200b\u5904\u7406\u200b\u5b8c\u6210\u200b\u4e4b\u540e\u200b\u6267\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u8bf7\u6c42\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4ea7\u751f\u200b\u4e86\u200b\u5f02\u5e38\u200b\u4e5f\u200b\u6267\u884c\u200b</p> <pre><code>@app.before_first_request\ndef first_request():\n    print('\u200b\u670d\u52a1\u5668\u200b\u542f\u52a8\u200b')\n\n@app.before_request\ndef pre_request():\n    # \u200b\u94a9\u5b50\u200b\u51fd\u6570\u200b\n    print('request\u3002\u3002\u3002\u3002')\n</code></pre>"},{"location":"lang/python/flask/#_12","title":"\u54cd\u5e94","text":"<p>1.\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b 2.\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5143\u7ec4\u200b\uff08\uff09tuple (response, status, headers) \u200b\u6216\u200b(response, headers)</p> <p>&lt;1&gt;response\u2014\u2014\u200b\u54cd\u5e94\u200b\u5185\u5bb9\u200b &lt;2&gt;status\u2014\u2014\u200b\u54cd\u5e94\u200b\u72b6\u6001\u200b\u7801\u200b &lt;3&gt;headers\u2014\u2014\u200b\u54cd\u5e94\u200b\u5934\u200b\u4fe1\u606f\u200b</p> <pre><code>@app.route('/test/resp')\ndef test_response():\n    # return 'test resp', 201, {'name': 'ddd'}\n    print()\n    resp = make_response({'name': 'matt', 'age': 19}, 300)\n    resp.headers['name'] = 'matt3343'\n    resp.status_code = 200\n\n    return resp\n</code></pre> <pre><code>@app.route('/resp')\ndef test_resp():\n    resp = make_response('hello resp', 200, {'name': 'matt'})\n    return resp\n</code></pre> <p>HTML</p> <pre><code>@app.route('/test/html')\ndef test_html():\n    html = render_template('index.html')\n    return html\n</code></pre>"},{"location":"lang/python/flask/#_13","title":"\u91cd\u5b9a\u5411","text":"<pre><code>@app.route('/')\ndef test_matt():\n    return 'hello'\n\n\n@app.route('/index')\ndef helloword():\n    print(current_app)\n    print('222')\n    return redirect('/')\n    return 'hello'\n</code></pre> <p>\u200b\u65b9\u6cd5\u200b\u9700\u8981\u200b\u6709\u200b\u8fd4\u56de\u200b\u8bed\u53e5\u200b</p> <pre><code>@app.route('/from')\ndef test_from():\n    redirect('/to')\n    return 'from'\n\n@app.route('/to')\ndef test_to():\n    return 'i am to'\n</code></pre>"},{"location":"lang/python/flask/#_14","title":"\u9519\u8bef","text":"<p>\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b err</p> <pre><code>@app.route('/test/abort')\ndef test_abort():\n    # \u200b\u7ed9\u5b9a\u200b\u9519\u8bef\u200b\n    abort(403)\n@app.errorhandler(403)\ndef forbidden(err):\n    print(err)\n    return 'xx'\n</code></pre> <pre><code>from app import db\ndb.create_all()\n</code></pre>"},{"location":"lang/python/flask/#_15","title":"\u6570\u636e\u5e93","text":"<pre><code>pip install flask\npip install -U Flask-SQLAlchemy\npip install mysqlclient \n</code></pre> <p>\u200b\u57fa\u672c\u200b\u4f7f\u7528\u200b</p> <pre><code>from flask import Flask, render_template\nfrom flask_sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\n# \u200b\u914d\u7f6e\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u8fde\u63a5\u200b\u53c2\u6570\u200b\napp.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://root:root@127.0.0.1/test_flask'\n# \u200b\u7ed1\u5b9a\u200b\u5230\u200bflask\u200b\u5bf9\u8c61\u200b\ndb = SQLAlchemy(app)\n\nclass User(db.Model):\n    '''\u200b\u8868\u540d\u200b'''\n    __tablename__ = 'weibo_user'\n    '''\u200b\u5217\u540d\u200b'''\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), nullable=False)\n    password = db.Column(db.String(256), nullable=False)\n    age = db.Column(db.Integer, default=0)\n\n    def __init__(self, username, password, age):\n        self.username = username\n        self.password = password\n        self.age = age\n\n\nclass UserAddress(db.Model):\n    \"\"\" \u200b\u7528\u6237\u200b\u7684\u200b\u5730\u5740\u200b \"\"\"\n    __tablename__ = 'weibo_user_addr'\n    id = db.Column(db.Integer, primary_key=True)\n    addr = db.Column(db.String(256), nullable=False)\n\n    user_id = db.Column(db.Integer, db.ForeignKey('weibo_user.id'), nullable=False)\n    user = db.relationship('User', backref=db.backref('address', lazy=True))\n\n    def __init__(self, addr, user_id):\n        self.addr = addr\n        self.user_id = user_id\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n</code></pre> <p>\u200b\u521b\u5efa\u200b\u57fa\u672c\u200b\u8868\u200b</p> <p></p> <pre><code>class User(db.Model):\n    '''\u200b\u8868\u540d\u200b'''\n    __tablename__ = 'weibo_user'\n    '''\u200b\u5217\u540d\u200b'''\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), nullable=False)\n    password = db.Column(db.String(256), nullable=False)\n    age = db.Column(db.Integer, default=0)\n\n    def __init__(self, username, password, age):\n        self.username = username\n        self.password = password\n        self.age = age\n</code></pre> <p>\u200b\u8bbe\u7f6e\u200b\u5916\u952e\u200b</p> <pre><code>user_id = db.Column(db.Integer, db.ForeignKey('weibo_user.id'), nullable=False)\n    user = db.relationship('User', backref=db.backref('address', lazy=True))\n</code></pre> <p>user\u200b\u4e2d\u4f1a\u200b\u6709\u200baddress\u200b\u5c5e\u6027\u200b</p> <p>address\u200b\u4e2d\u4f1a\u200b\u6709\u200buser\u200b\u5c5e\u6027\u200b</p> <p></p> <pre><code>from app import db\n</code></pre> <p>\u200b\u521b\u5efa\u200b\u8868\u200b</p> <pre><code>db.create_all()\n</code></pre> <p>\u200b\u5220\u9664\u200b\u8868\u200b</p> <pre><code>db.drop_all()\n</code></pre>"},{"location":"lang/python/flask/#crud","title":"crud","text":"<p>\u200b\u6dfb\u52a0\u200b\u3001\u200b\u66f4\u65b0\u200b</p> <pre><code>addr = UserAddress('11', 1)\ndb.session.add(addr)\ndb.session.commit()\n</code></pre> <p>\u200b\u5220\u9664\u200b</p> <pre><code>addr = UserAddress.query.filter_by(addr='\u200b\u4e0a\u6d77\u200b').first()\ndb.session.delete(addr)\ndb.session.commit()\n</code></pre> <p>\u200b\u67e5\u627e\u200b</p> <p>\u200b\u67e5\u627e\u200b\u6240\u6709\u200b\u6570\u636e\u200b</p> <pre><code>user = User.query.all()\n</code></pre> <p>\u200b\u6dfb\u52a0\u200b\u8fc7\u6ee4\u200b\u6761\u4ef6\u200b</p> <pre><code>User.query.filter_by(username='zhangsan').all()\n</code></pre> <p>\u200b\u7edf\u8ba1\u200b\u4e2a\u6570\u200b</p> <pre><code>User.query.filter_by(username='zhangsan').count()\n</code></pre> <pre><code>pip install flask\npip install flask_sqlalchemy # \u200b\u6570\u636e\u5e93\u200b\npip install Flask-WTF # \u200b\u8868\u5355\u200b\n\n\npip install --upgrade 'SQLAlchemy&lt;1.4'\n</code></pre>"},{"location":"lang/python/python/","title":"Python","text":""},{"location":"lang/python/python/#_1","title":"\u5b89\u88c5","text":""},{"location":"lang/python/python/#mac-","title":"mac-\u200b\u5b89\u88c5","text":"<p>\u200b\u76f4\u63a5\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200b\u5373\u53ef\u200b</p> <p>\u200b\u5b98\u7f51\u200b</p> <pre><code>/usr/local/bin\n/Library/Frameworks/Python.framework/Versions/3.10/bin/python3\n\n\nln -s -f /usr/local/bin/python3 /usr/local/bin/python\n</code></pre> <p>\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200bbrew\u200b\u5b89\u88c5\u200b </p> <p>1 \u200b\u9700\u8981\u200b\u5728\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u914d\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b</p> <p>2..pycharm\u200b\u4f1a\u200b\u65e0\u6cd5\u200b\u8bc6\u522b\u200b</p>"},{"location":"lang/python/python/#_2","title":"\u5b89\u88c5","text":""},{"location":"lang/python/python/#_3","title":"\u5b89\u88c5\u200b\u73af\u5883","text":"<p>https://www.python.org/</p> <p></p> <p></p> <p>1\u3001web-based installer\u3001executable installer\u3001embeddable zip file \u2013web-based installer\uff1a\u200b\u5728\u7ebf\u200b\u5b89\u88c5\u200b\u3002\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200bexe\u200b\u53ef\u6267\u884c\u7a0b\u5e8f\u200b\uff0c\u200b\u53cc\u51fb\u200b\u540e\u200b\uff0c\u200b\u8be5\u200b\u7a0b\u5e8f\u200b\u81ea\u52a8\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u6587\u4ef6\u200b\uff08\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u6709\u200b\u7f51\u7edc\u200b\uff09\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u3002 \u2013executable installer\uff1a\u200b\u7a0b\u5e8f\u5b89\u88c5\u200b\u3002\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200bexe\u200b\u53ef\u6267\u884c\u7a0b\u5e8f\u200b\uff0c\u200b\u53cc\u51fb\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u3002 \u2013embeddable zip file\uff1a\u200b\u89e3\u538b\u200b\u5b89\u88c5\u200b\u3002\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u538b\u7f29\u6587\u4ef6\u200b\uff0c\u200b\u89e3\u538b\u200b\u540e\u200b\u5373\u200b\u8868\u793a\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u3002</p> <p>2\u3001x86\u3001x86-64 \u2013Windows x86 \uff1a\u200b\u9002\u7528\u200b32\u200b\u4f4d\u200bwindows\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u3002 \u2013Windows x86-64 \uff1a\u200b\u9002\u7528\u200b64\u200b\u4f4d\u200bwindows\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u3002</p> <p></p> <p></p> <p></p> <p>\u200b\u4e0b\u56fe\u200b\u4e0d\u8981\u200b\u9009\u62e9\u200ball user</p> <p></p> <p>\u200b\u9009\u62e9\u200b\u5bf9\u5e94\u200b\u7248\u672c\u200b\u70b9\u51fb\u200b\u5373\u53ef\u200b2.7.17\uff0c\u200b\u6700\u597d\u200b\u9009\u62e9\u200b32\u200b\u4f4d\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u7684\u200b\u517c\u5bb9\u6027\u200b\u66f4\u597d\u200b</p>"},{"location":"lang/python/python/#path","title":"\u914d\u7f6e\u200bPath","text":"<p>\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\u6dfb\u52a0\u200b\u5230\u200bpath\u200b\u73af\u5883\u53d8\u91cf\u200b\u5373\u53ef\u200b\u3002\u200b\u5728\u200b3.7\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5b89\u88c5\u200b\u65f6\u200b\u9009\u62e9\u200b\u914d\u7f6e\u200bpath</p>"},{"location":"lang/python/python/#python381pip","title":"\u6ce8\u610f\u200b\uff1apython3.81\u200b\u5b89\u88c5\u200b\u7684\u200b\u65f6\u5019\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u5b89\u88c5\u200bpip","text":""},{"location":"lang/python/python/#pip","title":"\u5b89\u88c5\u200bpip","text":"<p>\u200b\u5b89\u88c5\u200bsetuptools</p> <p>\u200b\u7b2c\u4e00\u6b65\u200b\uff1a\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u5305\u200b\uff08\u200b\u5730\u5740\u200b\uff1ahttps://pypi.io/packages/source/s/setuptools/setuptools-33.1.1.zip\uff09</p> <p>\u200b\u7b2c\u4e8c\u6b65\u200b\uff1a\u200b\u89e3\u538b\u200b</p> <p>\u200b\u7b2c\u4e09\u6b65\u200b\uff1aCMD\u200b\u5207\u6362\u200b\u5230\u200b\u8be5\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5207\u6362\u200b\u7684\u200b\u65b9\u6cd5\u200b\u81ea\u5df1\u200b\u767e\u5ea6\u200b\uff0c\u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b\u201dpython setup.py install\"</p> <p>\u200b\u5b89\u88c5\u200bpip</p> <p>\u200b\u7b2c\u4e00\u6b65\u200b\uff1a\u200b\u4e0b\u8f7d\u200bpip\u200b\u538b\u7f29\u5305\u200b\uff08\u200b\u5730\u5740\u200b\uff1ahttps://pypi.org/project/pip/#files\uff09</p> <p>\u200b\u7b2c\u4e8c\u6b65\u200b\uff1a\u200b\u89e3\u538b\u200b</p> <p>\u200b\u7b2c\u4e09\u6b65\u200b\uff1aCMD\u200b\u5207\u6362\u200b\u5230\u200b\u8be5\u200b\u76ee\u5f55\u200b\uff0c\u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b\u201dpython setup.py install\"</p> <p></p> <p>pip\u200b\u73af\u5883\u53d8\u91cf\u200b\u914d\u7f6e\u200b</p> <p>\u200b\u8fd9\u200b\u662f\u200b\u4f60\u200b\u6253\u5f00\u200bpython\u200b\u7684\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\uff0c\u200b\u53d1\u73b0\u200bScripts\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u6709\u200b\u4e86\u200bpip\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c06\u200b\u6b64\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\u7684\u200b\u76ee\u5f55\u200b\u4f5c\u4e3a\u200b\u73af\u5883\u53d8\u91cf\u200b\u914d\u7f6e\u200b\uff0c\u200b\u518d\u200b\u518d\u200b\u5728\u200bcmd\u200b\u4e0b\u200b\u8f93\u5165\u200bpip\uff0c\u200b\u5b8c\u7f8e\u200b\u5b8c\u6210\u200b\uff01\u200b\u6dfb\u52a0\u200b\u5728\u200bpath\u200b\u76ee\u5f55\u200b\u4e0b\u200b</p> <p></p> <p>\u200b\u68c0\u67e5\u200b</p> <p>\u200b\u5728\u200bCMD\u200b\u8f93\u5165\u200bpip,\u200b\u6210\u529f\u200b\u5982\u4e0b\u200b</p> <p></p>"},{"location":"lang/python/python/#requests","title":"\u5b89\u88c5\u200brequests","text":"<p>\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bpip</p> <p>2020.1205\u200b\u5b89\u88c5\u200b\u65f6\u200b\u7531\u4e8e\u200b\u6302\u200bvpn\u200b\u6240\u4ee5\u200b\u5bfc\u81f4\u200b\u9519\u8bef\u200b\uff0c\u200b\u4e4b\u540e\u200b\u5173\u95ed\u200b\u5373\u200b\u89e3\u51b3\u95ee\u9898\u200b\u3002</p> <pre><code>pip install requests\n</code></pre>"},{"location":"lang/python/python/#vscodepython","title":"VSCode\u200b\u5f00\u53d1\u200bpython","text":"<p>Pyright</p> <p>Python</p> <p>\u200b\u5b89\u88c5\u200b\u4ee5\u4e0a\u200b\u4fe9\u4e2a\u200b\u63d2\u4ef6\u200b</p>"},{"location":"lang/python/python/#python","title":"\u4f7f\u7528\u200bpython\u200b\u89e3\u91ca\u5668","text":"<pre><code>python // \u200b\u5728\u200b\u7ec8\u7aef\u200b\u8f93\u5165\u200b\u5373\u53ef\u200b\u4f7f\u7528\u200b\n\n\nexit() // \u200b\u9000\u51fa\u200b\n</code></pre>"},{"location":"lang/python/python/#_4","title":"\u6982\u8ff0","text":"<p>demo.py</p> <p>demo:\u200b\u811a\u672c\u200b\u540d\u200b    py:\u200b\u811a\u672c\u200b\u683c\u5f0f\u200b</p>"},{"location":"lang/python/python/#_5","title":"\u7a0b\u5e8f\u200b\u7ec4\u6210","text":"<pre><code># coding:utf-8     # \u200b\u811a\u672c\u200b\u5934\u200b\n\nimport os  # \u200b\u5f15\u7528\u200b\u90e8\u5206\u200b\n\nif __name__ == '__main__':  # \u200b\u4e1a\u52a1\u200b\u4ee3\u7801\u200b\n    print('hello word ' + os.getcwd())\nprint('end')\n</code></pre> <p>\u200b\u811a\u672c\u200b\u5934\u200b\u6ce8\u91ca\u200b\uff1a\u200b\u544a\u8bc9\u200b\u89e3\u91ca\u5668\u200b\u4f7f\u7528\u200b\u7684\u200b\u7f16\u7801\u200b\u683c\u5f0f\u200b</p>"},{"location":"lang/python/python/#_6","title":"\u6ce8\u91ca","text":"<pre><code># coding:utf-8\n\nimport os\n\n\n'''\n   \u200b\u8fd9\u200b\u662f\u200b\u5757\u200b\u6ce8\u91ca\u200b\n'''\n\n\"\"\"\n    \u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u5757\u200b\u6ce8\u91ca\u200b\n\"\"\"\nprint(os.getcwd())\nprint('hello word by matt')  # \u200b\u8fd9\u200b\u662f\u200b\u884c\u200b\u6ce8\u91ca\u200b\n</code></pre> <p>\u00b7\u200b\u884c\u200b\u6ce8\u91ca\u200b\u4e4b\u524d\u200b\u4fe9\u4e2a\u200b\u7a7a\u683c\u200b</p>"},{"location":"lang/python/python/#_7","title":"\u53d8\u91cf","text":""},{"location":"lang/python/python/#_8","title":"\u5b9a\u4e49","text":"<p>\u200b\u5fc5\u987b\u200b\u662f\u200b\u6570\u5b57\u200b\uff0c\u200b\u5b57\u6bcd\u200b\uff0c\u200b\u4e0b\u5212\u7ebf\u200b\u7ec4\u6210\u200b</p> <p>\u200b\u4efb\u610f\u200b\u957f\u5ea6\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u592a\u200b\u957f\u200b\uff0c20\u200b\u5b57\u7b26\u200b\u4ee5\u5185\u200b</p> <p>\u200b\u5f00\u5934\u200b\u5fc5\u987b\u200b\u662f\u200b\u5b57\u6bcd\u200b</p> <p>\u200b\u533a\u5206\u200b\u5927\u5c0f\u5199\u200b</p> <p>\u200b\u4e00\u822c\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u9a7c\u5cf0\u200b\u547d\u540d\u200b\u6cd5\u200b\u4f7f\u7528\u200b\u4e0b\u5212\u7ebf\u200b\uff0cmax_age</p>"},{"location":"lang/python/python/#_9","title":"\u7c7b\u578b","text":""},{"location":"lang/python/python/#_10","title":"\u6570\u5b57","text":"<p>\u200b\u6574\u6570\u200b</p> <pre><code>age = 11  # \u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\nage = int(11)\n</code></pre> <p>\u200b\u6d6e\u70b9\u6570\u200b</p> <pre><code>average = 1.1\naverage = float(1.1)\n</code></pre>"},{"location":"lang/python/python/#_11","title":"\u5b57\u7b26\u4e32","text":"<pre><code>str1 = 'hello word' \nstr2 = \"hello word\"\nstr3 = str('hello word')\n</code></pre> <p>\u200b\u5b57\u7b26\u4e32\u200b\u4f7f\u7528\u200b+\u200b\u5373\u53ef\u200b\u76f8\u52a0\u200b\uff0c\u200b\u4f7f\u7528\u200b*\u200b\u53ef\u4ee5\u200b\u590d\u5236\u200b\u51e0\u6b21\u200b</p> <p>\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u957f\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b</p> <pre><code>\uff08'hello'\n'word'\uff09\n</code></pre> <pre><code>'''\nthis is good\nhello hey\n'''\n</code></pre>"},{"location":"lang/python/python/#_12","title":"\u5e03\u5c14\u200b\u7c7b\u578b","text":"<pre><code>bool1 = True\nbool1 = bool('hello')\n</code></pre>"},{"location":"lang/python/python/#_13","title":"\u7a7a\u200b\u7c7b\u578b","text":"<pre><code>None\n</code></pre>"},{"location":"lang/python/python/#_14","title":"\u5173\u952e\u5b57","text":"<p>\u200b\u53d8\u91cf\u540d\u200b\u7528\u4e8e\u200b\u7ed9\u200b\u53d8\u91cf\u200b\u8d4b\u503c\u200b\u4f7f\u7528\u200b\uff0c\u200b\u800c\u200b\u5173\u952e\u5b57\u200b\u7528\u4e8e\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\u5904\u7406\u200b</p> <p>\u200b\u5e38\u89c1\u200b\u5173\u952e\u5b57\u200b</p> <p></p>"},{"location":"lang/python/python/#_15","title":"\u8fd0\u7b97\u7b26","text":"<p>\u200b\u6bd4\u8f83\u200b</p> <p></p> <pre><code>0-255\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\n</code></pre>"},{"location":"lang/python/python/#_16","title":"\u51fd\u6570","text":""},{"location":"lang/python/python/#_17","title":"\u4e3b\u200b\u51fd\u6570\u200b\uff0c\u200b\u5165\u53e3","text":"<pre><code>if __name__ == '__main__':\n    print('hello word ' + os.getcwd())  # \u200b\u4e3b\u200b\u51fd\u6570\u200b\u9000\u51fa\u200b\u5c31\u662f\u200b\u4e0d\u200b\u5728\u200b\u6709\u200b\u7f29\u8fdb\u200b\nprint('end')\n</code></pre> <p>\u200b\u4e3b\u200b\u51fd\u6570\u200b\u9000\u51fa\u200b\u5c31\u662f\u200b\u4e0d\u200b\u5728\u200b\u6709\u200b\u7f29\u8fdb\u200b\uff084\u200b\u4e2a\u200b\u7a7a\u683c\u200b/tab\uff09</p>"},{"location":"lang/python/python/#_18","title":"\u5e38\u7528\u200b\u7684\u200b\u5185\u7f6e\u200b\u51fd\u6570","text":"<p>input:\u200b\u4ece\u200b\u952e\u76d8\u8f93\u5165\u200b</p> <pre><code>name = input(\"\u200b\u4f60\u200b\u7684\u200b\u59d3\u540d\u200b\")\nprint('name: %s' % (name))\n</code></pre> <p>\u200b\u683c\u5f0f\u5316\u200b\u8f93\u51fa\u200b</p> <pre><code>print('name: %s' % (name))\n</code></pre> <p>type:\u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u7684\u200b\u7c7b\u578b\u200b</p> <pre><code>type(age)\n</code></pre> <p>id:\u200b\u8fd4\u56de\u200b\u53d8\u91cf\u200b\u7684\u200b\u5185\u5b58\u5730\u5740\u200b</p> <pre><code>id(age)\n</code></pre> <p>is :\u200b\u5224\u65ad\u200b\u4fe9\u4e2a\u200b\u5bf9\u8c61\u200b\u5185\u5b58\u5730\u5740\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b</p> <pre><code>print(str is str_1)\n</code></pre> <p>len:\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b</p> <pre><code>len(str1)\n</code></pre> <p>in \u200b\u548c\u200b  not in</p> <pre><code>'hello' in 'hello word'  # hello\u200b\u662f\u5426\u200b\u5728\u200bhello word\u200b\u4e2d\u200b\n\n'hello' not in 'hello word' \n</code></pre> <p>max:\u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u4e2d\u200b\u6700\u5927\u200b\u7684\u200b\u6210\u5458\u200b</p> <pre><code>max(list2)\n</code></pre> <p>min\uff1a\u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u4e2d\u200b\u6700\u5c0f\u200b\u7684\u200b\u6210\u5458\u200b</p> <pre><code>min(list1)\n</code></pre> <p></p>"},{"location":"lang/python/python/#_19","title":"\u5e38\u7528\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784","text":""},{"location":"lang/python/python/#list","title":"list","text":"<p>\u200b\u5217\u8868\u200b\uff1a\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u6709\u5e8f\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u961f\u5217\u200b</p> <pre><code>int_list = [1, 2, 3]\n\n\nint_list1 = list([1, 2, 3])\n</code></pre> <pre><code>list = ['1', '2', '3']\nlist = list * 2\n// \u200b\u90fd\u200b\u4f1a\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u94fe\u8868\u200b\n</code></pre>"},{"location":"lang/python/python/#tuple","title":"tuple","text":"<p>\u200b\u5143\u7ec4\u200b\uff1a\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u6709\u5e8f\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u961f\u5217\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u4e8e\u200blist,\u200b\u5143\u7ec4\u200b\u662f\u200b\u4e0d\u53ef\u200b\u53d8\u200b\uff0clist\u200b\u662f\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200b\u7684\u200b</p> <pre><code># coding:utf-8\n\ntuple_1 = (1, 2, 3,)\n\ntuple_2 = tuple((1, 2, 3, 4,))\nprint(tuple_1)\nprint(tuple_2)\n</code></pre> <p>\u200b\u5982\u679c\u200b\u5143\u7ec4\u200b\u4e2d\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u4e00\u5b9a\u200b\u8981\u200b\u6dfb\u52a0\u200b,</p> <pre><code>res = (1,)\n</code></pre>"},{"location":"lang/python/python/#dict","title":"dict","text":"<p>\u200b\u5b57\u5178\u200b\uff1a\u200b\u7528\u6765\u200b\u5b58\u50a8\u200bkey \u200b\u548c\u200b value\u200b\u7684\u200b\u6620\u5c04\u200b</p> <p>key \u200b\u652f\u6301\u200b \u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u6570\u5b57\u200b\u548c\u200b\u5143\u7ec4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f46\u200b\u5217\u8868\u200b\u662f\u200b\u4e0d\u200b\u652f\u6301\u200b\u7684\u200b value \u200b\u652f\u6301\u200b\u6240\u6709\u200bpython\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b</p> <pre><code># coding:utf-8\n\ndict_01 = {'name': 'matt', 'age': 12}\ndict_02 = dict({'name': 'mike', 'age': 19})\nprint(dict_01)\nprint(dict_02)\n</code></pre>"},{"location":"lang/python/python/#_20","title":"\u5b57\u7b26\u4e32","text":"<pre><code>str1.capitalize() # \u200b\u5b57\u7b26\u4e32\u200b\u9996\u5b57\u6bcd\u200b\u5927\u5199\u200b\nstr1.lower() # \u200b\u5b57\u7b26\u4e32\u200b\u5c0f\u5199\u200b\nstr1.upper() # \u200b\u5b57\u7b26\u4e32\u200b\u5927\u5199\u200b\nstr1.swapcase() # \u200b\u5b57\u7b26\u4e32\u200b\u5927\u5c0f\u5199\u200b\u8f6c\u6362\u200b\nstr2.zfill(10) # \u200b\u5de6\u8fb9\u200b\u7528\u200b0\u200b\u586b\u5145\u200b\n\nstr2.count('h') # \u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b\u6210\u5458\u200b\u7684\u200b\u4e2a\u6570\u200b\nprint(str2.startswith('he')) # str2\u200b\u662f\u5426\u662f\u200b\u2018he\u2019\u200b\u5f00\u5934\u200b\nprint(str2.endswith('he')) # str2\u200b\u662f\u5426\u200b\u4ee5\u200b\u2018he\u2019\u200b\u7ed3\u5c3e\u200b\n</code></pre> <p>find \u200b\u548c\u200b index \u200b\u67e5\u627e\u200b\u6210\u5458\u200b\u5f00\u59cb\u200b\u7684\u200b\u4f4d\u7f6e\u200b</p> <p>\u200b\u533a\u522b\u200b\uff1afind\u200b\u627e\u200b\u4e0d\u5230\u200b\u8fd4\u56de\u200b-1,\u200b\u800c\u200bindex\u200b\u4f1a\u200b\u62a5\u9519\u200b</p> <pre><code>print(str2.find('hell'))\nprint(str2.index('hell'))\n</code></pre> <p>strip\u200b\u53bb\u9664\u200b\u5b57\u7b26\u4e32\u200b\u9996\u5c3e\u200b\u6307\u5b9a\u200b\u7684\u200b\u6210\u5458\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u7a7a\u683c\u200b</p> <pre><code>str3 = ' hello '\nprint(str3.strip())\n\nprint(str3.strip('h')) # hellhoh -&gt; ellho\n</code></pre> <p>replace():\u200b\u5b57\u7b26\u4e32\u200b\u66ff\u6362\u200b</p> <pre><code>str4 = 'hello'\nprint(str4.replace('e', 'a', 3)) # old,new,\u200b\u6b21\u6570\u200b\uff1a\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5168\u90e8\u200b\u66ff\u6362\u200b\n</code></pre> <pre><code>str_1 = ' '\nprint(str_1.isspace()) # \u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u6709\u200b\u7a7a\u683c\u200b\u7ec4\u6210\u200b\nstr_1 = 'hello'\nprint(str_1.istitle())  # \u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u200b\u6807\u9898\u200b\uff0c\u200b\u5373\u200b\u5355\u8bcd\u200b\u9996\u5b57\u6bcd\u200b\u5927\u5199\u200b\n\nprint(str_1.isupper()) # \u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u5168\u90e8\u200b\u5927\u5199\u200b\nprint(str_1.islower()) # \u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u5168\u90e8\u200b\u5c0f\u5199\u200b\n</code></pre> <p>\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u5316\u200b</p> <pre><code>str1 = 'hello word'\n# 1\nprint('%s python' % (str1))\n\n# 2\nprint(f'hello {str1}')\n\n# 3\nprint('abc{}'.format('ag'))\n\nprint('hello {0} -{1}-{0}'.format(1,2))\nprint('hello {name}'.format(name='age'))\nprint('hello num {:10.2f}'.format(3.134343))\nprint('{:d}'.format(34))\n\nprint('hello %30.e' % (10000000))\n</code></pre> <p></p> <pre><code>%d # \u200b\u5341\u8fdb\u5236\u200b\n%b # \u200b\u4e8c\u8fdb\u5236\u200b\n%o # \u200b\u516b\u8fdb\u5236\u200b\n%x # \u200b\u5341\u516d\u8fdb\u5236\u200b\n</code></pre> <p>\u200b\u8f6c\u4e49\u5b57\u7b26\u200b</p> <p></p>"},{"location":"lang/python/python/#list_1","title":"\u5217\u8868\u200b list","text":"<p>len:\u200b\u5224\u65ad\u200b\u5217\u8868\u200b\u4e2d\u200b\u5143\u7d20\u200b\u7684\u200b\u4e2a\u6570\u200b</p> <pre><code>str = 'hello'\nlist1= [1, 3, 3]\nprint(len(list1)) # 3\n</code></pre> <p>in :\u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200b\u5143\u7d20\u200b\u662f\u5426\u200b\u5728\u200b\u8be5\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u6216\u8005\u200b\u5224\u65ad\u200b\u4efb\u4f55\u200b\u6570\u636e\u7c7b\u578b\u200b\u7684\u200b\u957f\u5ea6\u200b,\u200b\u800c\u200bnot in \u200b\u529f\u80fd\u200b\u521a\u597d\u200b\u76f8\u53cd\u200b</p> <pre><code>str = 'hello'\nlist_1= [1, 3, 3]\nprint(len(list_1))\n\nprint(1 in list_1)\n</code></pre> <p>append():\u200b\u5217\u8868\u200b\u6dfb\u52a0\u200b\u5143\u7d20\u200b</p> <pre><code>list_1.append('5')\nprint(list_1) # [1, 3, 3, '5']\n</code></pre> <p>insert:\u200b\u5217\u8868\u200b\u4e2d\u200b\u6307\u5b9a\u200b\u4f4d\u7f6e\u200b\u6dfb\u52a0\u200b\u5143\u7d20\u200b</p> <pre><code>list_1 = [1, 2, 3]\nlist_1.insert(0, 'a')\nprint(list_1) # ['a', 1, 2, 3]\n</code></pre> <p>count:\u200b\u5728\u200b\u5217\u8868\u200b\u4e2d\u200b\u7edf\u8ba1\u200b\u67d0\u4e2a\u200b\u5143\u7d20\u200b\u51fa\u73b0\u200b\u7684\u200b\u6b21\u6570\u200b</p> <pre><code>print(list_1.count(1)) # 1\n</code></pre> <p>remove:\u200b\u5220\u9664\u200b\u5217\u8868\u200b\u4e2d\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u62a5\u9519\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u591a\u4e2a\u200b\u5219\u200b\u5220\u9664\u200b\u7b2c\u4e00\u4e2a\u200b</p> <pre><code>list_1.remove(1)\nprint(list_1)\n</code></pre> <p>del:\u200b\u5c06\u200b\u53d8\u91cf\u200b\u5b8c\u5168\u200b\u5220\u9664\u200b\uff0c\u200b\u5728\u200b\u4f7f\u7528\u200b\u5c31\u200b\u4f1a\u200b\u62a5\u9519\u200b</p> <pre><code>del list_1\nprint(list_1) # \u200b\u76f4\u63a5\u200b\u62a5\u9519\u200b\n</code></pre> <p>reverse():\u200b\u5217\u8868\u200b\u7684\u200b\u5143\u7d20\u200b\u8fdb\u884c\u200b\u53cd\u8f6c\u200b</p> <pre><code>list_1 = list([1, 2, 3])\nlist_1.reverse()\nprint(list_1) # [3, 2, 1]\n</code></pre> <p>sort():\u200b\u6392\u5e8f\u200b,reverse=False(\u200b\u9ed8\u8ba4\u200b)\u200b\u5347\u5e8f\u200b\uff0c\u200b\u5982\u679c\u200bTrue\u200b\u5219\u200b\u964d\u5e8f\u200b\uff0ckey=\u200b\u6839\u636e\u200b\u4ec0\u4e48\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c</p> <p>\u200b\u6210\u5458\u200b\u5fc5\u987b\u200b\u662f\u200b\u540c\u4e00\u200b\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u5426\u5219\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b</p> <pre><code>list_1.sort(reverse=False) # key= reverse=\nprint(list_1) # [1, 2, 3]\n</code></pre> <p>clear():\u200b\u5217\u8868\u200b\u6e05\u7a7a\u200b</p> <pre><code>list_1.clear()\nprint(list_1) # []\n</code></pre> <p>copy\u200b\u548c\u200bdeepcopy\u200b\u90fd\u200b\u662f\u200b\u5217\u8868\u200b\u62f7\u8d1d\u200b\u4e00\u4efd\u200b</p> <p>\u200b\u5982\u679c\u200b\u5217\u8868\u200b\u8fd8\u6709\u200b\u5217\u8868\u200b\u4f7f\u7528\u200bcopy\u200b\u5219\u200b\u5b83\u4eec\u200b\u4f1a\u200b\u5171\u4eab\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\uff0c\u200b\u800c\u200bdeepcopy\u200b\u4f1a\u200b\u91cd\u65b0\u200b\u5f00\u8f9f\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b</p> <pre><code>print('copy')\nlist_1 = [1, 2, 3]\nlist_2 = list_1.copy()\nlist_1.append('a')\nprint(list_1,list_2) # [1, 2, 3, 'a'] [1, 2, 3]\nprint(list_1 is list_2)\n\nprint('deepcopy----')\nlist_1 = [[1,2],[3,4]]\nlist_2 = copy.deepcopy(list_1)\nlist_2[1].append('a')\nprint(list_1, list_2)\n</code></pre> <p>extend:\u200b\u5217\u8868\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u5217\u8868\u200b</p> <pre><code>print('extend')\nlist_1 = [1, 2, 3]\nlist_2 = ['a', 'b']\nlist_1.extend(list_2)\nprint(list_1) # [1, 2, 3, 'a', 'b']\n</code></pre> <p>\u200b\u7d22\u5f15\u200b\uff1a\u200b\u7b2c\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u662f\u200b0</p> <p>\u200b\u5207\u7247\u200b\uff1a\u200b\u6bd4\u5982\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u622a\u53d6\u200b\uff0c\u200b\u5de6\u542b\u200b\u53f3\u200b\u4e0d\u200b\u542b\u200b</p> <p></p> <p>pop():\u200b\u6839\u636e\u200b\u7d22\u5f15\u200b\u83b7\u200b\u5220\u9664\u200b\u503c\u200b</p> <pre><code>list_1 = list([1, 2, 3])\nlist_1.pop(1)\nprint(list_1)\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\u503c\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u5b57\u7b26\u4e32\u200b\u65e0\u6cd5\u200b\u4fee\u6539\u200b</p> <pre><code>del list_1[0]\nprint(list_1)\n</code></pre>"},{"location":"lang/python/python/#set","title":"set \u200b\u96c6\u5408\u200b\u7684\u200b\u4f7f\u7528","text":"<p>\u200b\u96c6\u5408\u200b\u7684\u200b\u521b\u5efa\u200b</p> <pre><code>set_1 = {1, 2, 3} # 1\nprint(type(set_1)) \nset_1 = set() # 2 set([2, 3, 3])\n# {}\uff1a\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b{}\u200b\u521b\u5efa\u200b\u7a7a\u200b\u7684\u200b\u96c6\u5408\u200b\n</code></pre> <p>add:\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b</p> <p>update:\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\uff0c\u200b\u5982\u679c\u200b\u5143\u7d20\u200b\u5df2\u7ecf\u200b\u5728\u200b\u96c6\u5408\u200b\u4e2d\u5219\u200b\u5ffd\u7565\u200b\u8be5\u200b\u5143\u7d20\u200b</p> <p>remove:\u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b</p> <p>clear:\u200b\u6e05\u200b\u7a7a\u96c6\u5408\u200b</p> <pre><code># coding:utf-8\n\nset_1 = set((1, 2, 3, 4))\nprint(set_1)\n\nset_1.add('helo') # {1, 2, 3, 4, 'helo'}\nprint(set_1) #\n\nset_1.update([1, 3, 3, 'matt']) # \u200b\u5982\u679c\u200b\u5143\u7d20\u200b\u5df2\u7ecf\u200b\u5728\u200b\u96c6\u5408\u200b\u4e2d\u5219\u200b\u5ffd\u7565\u200b\u8be5\u200b\u5143\u7d20\u200b\nprint(set_1) # {1, 2, 3, 4, 'matt', 'helo'}\n\nset_1.remove('matt')\nprint('remove', set_1) # remove {1, 2, 3, 4, 'helo'}\n\n\nset_1.clear()\nprint(set_1)\n\n# del set_1\nprint(set_1)\n</code></pre> <p>difference:\u200b\u5dee\u96c6\u200b</p> <p>intersection\uff1a\u200b\u4ea4\u96c6\u200b</p> <p>union\uff1a\u200b\u5e76\u96c6\u200b</p> <p>isdisjoint\uff1a\u200b\u5224\u65ad\u200b\u4fe9\u4e2a\u200b\u96c6\u5408\u200b\u4e2d\u200b\u662f\u5426\u200b\u6709\u200b\u4ea4\u96c6\u200b,\u200b\u6ca1\u6709\u200b\u8fd4\u56de\u200bTrue</p> <pre><code># coding:utf-8\n\nset_1 = {1, 2, 3, 4}\nset_2 = {1, 2, 'a', 'b'}\ndiff = set_1.difference(set_2) # \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b-\nprint(diff)\n\n# print(set_1 - set_2)\n\nintersection_res = set_1.intersection(set_2)\nprint('\u200b\u4ea4\u96c6\u200b', intersection_res)\n\nunion_res = set_1.union(set_2)\nprint('union_res', union_res)\n\nisdisjoint_res = set_1.isdisjoint(set_2) # \u200b\u5224\u65ad\u200b\u4fe9\u4e2a\u200b\u96c6\u5408\u200b\u662f\u5426\u200b\u5305\u542b\u200b\u76f8\u540c\u200b\u7684\u200b\u5143\u7d20\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5219\u200bTrue\nprint(isdisjoint_res)\n</code></pre>"},{"location":"lang/python/python/#_21","title":"\u5b57\u5178\u200b\u4f7f\u7528","text":"<p>\u200b\u5b9a\u4e49\u200b</p> <pre><code>dict_01 = {'name': 'matt', 'age': 12}\ndict_02 = dict({'name': 'mike', 'age': 19})\n</code></pre> <p> \u200b\u548c\u200b update()</p> <p>update()\u200b\u4e2d\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5df2\u7ecf\u200b\u5b9a\u4e49\u200b\u597d\u200b\u7684\u200b\u5b57\u5178\u200b\uff0c\u200b\u5e76\u4f1a\u200b\u5df2\u6709\u200b\u7684\u200b\u5b57\u5178\u200b\u8fdb\u884c\u200b\u8986\u76d6\u200b\u9664\u200b\u5176\u4e2d\u200b\u4fe9\u4e2a\u200b\u5b57\u5178\u200b\u76f8\u540c\u200b\u7684\u200bkey\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u8986\u76d6\u200b</p> <pre><code>dict['age'] = 11\ndict_1 = {'name': 'matt'}\ndict.update(dict_1) # {'age': 11, 'name': 'matt'}\n</code></pre> <p>setdefault:key\u200b\u4e0d\u200b\u5b58\u5728\u200b\u624d\u200b\u4f1a\u200b\u8bbe\u7f6e\u200b</p> <pre><code>dict.setdefault('a', 1)\ndict.setdefault('name', 1)\nprint(dict)\n</code></pre> <p>keys \u200b\u548c\u200b values</p> <p>keys:\u200b\u83b7\u53d6\u200b\u5b57\u5178\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200bkey                </p> <p>values:\u200b\u83b7\u53d6\u200b\u5b57\u5178\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u503c\u200b</p> <p>\u200b\u4e8c\u8005\u200b\u8fd4\u56de\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u4f2a\u200b\u5217\u8868\u200b\uff0c\u200b\u4e0d\u200b\u5177\u6709\u200b\u5217\u8868\u200b\u7684\u200b\u6240\u6709\u200b\u529f\u80fd\u200b</p> <pre><code>print(dict.keys())\nprint('values:', dict.values())\n</code></pre> <p> \u200b\u548c\u200b get</p> <p>\u200b\u4e8c\u8005\u200b\u7528\u4e8e\u200b\u5b57\u5178\u200b\u6839\u636e\u200bkey\u200b\u83b7\u53d6\u200b\u5c5e\u6027\u200b\u7684\u200b\u503c\u200b\uff0c</p> <pre><code>print(dict['a'])\nprint(dict.get('v'))\n</code></pre> <p>clear:\u200b\u6e05\u7a7a\u200b\u5b57\u5178\u200b</p> <pre><code>dict.clear()\n</code></pre> <p>pop():\u200b\u6839\u636e\u200bkey\u200b\u5220\u9664\u200b\u503c\u200b\uff0c\u200b\u82e5\u200bkey\u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u62a5\u9519\u200b</p> <pre><code>dict.pop('a')\n</code></pre> <p>del\u200b\u4f7f\u7528\u200b</p> <pre><code>del dict['b'] # \u200b\u5220\u9664\u200bkey\u200b\u9b4f\u200b'b'\ndel dict # \u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u5220\u9664\u200b\u5b57\u5178\u200b\uff0c\u200b\u5728\u200b\u4f7f\u7528\u200b\u5219\u200b\u62a5\u9519\u200b\nprint(dict)\n</code></pre> <p>copy:\u200b\u5b57\u5178\u200b\u7684\u200b\u590d\u5236\u200b\uff0c\u200b\u5185\u5b58\u5730\u5740\u200b\u4f1a\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b</p> <pre><code>dict_01 = dict.copy()\nprint(id(dict) == id(dict_01))\nprint(dict_01 is dict)\n</code></pre> <p>in \u200b\u548c\u200b not in</p> <pre><code>dict = {'a': 1, 'b': 2}\nprint('a' not in dict)\n</code></pre> <p>popitem():\u200b\u5220\u9664\u200b\u5b57\u5178\u200b\u672b\u5c3e\u200b\u7684\u200bkey-value,\u200b\u5b57\u5178\u200b\u4e3a\u7a7a\u200b\u76f4\u63a5\u200b\u62a5\u9519\u200b</p> <pre><code>res = dict.popitem() # \u200b\u5b57\u5178\u200b\u4e3a\u7a7a\u200b\u76f4\u63a5\u200b\u62a5\u9519\u200b\n</code></pre> <p>\u200b                                                </p>"},{"location":"lang/python/python/#_22","title":"\u6d41\u7a0b\u200b\u63a7\u5236","text":"<p>if</p> <pre><code># coding:utf-8\n\ni  = 1\nif i &lt; 10:\n    print('\u200b\u4e2a\u4f4d\u6570\u200b')\nelif i &gt;= 10 and i &lt; 100:\n    print('\u200b\u5341\u4f4d\u6570\u200b')\nelse:\n    print('\u200b\u5176\u4ed6\u200b')\n</code></pre> <p>for</p> <pre><code># coding:utf-8\n\nlist_0 = [1, 2, 3, 4]\nfor i in list_0:\n    print(i)\n\ndict_0 = {'name': 'matt', 'age': 10}\nfor i in dict_0.values():\n    print(i)\n</code></pre> <p>while</p> <pre><code># coding:utf-8\n\ncount = 100\nwhile count &gt; 0:\n    count -= 1\n    print(count)\nprint('end')\n</code></pre>"},{"location":"lang/python/python/#_23","title":"\u51fd\u6570\u200b\u7684\u200b\u4f7f\u7528","text":"<pre><code># coding:utf-8\n\n\u200b```\na\uff1a\u200b\u5fc5\u987b\u200b\u8981\u4f20\u200b\uff0cb\u200b\u6709\u200b\u9ed8\u8ba4\u503c\u200b\u53ef\u4ee5\u200b\u4e0d\u4f20\u200b\n\u200b```\ndef incr(a, b = 1): \n    return a + 1\n\nsum = incr(a = 1)\nprint(sum)\n\n# \u200b\u53ef\u53d8\u200b\u53c2\u6570\u200b\uff0c\u200b\u5176\u4e2d\u200bargs\u200b\u5c01\u88c5\u200b\u4e3a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u800c\u200bkwargs\u200b\u5c01\u88c5\u200b\u4e3a\u200b\u5b57\u5178\u200b\ndef test(*args, **kwargs):\n    print('hello word')\n    print(args)\n    print(kwargs)\ntest(1, 2, 3,name = 'age', age = 17)\n# (1, 2, 3)\n# {'name': 'age', 'age': 17}\n</code></pre> <p>\u200b\u51fd\u6570\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u7c7b\u578b\u200b</p> <pre><code># python\u200b\u4e0d\u4f1a\u200b\u5bf9\u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b\u8fdb\u884c\u200b\u9a8c\u8bc1\u200b\ndef test(i:int, j:str = 'hello word'):\n    print(i)\n</code></pre> <p>lambda\u200b\u4f7f\u7528\u200b</p> <pre><code>f = lambda : print('test lambda')\nf()\n\nt = lambda x, y : x + y\nprint(t(1, 2))\nprint('hello' + '11')\n</code></pre>"},{"location":"lang/python/python/#_24","title":"\u7c7b\u200b\u4e0e\u200b\u5bf9\u8c61","text":"<pre><code># coding:utf-8\n\nclass Person(object):\n    name = 'matt'\n    __sex = '\u200b\u5973\u200b'\n    # \u200b\u6784\u9020\u51fd\u6570\u200b\uff0cself\u200b\u4ee3\u8868\u200b\u5f53\u524d\u200b\u5bf9\u8c61\u200b\n    def __init__(self):\n        print(self)\n        self.age = 17\n\n    def __init__(self, name):\n        print('hello word')\n\nperson = Person('11')\nprint(person.name)\n# print(person.sex)\n</code></pre> <p>\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u4f7f\u7528\u200b</p> <pre><code>def a(f):\n    def inter(*args, **kwargs):\n        return f(*args, **kwargs)\n    return inter\n\n@a\ndef test(i):\n    print(i)\n\ntest(1)\n</code></pre> <pre><code>class T(object):\n\n    __name = 'matt'\n\n    # \u200b\u76f4\u63a5\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u8c03\u7528\u200b\n    @classmethod\n    def a(cls, t):\n        print(t)\n    # \u200b\u76f4\u63a5\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u8c03\u7528\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f7f\u7528\u200bcls,self\n    @staticmethod\n    def b():\n        print('staticmethod')\n\n    # \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5bf9\u8c61\u200b.name\n    @property\n    def name(self):\n        return self.__name\n\nT.a('11')\nT.b()\n\nt = T()\nprint(t.name)\n</code></pre> <p>\u200b\u591a\u200b\u7ee7\u627f\u200b</p> <pre><code># coding:utf-8\n\nclass A(object):\n\n    def info(self):\n        print('a')\n\n\nclass B(object):\n\n    def info(self):\n        print('b')\n\nclass C(B, A):\n\n    def test(self):\n        super(C, self).info()\n        print('test')\n\nc = C()\nc.test()\n</code></pre> <p>super: super(\u200b\u5f53\u524d\u200b\u7c7b\u200b\uff0cself).\u200b\u7236\u7c7b\u200b\u7684\u200b\u5c5e\u6027\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b</p> <pre><code># coding:utf-8\n\nclass Parent(object):\n\n    def __init__(self, name):\n        self.name = name\n\n    def info(self,name):\n        print(name)\n\np = Parent('p')\np.info('aaa')\n\nclass Son(Parent):\n\n    def __init__(self):\n        super(Son, self).__init__('aaa')\n\n    def test(self):\n        super(Son, self).info('hello word')\n\ns = Son()\ns.test()\n</code></pre> <p>\u200b\u7c7b\u200b\u7684\u200b\u9ad8\u7ea7\u200b\u51fd\u6570\u200b</p> <pre><code># coding:utf-8\n\nclass Person(object):\n\n    # \u200b\u7c7b\u200b\u7684\u200b\u63cf\u8ff0\u200b\u4fe1\u606f\u200b,\u200b\u76f8\u5f53\u4e8e\u200btoString()\u200b\u65b9\u6cd5\u200b\n    def __str__(self):\n        print('this is person')\n        return '1'\n\n    # \u200b\u5728\u200bkey\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u4f1a\u200b\u89e6\u53d1\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\n    def __getattr__(self, item):\n        print('%s \u200b\u4e0d\u200b\u5b58\u5728\u200b' % (item))\n\n    # \u200b\u5728\u200b\u5c5e\u6027\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8bbe\u7f6e\u200b\u65f6\u200b\u89e6\u53d1\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\n    def __setattr__(self, key, value):\n        if key not in self.__dict__:\n            return\n\n    # \u200b\u5bf9\u8c61\u200b(\u200b\u53c2\u6570\u200b)\n    def __call__(self, *args, **kwargs):\n        print(*args)\n\n\nperson = Person()\nprint(person.a)\nprint(person)\n\nperson.age = 18\nprint(person.age)\n\nperson(12222)\n\nprint(person.__dict__)\n</code></pre>"},{"location":"lang/python/python/#_25","title":"\u5f02\u5e38","text":"<p>\u200b\u5f02\u5e38\u200b\u7684\u200b\u6355\u83b7\u200b</p> <pre><code>try:\n    i = 10 / 0\nexcept Exception as e:\n    print(e)\nfinally:\n    print('end...')\n</code></pre> <p>\u200b\u6355\u83b7\u200b\u591a\u4e2a\u200b\u5f02\u5e38\u200b</p> <pre><code>try:\n    res = 1 / 0\nexcept ZeroDivisionError as e:\n    print(e)\nexcept Exception as e:\n    print(e)\nfinally:\n    print('end')\n</code></pre> <pre><code>try:\n    res = 1 / 0\nexcept (ZeroDivisionError, Exception) as e:\n    print(e)\n</code></pre> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b</p> <pre><code>i = 100\nif i == 100:\n    raise Exception('i \u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u4e3a\u200b100')\n</code></pre> <p>\u200b\u81ea\u5b9a\u4e49\u200b\u5f02\u5e38\u200b</p> <pre><code># coding:utf-8\n\nclass MyException(Exception):\n    def __init__(self, message):\n        self.message = message\n\ni = 100\nif i == 100:\n    raise MyException('hhhah')\n</code></pre> <p>\u200b\u5e38\u89c1\u200b\u7684\u200b\u5f02\u5e38\u200b StopIteration\uff1a\u200b\u7531\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b next() \u200b\u548c\u200b iterator \u200b\u7684\u200b next() \u200b\u65b9\u6cd5\u200b\u6240\u200b\u5f15\u53d1\u200b\uff0c\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u8be5\u8fed\u200b \u200b\u4ee3\u5668\u200b\u4e0d\u80fd\u200b\u4ea7\u751f\u200b\u4e0b\u200b\u4e00\u9879\u200b\uff1b</p> <p>ZeroDivisionError\uff1a\u200b\u5f53\u200b\u9664\u6cd5\u200b\u6216\u200b\u53d6\u4f59\u200b\u8fd0\u7b97\u200b\u7684\u200b\u7b2c\u4e8c\u4e2a\u200b\u53c2\u6570\u200b\u4e3a\u200b\u96f6\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>AttributeError\uff1a\u200b\u5f53\u200b\u5c5e\u6027\u200b\u5f15\u7528\u200b\u6216\u200b\u8d4b\u503c\u200b\u5931\u8d25\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>EOFError\uff1a\u200b\u5f53\u200b input() \u200b\u51fd\u6570\u200b\u672a\u200b\u8bfb\u53d6\u200b\u4efb\u4f55\u200b\u6570\u636e\u200b\u5373\u200b\u8fbe\u5230\u200b\u6587\u4ef6\u200b\u7ed3\u675f\u200b\u6761\u4ef6\u200b (EOF) \u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>ImportError\uff1a\u200b\u5f53\u200b import \u200b\u8bed\u53e5\u200b\u5c1d\u8bd5\u200b\u52a0\u8f7d\u200b\u6a21\u5757\u200b\u9047\u5230\u200b\u9ebb\u70e6\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b </p> <p>ModuleNotFoundError\uff1a\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u6a21\u5757\u200b\u65e0\u6cd5\u200b\u88ab\u200b\u5b9a\u4f4d\u200b\u65f6\u200b\u5c06\u200b\u7531\u200b import \u200b\u5f15\u53d1\u200b</p> <p>LookupError\uff1a\u200b\u6b64\u200b\u57fa\u7c7b\u200b\u7528\u4e8e\u200b\u6d3e\u751f\u200b\u5f53\u200b\u6620\u5c04\u200b\u6216\u200b\u5e8f\u5217\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u952e\u200b\u6216\u200b\u7d22\u5f15\u200b\u65e0\u6548\u200b\u65f6\u200b\u5f15\u53d1\u200b\u7684\u200b\u5f02\u5e38\u200b</p> <p>IndexError\uff1a\u200b\u5f53\u200b\u5e8f\u5217\u200b\u62bd\u53d6\u200b\u8d85\u51fa\u8303\u56f4\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>KeyError\uff1a\u200b\u5f53\u200b\u5728\u200b\u73b0\u6709\u200b\u952e\u200b\u96c6\u5408\u200b\u4e2d\u200b\u627e\u200b\u4e0d\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b\u6620\u5c04\u200b\uff08\u200b\u5b57\u5178\u200b\uff09\u200b\u952e\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>NameError\uff1a\u200b\u5f53\u200b\u67d0\u4e2a\u200b\u5c40\u90e8\u200b\u6216\u200b\u5168\u5c40\u200b\u540d\u79f0\u200b\u672a\u627e\u5230\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>UnboundLocalError\uff1a\u200b\u5f53\u200b\u5728\u200b\u51fd\u6570\u200b\u6216\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u5bf9\u200b\u67d0\u4e2a\u200b\u5c40\u90e8\u53d8\u91cf\u200b\u8fdb\u884c\u200b\u5f15\u7528\u200b\uff0c\u200b\u4f46\u200b\u8be5\u200b\u53d8\u91cf\u200b\u5e76\u672a\u200b\u7ed1\u5b9a\u200b\u4efb\u200b \u200b\u4f55\u503c\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>OSError\uff1a\u200b\u6b64\u200b\u5f02\u5e38\u200b\u5728\u200b\u4e00\u4e2a\u200b\u7cfb\u7edf\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u7cfb\u7edf\u200b\u76f8\u5173\u200b\u7684\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b\uff0c\u200b\u6b64\u7c7b\u200b\u9519\u8bef\u200b\u5305\u62ec\u200b I/O \u200b\u64cd\u200b \u200b\u4f5c\u200b\u5931\u8d25\u200b\u4f8b\u5982\u200b \u201c\u200b\u6587\u4ef6\u200b\u672a\u627e\u5230\u200b\u201d \u200b\u6216\u200b \u201c\u200b\u78c1\u76d8\u200b\u5df2\u6ee1\u200b\u201d \u200b\u7b49\u200b\uff08\u200b\u4e0d\u200b\u5305\u62ec\u200b\u975e\u6cd5\u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b\u6216\u200b\u5176\u4ed6\u200b\u5076\u7136\u6027\u200b\u9519\u8bef\u200b\uff09</p> <p>BlockingIOError\uff1a\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u200b\u4f1a\u200b\u88ab\u200b\u67d0\u4e2a\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u975e\u200b\u963b\u585e\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff08\u200b\u4f8b\u5982\u200b\u5957\u200b\u63a5\u5b57\u200b\uff09\u200b\u6240\u200b\u963b\u585e\u200b\u65f6\u200b \u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>ChildProcessError\uff1a\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u4e0a\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5931\u8d25\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>ConnectionError\uff1a\u200b\u4e0e\u200b\u8fde\u63a5\u200b\u76f8\u5173\u200b\u95ee\u9898\u200b\u7684\u200b\u57fa\u7c7b\u200b</p> <p>BrokenPipeError\uff1a\u200b\u5f53\u200b\u8bd5\u56fe\u200b\u5199\u5165\u200b\u53e6\u4e00\u7aef\u200b\u5df2\u200b\u88ab\u200b\u5173\u95ed\u200b\u7684\u200b\u7ba1\u9053\u200b\uff0c\u200b\u6216\u662f\u200b\u8bd5\u56fe\u200b\u5199\u5165\u200b\u5df2\u200b\u5173\u95ed\u200b\u5199\u5165\u200b\u7684\u200b\u5957\u200b\u63a5\u5b57\u200b \u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>ConnectionAbortedError\uff1a\u200b\u5f53\u200b\u8fde\u63a5\u200b\u5c1d\u8bd5\u200b\u88ab\u200b\u5bf9\u200b\u7aef\u200b\u4e2d\u6b62\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200bConnectionRefusedError\uff1a     \u200b\u5f53\u200b\u8fde\u63a5\u200b\u5c1d\u8bd5\u200b\u88ab\u200b\u5bf9\u200b\u7aef\u200b\u62d2\u7edd\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b ConnectionResetError\uff1a\u200b\u5f53\u200b\u8fde\u63a5\u200b\u88ab\u200b\u5bf9\u200b\u7aef\u200b\u91cd\u7f6e\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b FileExistsError\uff1a\u200b\u5f53\u200b\u8bd5\u56fe\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5df2\u200b\u5b58\u5728\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b FileNotFoundError\uff1a\u200b\u5f53\u6240\u200b\u8bf7\u6c42\u200b\u7684\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b InterruptedError\uff1a\u200b\u5f53\u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u88ab\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u4e2d\u65ad\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>IsADirectoryError\uff1a\u200b\u5f53\u200b\u8bf7\u6c42\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\u6267\u884c\u200b\u6587\u4ef6\u200b\u64cd\u4f5c\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b NotADirectoryError\uff1a\u200b\u5f53\u200b\u8bf7\u6c42\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u975e\u200b\u76ee\u5f55\u200b\u5bf9\u8c61\u200b\u6267\u884c\u200b\u76ee\u5f55\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b PermissionError\uff1a     \u200b\u5f53\u200b\u5728\u200b\u6ca1\u6709\u200b\u8db3\u591f\u200b\u64cd\u4f5c\u200b\u6743\u9650\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u8bd5\u56fe\u200b\u6267\u884c\u200b\u67d0\u4e2a\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>ProcessLookupError\uff1a\u200b\u5f53\u7ed9\u200b \u200b\u5b9a\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b TimeoutError\uff1a\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u7cfb\u7edf\u200b\u51fd\u6570\u200b\u53d1\u751f\u200b\u7cfb\u7edf\u200b\u7ea7\u200b\u8d85\u65f6\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b ReferenceError\uff1a\u200b\u6b64\u200b\u5f02\u5e38\u200b\u5c06\u200b\u5728\u200b\u4f7f\u7528\u200b weakref.proxy() \u200b\u51fd\u6570\u200b\u6240\u200b\u521b\u5efa\u200b\u7684\u200b\u5f31\u200b\u5f15\u7528\u200b\u6765\u200b\u8bbf\u95ee\u200b\u8be5\u200b\u5f15\u7528\u200b\u7684\u200b \u200b\u67d0\u4e2a\u200b\u5df2\u200b\u88ab\u200b\u4f5c\u4e3a\u200b\u5783\u573e\u200b\u56de\u6536\u200b\u7684\u200b\u5c5e\u6027\u200b\u65f6\u200b\u88ab\u200b\u5f15\u53d1\u200b RuntimeError\uff1a\u200b\u5f53\u200b\u68c0\u6d4b\u200b\u5230\u200b\u4e00\u4e2a\u200b\u4e0d\u200b\u5f52\u5c5e\u4e8e\u200b\u4efb\u4f55\u200b\u5176\u4ed6\u200b\u7c7b\u522b\u200b\u7684\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b NotImplementedError\uff1a\u200b\u5728\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u57fa\u7c7b\u200b\u4e2d\u200b\uff0c\u200b\u62bd\u8c61\u200b\u65b9\u6cd5\u200b\u5e94\u5f53\u200b\u5728\u200b\u5176\u200b\u8981\u6c42\u200b\u6240\u200b\u6d3e\u751f\u7c7b\u200b\u91cd\u8f7d\u200b\u8be5\u200b \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6216\u662f\u200b\u5728\u200b\u5176\u200b\u8981\u6c42\u200b\u6240\u200b\u5f00\u53d1\u200b\u7684\u200b\u7c7b\u200b\u63d0\u793a\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u5c1a\u5f85\u200b\u6dfb\u52a0\u200b\u65f6\u200b\u5f15\u53d1\u200b\u6b64\u200b\u5f02\u5e38\u200b RecursionError\uff1a\u200b\u5b83\u4f1a\u200b\u5728\u200b\u89e3\u91ca\u5668\u200b\u68c0\u6d4b\u200b\u53d1\u73b0\u200b\u8d85\u8fc7\u200b\u6700\u5927\u200b\u9012\u5f52\u200b\u6df1\u5ea6\u200b\u65f6\u200b\u88ab\u200b\u5f15\u53d1\u200b SyntaxError\uff1a\u200b\u5f53\u200b\u89e3\u6790\u5668\u200b\u9047\u5230\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b IndentationError\uff1a\u200b\u4e0e\u200b\u4e0d\u200b\u6b63\u786e\u200b\u7684\u200b\u7f29\u8fdb\u200b\u76f8\u5173\u200b\u7684\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u7684\u200b\u57fa\u7c7b\u200b TabError\uff1a\u200b\u5f53\u200b\u7f29\u8fdb\u200b\u5305\u542b\u200b\u5bf9\u200b\u5236\u8868\u7b26\u200b\u548c\u200b\u7a7a\u683c\u7b26\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u7684\u200b\u4f7f\u7528\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b SystemError\uff1a\u200b\u5f53\u200b\u89e3\u91ca\u5668\u200b\u53d1\u73b0\u200b\u5185\u90e8\u200b\u9519\u8bef\u200b\uff0c\u200b\u4f46\u200b\u60c5\u51b5\u200b\u770b\u8d77\u6765\u200b\u5c1a\u672a\u200b\u4e25\u91cd\u200b\u5230\u200b\u8981\u200b\u653e\u5f03\u200b\u6240\u6709\u200b\u5e0c\u671b\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u200b \u200b\u53d1\u200b TypeError\uff1a\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u200b\u6216\u200b\u51fd\u6570\u200b\u88ab\u200b\u5e94\u7528\u200b\u4e8e\u200b\u7c7b\u578b\u200b\u4e0d\u200b\u9002\u5f53\u200b\u7684\u200b\u5bf9\u8c61\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b ValueError\uff1a\u200b\u5f53\u200b\u64cd\u4f5c\u200b\u6216\u200b\u51fd\u6570\u200b\u63a5\u6536\u200b\u5230\u200b\u5177\u6709\u200b\u6b63\u786e\u200b\u7c7b\u578b\u200b\u4f46\u503c\u200b\u4e0d\u200b\u9002\u5408\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5e76\u4e14\u200b\u60c5\u51b5\u200b\u4e0d\u80fd\u200b\u7528\u200b\u66f4\u200b\u7cbe\u786e\u200b \u200b\u7684\u200b\u5f02\u5e38\u200b\u6765\u200b\u63cf\u8ff0\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b UnicodeError\uff1a\u200b\u5f53\u200b\u53d1\u751f\u200b\u4e0e\u200b Unicode \u200b\u76f8\u5173\u200b\u7684\u200b\u7f16\u7801\u200b\u6216\u200b\u89e3\u7801\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b UnicodeDecodeError\uff1a\u200b\u5f53\u200b\u5728\u200b\u89e3\u7801\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53d1\u751f\u200b\u4e0e\u200b Unicode \u200b\u76f8\u5173\u200b\u7684\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b UnicodeEncodeError\uff1a\u200b\u5f53\u200b\u5728\u200b\u7f16\u7801\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53d1\u751f\u200b\u4e0e\u200b Unicode \u200b\u76f8\u5173\u200b\u7684\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b</p> <p>UnicodeTranslateError\uff1a\u200b\u5728\u200b\u8f6c\u5199\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53d1\u751f\u200b\u4e0e\u200b Unicode \u200b\u76f8\u5173\u200b\u7684\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u88ab\u200b\u5f15\u53d1\u200b Warning\uff1a \u200b\u8b66\u544a\u200b\u7c7b\u522b\u200b\u7684\u200b\u57fa\u7c7b\u200b DeprecationWarning\uff1a\u200b\u5982\u679c\u200b\u6240\u200b\u53d1\u51fa\u200b\u7684\u200b\u8b66\u544a\u200b\u662f\u200b\u9488\u5bf9\u200b\u5176\u4ed6\u200b Python \u200b\u5f00\u53d1\u8005\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u4ee5\u6b64\u200b\u4f5c\u4e3a\u200b\u4e0e\u200b \u200b\u5df2\u5f03\u200b\u7528\u200b\u7279\u6027\u200b\u76f8\u5173\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b PendingDeprecationWarning\uff1a\u200b\u5bf9\u4e8e\u200b\u5df2\u200b\u8fc7\u65f6\u200b\u5e76\u200b\u9884\u8ba1\u200b\u5728\u200b\u672a\u6765\u200b\u5f03\u7528\u200b\uff0c\u200b\u4f46\u200b\u76ee\u524d\u200b\u5c1a\u672a\u200b\u5f03\u7528\u200b\u7684\u200b\u7279\u6027\u200b\u76f8\u200b \u200b\u5173\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b RuntimeWarning\uff1a\u200b\u4e0e\u200b\u6a21\u7cca\u200b\u7684\u200b\u8fd0\u884c\u200b\u65f6\u200b\u884c\u4e3a\u200b\u76f8\u5173\u200b\u7684\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b SyntaxWarning\uff1a\u200b\u4e0e\u200b\u6a21\u7cca\u200b\u7684\u200b\u8bed\u6cd5\u200b\u76f8\u5173\u200b\u7684\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b UserWarning\uff1a\u200b\u7528\u6237\u200b\u4ee3\u7801\u200b\u6240\u200b\u4ea7\u751f\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b FutureWarning\uff1a\u200b\u5982\u679c\u200b\u6240\u200b\u53d1\u51fa\u200b\u7684\u200b\u8b66\u544a\u200b\u662f\u200b\u9488\u5bf9\u200b\u4ee5\u200b Python \u200b\u6240\u200b\u7f16\u5199\u200b\u5e94\u7528\u200b\u7684\u200b\u6700\u7ec8\u7528\u6237\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u4ee5\u6b64\u200b \u200b\u4f5c\u4e3a\u200b\u4e0e\u200b\u5df2\u5f03\u200b\u7528\u200b\u7279\u6027\u200b\u76f8\u5173\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b ImportWarning\uff1a\u200b\u4e0e\u200b\u5728\u200b\u6a21\u5757\u200b\u5bfc\u5165\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u7684\u200b\u9519\u8bef\u200b\u76f8\u5173\u200b\u7684\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b UnicodeWarning\uff1a\u200b\u4e0e\u200b Unicode \u200b\u76f8\u5173\u200b\u7684\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b BytesWarning\uff1a\u200b\u4e0e\u200b bytes \u200b\u548c\u200b bytearray \u200b\u76f8\u5173\u200b\u7684\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b ResourceWarning\uff1a\u200b\u4e0e\u200b\u8d44\u6e90\u200b\u4f7f\u7528\u200b\u76f8\u5173\u200b\u7684\u200b\u8b66\u544a\u200b\u7684\u200b\u57fa\u7c7b\u200b</p>"},{"location":"lang/python/python/#_26","title":"\u5305\u4e0e\u200b\u6a21\u5757","text":"<pre><code>\u200b\u5305\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u6709\u200b__init__.py\u200b\u548c\u200b\u5176\u4ed6\u200bpython\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5176\u4e2d\u200b__init__.py\u200b\u662f\u200b\u5305\u200b\u7684\u200b\u8eab\u4efd\u8bc1\u200b\uff0c\u200b\u5176\u4ed6\u200bpy\u200b\u6587\u4ef6\u200b\u662f\u200b\u6a21\u5757\u200b\uff0c\u200b\u5305\u4e2d\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6709\u200b\n</code></pre> <p>\u200b\u5bfc\u5165\u200b\u5305\u200b</p> <pre><code>import animal.dog\n</code></pre> <p>\u200b\u5bfc\u5165\u200b\u6a21\u5757\u200b</p> <pre><code>from animal.dog import aciton\n\naction.jump()\n</code></pre> <p>\u200b\u5bfc\u5165\u200b\u6a21\u5757\u200b\u4e2d\u200b\u7684\u200b\u51fd\u6570\u200b</p> <pre><code>from animal.dog.action import run as dog_run # as\u200b\u662f\u200b\u8d77\u200b\u522b\u540d\u200b\n\ndog_run()\n</code></pre>"},{"location":"lang/python/python/#pip_1","title":"pip\u200b\u4f7f\u7528","text":"<pre><code>pip install \u200b\u5305\u540d\u200b\n\npip uninstall \u200b\u5305\u540d\u200b\n\npip -V\n</code></pre> <p>pip\u200b\u66f4\u6539\u200b\u955c\u50cf\u200b\u53c2\u8003\u200b</p> <p>pip\u200b\u56fd\u5185\u200b\u7684\u200b\u4e00\u4e9b\u200b\u955c\u50cf\u200b</p> <ul> <li>\u200b\u963f\u91cc\u200b\u4e91\u200b http://mirrors.aliyun.com/pypi/simple/</li> <li>\u200b\u4e2d\u56fd\u79d1\u6280\u5927\u5b66\u200b https://pypi.mirrors.ustc.edu.cn/simple/</li> <li>\u200b\u8c46\u74e3\u200b(douban) http://pypi.douban.com/simple/</li> <li>\u200b\u6e05\u534e\u5927\u5b66\u200b https://pypi.tuna.tsinghua.edu.cn/simple/</li> <li>\u200b\u4e2d\u56fd\u200b\u79d1\u5b66\u6280\u672f\u200b\u5927\u5b66\u200b http://pypi.mirrors.ustc.edu.cn/simple/</li> </ul> <p>\u200b\u63d0\u793a\u200b\uff1a\u200b\u82e5\u200b\u62c5\u5fc3\u200b\u5b89\u5168\u200b\u95ee\u9898\u200b\u8bf7\u200b\u4f7f\u7528\u200bHTTPS\u200b\u52a0\u5bc6\u200b\u6e90\u200b</p> <p>\u200b\u4fee\u6539\u200b\u6e90\u200b\u65b9\u6cd5\u200b\uff1a</p> <p>\u200b\u4e34\u65f6\u200b\u4f7f\u7528\u200b\uff1a</p> <p>Linux Mac Windows \u200b\u901a\u7528\u200b\u547d\u4ee4\u200b</p> <p>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4f7f\u7528\u200bpip\u200b\u7684\u200b\u65f6\u5019\u200b\u5728\u200b\u540e\u9762\u200b\u52a0\u4e0a\u200b-i\u200b\u53c2\u6570\u200b\uff0c\u200b\u6307\u5b9a\u200bpip\u200b\u6e90\u200b</p> <p>pip install scrapy -i https://pypi.tuna.tsinghua.edu.cn/simple</p> <p>\u200b\u6c38\u4e45\u200b\u4fee\u6539\u200b\uff1a</p> <p>Linux:</p> <p>\u200b\u4fee\u6539\u200b pip.conf \u200b\u6587\u4ef6\u200b (\u200b\u6ca1\u6709\u200b\u5c31\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b)</p> <p>$HOME/.config/pip/pip.conf</p> <p>\u200b\u4fee\u6539\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff1a</p> <p>[global]</p> <p>index-url = https://pypi.tuna.tsinghua.edu.cn/simple12</p> <p>Mac:</p> <p>\u200b\u4fee\u6539\u200b pip.conf \u200b\u6587\u4ef6\u200b</p> <p>$HOME/Library/Application Support/pip/pip.conf</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u4e0a\u9762\u200b\u7684\u200b\u76ee\u5f55\u200b,\u200b\u5728\u200b\u5982\u4e0b\u200b\u76ee\u5f55\u200b\u521b\u5efa\u200b pip.conf</p> <p>$HOME/.config/pip/pip.conf</p> <p>\u200b\u4fee\u6539\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff1a</p> <p>[global]</p> <p>index-url = https://pypi.tuna.tsinghua.edu.cn/simple</p> <p>Windows:</p> <p>\u200b\u4fee\u6539\u200b pip.conf \u200b\u6587\u4ef6\u200b (\u200b\u6ca1\u6709\u200b\u5c31\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b)</p> <p>%APPDATA%\\pip\\pip.ini</p> <p>\u200b\u4fee\u6539\u200b\u5185\u5bb9\u200b\u5982\u4e0b\u200b\uff1a</p> <p>[global]</p> <p>index-url = https://pypi.tuna.tsinghua.edu.cn/simple</p> <p>\u200b\u4fee\u6539\u200b\u6587\u4ef6\u200b\u540e\u200b\uff0c\u200b\u6267\u884c\u547d\u4ee4\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u975e\u200bHTTPS\u200b\u52a0\u5bc6\u200b\u6e90\u200b\uff08\u200b\u5982\u200b\u8c46\u74e3\u200b\u6e90\u200b\uff09\uff0c\u200b\u5728\u200b\u6267\u884c\u547d\u4ee4\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\uff0c\u200b\u5728\u200b\u547d\u4ee4\u200b\u6700\u540e\u200b\u52a0\u4e0a\u200b<code>--trusted-host pypi.douban.com</code></p> <p>pip install django -i http://pypi.douban.com/simple --trusted-host pypi.douban.com</p> <p>%APPDATA%\\pip\\pip.ini</p> <pre><code>[global]\n\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>"},{"location":"lang/python/python/#_27","title":"\u65f6\u95f4","text":"<p>python \u200b\u4e2d\u200b\u65f6\u95f4\u200b\u65e5\u671f\u200b\u683c\u5f0f\u5316\u200b\u7b26\u53f7\u200b %y\uff1a\u200b\u4e24\u4f4d\u6570\u200b\u7684\u200b\u5e74\u4efd\u200b\u8868\u793a\u200b\uff0800-99\uff09 %Y\uff1a\u200b\u56db\u4f4d\u6570\u200b\u7684\u200b\u5e74\u4efd\u200b\u8868\u793a\u200b\uff08000-9999\uff09 %m\uff1a\u200b\u6708\u4efd\u200b\uff0801-12\uff09 %d\uff1a\u200b\u6708\u200b\u5185\u200b\u4e2d\u200b\u7684\u200b\u4e00\u5929\u200b\uff080-31\uff09 %H\uff1a24 \u200b\u5c0f\u65f6\u200b\u5236\u200b\u5c0f\u65f6\u6570\u200b\uff080-23\uff09 %I\uff1a12 \u200b\u5c0f\u65f6\u200b\u5236\u200b\u5c0f\u65f6\u6570\u200b\uff0801-12\uff09 %M\uff1a\u200b\u5206\u949f\u200b\u6570\u200b\uff0800=59\uff09 %S\uff1a\u200b\u79d2\u200b\uff0800-59\uff09 %a\uff1a\u200b\u672c\u5730\u200b\u7b80\u5316\u200b\u661f\u671f\u200b\u540d\u79f0\u200b %A\uff1a\u200b\u672c\u5730\u200b\u5b8c\u6574\u200b\u661f\u671f\u200b\u540d\u79f0\u200b %b\uff1a\u200b\u672c\u5730\u200b\u7b80\u5316\u200b\u7684\u200b\u6708\u4efd\u200b\u540d\u79f0\u200b %B\uff1a\u200b\u672c\u5730\u200b\u5b8c\u6574\u200b\u7684\u200b\u6708\u4efd\u200b\u540d\u79f0\u200b %c\uff1a\u200b\u672c\u5730\u200b\u76f8\u5e94\u200b\u7684\u200b\u65e5\u671f\u200b\u8868\u793a\u200b\u548c\u200b\u65f6\u95f4\u200b\u8868\u793a\u200b %j\uff1a\u200b\u5e74\u5185\u200b\u7684\u200b\u4e00\u5929\u200b\uff08001-366\uff09 %p \u200b\u672c\u5730\u200b A.M.\u200b\u6216\u200b P.M.\u200b\u7684\u200b\u7b49\u4ef7\u200b\u7b26\u200b %U\uff1a\u200b\u4e00\u5e74\u200b\u4e2d\u200b\u7684\u200b\u661f\u671f\u200b\u6570\u200b\uff0800-53\uff09\u200b\u661f\u671f\u5929\u200b\u4e3a\u200b\u661f\u671f\u200b\u7684\u200b\u5f00\u59cb\u200b %w\uff1a\u200b\u661f\u671f\u200b\uff080-6\uff09\uff0c\u200b\u661f\u671f\u5929\u200b\u4e3a\u200b\u661f\u671f\u200b\u7684\u200b\u5f00\u59cb\u200b %W\uff1a\u200b\u4e00\u5e74\u200b\u4e2d\u200b\u7684\u200b\u661f\u671f\u200b\u6570\u200b\uff0800-53\uff09\u200b\u661f\u671f\u4e00\u200b\u4e3a\u200b\u661f\u671f\u200b\u7684\u200b\u5f00\u59cb\u200b %x\uff1a\u200b\u672c\u5730\u200b\u76f8\u5e94\u200b\u7684\u200b\u65e5\u671f\u200b\u8868\u793a\u200b</p> <p>%X\uff1a\u200b\u672c\u5730\u200b\u76f8\u5e94\u200b\u7684\u200b\u65f6\u95f4\u200b\u8868\u793a\u200b %Z\uff1a\u200b\u5f53\u524d\u200b\u65f6\u533a\u200b\u7684\u200b\u540d\u79f0\u200b %%\uff1a %\u200b\u53f7\u200b\u672c\u8eab\u200b</p> <pre><code># coding:utf-8\n\nfrom datetime import datetime\nfrom datetime import timedelta\n\n\nres = datetime.now() # \u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\u65e5\u671f\u200b\u5bf9\u8c61\u200b\nprint(res)\n\none_day = timedelta(days=1) # \u200b\u5f97\u5230\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u5bf9\u8c61\u200b\n\nprint(res - one_day) # \u200b\u4f7f\u7528\u200b\nres = datetime.now()\n# \u200b\u65f6\u95f4\u200b\u65e5\u671f\u200b\u5bf9\u8c61\u200b\u8f6c\u200b\u5b57\u7b26\u4e32\u200b \u200b\u4ee5\u53ca\u200b\u89e3\u6790\u200b\nprint(res.strftime('%Y/%m/%d %H:%M:%S')) # \u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u540d\u200b\n\ntime_str = res.strftime('%Y/%m/%d %H:%M:%S')\ntime_obj = datetime.strptime(time_str, '%Y/%m/%d %H:%M:%S')\nprint(time_obj)\n</code></pre> <pre><code># coding:utf-8\n\nimport time\nfrom datetime import datetime\n\nprint(time.time()) # \u200b\u65f6\u95f4\u200b\u6233\u200b\n\nprint('localtime', time.localtime()) # \u200b\u83b7\u53d6\u200b\u672c\u5730\u200b\u65f6\u95f4\u200b\n# time.sleep(10)\nprint('this is end')\n# \u200b\u65f6\u95f4\u200b\u65e5\u671f\u200b\u5bf9\u8c61\u200b \u200b\u548c\u200b\u65f6\u95f4\u200b\u6233\u200b\u8f6c\u6362\u200b\ntimestamp_1 = datetime.timestamp(datetime.now()) # \u200b\u83b7\u53d6\u200b\u65f6\u95f4\u200b\u6233\u200b\nprint(timestamp_1)\n\n\nprint(datetime.fromtimestamp(timestamp_1))\n</code></pre>"},{"location":"lang/python/python/#_28","title":"\u6587\u4ef6","text":"<p>\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e09\u6b65\u200b\uff1a\u200b\u6253\u5f00\u200b-&gt;\u200b\u64cd\u4f5c\u200b-&gt;\u200b\u5173\u95ed\u200b \u200b\u6ce8\u610f\u200b\uff1a 1.\u200b\u6700\u5927\u200b\u53ef\u4ee5\u200b\u6253\u5f00\u200b\u7684\u200b\u6587\u4ef6\u200b\u7684\u200b\u6570\u91cf\u200b 2.\u200b\u6253\u5f00\u200b\u540e\u200b\u5173\u95ed\u200b\u7684\u200b\u539f\u56e0\u200b\u662f\u56e0\u4e3a\u200b\u8fd9\u6837\u200b\u4e0d\u4f1a\u200b\u6d6a\u8d39\u200b\u6587\u5b57\u200b\u63cf\u8ff0\u7b26\u200b \u200b\u8bfb\u53d6\u200b\u6587\u672c\u6587\u4ef6\u200b\uff1a r r+ w w+ a a+ \u200b\u8bfb\u53d6\u200b\u4e8c\u8fdb\u5236\u200b\u6587\u4ef6\u200b\uff1a rb rb+ wb wb+ ab ab+</p> <p>r:(\u200b\u9ed8\u8ba4\u200b) -\u200b\u53ea\u80fd\u200b\u8bfb\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5199\u200b -\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f1a\u200b\u62a5\u9519\u200b</p> <p>r+: -\u200b\u53ef\u200b\u8bfb\u5199\u200b -\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f1a\u200b\u62a5\u9519\u200b</p> <p>w: -write only -\u200b\u4f1a\u200b\u6e05\u7a7a\u200b\u6587\u4ef6\u200b\u4e4b\u524d\u200b\u7684\u200b\u5185\u5bb9\u200b -\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f1a\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u200b\u5e76\u200b\u5199\u5165\u200b</p> <p>w+: -rw -\u200b\u4f1a\u200b\u6e05\u7a7a\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b -\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4e0d\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f1a\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u200b</p> <p>a: -write only -\u200b\u4e0d\u4f1a\u200b\u6e05\u7a7a\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b -\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f1a\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u200b\u5e76\u200b\u5199\u5165\u200b</p> <p>a+: -rw -\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\u4e0d\u200b\u62a5\u9519\u200b -\u200b\u4e0d\u4f1a\u200b\u6e05\u7a7a\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b</p> <p>\u200b\u8bfb\u53d6\u200b\u6587\u672c\u6587\u4ef6\u200b\uff1a r   r+   w    w+     a   a+ \u200b\u8bfb\u53d6\u200b\u4e8c\u8fdb\u5236\u200b\u6587\u4ef6\u200b\uff1a rb    rb+   wb  wb+     ab  ab+</p> <p>open():\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b</p> <p>write():\u200b\u5199\u5165\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u5230\u200b\u6587\u4ef6\u200b\u4e2d\u200b</p> <p>writelines():\u200b\u5199\u5165\u200b\u4e00\u4e2a\u200blist</p> <pre><code># coding:utf-8\n\n\ntry:\n    f = open('D:/var/hello.txt', 'a',encoding='utf-8')\n    # f.write('\u200b\u4e2d\u53e4\u200b\u54df\u200b\u4eba\u200b')\n    list_0 = list(['hello word', 'matt'])\n    f.writelines(list_0)\nexcept Exception as e:\n    print('\u200b\u5199\u200b\u6587\u4ef6\u200b\u51fa\u9519\u200b')\nfinally:\n    f.close()\n</code></pre> <p>read():\u200b\u6574\u4e2a\u200b\u6587\u4ef6\u200b\u8bfb\u53d6\u200b\u5230\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b</p> <p>readlines():\u200b\u6587\u4ef6\u200b\u8bfb\u200b\u5230\u200b\u4e00\u4e2a\u200blist\u200b\u4e2d\u200b</p> <p>readline():\u200b\u8bfb\u53d6\u200b\u5230\u200b\u4e00\u884c\u200b</p> <p>closed:\u200b\u5224\u65ad\u200b\u6587\u4ef6\u200b\u662f\u5426\u200b\u5173\u95ed\u200b,\u200b\u662f\u200b\u5c5e\u6027\u200b</p> <pre><code># coding:utf-8\n\n\ntry:\n    f = open(file='D:/var/hello.txt', mode='r', encoding='utf-8')\n    # print(f.read())\n    # print(f.readlines())\n    print(f.readline())\nexcept Exception as e:\n    print('\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u51fa\u9519\u200b')\nfinally:\n    if f.closed:\n        pass\n    else:\n        f.close()\n</code></pre> <p>\u200b\u5b57\u5178\u200b\u7684\u200b\u5e8f\u5217\u5316\u200b</p> <p>\u200b\u9700\u8981\u200b\u5bfc\u5165\u200bjson</p> <pre><code># coding:utf-8\n\nimport json\n\n\nuser_str = json.dumps({'name': '\u200b\u5bf9\u200b\u67d0\u4e9b\u200b'})\n\nprint(json.loads(user_str))\nf = open(file='D:/var/json.txt',mode='w',encoding='utf-8')\n\nf.writelines(user_str)\n</code></pre>"},{"location":"lang/python/python/#_29","title":"\u52a0\u5bc6","text":""},{"location":"lang/python/python/#hashlib","title":"hashlib:\u200b\u4e0d\u200b\u53ef\u9006","text":"<pre><code>hashobj = hashlib.md5(b\u2019hello\u2019)\nresult = hashobj. hexdigest() # \u200b\u751f\u6210\u200b16\u200b\u8fdb\u5236\u200b\u5b57\u7b26\u4e32\u200b\nprint(result)\n</code></pre> <p>base64\uff1a\u200b\u53ef\u200b\u89e3\u5bc6\u200b\uff0c\u200b\u9700\u8981\u200b\u81ea\u5df1\u200b\u5bfc\u5165\u200bbase64\u200b\u6a21\u5757\u200b</p> <p></p> <pre><code># coding:utf-8\nimport hashlib\nimport base64\n\nres = hashlib.md5(b'hehllo ')\nprint(res.hexdigest()) # \u200b\u8fd4\u56de\u200b16\u200b\u8fdb\u5236\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u503c\u200b\nstr = '\u200b\u4e2d\u56fd\u200b\u4eba\u200b'\nres = str.encode(encoding='utf-8')\nprint(res.decode(encoding='utf-8'))\n\nprint(base64.encodebytes(str.encode(encoding='utf-8')))\n</code></pre>"},{"location":"lang/python/python/#logging","title":"\u65e5\u5fd7\u200b logging","text":"<p>\u200b\u65e5\u5fd7\u200b\u7684\u200b\u7b49\u7ea7\u200b</p> <p>\uf075debug \uf075info \uf075warnning \uf075error \uf075critical</p> <p>\u200b\u65e5\u5fd7\u200b\u7684\u200b\u4f7f\u7528\u200b</p> <pre><code># coding:utf-8\n\nimport logging\n\n\nlogging.basicConfig(\n        level=logging.INFO,\n        format='%(asctime)s %(filename)s[line:%(lineno)d] %(levelname)s %(message)s',\n        filename='my.log',\n        filemode='w'\n    )\n\nlogging.info('hello word')\n</code></pre> <p>\u200b   </p> logging.basicConfig level \u200b\u65e5\u5fd7\u200b\u8f93\u51fa\u200b\u7b49\u7ea7\u200blevel=logging.DEBUG filename \u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200bfilename=\u2018d://back.log\u2019 format \u200b\u65e5\u5fd7\u200b\u8f93\u51fa\u200b\u683c\u5f0f\u200b filemode \u200b\u8f93\u5165\u200b\u6a21\u5f0f\u200bfilemode='w' <p>\u200b  \u200b   </p> format\u200b\u5177\u4f53\u200b\u683c\u5f0f\u200b \u200b\u683c\u5f0f\u200b\u7b26\u200b\u542b\u4e49\u200b %(levelname)s \u200b\u65e5\u5fd7\u200b\u7ea7\u522b\u200b\u540d\u79f0\u200b %(pathname)s \u200b\u6267\u884c\u7a0b\u5e8f\u200b\u7684\u200b\u8def\u5f84\u200b %(filename)s \u200b\u6267\u884c\u7a0b\u5e8f\u200b\u540d\u200b %(lineno)d \u200b\u65e5\u5fd7\u200b\u7684\u200b\u5f53\u524d\u200b\u884c\u53f7\u200b %(asctime)s \u200b\u6253\u5370\u200b\u65e5\u5fd7\u200b\u7684\u200b\u65f6\u95f4\u200b %(message)s \u200b\u65e5\u5fd7\u200b\u4fe1\u606f"},{"location":"lang/python/python/#_30","title":"\u5e38\u7528\u200b\u7684\u200b\u5185\u7f6e\u200b\u51fd\u6570","text":"<p>abs</p> <p>all any type isinstance help var dir hasattr</p> <p>input</p> <p>enumerate</p> <pre><code># coding:utf-8\n\nprint(abs(-100)) # \u200b\u8fd4\u56de\u200b\u6b63\u6570\u200b\n\nprint(all([1, 1, 1])) # \u200b\u5224\u65ad\u200b\u5217\u8868\u200b\u5185\u5bb9\u200b\u662f\u5426\u200b\u5168\u662f\u200btrue\n\nclass User(object):\n\n    def __init__(self):\n        print('\u200b\u521b\u5efa\u200bUser\u200b\u5bf9\u8c61\u200b')\n\nuser = User()\nprint(help(user)) # help \u200b\u6253\u5370\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5168\u90e8\u200b\u7528\u6cd5\u200b\n\nname = input('\u200b\u8bf7\u200b\u8f93\u5165\u200b\u59d3\u540d\u200b\uff1a')\nprint(name)\n\nlist_1 = [1, 3, 3]\nfor index,i in enumerate(list_1): # \u200b\u8bb0\u5f55\u200b\u7d22\u5f15\u200b\n    print(index, i)\n\nprint(isinstance(1, int)) # \u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200b\u53d8\u91cf\u200b\u662f\u5426\u662f\u200b\u67d0\u4e2a\u200b\u7c7b\u578b\u200b\n\nprint(type('hello word'))\nuser.name = 'hello'\nprint(vars(user)) # \u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u5b57\u5178\u200b\u4fe1\u606f\u200b\nprint(dir(user)) # \u200b\u8fd4\u56de\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u548c\u200b\u65b9\u6cd5\u200b\n\nprint(hasattr('hello', 'aaa')) # \u200b\u5224\u65ad\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u6709\u200b\u67d0\u4e2a\u200b\u5c5e\u6027\u200b\n\nuser.__setattr__('age', 10)\nprint(user.__getattribute__('age'))\n\nlist_1 = [1, 2, 3]\nprint(any((None,))) # \u200b\u5224\u65ad\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\u662f\u5426\u200b\u6709\u200btrue\u200b\u503c\u200b\n</code></pre>"},{"location":"lang/python/python/#random","title":"random \u200b\u6a21\u5757","text":"<pre><code># coding:utf-8\n\nimport random\n# \u200b\u53f3\u8fb9\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u53d6\u200b\u5230\u200b\ndef test():\n    for i in range(10000):\n        i = random.random() # \u200b\u8fd4\u56de\u200b0-1\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\n        if i == 1:\n            print(i)\n            return i;\n    print('\u200b\u6ca1\u6709\u200b1')\n\ntest()\n\nprint(random.uniform(1, 2)) # \u200b\u8fd4\u56de\u200b\u8303\u56f4\u200b\u7684\u200b\u6d6e\u70b9\u6570\u200b\ndef test_uniform():\n    for i in range(10000):\n        i = random.uniform(1, 2)\n        if i == 1:\n            print(i)\n            return i;\ntest_uniform()\n\nprint('randint')\nprint(random.randint(1, 1000)) # \u200b\u8fd4\u56de\u200b\u6574\u6570\u200b\n\nprint('choice', random.choice([1, 2, 3, 4, 5])) # \u200b\u8fd4\u56de\u200blist\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u503c\u200b\n\nprint('sample', random.sample([1, 2, 3, 4, 5],2))# \u200b\u8fd4\u56de\u200blist\u200b\u4e2d\u200b\u7684\u200b\u51e0\u4e2a\u200b\u503c\u200b\n\n# \u200b\u6b65\u957f\u200b\nfor i in range(10):\n    print(random.randrange(1, 100, 100)) # \u200b\u8fd4\u56de\u200b\u6307\u5b9a\u200b\u7684\u200b\u4e00\u4e2a\u200b\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u6b65\u957f\u200b\n</code></pre>"},{"location":"lang/python/python/#_31","title":"\u8fed\u4ee3\u200b\u5668","text":"<pre><code># coding:utf-8\n\niter_obj = iter([1, 2, 3])\nprint(iter_obj.__next__())\n\niter_obj = (i for i in range(10))\nprint(iter_obj.__next__())\n\ndef get_iter_obj():\n    for i in range(13):\n        yield i\niter_obj = get_iter_obj()\nprint(iter_obj.__next__())\n</code></pre>"},{"location":"lang/python/python/#_32","title":"\u9ad8\u7ea7\u200b\u51fd\u6570","text":"<pre><code># coding:utf-8\n\nfrom functools import reduce\n\n\ndef _filter(x):\n    if x &lt;= 0:\n        return False;\n    return True;\n\nres = list(filter(lambda x: x &gt; 0, [-1, 2, 3]))\nprint(res)\n\nres = list(map(_filter, [-1, -2, 100])) # \u200b\u8fd4\u56de\u200bTrue False list\nprint('map', res)\n\nprint('----reduce----')\nres = reduce(lambda x, y: x + y, (1, 2, 3)) # \u200b\u9700\u8981\u200b\u5bfc\u5165\u200breduce\nprint(res)\n</code></pre>"},{"location":"lang/python/python/#_33","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>\u200b\u51e0\u4e2a\u200b\u5e38\u7528\u200b\u7684\u200b\u51fd\u6570\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u524d\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u5bfc\u5165\u200bre</p> <pre><code>import re\n</code></pre> <p>findall:\u200b\u5c06\u200b\u5f97\u5230\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5b58\u50a8\u200b\u5728\u200blist\u200b\u4e2d\u200b</p> <pre><code>str = 'my name is hash'\nres = re.findall('\\sis*', str) # \u200b\u8fd4\u56de\u200b\u7b26\u5408\u200b\u7684\u200blist [' is']\nprint(res)\n</code></pre> <p>match:\u200b\u4ece\u200b\u5b57\u7b26\u4e32\u200b\u5f00\u59cb\u67e5\u627e\u200b</p> <pre><code>str = 'hedd '\nprint(re.match('\\w*', str).group()) # \u200b\u4ece\u200b\u5f00\u59cb\u200b\u5b57\u7b26\u200b\u5f00\u59cb\u67e5\u627e\u200b\n</code></pre> <p>split:\u200b\u6839\u636e\u200b\u5339\u914d\u200b\u5f97\u5230\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u5206\u5272\u200b</p> <pre><code>str = 'my name is hello word'\nres = re.split('\\s+', str) # \u200b\u627e\u5230\u200b\u7684\u200b\u5c31\u662f\u200b\u7a7a\u683c\u7b26\u200b\u53f7\u200b\nprint(res) # ['my', 'name', 'is', 'hello', 'word']\n</code></pre> <p>search:\u200b\u53ea\u200b\u5339\u914d\u200b\u4e00\u6b21\u200b</p> <pre><code>str = 'my email is 1718905040@qq.com 171890@qq.com'\nres = re.search('(\\d*.qq.com)', str) # \u200b\u53ea\u4f1a\u200b\u67e5\u627e\u200b\u4e00\u6b21\u200b\nprint(res.groups())\nprint(res.group(1)) # \u200b\u7d22\u5f15\u200b\u4ece\u200b1\u200b\u5f00\u59cb\u200b\n</code></pre> <p>compile:\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6b63\u5219\u200b\u5bf9\u8c61\u200b</p> <pre><code>str = 'my email is 1718905040@qq.com 1234343@qq.com'\nre_obj = re.compile('\\d+.\\w{2}.com')\nres = re_obj.findall(str)\nprint(res)\n</code></pre>"},{"location":"life/10x/","title":"10x","text":""},{"location":"life/10x/#_1","title":"\u6982\u8ff0","text":"<p>\u200b\u672c\u8d28\u200b\u590d\u6742\u5ea6\u200b\uff1a\u200b\u65e0\u8bba\u200b\u600e\u4e48\u200b\u505a\u200b\uff0c\u200b\u90fd\u200b\u5fc5\u987b\u200b\u8981\u200b\u505a\u200b\u7684\u200b\u4e8b\u200b</p> <p>\u200b\u5076\u7136\u200b\u590d\u6742\u5ea6\u200b\uff1a\u200b\u9009\u7528\u200b\u7684\u200b\u505a\u4e8b\u200b\u65b9\u6cd5\u200b\u4e0d\u5f53\u200b\uff0c\u200b\u800c\u200b\u5bfc\u81f4\u200b\u591a\u200b\u505a\u200b\u7684\u200b\u4e8b\u200b</p> <p>\u200b\u964d\u4f4e\u200b\u5076\u7136\u200b\u590d\u6742\u5ea6\u200b\u6700\u4f73\u200b\u5b9e\u8df5\u200b</p> <ul> <li>\u200b\u4ee5\u7ec8\u200b\u4e3a\u59cb\u200b</li> <li>\u200b\u4efb\u52a1\u200b\u5206\u89e3\u200b</li> <li>\u200b\u6c9f\u901a\u200b\u53cd\u9988\u200b</li> <li>\u200b\u81ea\u52a8\u5316\u200b</li> </ul>"},{"location":"life/10x/#_2","title":"\u601d\u8003\u200b\u6846\u67b6","text":""},{"location":"life/10x/#_3","title":"\u6982\u8ff0","text":"<p>\u200b\u73b0\u72b6\u200b</p> <p>\u200b\u76ee\u6807\u200b</p> <p>\u200b\u5b9e\u73b0\u200b\u8def\u5f84\u200b</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u505a\u200b\u8fd9\u4e2a\u200b\u7279\u6027\u200b\uff1f\u200b\u76ee\u6807\u200b\u662f\u200b\u4ec0\u4e48\u200b</p> <p>\u200b\u7ed9\u200b\u7528\u6237\u200b\u5e26\u6765\u200b\u600e\u6837\u200b\u7684\u200b\u4ef7\u503c\u200b\uff1f\u200b\u76ee\u6807\u200b\u7684\u200b\u6709\u6548\u6027\u200b</p> <p>\u200b\u7528\u6237\u200b\u600e\u4e48\u200b\u7528\u200b\uff0c\u200b\u662f\u5426\u200b\u6709\u200b\u5176\u4ed6\u200b\u66ff\u4ee3\u200b\u624b\u6bb5\u200b\uff1f\u200b\u9700\u6c42\u200b\u662f\u5426\u200b\u7ecf\u8fc7\u200b\u601d\u8003\u200b</p> <p>\u200b\u8861\u91cf\u200b\u6709\u6548\u6027\u200b\uff1a\u200b\u4fdd\u8bc1\u200b\u6211\u200b\u7684\u200b\u5de5\u4f5c\u200b\u4e0d\u4f1a\u200b\u6d6a\u8d39\u200b</p>"},{"location":"life/10x/#_4","title":"\u601d\u8003\u200b\u539f\u5219","text":"<p>\u200b\u4ee5\u7ec8\u200b\u4e3a\u59cb\u200b\uff1a\u200b\u5de5\u4f5c\u200b\u4e00\u200b\u5f00\u59cb\u200b\u786e\u5b9a\u200b\u76ee\u6807\u200b</p> <p>\u200b\u4efb\u52a1\u200b\u5206\u89e3\u200b\uff1a\u200b\u5c06\u200b\u5927\u200b\u76ee\u6807\u200b\u62c6\u200b\u5206\u6210\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u53ef\u884c\u200b\u7684\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b</p> <p>\u200b\u6c9f\u901a\u200b\u53cd\u9988\u200b\uff1a</p> <ul> <li>\u200b\u4fe1\u606f\u200b\u4f20\u8fbe\u200b\u51fa\u53bb\u200b\uff0c\u200b\u51cf\u5c11\u200b\u56e0\u200b\u7406\u89e3\u200b\u504f\u5dee\u200b\u9020\u6210\u200b\u7684\u200b\u5de5\u4f5c\u200b\u758f\u6f0f\u200b</li> <li>\u200b\u63a5\u6536\u200b\u5916\u90e8\u200b\u7684\u200b\u6d88\u606f\u200b\uff0c\u200b\u4ee5\u514d\u200b\u81ea\u6211\u611f\u89c9\u200b\u826f\u597d\u200b\uff0c\u200b\u963b\u788d\u200b\u8fdb\u6b65\u200b</li> </ul> <p>\u200b\u81ea\u52a8\u5316\u200b\uff1a\u200b\u5c06\u200b\u7e41\u7410\u200b\u7684\u200b\u5de5\u4f5c\u200b\u901a\u8fc7\u200b\u81ea\u52a8\u5316\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4ea4\u7ed9\u200b\u673a\u5668\u200b\u6267\u884c\u200b</p>"},{"location":"life/10x/#_5","title":"\u4ee5\u7ec8\u200b\u4e3a\u59cb","text":""},{"location":"life/10x/#1","title":"1.\u200b\u521d\u6b65\u200b\u4ecb\u7ecd","text":"<p>\u200b\u9047\u5230\u200b\u95ee\u9898\u200b\uff0c\u200b\u5148\u200b\u8003\u8651\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6839\u636e\u200b\u7ed3\u679c\u200b\u6765\u200b\u786e\u5b9a\u200b\u8981\u200b\u505a\u200b\u7684\u200b\u4e8b\u200b</p>"},{"location":"life/10x/#2dod","title":"2.dod \u200b\u4ef7\u503c\u200b \u200b\u76ee\u6807\u200b\u5b9a\u4e49","text":"<p>\u200b\u5b9a\u4e49\u200b\u5b8c\u6210\u200b\u7684\u200b\u6807\u51c6\u200b</p> <p>dod \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6e05\u5355\u200b\uff0c\u200b\u6e05\u5355\u200b\u662f\u200b\u4e00\u4e2a\u4e2a\u200b\u7684\u200b\u53ef\u200b\u6267\u884c\u200b\u7684\u200b\u68c0\u67e5\u200b\u9879\u200b\u7ec4\u6210\u200b\u3002</p>"},{"location":"life/10x/#3","title":"3.\u200b\u9700\u6c42\u200b\u63cf\u8ff0\u200b \u200b\u76ee\u6807\u200b\u786e\u8ba4","text":"<p>\u200b\u4ee5\u200b\u7528\u6237\u200b\u6545\u4e8b\u200b\u63cf\u8ff0\u200b\u9700\u6c42\u200b</p> <ol> <li>\u200b\u6a21\u677f\u200b\uff1a\u200b\u89d2\u8272\u200b + \u200b\u884c\u4e3a\u200b + \u200b\u6548\u679c\u200b</li> <li>\u200b\u4e3e\u4f8b\u200b\uff1a\u200b\u6ce8\u518c\u200b\u7528\u6237\u200b\u60f3\u200b \u200b\u901a\u8fc7\u200b\u7528\u6237\u540d\u200b\u5bc6\u7801\u200b\u767b\u5f55\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u4f7f\u7528\u200b\u670d\u52a1\u200b</li> <li>\u200b\u5176\u4ed6\u200b\uff1a</li> </ol> <p>\u200b\u9650\u5b9a\u200b\u8303\u56f4\u200b</p> <p>\u200b\u9a8c\u6536\u200b\u6807\u51c6\u200b\uff1a</p> <p>\u200b   \u200b\u6b63\u5e38\u200b\u573a\u666f\u200b</p> <p>\u200b   \u200b\u5f02\u5e38\u200b\u573a\u666f\u200b</p>"},{"location":"life/10x/#4","title":"4.\u200b\u89e3\u51b3\u200b\u4e0d\u786e\u5b9a\u6027\u200b\u7684\u200b\u95ee\u9898","text":"<p>mvp</p> <p>\u200b\u60f3\u6cd5\u200b -\u300b\u200b\u60f3\u6cd5\u200b\u5f00\u53d1\u200b\u5230\u200b\u4ea7\u54c1\u200b\u91cc\u200b -\u300b\u200b\u6536\u96c6\u200b\u6570\u636e\u200b\u83b7\u53d6\u200b\u53cd\u9988\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u60f3\u6cd5\u200b\u662f\u5426\u200b\u53ef\u9760\u200b</p>"},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/","title":"\u4efb\u52a1\u200b\u5206\u89e3","text":""},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/#_1","title":"\u4efb\u52a1\u200b\u5206\u89e3","text":"<p>\u200b\u4efb\u52a1\u200b\u9700\u8981\u200b\u5206\u89e3\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b50\u200b\u4efb\u52a1\u200b\u53ef\u200b\u6267\u884c\u200b\u3002</p> <p>\u200b\u4efb\u52a1\u200b\u7c92\u5ea6\u200b\u8fc7\u5927\u200b\uff0c\u200b\u4e00\u65e6\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u4e0d\u592a\u597d\u200b\u8c03\u6574\u200b\u3002\u200b\u4e5f\u200b\u4e0d\u592a\u597d\u200b\u6267\u884c\u200b</p>"},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/#_2","title":"\u6d4b\u8bd5","text":""},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/#_3","title":"\u6d4b\u8bd5\u200b\u7684\u200b\u5fc5\u8981\u6027","text":"<ul> <li>\u200b\u81ea\u5df1\u200b\u5f00\u53d1\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u9700\u8981\u200b\u81ea\u5df1\u200b\u8d1f\u8d23\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6d4b\u8bd5\u200b\u4e0d\u4ec5\u4ec5\u200b\u662f\u200b\u6d4b\u8bd5\u4eba\u5458\u200b\u7684\u200b\u4e8b\u60c5\u200b</li> <li>\u200b\u9700\u6c42\u200b\u9636\u6bb5\u200b\u80fd\u591f\u200b\u89e3\u51b3\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u4e0d\u8981\u200b\u9057\u7559\u200b\u5728\u200b\u5f00\u53d1\u9636\u6bb5\u200b\u3002\u200b\u5f00\u53d1\u9636\u6bb5\u200b\u80fd\u591f\u200b\u89e3\u51b3\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u4e0d\u8981\u200b\u9057\u7559\u200b\u5728\u200b\u6d4b\u8bd5\u9636\u6bb5\u200b\u3002\u200b\u4e0d\u7136\u200b\u540e\u7eed\u200b\u9636\u6bb5\u200b\u51fa\u73b0\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u5c31\u200b\u9700\u8981\u200b\u4ece\u200b\u524d\u9762\u200b\u9636\u6bb5\u200b\u91cd\u65b0\u200b\u5f00\u59cb\u200b\u64cd\u4f5c\u200b\u3002</li> </ul>"},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/#_4","title":"\u6d4b\u8bd5\u200b\u4ecb\u7ecd","text":"<ul> <li>\u200b\u5355\u5143\u6d4b\u8bd5\u200b\uff1a\u200b\u6700\u5c0f\u200b\u7a0b\u5e8f\u6a21\u5757\u200b\u6d4b\u8bd5\u200b</li> <li>\u200b\u96c6\u6210\u200b\u6d4b\u8bd5\u200b\uff1a\u200b\u5c06\u200b\u591a\u4e2a\u200b\u6a21\u5757\u200b\u7ec4\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b\u6d4b\u8bd5\u200b</li> <li>\u200b\u7cfb\u7edf\u200b\u6d4b\u8bd5\u200b\uff1a\u200b\u6574\u4e2a\u200b\u7cfb\u7edf\u200b\u7ec4\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b\u6d4b\u8bd5\u200b</li> </ul>"},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/#_5","title":"\u6700\u4f73\u200b\u5b9e\u8df5","text":"<p>\u200b\u6d4b\u8bd5\u200b\u91d1\u5b57\u5854\u200b\uff1a\u200b\u5355\u5143\u200b -\u300b\u200b\u670d\u52a1\u200b -\u300bUI</p>"},{"location":"life/%E4%BB%BB%E5%8A%A1%E5%88%86%E8%A7%A3/#_6","title":"\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u6d4b\u8bd5","text":"<p>tdd \u200b\u6d4b\u8bd5\u200b\u9a71\u52a8\u200b\u5f00\u53d1\u200b</p> <p>1.\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u5931\u8d25\u200b\u7684\u200b\u6d4b\u8bd5\u200b</p> <p>2.\u200b\u7f16\u5199\u200b\u4ee3\u7801\u200b shide</p>"},{"location":"mq/kafka/api/","title":"api","text":""},{"location":"mq/kafka/api/#producer","title":"producer","text":""},{"location":"mq/kafka/api/#java","title":"java","text":""},{"location":"mq/kafka/api/#_1","title":"\u57fa\u7840","text":"<p>Kafka \u200b\u7684\u200b Producer \u200b\u53d1\u9001\u200b\u6d88\u606f\u200b\u91c7\u7528\u200b\u7684\u200b\u662f\u200b\u5f02\u6b65\u200b\u53d1\u9001\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p> <p>\u200b\u5728\u200b\u6d88\u606f\u200b\u53d1\u9001\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6d89\u53ca\u200b\u5230\u200b\u4e86\u200b \u200b\u4e24\u4e2a\u200b\u7ebf\u7a0b\u200b\u2014\u2014main \u200b\u7ebf\u7a0b\u200b\u548c\u200b Sender \u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5171\u4eab\u200b\u53d8\u91cf\u200b\u2014\u2014RecordAccumulator\u3002</p> <p>main \u200b\u7ebf\u7a0b\u200b\u5c06\u200b\u6d88\u606f\u200b\u53d1\u9001\u7ed9\u200b RecordAccumulator\uff0cSender \u200b\u7ebf\u7a0b\u200b\u4e0d\u65ad\u200b\u4ece\u200b RecordAccumulator \u200b\u4e2d\u62c9\u53d6\u200b \u200b\u6d88\u606f\u200b\u53d1\u9001\u5230\u200b Kafka broker\u3002</p> <p>batch.size\uff1a\u200b\u53ea\u6709\u200b\u6570\u636e\u200b\u79ef\u7d2f\u200b\u5230\u200b batch.size \u200b\u4e4b\u540e\u200b\uff0csender \u200b\u624d\u200b\u4f1a\u200b\u53d1\u9001\u6570\u636e\u200b\u3002 </p> <p>linger.ms\uff1a\u200b\u5982\u679c\u200b\u6570\u636e\u200b\u8fdf\u8fdf\u200b\u672a\u200b\u8fbe\u5230\u200b batch.size\uff0csender \u200b\u7b49\u5f85\u200b linger.time \u200b\u4e4b\u540e\u200b\u5c31\u200b\u4f1a\u200b\u53d1\u9001\u6570\u636e\u200b\u3002</p> <p></p>"},{"location":"mq/kafka/api/#_2","title":"\u5e26\u56de\u200b\u8c03\u200b\u51fd\u6570","text":"<p>exception == null \u200b\u6d88\u606f\u200b\u53d1\u9001\u200b\u6210\u529f\u200b</p>"},{"location":"mq/kafka/api/#_3","title":"\u540c\u6b65","text":"<p>\u200b\u4e00\u6761\u200b\u6d88\u606f\u200b\u53d1\u9001\u200b\u4e4b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u963b\u585e\u200b\u5f53\u524d\u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u76f4\u81f3\u200b\u8fd4\u56de\u200b ack\u3002</p> <p>future.Get()</p>"},{"location":"mq/kafka/api/#consumer","title":"consumer","text":""},{"location":"mq/kafka/api/#java_1","title":"java","text":""},{"location":"mq/kafka/api/#_4","title":"\u57fa\u7840","text":"<p>KafkaConsumer\uff1a\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u7528\u6765\u200b\u6d88\u8d39\u200b\u6570\u636e\u200b </p> <p>ConsumerConfig\uff1a\u200b\u83b7\u53d6\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u4e00\u7cfb\u5217\u200b\u914d\u7f6e\u200b\u53c2\u6570\u200b </p> <p>ConsuemrRecord\uff1a\u200b\u6bcf\u6761\u200b\u6570\u636e\u200b\u90fd\u200b\u8981\u200b\u5c01\u88c5\u200b\u6210\u200b\u4e00\u4e2a\u200b ConsumerRecord \u200b\u5bf9\u8c61\u200b </p> <p>\u200b\u4e3a\u4e86\u200b\u4f7f\u200b\u6211\u4eec\u200b\u80fd\u591f\u200b\u4e13\u6ce8\u200b\u4e8e\u200b\u81ea\u5df1\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b\uff0cKafka \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b offset \u200b\u7684\u200b\u529f\u80fd\u200b\u3002  </p> <p>enable.auto.commit\uff1a\u200b\u662f\u5426\u200b\u5f00\u542f\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b offset \u200b\u529f\u80fd\u200b </p> <p>auto.commit.interval.ms\uff1a\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b offset \u200b\u7684\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b</p> <pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n  &lt;version&gt;0.11.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"mq/kafka/api/#_5","title":"\u624b\u52a8\u200b\u63d0\u4ea4","text":"<p>commitSync\uff08\u200b\u540c\u6b65\u200b\u63d0\u4ea4\u200b\uff09\u200b\u548c\u200b commitAsync\uff08\u200b\u5f02\u6b65\u200b\u63d0\u4ea4\u200b\uff09</p> <p>\u200b\u4e24\u8005\u200b\u7684\u200b\u76f8\u540c\u70b9\u200b\u662f\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u5c06\u200b\u672c\u6b21\u200b poll \u200b\u7684\u200b\u4e00\u6279\u200b\u6570\u636e\u200b\u6700\u9ad8\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\u63d0\u4ea4\u200b\uff1b\u200b\u4e0d\u540c\u70b9\u200b\u662f\u200b\uff0c commitSync \u200b\u963b\u585e\u200b\u5f53\u524d\u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u4e00\u76f4\u200b\u5230\u200b\u63d0\u4ea4\u200b\u6210\u529f\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5931\u8d25\u200b\u91cd\u8bd5\u200b\uff08\u200b\u7531\u200b\u4e0d\u200b\u53ef\u63a7\u56e0\u7d20\u200b\u5bfc\u81f4\u200b\uff0c \u200b\u4e5f\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u63d0\u4ea4\u200b\u5931\u8d25\u200b\uff09\uff1b\u200b\u800c\u200b commitAsync \u200b\u5219\u200b\u6ca1\u6709\u200b\u5931\u8d25\u200b\u91cd\u8bd5\u200b\u673a\u5236\u200b\uff0c\u200b\u6545\u6709\u200b\u53ef\u80fd\u200b\u63d0\u4ea4\u200b\u5931\u8d25\u200b\u3002</p>"},{"location":"mq/kafka/api/#_6","title":"\u95ee\u9898","text":"<p>\u200b\u65e0\u8bba\u662f\u200b\u540c\u6b65\u200b\u63d0\u4ea4\u200b\u8fd8\u662f\u200b\u5f02\u6b65\u200b\u63d0\u4ea4\u200b offset\uff0c\u200b\u90fd\u200b\u6709\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9020\u6210\u200b\u6570\u636e\u200b\u7684\u200b\u6f0f\u200b\u6d88\u8d39\u200b\u6216\u8005\u200b\u91cd\u590d\u200b\u6d88\u8d39\u200b\u3002\u200b\u5148\u200b\u63d0\u4ea4\u200b offset \u200b\u540e\u200b\u6d88\u8d39\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u9020\u6210\u200b\u6570\u636e\u200b\u7684\u200b\u6f0f\u200b\u6d88\u8d39\u200b\uff1b\u200b\u800c\u200b\u5148\u200b\u6d88\u8d39\u200b\u540e\u200b\u63d0\u4ea4\u200b offset\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9020\u6210\u200b\u6570\u636e\u200b \u200b\u7684\u200b\u91cd\u590d\u200b\u6d88\u8d39\u200b\u3002</p>"},{"location":"mq/kafka/client/","title":"client","text":""},{"location":"mq/kafka/client/#kafka","title":"\u7ec8\u7aef\u200b\u64cd\u4f5c\u200bkafka","text":"<p>\u200b\u5982\u679c\u200b\u542f\u52a8\u200b\u5931\u8d25\u200b \u200b\u67e5\u770b\u200blogs/server.log</p>"},{"location":"mq/kafka/client/#topic","title":"\u67e5\u770b\u200b\u6240\u6709\u200btopic","text":"<pre><code>./kafka-topics.sh --zookeeper localhost:2181 --list\n</code></pre>"},{"location":"mq/kafka/client/#topic_1","title":"\u521b\u5efa\u200btopic","text":"<pre><code>./kafka-topics.sh --zookeeper localhost:2181 --create --replication-factor  1 --partitions 2 --topic first\n</code></pre> <p>\u200b\u9009\u9879\u200b \u200b\u8bf4\u660e\u200b\uff1a --topic \u200b\u5b9a\u4e49\u200b topic\u200b\u540d\u200b --replication-factor \u200b\u5b9a\u4e49\u200b\u526f\u672c\u200b\u6570\u200b --partitions \u200b\u5b9a\u4e49\u200b\u5206\u533a\u200b\u6570\u200b</p> <p>\u200b\u526f\u672c\u200b\u6570\u91cf\u200b \u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b\u673a\u5668\u200b\u6570\u200b</p> <p>\u200b\u5206\u533a\u200b\u53ef\u4ee5\u200b\u5927\u4e8e\u200b\u673a\u5668\u200b\u6570\u91cf\u200b</p>"},{"location":"mq/kafka/client/#topic_2","title":"\u5220\u9664\u200btopic","text":"<pre><code>./kafka-topics.sh --zookeeper localhost:2181 --delete --topic first\n</code></pre> <p>\u200b\u9700\u8981\u200bserver.properties\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b delete.topic.enable=true\u200b\u5426\u5219\u200b\u53ea\u662f\u200b\u6807\u8bb0\u200b\u5220\u9664\u200b\u3002</p>"},{"location":"mq/kafka/client/#topic_3","title":"\u67e5\u770b\u200btopic\u200b\u8be6\u60c5","text":"<pre><code>./kafka-topics.sh --zookeeper 127.0.0.1:2181 --describe --topic first\n</code></pre>"},{"location":"mq/kafka/client/#_1","title":"\u53d1\u9001\u200b\u6d88\u606f","text":"<pre><code>./kafka-console-producer.sh --broker-list localhost:9092 --topic first\n</code></pre>"},{"location":"mq/kafka/client/#_2","title":"\u6d88\u8d39\u200b\u6d88\u606f","text":"<p>\u200b\u53ef\u4ee5\u200b\u8fde\u63a5\u200bzookeeper</p> <pre><code>./kafka-console-consumer.sh --zookeeper localhost:2181 --topic first\n</code></pre> <p>\u200b\u4f1a\u200b\u6709\u200b\u8b66\u544a\u200b </p> <p></p> <pre><code>./kafka-console-consumer.sh --bootstrap-server matt05:9092 --topic first\n</code></pre> <p>\u200b\u4ece\u200b\u6700\u200b\u5f00\u59cb\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u6d88\u8d39\u200b</p> <pre><code>./kafka-console-consumer.sh --bootstrap-server matt05:9092 --from-beginning --topic first\n</code></pre>"},{"location":"mq/kafka/client/#_3","title":"\u4fee\u6539\u200b\u5206\u533a\u200b\u6570","text":"<pre><code>./kafka-topics.sh --zookeeper localhost:2181 --alter --topic first --partitions 3\n</code></pre>"},{"location":"mq/kafka/install/","title":"install","text":"<p>\u200b            </p>"},{"location":"mq/kafka/install/#_1","title":"\u5730\u5740","text":"<p>http://kafka.apache.org/downloads.html</p>"},{"location":"mq/kafka/install/#mac","title":"mac","text":""},{"location":"mq/kafka/install/#_2","title":"\u5730\u5740","text":"<p>https://kafka.apache.org/downloads.html</p> <p>0.11.0.0</p> <p></p>"},{"location":"mq/kafka/install/#_3","title":"\u5b89\u88c5","text":""},{"location":"mq/kafka/install/#_4","title":"\u89e3\u538b\u7f29","text":"<pre><code>tar -zxvf kafka_2.11-0.11.0.0.tgz -C /opt/module\n</code></pre>"},{"location":"mq/kafka/install/#_5","title":"\u4fee\u6539\u200b\u6587\u4ef6\u540d\u79f0","text":"<pre><code>mv kafka_2.11-0.11.0.0 kafka\n</code></pre>"},{"location":"mq/kafka/install/#_6","title":"\u914d\u7f6e","text":""},{"location":"mq/kafka/install/#_7","title":"\u521b\u5efa\u200b\u65e5\u5fd7\u200b\u76ee\u5f55","text":"<pre><code>cd kafka\n\n\nmkdir logs\n</code></pre>"},{"location":"mq/kafka/install/#_8","title":"\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>cd config\n\nvim server.properties\n</code></pre> <pre><code>#broker \u200b\u7684\u200b\u5168\u5c40\u200b\u552f\u4e00\u200b\u7f16\u53f7\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b\nbroker.id=0\n#\u200b\u5220\u9664\u200b topic \u200b\u529f\u80fd\u200b\u4f7f\u80fd\u200b\ndelete.topic.enable=true\n\n\n#kafka \u200b\u8fd0\u884c\u65e5\u5fd7\u200b\u5b58\u653e\u200b\u7684\u200b\u8def\u5f84\u200b\nlog.dirs=/opt/module/kafka/logs\n\n#\u200b\u914d\u7f6e\u200b\u8fde\u63a5\u200b Zookeeper \u200b\u96c6\u7fa4\u200b\u5730\u5740\u200b\nzookeeper.connect=matt05:2181,matt06:2181\n</code></pre>"},{"location":"mq/kafka/install/#_9","title":"\u914d\u7f6e\u200b\u73af\u5883\u53d8\u91cf","text":"<p>vim .zshrc.pre-oh-my-zsh</p> <pre><code>vim .zshrc.pre-oh-my-zsh\n</code></pre> <pre><code>#KAFKA_HOME\nexport KAFKA_HOME=/opt/module/kafka\nexport PATH=$PATH:$KAFKA_HOME/bin\n</code></pre>"},{"location":"mq/kafka/install/#zk","title":"zk \u200b\u5b89\u88c5","text":""},{"location":"mq/kafka/install/#_10","title":"\u5730\u5740","text":"<p>https://archive.apache.org/dist/zookeeper/zookeeper-3.5.7/</p> <p></p>"},{"location":"mq/kafka/install/#_11","title":"\u89e3\u538b\u7f29\u200b + \u200b\u4fee\u6539\u200b\u6587\u4ef6\u540d","text":"<pre><code>tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module\n</code></pre> <pre><code>mv apache-zookeeper-3.5.7-bin/ zookeeper-3.5.7\n</code></pre>"},{"location":"mq/kafka/install/#_12","title":"\u521b\u5efa\u200b\u65e5\u5fd7\u200b\u76ee\u5f55","text":"<pre><code>mkdir zkData\n</code></pre>"},{"location":"mq/kafka/install/#_13","title":"\u914d\u7f6e\u6587\u4ef6\u200b\u4fee\u6539","text":"<pre><code>cp zoo_sample.cfg zoo.cfg\n</code></pre> <pre><code>dataDir=/opt/module/zookeeper-3.5.7/zkData\n</code></pre>"},{"location":"mq/kafka/install/#_14","title":"\u542f\u52a8","text":"<pre><code>zkServer.sh start\n\nzkServer.sh stop\n\nzkServer.sh status\n</code></pre> <p>\u200b\u542f\u52a8\u200bkafka</p> <pre><code>./bin/kafka-server-start.sh -daemon ./config/server.properties\n</code></pre>"},{"location":"mq/kafka/install/#_15","title":"\u542f\u52a8","text":""},{"location":"mq/kafka/install/#bin","title":"\u542f\u52a8\u200b,\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200bbin\u200b\u76ee\u5f55\u200b\u4e0b","text":"<pre><code>./kafka-server-start.sh -daemon ../config/server.properties\n</code></pre>"},{"location":"mq/kafka/install/#_16","title":"\u5173\u95ed","text":"<pre><code>./kafka-server-stop.sh stop\n</code></pre>"},{"location":"mq/kafka/install/#linux","title":"linux","text":""},{"location":"mq/kafka/install/#_17","title":"\u89c4\u5212","text":"<p>matt05 zk kafka</p> <p>matt06 zk kafka</p> <p>matt07 zk kafka</p>"},{"location":"mq/kafka/install/#_18","title":"\u89e3\u538b","text":"<pre><code>tar -zxvf kafka_2.11-0.11.0.0.tgz -C /opt/module/\n</code></pre>"},{"location":"mq/kafka/install/#_19","title":"\u91cd\u547d\u540d","text":"<pre><code>mv kafka_2.11-0.11.0.0/ kafka\n</code></pre> <p>2.scanla\u200b\u7248\u672c\u200b</p> <p>0.11kafka\u200b\u7248\u672c\u200b</p>"},{"location":"mq/kafka/install/#data","title":"\u5728\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u521b\u5efa\u200bdata\u200b\u6587\u4ef6\u5939","text":"<p>\u200b\u9ed8\u8ba4\u200b\u65e5\u5fd7\u200b\u653e\u5728\u200blogs </p> <p>data:\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b</p> <pre><code>mkdir data\n</code></pre>"},{"location":"mq/kafka/install/#_20","title":"\u4fee\u6539\u200b\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>cd config/\nvi server.properties\n</code></pre> <pre><code># \u200b\u6539\u200b broker \u200b\u7684\u200b\u5168\u5c40\u200b\u552f\u4e00\u200b\u7f16\u53f7\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b \nbroker.id=0\n# \u200b\u6539\u200b \u200b\u5220\u9664\u200b topic \u200b\u529f\u80fd\u200b\u4f7f\u80fd\u200b \ndelete.topic.enable=true \n\n# \u200b\u6539\u200b kafka \u200b\u8fd0\u884c\u65e5\u5fd7\u200b\u5b58\u653e\u200b\u7684\u200b\u8def\u5f84\u200b \u200b\u65e5\u5fd7\u200b\u76ee\u5f55\u200b\nlog.dirs=/opt/module/kafka/data \n\n# \u200b\u6539\u200b \u200b\u914d\u7f6e\u200b\u8fde\u63a5\u200b Zookeeper \u200b\u96c6\u7fa4\u200b\u5730\u5740\u200b \nzookeeper.connect=zookeeper.connect=192.168.96.135:2181,192.168.96.136:2181,192.168.96.137:2181\n</code></pre>"},{"location":"mq/kafka/install/#_21","title":"\u5206\u53d1\u200b\u5b89\u88c5\u5305","text":"<pre><code>xsync ./kafka/\n</code></pre> <p>\u200b\u8bb0\u5f97\u200b\u4fee\u6539\u200b\u673a\u5668\u200b\u7684\u200bbroker.id \u200b\u56e0\u4e3a\u200b\u4ed6\u200b\u662f\u200b\u60df\u4e00\u200b\u7684\u200b</p>"},{"location":"mq/kafka/install/#bin_1","title":"\u542f\u52a8\u200b,\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200bbin\u200b\u76ee\u5f55\u200b\u4e0b\u200b\uff0c \u200b\u5206\u522b\u200b\u8fdb\u5165\u200b\u4e09\u53f0\u200b\u673a\u5668","text":"<pre><code>./kafka-server-start.sh -daemon ../config/server.properties\n</code></pre>"},{"location":"mq/kafka/install/#bin_2","title":"\u5173\u95ed\u200b,\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200bbin\u200b\u76ee\u5f55\u200b\u4e0b","text":"<pre><code>./kafka-server-stop.sh stop\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u65f6\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u65e0\u6cd5\u200b\u8fde\u63a5\u200bkafka\uff0c\u200b\u5728\u200bserver.properties\u200b\u8fdb\u884c\u200b\u5982\u4e0b\u200b\u914d\u7f6e\u200b</p> <p> <pre><code>advertised.listeners=PLAINTEXT://192.168.96.128:9092\n</code></pre>"},{"location":"mq/kafka/overview/","title":"overview","text":""},{"location":"mq/kafka/overview/#_1","title":"\u6982\u8ff0","text":""},{"location":"mq/kafka/overview/#_2","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>Kafka \u200b\u662f\u200b\u4e00\u4e2a\u200b\u5206\u5e03\u5f0f\u200b\u7684\u200b\u57fa\u4e8e\u200b\u53d1\u5e03\u200b/\u200b\u8ba2\u9605\u200b\u6a21\u5f0f\u200b\u7684\u200b\u6d88\u606f\u200b\u961f\u5217\u200b\uff08Message Queue\uff09\uff0c\u200b\u4e3b\u8981\u200b\u5e94\u7528\u200b\u4e8e\u200b\u5927\u200b\u6570\u636e\u200b\u5b9e\u65f6\u5904\u7406\u200b\u9886\u57df\u200b</p>"},{"location":"mq/kafka/overview/#mq","title":"mq\u200b\u6a21\u5f0f","text":"<p>1.\u200b\u53d1\u5e03\u200b/\u200b\u8ba2\u9605\u200b\uff081:1 1:n\uff09 \u200b\u62c9\u53d6\u200b \u200b\u7f3a\u70b9\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u957f\u200b\u8f6e\u8bad\u200b</p> <p>2.\u200b\u961f\u5217\u200b\u4e3b\u52a8\u200b\u63a8\u200b \u200b\u9020\u6210\u200b\u6d88\u8d39\u8005\u200b\u963b\u585e\u200b</p> <p>kafka\uff1a\u200b\u62c9\u53d6\u200b \u200b\u957f\u200b\u8f6e\u8bad\u200b \u200b\u8bbe\u7f6e\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b</p>"},{"location":"mq/kafka/overview/#_3","title":"\u597d\u5904","text":"<p>\u200b\u89e3\u200b\u8026\u200b\uff1a\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u72ec\u7acb\u200b\u6269\u5c55\u200b\u751f\u4ea7\u200b\u548c\u200b\u6d88\u8d39\u200b\u7684\u200b\u6d41\u7a0b\u200b\uff08\u200b\u6d88\u8d39\u200b\u6709\u200b\u6545\u969c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u5f71\u54cd\u200b\u751f\u4ea7\u200b\uff09</p> <p>\u200b\u524a\u5cf0\u200b\uff1a\u200b\u89e3\u51b3\u200b\u751f\u4ea7\u200b\u548c\u200b\u6d88\u8d39\u200b\u901f\u5ea6\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u9632\u6b62\u200b\u6d88\u8d39\u200b\u901f\u5ea6\u200b\u8fc7\u200b\u6162\u200b\u5bfc\u81f4\u200b\u963b\u585e\u200b</p>"},{"location":"mq/kafka/overview/#_4","title":"\u67b6\u6784","text":"<ul> <li>Producer \uff1a\u200b\u6d88\u606f\u200b\u751f\u4ea7\u8005\u200b\uff0c\u200b\u5c31\u662f\u200b\u5411\u200bkafka broker \u200b\u53d1\u6d88\u606f\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\uff1b</li> <li>Consumer \uff1a\u200b\u6d88\u606f\u200b\u6d88\u8d39\u8005\u200b\uff0c\u200b\u5411\u200bkafka broker \u200b\u53d6\u200b\u6d88\u606f\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\uff1b</li> <li>Consumer Group \uff08CG\uff09\uff1a\u200b\u6d88\u8d39\u8005\u200b\u7ec4\u200b\uff0c\u200b\u6d88\u8d39\u8005\u200b\u7ec4\u200b\u53ef\u4ee5\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u6d88\u8d39\u8005\u200b\uff0c\u200b\u4e00\u4e2a\u200btopic\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5206\u533a\u200b\u53ea\u80fd\u200b\u7531\u200b\u6d88\u8d39\u8005\u200b\u7ec4\u5185\u200b\u4e00\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u6d88\u8d39\u200b</li> <li>Broker \uff1a\u200b\u4e00\u53f0\u200bkafka \u200b\u670d\u52a1\u5668\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200bbroker\u3002\u200b\u4e00\u4e2a\u200b\u96c6\u7fa4\u200b\u7531\u200b\u591a\u4e2a\u200bbroker \u200b\u7ec4\u6210\u200b\u3002</li> <li>Topic \uff1a\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u961f\u5217\u200b\uff0c\u200b\u751f\u4ea7\u8005\u200b\u548c\u200b\u6d88\u8d39\u8005\u200b\u9762\u5411\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u4e00\u4e2a\u200btopic\uff1b</li> <li>Partition\uff1a\u200b\u4e00\u4e2a\u200btopic\u200b\u53ef\u200b\u7531\u200b\u591a\u4e2a\u200b\u5206\u533a\u200b\u7ec4\u6210\u200b</li> <li>Replica\uff1a\u200b\u526f\u672c\u200b\uff0cleader follower</li> <li>leader \u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u591a\u4e2a\u200b\u526f\u672c\u200b\u7684\u200b\u201c\u200b\u4e3b\u200b\u201d\uff0c\u200b\u751f\u4ea7\u8005\u200b\u53d1\u9001\u6570\u636e\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u6d88\u8d39\u8005\u200b\u6d88\u8d39\u200b\u6570\u636e\u200b\u7684\u200b\u5bf9\u200b \u200b\u8c61\u200b\u90fd\u200b\u662f\u200b leader\u3002</li> <li>follower\uff1a\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u591a\u4e2a\u200b\u526f\u672c\u200b\u4e2d\u200b\u7684\u200b\u201c\u200b\u4ece\u200b\u201d\uff0c\u200b\u5b9e\u65f6\u200b\u4ece\u200b leader \u200b\u4e2d\u200b\u540c\u6b65\u200b\u6570\u636e\u200b\uff0c\u200b\u4fdd\u6301\u200b\u548c\u200b leader \u200b\u6570\u636e\u200b \u200b\u7684\u200b\u540c\u6b65\u200b\u3002</li> </ul>"},{"location":"mq/kafka/source/","title":"Source","text":""},{"location":"mq/kafka/source/#_1","title":"\u6574\u4f53\u200b\u67b6\u6784","text":""},{"location":"mq/kafka/source/#kafka","title":"kafka\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b","text":"<p>kafka\u200b\u4e2d\u200b\u6d88\u606f\u200b\u6309\u7167\u200btopic\u200b\u8fdb\u884c\u200b\u5206\u7c7b\u200b</p> <p>topic\u200b\u662f\u200b\u903b\u8f91\u200b\u4e0a\u200b\u7684\u200b\uff0cpartition\u200b\u662f\u200b\u7269\u7406\u200b\u7684\u200b</p> <p>\u200b\u6bcf\u4e2a\u200bpartition\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200blog\u200b\u6587\u4ef6\u200b\uff0c\u200b\u8be5\u200blog\u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200bproducer\u200b\u751f\u4ea7\u200b\u7684\u200b\u6570\u636e\u200b\uff0cproducer\u200b\u751f\u4ea7\u200b\u7684\u200b\u6570\u636e\u200b\u4f1a\u200b\u8ffd\u52a0\u200b\u5230\u200b\u8be5\u200b\u6587\u4ef6\u200b\u7684\u200b\u672b\u7aef\u200b\uff0c\u200b\u4e14\u200b\u6bcf\u6761\u200b\u6570\u636e\u200b\u90fd\u200b\u6709\u200b\u81ea\u5df1\u200boffset\uff0c\u200b\u8bb0\u5f55\u200b\u6d88\u8d39\u8005\u200b\u6d88\u8d39\u200b\u6570\u636e\u200b\u7684\u200b\u4f4d\u7f6e\u200b</p> <p></p> <p>\u200b\u7531\u4e8e\u200b\u751f\u4ea7\u8005\u200b\u751f\u4ea7\u200b\u7684\u200b\u6d88\u606f\u200b\u4f1a\u200b\u4e0d\u65ad\u200b\u8ffd\u52a0\u200b\u5230\u200b log \u200b\u6587\u4ef6\u200b\u672b\u5c3e\u200b\uff0c\u200b\u4e3a\u200b\u9632\u6b62\u200b log \u200b\u6587\u4ef6\u200b\u8fc7\u5927\u200b\u5bfc\u81f4\u200b\u6570\u636e\u200b\u5b9a\u4f4d\u200b \u200b\u6548\u7387\u200b\u4f4e\u4e0b\u200b\uff0cKafka \u200b\u91c7\u53d6\u200b\u4e86\u200b\u5206\u7247\u200b\u548c\u200b\u7d22\u5f15\u200b\u673a\u5236\u200b\uff0c\u200b\u5c06\u200b\u6bcf\u4e2a\u200b partition \u200b\u5206\u4e3a\u200b\u591a\u4e2a\u200b segment\u3002\u200b\u6bcf\u4e2a\u200b segment \u200b\u5bf9\u5e94\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\u2014\u2014\u201c.index\u201d\u200b\u6587\u4ef6\u200b\u548c\u200b\u201c.log\u201d\u200b\u6587\u4ef6\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u4f4d\u4e8e\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\uff0c\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u547d\u540d\u200b \u200b\u89c4\u5219\u200b\u4e3a\u200b\uff1atopic \u200b\u540d\u79f0\u200b+\u200b\u5206\u533a\u200b\u5e8f\u53f7\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0cfirst \u200b\u8fd9\u4e2a\u200b topic \u200b\u6709\u200b\u4e09\u4e2a\u200b\u5206\u533a\u200b\uff0c\u200b\u5219\u200b\u5176\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6587\u4ef6\u5939\u200b\u4e3a\u200b first-0,first-1,first-2\u3002</p> <p>index \u200b\u548c\u200b log \u200b\u6587\u4ef6\u200b\u4ee5\u200b\u5f53\u524d\u200b segment \u200b\u7684\u200b\u7b2c\u4e00\u6761\u200b\u6d88\u606f\u200b\u7684\u200b offset \u200b\u547d\u540d\u200b\u3002\u200b\u4e0b\u56fe\u200b\u4e3a\u200b index \u200b\u6587\u4ef6\u200b\u548c\u200b log \u200b\u6587\u4ef6\u200b\u7684\u200b\u7ed3\u6784\u200b\u793a\u610f\u56fe\u200b\u3002</p> <p></p> <p>\u201c.index\u201d\u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u5927\u91cf\u200b\u7684\u200b\u7d22\u5f15\u200b\u4fe1\u606f\u200b\uff0c\u201c.log\u201d\u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u5927\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7d22\u5f15\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u5143\u200b \u200b\u6570\u636e\u200b\u6307\u5411\u200b\u5bf9\u5e94\u200b\u6570\u636e\u6587\u4ef6\u200b\u4e2d\u200b message \u200b\u7684\u200b\u7269\u7406\u200b\u504f\u79fb\u200b\u5730\u5740\u200b\u3002</p> <p>\u200b\u9ed8\u8ba4\u200b\u4f1a\u5b58\u200b7\u200b\u5929\u200b</p> <p>168h</p> <p></p>"},{"location":"mq/kafka/source/#_2","title":"\u751f\u4ea7\u8005","text":""},{"location":"mq/kafka/source/#_3","title":"\u5206\u533a\u200b\u7b56\u7565","text":""},{"location":"mq/kafka/source/#_4","title":"\u5206\u533a\u200b\u539f\u56e0","text":"<p>\u200b\u65b9\u4fbf\u200b\u5728\u200b\u96c6\u7fa4\u200b\u6269\u5c55\u200b\uff1a\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\u5206\u533a\u200b\u6570\u91cf\u200b\u4ee5\u200b\u9002\u5e94\u200b\u5b83\u200b\u6240\u5728\u200b\u7684\u200b\u673a\u5668\u200b</p> <p>\u200b\u9ad8\u200b\u5e76\u53d1\u200b\uff1a\u200b\u56e0\u4e3a\u200b\u53ef\u4ee5\u200b\u4ee5\u200b Partition \u200b\u4e3a\u200b\u5355\u4f4d\u200b\u8bfb\u5199\u200b\u4e86\u200b\u3002</p>"},{"location":"mq/kafka/source/#_5","title":"\u5982\u4f55\u200b\u5206\u533a","text":"<ul> <li> <p>\u200b\u6307\u660e\u200b partition \u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5c06\u200b\u6307\u660e\u200b\u7684\u200b\u503c\u200b\u76f4\u63a5\u200b\u4f5c\u4e3a\u200b partiton \u200b\u503c\u200b\uff1b </p> </li> <li> <p>\u200b\u6ca1\u6709\u200b\u6307\u660e\u200b partition \u200b\u503c\u200b\u4f46\u200b\u6709\u200b key \u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5c06\u200b key \u200b\u7684\u200b hash \u200b\u503c\u200b\u4e0e\u200b topic \u200b\u7684\u200b partition \u200b\u6570\u200b\u8fdb\u884c\u200b\u53d6\u4f59\u200b\u5f97\u5230\u200b partition \u200b\u503c\u200b\uff1b </p> </li> <li>\u200b\u65e2\u200b\u6ca1\u6709\u200b partition \u200b\u503c\u200b\u53c8\u200b\u6ca1\u6709\u200b key \u200b\u503c\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u7b2c\u4e00\u6b21\u200b\u8c03\u7528\u200b\u65f6\u200b\u968f\u673a\u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u6574\u6570\u200b\uff08\u200b\u540e\u200b \u200b\u9762\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u6574\u6570\u200b\u4e0a\u200b\u81ea\u589e\u200b\uff09\uff0c\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u503c\u200b\u4e0e\u200b topic \u200b\u53ef\u7528\u200b\u7684\u200b partition \u200b\u603b\u6570\u200b\u53d6\u4f59\u200b\u5f97\u5230\u200b partition \u200b\u503c\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5e38\u8bf4\u200b\u7684\u200b round-robin \u200b\u7b97\u6cd5\u200b\u3002</li> </ul>"},{"location":"mq/kafka/source/#_6","title":"\u6570\u636e\u200b\u53ef\u9760\u6027","text":"<p>\u200b\u4e3a\u200b\u4fdd\u8bc1\u200b producer \u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u80fd\u200b\u53ef\u9760\u200b\u7684\u200b\u53d1\u9001\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b topic\uff0ctopic \u200b\u7684\u200b\u6bcf\u4e2a\u200b partition \u200b\u6536\u5230\u200b producer \u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u90fd\u200b\u9700\u8981\u200b\u5411\u200b producer \u200b\u53d1\u9001\u200b ack\uff08acknowledgement \u200b\u786e\u8ba4\u200b\u6536\u5230\u200b\uff09\uff0c\u200b\u5982\u679c\u200b producer \u200b\u6536\u5230\u200b ack\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u4e0b\u200b\u4e00\u8f6e\u200b\u7684\u200b\u53d1\u9001\u200b\uff0c\u200b\u5426\u5219\u200b\u91cd\u65b0\u200b\u53d1\u9001\u6570\u636e\u200b\u3002</p> <p></p>"},{"location":"mq/kafka/source/#_7","title":"\u526f\u672c\u200b\u540c\u6b65\u200b\u7b56\u7565","text":"\u65b9\u6848\u200b \u200b\u4f18\u70b9\u200b \u200b\u7f3a\u70b9\u200b \u200b\u534a\u6570\u4ee5\u4e0a\u200b\u5b8c\u6210\u200b\u540c\u6b65\u200b\uff0c\u200b\u5c31\u200b\u53d1\u200b \u200b\u9001\u200b ack \u200b\u5ef6\u8fdf\u200b\u4f4e\u200b \u200b\u9009\u4e3e\u200b\u65b0\u200b\u7684\u200b leader \u200b\u65f6\u200b\uff0c\u200b\u5bb9\u5fcd\u200b n \u200b\u53f0\u200b \u200b\u8282\u70b9\u200b\u7684\u200b\u6545\u969c\u200b\uff0c\u200b\u9700\u8981\u200b 2n+1 \u200b\u4e2a\u200b\u526f\u672c\u200b \u200b\u5168\u90e8\u200b\u5b8c\u6210\u200b\u540c\u6b65\u200b\uff0c\u200b\u624d\u200b\u53d1\u9001\u200b ack \u200b\u9009\u4e3e\u200b\u65b0\u200b\u7684\u200b leader \u200b\u65f6\u200b\uff0c\u200b\u5bb9\u5fcd\u200b n \u200b\u53f0\u200b \u200b\u8282\u70b9\u200b\u7684\u200b\u6545\u969c\u200b\uff0c\u200b\u9700\u8981\u200b n+1 \u200b\u4e2a\u200b\u526f\u200b \u200b\u672c\u200b \u200b\u5ef6\u8fdf\u200b\u9ad8\u200b <p>Kafka \u200b\u9009\u62e9\u200b\u4e86\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6848\u200b\uff0c\u200b\u539f\u56e0\u200b\u5982\u4e0b\u200b\uff1a </p> <p>1.\u200b\u540c\u6837\u200b\u4e3a\u4e86\u200b\u5bb9\u5fcd\u200b n \u200b\u53f0\u200b\u8282\u70b9\u200b\u7684\u200b\u6545\u969c\u200b\uff0c\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6848\u200b\u9700\u8981\u200b 2n+1 \u200b\u4e2a\u200b\u526f\u672c\u200b\uff0c\u200b\u800c\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6848\u200b\u53ea\u200b\u9700\u8981\u200b n+1 \u200b\u4e2a\u200b\u526f\u672c\u200b\uff0c \u200b\u800c\u200b Kafka \u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5206\u533a\u200b\u90fd\u200b\u6709\u200b\u5927\u91cf\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6848\u200b\u4f1a\u200b\u9020\u6210\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u5197\u4f59\u200b\u3002 </p> <p>2.\u200b\u867d\u7136\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6848\u200b\u7684\u200b\u7f51\u7edc\u200b\u5ef6\u8fdf\u200b\u4f1a\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u4f46\u200b\u7f51\u7edc\u200b\u5ef6\u8fdf\u200b\u5bf9\u200b Kafka \u200b\u7684\u200b\u5f71\u54cd\u200b\u8f83\u200b\u5c0f\u200b</p> <p>\u200b\u526f\u672c\u200b\u6570\u200b 3</p> <p>1 \u200b\u4e2a\u200b leader</p> <p>2 \u200b\u4e2a\u200b follower</p>"},{"location":"mq/kafka/source/#isr","title":"ISR","text":"<p>\u200b\u95ee\u9898\u200b\uff1a\u200b\u5982\u679c\u200b\u91c7\u7528\u200b\u65b9\u6848\u200b\u4e8c\u200b\u540c\u6b65\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u67d0\u79cd\u200b\u6545\u969c\u200b\uff0cleader\u200b\u4e0d\u80fd\u200b\u548c\u200bfollower\u200b\u540c\u6b65\u200b\uff0c\u200b\u90a3\u4e48\u200bleader\u200b\u5c31\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u4e0d\u80fd\u200b\u7ed9\u200b\u751f\u4ea7\u8005\u200b\u53d1\u9001\u200back</p> <p>Leader \u200b\u7ef4\u62a4\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u52a8\u6001\u200b\u7684\u200b in-sync replica set (ISR)\uff0c\u200b\u610f\u4e3a\u200b\u548c\u200b leader \u200b\u4fdd\u6301\u200b\u540c\u6b65\u200b\u7684\u200b follower \u200b\u96c6\u200b \u200b\u5408\u200b\u3002\u200b\u5f53\u200b ISR \u200b\u4e2d\u200b\u7684\u200b follower \u200b\u5b8c\u6210\u200b\u6570\u636e\u200b\u7684\u200b\u540c\u6b65\u200b\u4e4b\u540e\u200b\uff0cleader \u200b\u5c31\u200b\u4f1a\u200b\u7ed9\u200b follower \u200b\u53d1\u9001\u200b ack\u3002\u200b\u5982\u679c\u200b follower \u200b\u957f\u65f6\u95f4\u200b \u200b\u672a\u200b \u200b\u5411\u200b leader \u200b\u540c\u200b \u200b\u6b65\u200b \u200b\u6570\u200b \u200b\u636e\u200b \uff0c \u200b\u5219\u200b \u200b\u8be5\u200b follower \u200b\u5c06\u200b \u200b\u88ab\u200b \u200b\u8e22\u200b \u200b\u51fa\u200b ISR \uff0c \u200b\u8be5\u200b \u200b\u65f6\u200b \u200b\u95f4\u200b \u200b\u9608\u200b \u200b\u503c\u200b \u200b\u7531\u200b replica.lag.time.max.ms \u200b\u53c2\u6570\u200b\u8bbe\u5b9a\u200b\u3002Leader \u200b\u53d1\u751f\u200b\u6545\u969c\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4ece\u200b ISR \u200b\u4e2d\u200b\u9009\u4e3e\u200b\u65b0\u200b\u7684\u200b leader\u3002</p>"},{"location":"mq/kafka/source/#ack","title":"ack \u200b\u5e94\u7b54\u200b\u673a\u5236","text":"<p>acks\uff1a </p> <p>0\uff1aproducer \u200b\u4e0d\u200b\u7b49\u5f85\u200b broker \u200b\u7684\u200b ack\uff0c\u200b\u8fd9\u4e00\u200b\u64cd\u4f5c\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u6700\u4f4e\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0cbroker \u200b\u4e00\u200b\u63a5\u6536\u200b\u5230\u200b\u8fd8\u200b \u200b\u6ca1\u6709\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u8fd4\u56de\u200b\uff0c\u200b\u5f53\u200b broker \u200b\u6545\u969c\u200b\u65f6\u6709\u200b\u53ef\u80fd\u200b\u4e22\u5931\u200b\u6570\u636e\u200b\uff1b</p> <p>1\uff1aproducer \u200b\u7b49\u5f85\u200b broker \u200b\u7684\u200b ack\uff0cpartition \u200b\u7684\u200b leader \u200b\u843d\u76d8\u200b\u6210\u529f\u200b\u540e\u200b\u8fd4\u56de\u200b ack\uff0c\u200b\u5982\u679c\u200b\u5728\u200b follower \u200b\u540c\u6b65\u200b\u6210\u529f\u200b\u4e4b\u524d\u200b leader \u200b\u6545\u969c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c06\u4f1a\u200b\u4e22\u5931\u200b\u6570\u636e\u200b\uff1b</p> <p>-1\uff08all\uff09\uff1aproducer \u200b\u7b49\u5f85\u200b broker \u200b\u7684\u200b ack\uff0cpartition \u200b\u7684\u200b leader \u200b\u548c\u200b follower \u200b\u5168\u90e8\u200b\u843d\u76d8\u200b\u6210\u529f\u200b\u540e\u200b\u624d\u200b \u200b\u8fd4\u56de\u200b ack\u3002\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u5728\u200b follower \u200b\u540c\u6b65\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0cbroker \u200b\u53d1\u9001\u200b ack \u200b\u4e4b\u524d\u200b\uff0cleader \u200b\u53d1\u751f\u200b\u6545\u969c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b \u200b\u9020\u6210\u200b\u6570\u636e\u200b\u91cd\u590d\u200b\u3002</p>"},{"location":"mq/kafka/source/#_8","title":"\u6545\u969c\u200b\u5904\u7406","text":""},{"location":"mq/kafka/source/#1follower","title":"1.follower\u200b\u6545\u969c","text":"<p>follower \u200b\u53d1\u751f\u200b\u6545\u969c\u200b\u540e\u4f1a\u200b\u88ab\u200b\u4e34\u65f6\u200b\u8e22\u200b\u51fa\u200b ISR\uff0c\u200b\u5f85\u200b\u8be5\u200b follower \u200b\u6062\u590d\u200b\u540e\u200b\uff0cfollower \u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u672c\u5730\u200b\u78c1\u76d8\u200b \u200b\u8bb0\u5f55\u200b\u7684\u200b\u4e0a\u6b21\u200b\u7684\u200b HW\uff0c\u200b\u5e76\u200b\u5c06\u200b log \u200b\u6587\u4ef6\u200b\u9ad8\u4e8e\u200b HW \u200b\u7684\u200b\u90e8\u5206\u200b\u622a\u53d6\u200b\u6389\u200b\uff0c\u200b\u4ece\u200b HW \u200b\u5f00\u59cb\u200b\u5411\u200b leader \u200b\u8fdb\u884c\u200b\u540c\u6b65\u200b\u3002 \u200b\u7b49\u200b\u8be5\u200b follower \u200b\u7684\u200b LEO \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u8be5\u200b Partition \u200b\u7684\u200b HW\uff0c\u200b\u5373\u200b follower \u200b\u8ffd\u200b\u4e0a\u200b leader \u200b\u4e4b\u540e\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u91cd\u200b \u200b\u65b0\u200b\u52a0\u5165\u200b ISR \u200b\u4e86\u200b\u3002</p>"},{"location":"mq/kafka/source/#2leader","title":"2.leader\u200b\u6545\u969c","text":"<p>leader \u200b\u53d1\u751f\u200b\u6545\u969c\u200b\u4e4b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u4ece\u200b ISR \u200b\u4e2d\u200b\u9009\u51fa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b leader\uff0c\u200b\u4e4b\u540e\u200b\uff0c\u200b\u4e3a\u200b\u4fdd\u8bc1\u200b\u591a\u4e2a\u200b\u526f\u672c\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u200b\u4e00\u81f4\u6027\u200b\uff0c\u200b\u5176\u4f59\u200b\u7684\u200b follower \u200b\u4f1a\u5148\u200b\u5c06\u200b\u5404\u81ea\u200b\u7684\u200b log \u200b\u6587\u4ef6\u200b\u9ad8\u4e8e\u200b HW \u200b\u7684\u200b\u90e8\u5206\u200b\u622a\u6389\u200b\uff0c\u200b\u7136\u540e\u200b\u4ece\u200b\u65b0\u200b\u7684\u200b leader \u200b\u540c\u6b65\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u8fd9\u200b\u53ea\u80fd\u200b\u4fdd\u8bc1\u200b\u526f\u672c\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6570\u636e\u200b\u4e00\u81f4\u6027\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u4fdd\u8bc1\u6570\u636e\u200b\u4e0d\u200b\u4e22\u5931\u200b\u6216\u8005\u200b\u4e0d\u200b\u91cd\u590d\u200b\u3002</p>"},{"location":"mq/kafka/source/#exactly-once","title":"Exactly Once","text":"<p>\u200b\u5c06\u200b\u670d\u52a1\u5668\u200b\u7684\u200b ACK \u200b\u7ea7\u522b\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b-1\uff0c\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b Producer \u200b\u5230\u200b Server \u200b\u4e4b\u95f4\u200b\u4e0d\u4f1a\u200b\u4e22\u5931\u200b\u6570\u636e\u200b\uff0c\u200b\u5373\u200b At Least Once \u200b\u8bed\u4e49\u200b\u3002\u200b\u76f8\u5bf9\u200b\u7684\u200b\uff0c\u200b\u5c06\u200b\u670d\u52a1\u5668\u200b ACK \u200b\u7ea7\u522b\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\uff0c\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b\u751f\u4ea7\u8005\u200b\u6bcf\u6761\u200b\u6d88\u606f\u200b\u53ea\u4f1a\u200b\u88ab\u200b \u200b\u53d1\u9001\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5373\u200b At Most Once \u200b\u8bed\u4e49\u200b\u3002</p> <p>At Least Once:\u200b\u4e0d\u200b\u4e22\u5931\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u91cd\u590d\u200b</p> <p>At Most Once\uff1a\u200b\u4e0d\u200b\u91cd\u590d\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4e22\u5931\u200b</p> <p>At Least Once + \u200b\u5e42\u200b\u7b49\u200b\u6027\u200b = Exactly Once</p> <p>\u200b\u8981\u200b\u542f\u7528\u200b\u5e42\u200b\u7b49\u200b\u6027\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5c06\u200b Producer \u200b\u7684\u200b\u53c2\u6570\u200b\u4e2d\u200b enable.idompotence \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b true \u200b\u5373\u53ef\u200b\u3002Kafka \u200b\u7684\u200b\u5e42\u200b\u7b49\u200b\u6027\u200b\u5b9e\u73b0\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u5c06\u200b\u539f\u6765\u200b\u4e0b\u6e38\u200b\u9700\u8981\u200b\u505a\u200b\u7684\u200b\u53bb\u200b\u91cd\u200b\u653e\u5728\u200b\u4e86\u200b\u6570\u636e\u200b\u4e0a\u6e38\u200b\u3002\u200b\u5f00\u542f\u200b\u5e42\u200b\u7b49\u200b\u6027\u200b\u7684\u200b Producer \u200b\u5728\u200b \u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u88ab\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b PID\uff0c\u200b\u53d1\u200b\u5f80\u200b\u540c\u4e00\u200b Partition \u200b\u7684\u200b\u6d88\u606f\u200b\u4f1a\u200b\u9644\u5e26\u200b Sequence Number\u3002\u200b\u800c\u200b Broker \u200b\u7aef\u4f1a\u200b\u5bf9\u200b\u505a\u200b\u7f13\u5b58\u200b\uff0c\u200b\u5f53\u200b\u5177\u6709\u200b\u76f8\u540c\u200b\u4e3b\u952e\u200b\u7684\u200b\u6d88\u606f\u200b\u63d0\u4ea4\u200b\u65f6\u200b\uff0cBroker \u200b\u53ea\u200b \u200b\u4f1a\u200b\u6301\u4e45\u200b\u5316\u200b\u4e00\u6761\u200b\u3002 \u200b\u4f46\u662f\u200b PID \u200b\u91cd\u542f\u200b\u5c31\u200b\u4f1a\u200b\u53d8\u5316\u200b\uff0c\u200b\u540c\u65f6\u200b\u4e0d\u540c\u200b\u7684\u200b Partition \u200b\u4e5f\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b\u4e3b\u952e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5e42\u200b\u7b49\u200b\u6027\u200b\u65e0\u6cd5\u200b\u4fdd\u8bc1\u200b\u8de8\u200b \u200b\u5206\u533a\u200b\u8de8\u4f1a\u200b\u8bdd\u200b\u7684\u200b Exactly Once\u3002</p>"},{"location":"mq/kafka/source/#_9","title":"\u6d88\u8d39\u8005","text":""},{"location":"mq/kafka/source/#_10","title":"\u6d88\u8d39\u200b\u65b9\u5f0f","text":"<p>consumer \u200b\u91c7\u7528\u200b pull\uff08\u200b\u62c9\u200b\uff09\u200b\u6a21\u5f0f\u200b\u4ece\u200b broker \u200b\u4e2d\u200b\u8bfb\u53d6\u6570\u636e\u200b\u3002 </p> <p>push\uff08\u200b\u63a8\u200b\uff09\u200b\u6a21\u5f0f\u200b\u5f88\u96be\u200b\u9002\u5e94\u200b\u6d88\u8d39\u200b\u901f\u7387\u200b\u4e0d\u540c\u200b\u7684\u200b\u6d88\u8d39\u8005\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6d88\u606f\u200b\u53d1\u9001\u200b\u901f\u7387\u200b\u662f\u200b\u7531\u200b broker \u200b\u51b3\u5b9a\u200b\u7684\u200b\u3002\u200b\u6d88\u8d39\u8005\u200b\u4f1a\u200b\u963b\u585e\u200b</p> <p>pull \u200b\u6a21\u5f0f\u200b\u4e0d\u8db3\u4e4b\u5904\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b kafka \u200b\u6ca1\u6709\u200b\u6570\u636e\u200b\uff0c\u200b\u6d88\u8d39\u8005\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u8f6e\u8be2\u200b\u3002\u200b\u9488\u5bf9\u200b\u8fd9\u200b\u4e00\u70b9\u200b\uff0cKafka \u200b\u7684\u200b\u6d88\u8d39\u8005\u200b\u5728\u200b\u6d88\u8d39\u200b\u6570\u636e\u200b\u65f6\u4f1a\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u65f6\u200b\u957f\u200b\u53c2\u6570\u200b timeout\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u6ca1\u6709\u200b \u200b\u6570\u636e\u200b\u53ef\u200b\u4f9b\u200b\u6d88\u8d39\u200b\uff0cconsumer \u200b\u4f1a\u200b\u7b49\u5f85\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u4e4b\u540e\u200b\u518d\u200b\u8fd4\u56de\u200b\uff0c\u200b\u8fd9\u6bb5\u200b\u65f6\u957f\u200b\u5373\u200b\u4e3a\u200b timeout\u3002</p>"},{"location":"mq/kafka/source/#_11","title":"\u5206\u533a\u200b\u5206\u914d\u200b\u7b56\u7565","text":"<p>\u200b\u53c2\u8003\u200b </p> <p>\u200b\u5206\u533a\u200b\u5206\u914d\u200b</p> <p>\u200b\u4e00\u4e2a\u200btopic\u200b\u4f1a\u200b\u6709\u200b\u591a\u4e2a\u200b\u5206\u533a\u200b\u3002\u200b\u4e00\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u7ec4\u4f1a\u200b\u6709\u200b\u591a\u4e2a\u200b\u6d88\u8d39\u8005\u200b</p>"},{"location":"mq/kafka/source/#roundrobin","title":"RoundRobin","text":"<p>1.\u200b\u6d88\u8d39\u8005\u200b\u6309\u7167\u200b\u5b57\u5178\u200b\u5e8f\u200b\u6392\u5e8f\u200b c0 c1 c2...</p> <p>2.topic\u200b\u6309\u7167\u200b\u5b57\u5178\u200b\u5e8f\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5f97\u5230\u200b\u6bcf\u4e2a\u200btopic\u200b\u6240\u6709\u200b\u7684\u200b\u5206\u533a\u200b\uff0c\u200b\u4ece\u800c\u200b\u5f97\u5230\u200b\u5206\u533a\u200b\u96c6\u5408\u200b</p> <p>3.\u200b\u904d\u5386\u200b\u5206\u533a\u200b\u96c6\u5408\u200b\uff0c\u200b\u540c\u65f6\u200b\u8f6e\u8be2\u200b\u6d88\u8d39\u8005\u200b</p> <p>4.\u200b\u5982\u679c\u200b\u8f6e\u8be2\u200b\u7684\u200b\u6d88\u8d39\u8005\u200b\u6ca1\u6709\u200b\u8ba2\u9605\u200b\u5f53\u524d\u200b\u5206\u533a\u200b\u6240\u5728\u200b\u7684\u200btopic\u200b\u5219\u200b\u8df3\u200b\u8fc7\u200b\u5f53\u524d\u200b\u6d88\u8d39\u8005\u200b,g\u200b\u7ed9\u200b\u5f53\u524d\u200b\u5206\u533a\u200b\u7ed9\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u5426\u5219\u200b\u5206\u914d\u200b\u7ed9\u200b\u5f53\u524d\u200b\u6d88\u8d39\u8005\u200b \u200b\u540c\u65f6\u200b\u904d\u5386\u200b\u5206\u533a\u200b</p> <p>3\u200b\u4e2a\u200bTopic\uff1aT0\uff083\u200b\u4e2a\u200b\u5206\u533a\u200b0, 1, 2\uff09, T1\uff08\u200b\u4e24\u4e2a\u200b\u5206\u533a\u200b0, 1\uff09, T2\uff084\u200b\u4e2a\u200b\u5206\u533a\u200b0, 1, 2, 3\uff09\uff1b  3\u200b\u4e2a\u200bconsumer: C0\u200b\u8ba2\u9605\u200b\u4e86\u200b[T0, T1]\uff0c C1\u200b\u8ba2\u9605\u200b\u4e86\u200b[T1, T2]\uff0c C2\u200b\u8ba2\u9605\u200b\u4e86\u200b[T2, T0]\uff1b</p> <p>roundrobin\u200b\u7ed3\u679c\u200b\u5206\u914d\u200b\u7ed3\u679c\u200b\u5982\u4e0b\u200b\uff1a  T0-P0\u200b\u5206\u914d\u200b\u7ed9\u200bC0\uff0cT0-P1\u200b\u5206\u914d\u200b\u7ed9\u200bC2\uff0cT0-P2\u200b\u5206\u914d\u200b\u7ed9\u200bC0\uff0c  T1-P0\u200b\u5206\u914d\u200b\u7ed9\u200bC1\uff0cT1-P1\u200b\u5206\u914d\u200b\u7ed9\u200bC0\uff0c  T2-P0\u200b\u5206\u914d\u200b\u7ed9\u200bC1\uff0cT2-P1\u200b\u5206\u914d\u200b\u7ed9\u200bC2\uff0cT2-P2\u200b\u5206\u914d\u200b\u7ed9\u200bC1\uff0cT0-P3\u200b\u5206\u914d\u200b\u7ed9\u200bC2\uff1b</p>"},{"location":"mq/kafka/source/#range","title":"range","text":"<p>1.\u200b\u83b7\u53d6\u200btopic\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u5206\u533a\u200b p0 p1 p2</p> <p>2.\u200b\u6d88\u8d39\u8005\u200b\u6309\u7167\u200b\u5b57\u5178\u200b\u5e8f\u200b\u6392\u5e8f\u200b c0 c1 c2</p> <p>3.\u200b\u5206\u533a\u200b\u6570\u9664\u200b\u6d88\u8d39\u8005\u200b\u6570\u200b\uff0c\u200b\u5f97\u5230\u200bn</p> <p>4.\u200b\u5206\u533a\u200b\u6570\u5bf9\u200b\u6d88\u8d39\u8005\u200b\u6570\u53d6\u200b\u4f59\u200b\uff0c\u200b\u5f97\u5230\u200bm</p> <p>5.\u200b\u6d88\u8d39\u8005\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u524d\u200bm\u200b\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u6709\u200bn+1\u200b\u5206\u533a\u200b\uff0c\u200b\u5269\u4f59\u200b\u7684\u200b\u6d88\u8d39\u8005\u200b\u5206\u914d\u200bn\u200b\u4e2a\u200b\u5206\u533a\u200b</p> <p></p>"},{"location":"mq/kafka/source/#_12","title":"\u6ce8\u610f","text":"<p>\u200b\u5f53\u200b\u6d88\u8d39\u8005\u200b\u7ec4\u5185\u200b\u6d88\u8d39\u8005\u200b\u53d1\u751f\u53d8\u5316\u200b\u65f6\u200b \u200b\u5206\u533a\u200b\u91cd\u65b0\u5206\u914d\u200b</p>"},{"location":"mq/kafka/source/#offset","title":"offset \u200b\u7ef4\u62a4","text":"<p>\u200b\u8bb0\u5f55\u200b\u6d88\u8d39\u8005\u200b\u6d88\u8d39\u200b\u5230\u200b\u54ea\u6761\u200b\u6d88\u606f\u200b</p> <p>Kafka 0.9 \u200b\u7248\u672c\u200b\u4e4b\u524d\u200b\uff0cconsumer \u200b\u9ed8\u8ba4\u200b\u5c06\u200b offset \u200b\u4fdd\u5b58\u200b\u5728\u200b Zookeeper \u200b\u4e2d\u200b\uff0c\u200b\u4ece\u200b 0.9 \u200b\u7248\u672c\u200b\u5f00\u59cb\u200b\uff0c consumer \u200b\u9ed8\u8ba4\u200b\u5c06\u200b offset \u200b\u4fdd\u5b58\u200b\u5728\u200b Kafka \u200b\u4e00\u4e2a\u200b\u5185\u7f6e\u200b\u7684\u200b topic \u200b\u4e2d\u200b\uff0c\u200b\u8be5\u200b topic \u200b\u4e3a\u200b__consumer_offsets\u3002</p> <p>offset \u200b\u6d88\u8d39\u8005\u200b\u7ec4\u200b + \u200b\u4e3b\u9898\u200b + \u200b\u5206\u533a\u200b</p> <p>consumer.properties</p> <pre><code>exclude.internal.topics=false\n</code></pre>"},{"location":"mq/kafka/source/#1zk","title":"1.zk","text":"<pre><code>./kafka-console-consumer.sh --topic __consumer_offsets --zookeeper matt05:2181 --formatter \"kafka.coordinator.group.GroupMetadataManager\\$OffsetsMessageFormatter\" --consumer.config ../config/consumer.properties --from-beginning\n</code></pre>"},{"location":"mq/kafka/source/#2mq","title":"2\u3001mq","text":"<pre><code>[console-consumer-39623,bigdata,0]::[OffsetMetadata[4,NO_METADATA],CommitTime 1637488435475,ExpirationTime 1637574835475]\n[console-consumer-39623,bigdata,1]::[OffsetMetadata[4,NO_METADATA],CommitTime 1637488435475,ExpirationTime 1637574835475]\n</code></pre>"},{"location":"mq/kafka/source/#_13","title":"\u9a8c\u8bc1\u200b\u4e00\u4e2a\u200b\u5206\u533a\u200b\u53ea\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u4e00\u4e2a\u200b\u6d88\u8d39\u8005\u200b\u6d88\u8d39","text":"<p>matt05 matt06</p> <pre><code>vi consumer.properties\n</code></pre> <p>matt05 matt06</p> <pre><code>group.id=matt\n</code></pre> <p>5 6 \u200b\u542f\u52a8\u200b\u6d88\u8d39\u8005\u200b</p> <pre><code>./kafka-console-consumer.sh --zookeeper matt05:2181 --topic first --consumer.config ../config/consumer.properties\n</code></pre> <p>7\u200b\u751f\u4ea7\u8005\u200b</p> <pre><code>./kafka-console-producer.sh --broker-list matt05:9092 --topic first\n</code></pre>"},{"location":"mq/kafka/source/#kafka_1","title":"kafka","text":"<p>1\uff09\u200b\u987a\u5e8f\u200b\u5199\u200b\u78c1\u76d8\u200b Kafka \u200b\u7684\u200b producer \u200b\u751f\u4ea7\u200b\u6570\u636e\u200b\uff0c\u200b\u8981\u200b\u5199\u5165\u200b\u5230\u200b log \u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u5199\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u4e00\u76f4\u200b\u8ffd\u52a0\u200b\u5230\u200b\u6587\u4ef6\u200b\u672b\u7aef\u200b\uff0c \u200b\u4e3a\u200b\u987a\u5e8f\u200b\u5199\u200b\u3002\u200b\u5b98\u7f51\u200b\u6709\u200b\u6570\u636e\u200b\u8868\u660e\u200b\uff0c\u200b\u540c\u6837\u200b\u7684\u200b\u78c1\u76d8\u200b\uff0c\u200b\u987a\u5e8f\u200b\u5199\u80fd\u200b\u5230\u200b 600M/s\uff0c\u200b\u800c\u200b\u968f\u673a\u200b\u5199\u200b\u53ea\u6709\u200b 100K/s\u3002\u200b\u8fd9\u200b \u200b\u4e0e\u200b\u78c1\u76d8\u200b\u7684\u200b\u673a\u68b0\u200b\u673a\u6784\u200b\u6709\u5173\u200b\uff0c\u200b\u987a\u5e8f\u200b\u5199\u200b\u4e4b\u6240\u4ee5\u200b\u5feb\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u5176\u200b\u7701\u53bb\u200b\u4e86\u200b\u5927\u91cf\u200b\u78c1\u5934\u200b\u5bfb\u5740\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</p> <p>2\uff09\u200b\u96f6\u200b\u62f7\u8d1d\u200b</p> <p></p> <p></p>"},{"location":"mq/kafka/source/#zk","title":"zk","text":"<p>Kafka \u200b\u96c6\u7fa4\u200b\u4e2d\u6709\u200b\u4e00\u4e2a\u200b broker \u200b\u4f1a\u200b\u88ab\u200b\u9009\u4e3e\u200b\u4e3a\u200b Controller\uff0c\u200b\u8d1f\u8d23\u7ba1\u7406\u200b\u96c6\u7fa4\u200b broker \u200b\u7684\u200b\u4e0a\u4e0b\u200b\u7ebf\u200b\uff0c\u200b\u6240\u200b \u200b\u6709\u200b topic \u200b\u7684\u200b\u5206\u533a\u200b\u526f\u672c\u200b\u5206\u914d\u200b\u548c\u200b leader \u200b\u9009\u4e3e\u200b\u7b49\u200b\u5de5\u4f5c\u200b\u3002 Controller \u200b\u7684\u200b\u7ba1\u7406\u5de5\u4f5c\u200b\u90fd\u200b\u662f\u200b\u4f9d\u8d56\u4e8e\u200b Zookeeper \u200b\u7684\u200b</p> <p></p> <p>zk:\u200b\u76d1\u542c\u200b\u8282\u70b9\u200b</p>"},{"location":"mq/kafka/source/#_14","title":"\u4e8b\u52a1","text":"<p>Kafka \u200b\u4ece\u200b 0.11 \u200b\u7248\u672c\u200b\u5f00\u59cb\u200b\u5f15\u5165\u200b\u4e86\u200b\u4e8b\u52a1\u200b\u652f\u6301\u200b\u3002\u200b\u4e8b\u52a1\u200b\u53ef\u4ee5\u200b\u4fdd\u8bc1\u200b Kafka \u200b\u5728\u200b Exactly Once \u200b\u8bed\u4e49\u200b\u7684\u200b\u57fa\u200b \u200b\u7840\u200b\u4e0a\u200b\uff0c\u200b\u751f\u4ea7\u200b\u548c\u200b\u6d88\u8d39\u200b\u53ef\u4ee5\u200b\u8de8\u200b\u5206\u533a\u200b\u548c\u200b\u4f1a\u200b\u8bdd\u200b\uff0c\u200b\u8981\u4e48\u200b\u5168\u90e8\u200b\u6210\u529f\u200b\uff0c\u200b\u8981\u4e48\u200b\u5168\u90e8\u200b\u5931\u8d25\u200b\u3002</p>"},{"location":"mq/kafka/source/#producer","title":"producer","text":"<p>Transaction ID\uff0c\u200b\u5e76\u200b\u5c06\u200b Producer \u200b\u83b7\u5f97\u200b\u7684\u200bPID \u200b\u548c\u200bTransaction ID \u200b\u7ed1\u5b9a\u200b\u3002\u200b\u5e76\u200b\u5199\u5165\u200b\u5185\u90e8\u200btopic\u3002</p> <p>TransactionL\uff1a\u200b\u7528\u6237\u200b\u7ed9\u5b9a\u200b\u7684\u200b</p>"},{"location":"mq/kafka/source/#consumer","title":"consumer","text":"<p>\u200b\u6d88\u8d39\u8005\u200b \u200b\u4e8b\u52a1\u200b\u8f83\u5f31\u200b</p> <p>\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200boffset</p>"},{"location":"pro/a/","title":"A","text":"<pre><code># \u200b\u6210\u529f\u200b\n200\n\n# \u200b\u4f9d\u8d56\u200b\u7684\u200b\u670d\u52a1\u200b\u5f02\u5e38\u200b\n3xxxx\n# mysql\n303306\n# redis\n306379\n\n# kafka\n339092\n# \u200b\u4f9d\u8d56\u200b\u670d\u52a1\u200b\u51fa\u9519\u200b\n368080\n\n\n# \u200b\u8bf7\u6c42\u200b\u53c2\u6570\u200b\u6709\u8bef\u200b\n40400\n# \u200b\u6ca1\u6709\u200b\u767b\u5f55\u200b\n41401\n# \u200b\u6ca1\u6709\u200b\u6743\u9650\u200b\n41403\n\n\n\n\n\n# \u200b\u5904\u7406\u200b\u51fa\u9519\u200b\n50500\n</code></pre>"},{"location":"s/s1/","title":"S1","text":"<p>\u200b\u603b\u7ed3\u200b\uff1a</p> <p>\u200b\u80cc\u666f\u200b\uff1a\u200b\u4ecb\u7ecd\u200b\u81ea\u5df1\u200b\u5de5\u4f5c\u200b\u804c\u4f4d\u200b\u548c\u200b\u5185\u5bb9\u200b</p> <p>\u200b\u76ee\u6807\u200b\uff1a\u200b\u8bbe\u5b9a\u200b\u53ef\u200b\u91cf\u5316\u200b\u7684\u200b\u76ee\u6807\u200b\uff08\u200b\u7a33\u5b9a\u6027\u200b+\u200b\u6210\u672c\u200b+\u200b\u6548\u7387\u200b\uff09</p> <p>\u200b\u6210\u679c\u200b\uff1a\uff08\uff09</p> <p>\u200b\u603b\u7ed3\u200b\uff1a</p> <p>jiushifeier11</p>"},{"location":"util/file/","title":"File","text":"<p>windows</p> <p>AppData</p> <p>\u2003\u2003xxApp:\u200b\u7cfb\u7edf\u200b\u6570\u636e\u200b</p> <p>\u2003\u2003soft</p> <p>develop</p> <p>\u2003\u2003dev</p> <p> env</p> <p>home</p> <p>\u2003\u2003matt</p> <p> <code>download</code></p> <p> <code>life</code></p> <p>\u2003\u2003\u2003\u2003\u2003\u2003img</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003music</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003video</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003file</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003self</p> <p> <code>study</code></p> <p>\u2003\u2003\u2003\u2003\u2003\u2003api</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003book</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003res</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003note</p> <p> <code>wordkspace</code></p> <p>ProgramFiles</p> <p>var</p> <p>life:img,video,self</p> <p>study</p> <p>work:\u200b\u5165\u804c\u200b\uff0c</p>"},{"location":"util/ui/","title":"Ui","text":""},{"location":"util/ui/#node","title":"node","text":""},{"location":"util/ui/#_1","title":"\u5b89\u88c5","text":"<pre><code>brew install node\n</code></pre>"},{"location":"util/ui/#_2","title":"\u9a8c\u8bc1","text":"<pre><code>node -v\nnpm -v\n</code></pre>"},{"location":"util/ui/#_3","title":"\u914d\u7f6e\u200b\u955c\u50cf","text":"<pre><code>sudo npm install -g cnpm --registry=https://registry.npm.taobao.org\n</code></pre>"},{"location":"util/blog/gitbook/","title":"Gitbook","text":"<p>\u200b\u5b89\u88c5\u200bnodejs</p> <p>\u200b\u5b89\u88c5\u200b gitbook-cli</p> <pre><code>npm install gitbook-cli -g\n\n\n\n\n\ngitbook init ./t\n\n\n\n\n\n/opt/homebrew/lib/node_modules/gitbook-cli/node_modules/npm/node_modules/graceful-fs\n\n\n\npolyfills.js\n</code></pre> <p>\u200b\u6ce8\u91ca\u200b\u6389\u200b\u5373\u53ef\u200b</p> <p></p>"},{"location":"util/blog/mkdocs/","title":"Mkdocs","text":""},{"location":"util/blog/mkdocs/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"util/blog/mkdocs/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre> <p>\u200b\u5185\u5bb9\u200b\u9009\u9879\u5361\u200b</p> CC++ <pre><code>#include &lt;stdio.h&gt;\nint main(void) {\n  printf(\"Hello world!\\n\");\n  return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\nint main(void) {\n  std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre> Note <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> A <p>aa bb cc ee eeeeee</p> Cc <p>hello word</p>"},{"location":"util/dev/git/","title":"git","text":""},{"location":"util/dev/git/#_1","title":"\u5b89\u88c5","text":""},{"location":"util/dev/git/#mac","title":"Mac","text":""},{"location":"util/dev/git/#_2","title":"\u5b89\u88c5","text":"<p>https://www.git-scm.com/download/mac</p> <p>\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b</p> <p></p>"},{"location":"util/dev/git/#_3","title":"\u914d\u7f6e","text":"<pre><code>git config --global user.name \"matt\"              # \u200b\u4f60\u200b\u7684\u200b\u540d\u5b57\u200b\ngit config --global user.email \"imattdu@gmail.com\"     # \u200b\u4f60\u200b\u7684\u200b\u90ae\u7bb1\u200b\n\n\n# \u200b\u914d\u7f6e\u200bgit\u200b\u4ee3\u7406\u200b\ngit config --global http.proxy 'http://127.0.0.1:7890/' \ngit config --global https.proxy 'http://127.0.0.1:7890/'\n\n# \u200b\u914d\u7f6e\u200bgithub\u200b\u4ee3\u7406\u200b\ngit config --global http.https://github.com.proxy 'http://127.0.0.1:7890/'\n\n# \u200b\u53d6\u6d88\u200b\u4ee3\u7406\u200b\ngit config --global --unset http.https://github.com.proxy 'http://127.0.0.1:7890/'\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u5148\u200b\u5b89\u88c5\u200bbrew</p> <pre><code>brew install git\n</code></pre>"},{"location":"util/dev/git/#git","title":"\u5c06\u200b\u672c\u5730\u200b\u5b89\u88c5\u200b\u7684\u200bgit\u200b\u5378\u8f7d","text":"<pre><code>cd \uff0fusr\uff0fbin\nsudo rm \uff0drf git\uff0a\n</code></pre>"},{"location":"util/dev/git/#windows","title":"Windows","text":""},{"location":"util/dev/git/#ssh","title":"SSH\u200b\u767b\u5f55","text":"<pre><code>cd ~ # \u200b\u8fdb\u5165\u200b\u5bb6\u200b\u76ee\u5f55\u200b\n\nrm -rvf .ssh # \u200b\u5220\u9664\u200b.ssh \u200b\u76ee\u5f55\u200b\n\nssh-keygen -t rsa -C matt17@qq.com # \u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b\u751f\u6210\u200b.ssh \u200b\u5bc6\u94a5\u200b\u76ee\u5f55\u200b\n</code></pre> <pre><code>cd .ssh\n\ncat id_rsa.pub\n</code></pre> <p>\u200b\u590d\u5236\u200b id_rsa.pub \u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b\uff0c\u200b\u767b\u5f55\u200b GitHub\uff0c\u200b\u70b9\u51fb\u200b\u7528\u6237\u200b\u5934\u50cf\u200b\u2192Settings\u2192SSH and GPG keys</p> <p>New SSH Key</p> <p>\u200b\u8f93\u5165\u200b\u590d\u5236\u200b\u7684\u200b\u5bc6\u94a5\u200b\u4fe1\u606f\u200b</p> <p>1.failed to push some refs to 'git@github.com:pavi-du/note.git'</p> <p>\u200b\u95ee\u9898\u200b\uff1a\u200b\u81ea\u5df1\u200b\u5728\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u66f4\u6539\u200b\u4e86\u200b\u5185\u5bb9\u200b\uff0c\u200b\u800c\u200b\u672c\u5730\u200b\u4e0d\u200b\u77e5\u9053\u200b\uff0c\u200b\u76f4\u63a5\u200b\u63d0\u4ea4\u200b</p> <p>\u200b\u89e3\u51b3\u200b\uff1a</p> <pre><code>// git fetch+merge\ngit pull origin master \n</code></pre>"},{"location":"util/dev/git/#_4","title":"\u547d\u4ee4","text":""},{"location":"util/dev/git/#_5","title":"\u57fa\u672c","text":"<pre><code>// \u200b\u7b2c\u4e00\u200b\u4e0b\u200b\u514b\u9686\u200b\u4e0b\u6765\u200b\ngit clone https://github.com/imattdu/note.git\ngit remote -v\n// \u200b\u8bbe\u7f6e\u200b\u522b\u540d\u200b\ngit remote add origin https://github.com/imattdu/note.git\n// \u200b\u62c9\u53d6\u200b\ngit pull origin\n\n// git add --all\ngit add --all\n\ngit commit -m \"xxxm\"\n\n// \u200b\u63a8\u9001\u200b\n//git push &lt;\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u540d\u200b&gt; &lt;\u200b\u672c\u5730\u200b\u5206\u652f\u200b\u540d\u200b&gt;:&lt;\u200b\u8fdc\u7a0b\u200b\u5206\u652f\u200b\u540d\u200b&gt;\ngit push origin master:master\n</code></pre>"},{"location":"util/dev/git/#_6","title":"\u5206\u652f","text":"<pre><code>git branch // \u200b\u67e5\u770b\u200b\u672c\u5730\u200b\u5206\u652f\u200b\n\ngit branch -r // \u200b\u67e5\u770b\u200b\u8fdc\u7a0b\u200b\u5206\u652f\u200b\n\ngit branch -a // \u200b\u67e5\u770b\u200b\u672c\u5730\u200b\u5206\u652f\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u5206\u652f\u200b\n\ngit branch test // \u200b\u521b\u5efa\u200btest\u200b\u5206\u652f\u200b\n\n\ngit checkout test // \u200b\u5207\u6362\u200btest\u200b\u5206\u652f\u200b\n\ngit merge test // \u200b\u5408\u5e76\u200btest\u200b\u5206\u652f\u200b\n</code></pre>"},{"location":"util/dev/git/#_7","title":"\u4fee\u6539\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u5730\u5740","text":"<pre><code>git remote rm origin\n\ngit remote add origin git@github.com:imattdu/studyhdfs.git\n\n\ngit remote set-url origin https://github.com/vuejs/vue.git\n</code></pre>"},{"location":"util/dev/git/#_8","title":"\u9519\u8bef","text":""},{"location":"util/dev/git/#git-clone","title":"\u7531\u4e8e\u200b\u7b2c\u4e00\u6b21\u200b\u4f7f\u7528\u200b\u4e0d\u662f\u200bgit clone \u200b\u7136\u540e\u200b\u76f4\u63a5\u200b\u63a8\u9001","text":"<pre><code>git pull origin master --allow-unrelated-histories\n// \u200b\u5408\u5e76\u200b\u4fe9\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b\u4ed3\u5e93\u200b\n</code></pre> <p>IDEA\u200b\u5982\u4f55\u200b\u7b2c\u4e00\u6b21\u200b\u521b\u5efa\u200b\u9879\u76ee\u200b\u63d0\u4ea4\u200b</p> <p>\u200b\u9996\u5148\u200b\u5728\u200bgithup\u200b\u4e2d\u200b\u521b\u5efa\u200b\u9879\u76ee\u200b</p> <p></p> <p></p> <p>\u200b\u4e4b\u540e\u200b\u7684\u200b\u4fe9\u200b\u6b65\u200b</p> <p></p> <p></p> <p></p> <p>\u200b\u8fd9\u91cc\u200b\u8bb0\u5f97\u200b\u548c\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u7684\u200b\u540d\u5b57\u200b\u76f8\u540c\u200b\uff0c\u200b\u5982\u679c\u200b\u8fdc\u7a0b\u200b\u662f\u200bmaster,\u200b\u8fd9\u91cc\u200b\u4e5f\u200b\u5f97\u200b\u662f\u200bmaster</p> <p>\u200b\u4e4b\u540e\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u73b0\u200b Push rejected: Push to origin/master was rejected</p> <p>\u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u4ee5\u4e0b\u5185\u5bb9\u200b\u5373\u53ef\u200b</p> <pre><code>git pull origin master --allow-unrelated-histories\n// master\u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u5206\u652f\u200b\u540d\u200b\n</code></pre> <p>\u200b\u7d27\u63a5\u7740\u200badd,commit,push\u200b\u5373\u53ef\u200b</p> <pre><code># IntelliJ project files\n.idea\n*.iml\nout\ngen\n\n# Compiled class file\n*.class\n# Log file\n*.log\n# BlueJ files\n*.ctxt\n# Mobile Tools for Java (J2ME)\n.mtj.tmp/\n\n# Package Files #\n*.jar\n*.war\n*.nar\n*.ear\n*.zip\n*.tar.gz\n*.rar\n# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml\nhs_err_pid*\n.classpath\n.project\n.settings\ntarget\n# .gitignore\n</code></pre> <pre><code>git config --global http.https://github.com.proxy https://127.0.0.1:XXXX\ngit config --global https.https://github.com.proxy https://127.0.0.1:XXXX\n\ngit config --global --unset http.proxy\ngit config --global --unset https.proxy\n\n\ngit config --global --unset http.https://github.com.proxy\ngit config --global --unset https.https://github.com.proxy\n\n\ngit config --global -l\n</code></pre> <p>git\u200b\u8bbe\u7f6e\u200b\u4ee3\u7406\u200b</p> <pre><code>git config --global http.proxy 'http://127.0.0.1:10809/' \ngit config --global https.proxy 'http://127.0.0.1:10809/'\n</code></pre> <p>\u200b\u6253\u5f00\u200b\u8bbe\u7f6e\u200b-\u300b\u200b\u7f51\u7edc\u200b\u8bbe\u7f6e\u200b-\u300b\u200b\u627e\u200b\u4ee3\u7406\u200b-\u300b\u200b\u7aef\u53e3\u53f7\u200b</p> <pre><code>git config --global --unset http.proxy\n</code></pre> <pre><code># github\u200b\u8bbe\u7f6e\u200b\u4ee3\u7406\u200b\ngit config --global http.https://github.com.proxy 'http://127.0.0.1:10809/'\n\n# \u200b\u53d6\u6d88\u200b\u4ee3\u7406\u200b\ngit config --global --unset http.https://github.com.proxy 'http://127.0.0.1:10809/'\n</code></pre> <p></p> <p>\u200b\u67e5\u9605\u200b\u4e86\u200b\u4e00\u4e0b\u200b\u8d44\u6599\u200b\uff0c\u200b\u53d1\u73b0\u200b\u53ef\u4ee5\u200b\u5728\u200bpull\u200b\u547d\u4ee4\u200b\u540e\u200b\u7d27\u63a5\u7740\u200b\u4f7f\u7528\u200b<code>--allow-unrelated-history</code>\u200b\u9009\u9879\u200b\u6765\u200b\u89e3\u51b3\u95ee\u9898\u200b\uff08\u200b\u8be5\u200b\u9009\u9879\u200b\u53ef\u4ee5\u200b\u5408\u5e76\u200b\u4e24\u4e2a\u200b\u72ec\u7acb\u200b\u542f\u52a8\u200b\u4ed3\u5e93\u200b\u7684\u200b\u5386\u53f2\u200b\uff09\u3002</p> <pre><code>git stash #\u200b\u5c01\u5b58\u200b\u4fee\u6539\u200b\n\n\n$git pull origin master --allow-unrelated-histories\n\ngit stash pop #\u200b\u628a\u200b\u4fee\u6539\u200b\u8fd8\u539f\u200b\n</code></pre> <pre><code>$ git push &lt;\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u540d\u200b&gt; &lt;\u200b\u672c\u5730\u200b\u5206\u652f\u200b\u540d\u200b&gt;:&lt;\u200b\u8fdc\u7a0b\u200b\u5206\u652f\u200b\u540d\u200b&gt;\n\u200b\u4e5f\u200b\u5c31\u662f\u200b\n$git push origin master:master\n\u200b\u63d0\u4ea4\u200b\u6210\u529f\u200b\u3002\n</code></pre> <p>git stash\uff1a\u200b\u5907\u4efd\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u533a\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4ece\u200b\u6700\u8fd1\u200b\u7684\u200b\u4e00\u6b21\u200b\u63d0\u4ea4\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u76f8\u5173\u200b\u5185\u5bb9\u200b\uff0c\u200b\u8ba9\u200b\u5de5\u4f5c\u200b\u533a\u200b\u4fdd\u8bc1\u200b\u548c\u200b\u4e0a\u6b21\u200b\u63d0\u4ea4\u200b\u7684\u200b\u5185\u5bb9\u200b\u4e00\u81f4\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u5c06\u200b\u5f53\u524d\u5de5\u4f5c\u200b\u533a\u200b\u5185\u5bb9\u200b\u4fdd\u5b58\u200b\u5230\u200bGit\u200b\u6808\u4e2d\u200b git pull\uff1a\u200b\u62c9\u53d6\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u5f53\u524d\u200b\u5206\u652f\u200b\u4ee3\u7801\u200b git stash pop\uff1a\u200b\u4ece\u200bGit\u200b\u6808\u4e2d\u200b\u8bfb\u53d6\u200b\u6700\u8fd1\u200b\u4e00\u6b21\u200b\u4fdd\u5b58\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u6062\u590d\u200b\u5de5\u4f5c\u200b\u533a\u200b\u76f8\u5173\u200b\u5185\u5bb9\u200b\u3002\u200b\u540c\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u53ef\u80fd\u200b\u8fdb\u884c\u200b\u591a\u6b21\u200bstash\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u9700\u8981\u200b\u4fdd\u8bc1\u200b\u540e\u200bstash\u200b\u7684\u200b\u6700\u5148\u200b\u88ab\u200b\u53d6\u5230\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7528\u6808\u200b\uff08\u200b\u5148\u8fdb\u540e\u51fa\u200b\uff09\u200b\u6765\u200b\u7ba1\u7406\u200b\uff1bpop\u200b\u53d6\u6808\u200b\u9876\u200b\u7684\u200b\u5185\u5bb9\u200b\u5e76\u200b\u6062\u590d\u200b git stash list\uff1a\u200b\u663e\u793a\u200bGit\u200b\u6808\u5185\u200b\u7684\u200b\u6240\u6709\u200b\u5907\u4efd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u8fd9\u4e2a\u200b\u5217\u8868\u200b\u6765\u200b\u51b3\u5b9a\u200b\u4ece\u200b\u90a3\u4e2a\u200b\u5730\u65b9\u200b\u6062\u590d\u200b\u3002 git stash clear\uff1a\u200b\u6e05\u7a7a\u200bGit\u200b\u6808\u200b</p> <pre><code>git clone -b dev \u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u5730\u5740\u200b\n// \u200b\u9ed8\u8ba4\u200b\u62c9\u53d6\u200bmaster\u200b\u5206\u652f\u200b\ngit clone xxxx\n</code></pre> <pre><code>git fetch origin dev\ngit checkout -b dev origin/dev\ngit pull origin dev:dev\n</code></pre>"},{"location":"util/dev/git/#-","title":"\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u521b\u5efa\u200b-\u200b\u672c\u5730\u200b\u4ed3\u5e93\u200b\u521b\u5efa","text":"<pre><code>// \u200b\u672c\u5730\u200b\u521d\u59cb\u5316\u200b\ngit init\n\ngit add --all\ngit commit -m \"\"\n\n// \u200b\u5173\u8054\u200b\u4ed3\u5e93\u200b\ngit remote add origin \u200b\u8fdc\u7a0b\u200b\u4ed3\u5e93\u200b\u5730\u5740\u200b\ngit remote -v\n\ngit push origin master:master\n//\u200b\u63d0\u793a\u200b\u51fa\u9519\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b\u547d\u4ee4\u200b\u5408\u5e76\u200b\u5373\u53ef\u200b\n// \u200b\u5408\u5e76\u200b\u4fe9\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b\u4ed3\u5e93\u200b\ngit pull origin master --allow-unrelated-histories\n</code></pre> <pre><code>// \u200b\u521b\u5efa\u200b\u5206\u652f\u200b\ngit branch dev\n\n//\u200b\u5207\u6362\u200b\u5206\u652f\u200b\ngit checkout dev\n\ngit branch -a\n\n// \u200b\u5f53\u524d\u200b\u5728\u200bmaster\u200b\u5206\u652f\u200b\uff0c\u200b\u5408\u5e76\u200bdevf\ngit merge dev\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u51b2\u7a81\u200b\u6587\u4ef6\u200b</p> <p></p> <p></p> <p></p>"},{"location":"util/dev/git/#_9","title":"\u6362\u884c\u200b\u5f15\u53d1\u200b\u7684\u200b\u53d1\u6587","text":"<p>git config --global core.autocrlf false</p> <p>https://cnbin.github.io/blog/2015/06/19/git-core-dot-autocrlf-pei-zhi-shuo-ming/</p> <p>\u200b\u63d0\u793a\u200b\uff1a  git config pull.rebase false  # \u200b\u5408\u5e76\u200b \u200b\u63d0\u793a\u200b\uff1a  git config pull.rebase true   # \u200b\u53d8\u57fa\u200b \u200b\u63d0\u793a\u200b\uff1a  git config pull.ff only       # \u200b\u4ec5\u5feb\u200b\u8fdb\u200b</p> <p>\u200b\u5408\u5e76\u200b</p> <p>\u200b\u5206\u652f\u200b\u5e76\u200b\u6ca1\u6709\u200b\u6539\u53d8\u200b\u00b71</p> <p>\u200b\u53d8\u57fa\u200b\uff1a</p> <p>\u200b\u5206\u652f\u200b\u4e5f\u200b\u57fa\u4e8e\u200b\u6700\u65b0\u200b\u7684\u200b\u57fa\u7840\u200b\u6539\u53d8\u200b\u4e86\u200b</p> <pre><code>// master\u200b\u5206\u652f\u200b\u6267\u884c\u200bb1\u200b\u7684\u200b\u64cd\u4f5c\u200b \u200b\u57fa\u4e8e\u200b\u4ed6\u4eec\u200b\u6700\u8fd1\u200b\u7684\u200b\u7956\u5148\u200b\ngit rebase b1\n\n// \u200b\u63d0\u4ea4\u200b\u5df2\u200b\u89e3\u51b3\u200b\u7684\u200b\u4e8b\u9879\u200b\ngit add .\ngit rebase --continue\n\n\n// \u200b\u9000\u51fa\u200b\u53d8\u57fa\u200b\ngit rebase --abort\n</code></pre> <p>// \u200b\u4e0d\u200b\u63a8\u8350\u200b</p> <p><code>git stash pop --index</code> \u200b\u6062\u590d\u200b\u6700\u65b0\u200b\u7684\u200b\u8fdb\u5ea6\u200b\u5230\u200b\u5de5\u4f5c\u200b\u533a\u200b\u548c\u200b\u6682\u5b58\u533a\u200b</p> <pre><code>git stash save \"xxx\"\n\n\n\ngit stash list\ngit stash pop\ngit stash pop stash@{1}\n\ngit stash apply stash@{1}\n\ngit stash drop stash@{1}\n\ngit stash clear\n</code></pre> <p>\u200b\u5de5\u4f5c\u200b\u533a\u200b add \u200b\u6682\u5b58\u533a\u200b commit \u200b\u5206\u652f\u200b</p> <p>git reset --hard</p> <pre><code>--soft # \u200b\u8fd8\u539f\u200b HEAD\n--mixed # \u200b\u8fd8\u539f\u200b HEAD\u3001Index # \u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\n--hard # \u200b\u8fd8\u539f\u200b HEAD\u3001Index\u3001Working Directory\n</code></pre>"},{"location":"util/dev/git/#_10","title":"\u5ffd\u7565\u200b\u6587\u4ef6","text":"\u7b26\u200b \u200b\u53f7\u200b \u200b\u8bf4\u660e\u200b \u200b\u7a7a\u683c\u200b \u200b\u4e0d\u200b\u5339\u914d\u200b\u4efb\u610f\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53ef\u200b\u4f5c\u4e3a\u200b\u5206\u9694\u7b26\u200b\uff0c\u200b\u53ef\u7528\u200b\u53cd\u200b\u659c\u6760\u200b\u8f6c\u4e49\u200b # \u200b\u5f00\u5934\u200b \u200b\u6807\u8bc6\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u53cd\u200b\u659c\u6760\u200b\u8fdb\u884c\u200b\u8f6c\u4e49\u200b ! \u200b\u5f00\u5934\u200b \u200b\u6807\u8bc6\u200b\u5426\u5b9a\u200b\uff0c\u200b\u8be5\u200b\u6587\u4ef6\u200b\u5c06\u4f1a\u200b\u518d\u6b21\u200b\u88ab\u200b\u5305\u542b\u200b\uff0c\u200b\u5982\u679c\u200b\u6392\u9664\u200b\u4e86\u200b\u8be5\u200b\u6587\u4ef6\u200b\u7684\u200b\u7236\u7ea7\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b ! \u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u518d\u6b21\u200b\u88ab\u200b\u5305\u542b\u200b\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u53cd\u200b\u659c\u6760\u200b\u8fdb\u884c\u200b\u8f6c\u4e49\u200b / \u200b\u7ed3\u675f\u200b \u200b\u53ea\u200b\u5339\u914d\u200b\u6587\u4ef6\u5939\u200b\u4ee5\u53ca\u200b\u5728\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u200b\u5339\u914d\u200b\u8be5\u200b\u6587\u4ef6\u200b / \u200b\u5f00\u59cb\u200b\u7684\u200b\u6a21\u5f0f\u200b \u200b\u5339\u914d\u200b\u9879\u76ee\u200b\u8ddf\u200b\u76ee\u5f55\u200b ** \u200b\u5339\u914d\u200b\u591a\u7ea7\u200b\u76ee\u5f55\u200b\uff0c\u200b\u53ef\u200b\u5728\u200b\u5f00\u59cb\u200b\uff0c\u200b\u4e2d\u95f4\u200b\uff0c\u200b\u7ed3\u675f\u200b ? \u200b\u901a\u7528\u200b\u5339\u914d\u200b\u5355\u4e2a\u200b\u5b57\u7b26\u200b [] \u200b\u901a\u7528\u200b\u5339\u914d\u200b\u5355\u4e2a\u200b\u5b57\u7b26\u200b\u5217\u8868\u200b * \u200b\u901a\u7528\u200b\u5339\u914d\u200b\u591a\u4e2a\u200b\u5b57\u7b26"},{"location":"util/dev/git/#_11","title":"\u914d\u7f6e","text":""},{"location":"util/dev/git/#autocrlf","title":"\u6362\u884c\u7b26\u200b autocrlf","text":""},{"location":"util/dev/git/#_12","title":"\u6362\u884c","text":"<ul> <li>\\r = CR = Carriage-Return = \u200b\u56de\u8f66\u200b</li> <li>\\n = LF = Line-Feed = \u200b\u6362\u884c\u200b</li> <li>\\r\\n = CRLF = Carriage-Return Line-Feed = \u200b\u56de\u8f66\u200b\u6362\u884c\u200b</li> </ul> <p>Windows \u200b\u4e0b\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6587\u672c\u200b\u6362\u884c\u7b26\u200b\u662f\u200b \\r\\n\uff0cLinux \u200b\u4e0b\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6362\u884c\u7b26\u200b\u662f\u200b \\n\uff0cMac \u200b\u4e0b\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u6362\u884c\u7b26\u200b\u662f\u200b \\r\u3002</p>"},{"location":"util/dev/git/#autocrlf_1","title":"autocrlf \u200b\u53ef\u200b\u9009\u200b\u53c2\u6570","text":"<ul> <li>true \u200b\u8868\u793a\u200b\u5728\u200b\u63a8\u9001\u200b\u65f6\u200b\u8f6c\u6210\u200b \\n\uff0c\u200b\u5728\u200b\u62c9\u200b\u53d6\u65f6\u200b\u8f6c\u6210\u200b \\r\\n\u3002\u200b\u8fd9\u6837\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u8ba9\u200b Windows \u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\u80fd\u200b\u517c\u5bb9\u200b\u5f88\u591a\u200b\u7684\u200b\u5f00\u53d1\u5de5\u5177\u200b\uff08\u200b\u6bd4\u5982\u200b\u65e9\u671f\u200b\u7684\u200b\u8bb0\u4e8b\u672c\u200b\uff0c\u200b\u65b0\u200b\u7684\u200b\u5df2\u7ecf\u200b\u652f\u6301\u200b \\r\\n \u200b\u4e86\u200b\uff09\uff0c\u200b\u4e0d\u81f3\u4e8e\u200b\u9047\u5230\u200b\u5f88\u591a\u200b\u6362\u884c\u7b26\u200b\u95ee\u9898\u200b\u3002</li> <li>false \u200b\u8868\u793a\u200b\u5728\u200b\u63a8\u9001\u200b\u65f6\u548c\u62c9\u53d6\u200b\u65f6\u200b\u90fd\u200b\u539f\u6837\u200b\u4fdd\u7559\u200b\u6362\u884c\u7b26\u200b\u3002\u200b\u8fd9\u6837\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u5728\u200b\u6240\u6709\u200b\u7a0b\u5e8f\u5458\u200b\u90fd\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u5e73\u53f0\u200b\u5f00\u53d1\u200b\u65f6\u200b\u5f88\u200b\u6709\u7528\u200b\uff0cgit \u200b\u5b8c\u5168\u200b\u4e0d\u200b\u5904\u7406\u200b\u6362\u884c\u7b26\u200b\uff0c\u200b\u5168\u90e8\u200b\u6539\u7531\u200b\u5f00\u53d1\u8005\u200b\u81ea\u884c\u89e3\u51b3\u200b\u3002</li> <li>input \u200b\u8868\u793a\u200b\u5728\u200b\u63a8\u9001\u200b\u65f6\u200b\u8f6c\u6210\u200b \\n\uff0c\u200b\u5728\u200b\u62c9\u200b\u53d6\u65f6\u200b\u539f\u6837\u200b\u4fdd\u7559\u200b\u6362\u884c\u7b26\u200b\u3002\u200b\u6ce8\u610f\u200b\u5230\u200b\uff0c\u200b\u8fd9\u6837\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u4f1a\u200b\u8ba9\u200b\u4ed3\u5e93\u200b\u91cc\u200b\u6240\u6709\u200b\u7684\u200b\u6362\u884c\u7b26\u200b\u90fd\u200b\u53d8\u6210\u200b \\n \u200b\u4e0d\u518d\u200b\u6709\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u6709\u200b \\r\\n \u200b\u4e86\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5bf9\u200b Windows \u200b\u5e73\u53f0\u200b\u7684\u200b\u5f00\u53d1\u8005\u200b\u5e76\u200b\u4e0d\u200b\u53cb\u597d\u200b\u3002</li> </ul>"},{"location":"util/dev/git/#_13","title":"\u5177\u4f53\u200b\u914d\u7f6e","text":"<p>mac,linux\u200b\u8bbe\u7f6e\u200b\u4e3a\u200binput</p> <p>win10</p> <p>\u200b\u5982\u679c\u200b\u9879\u76ee\u200b\u5747\u200b\u5728\u200bwin\u200b\u5219\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bfalse</p> <p>\u200b\u5426\u5219\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue</p> <pre><code>[core]\n    autocrlf = true\n</code></pre> <pre><code>git rm -r --cached  log\n</code></pre>"},{"location":"util/dev/git/#_14","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"util/dev/git/#_15","title":"\u5176\u4ed6","text":""},{"location":"util/dev/git/#_16","title":"\u5220\u9664\u200b\u5df2\u200b\u63d0\u4ea4\u200b\u7684\u200b\u6587\u4ef6","text":"<pre><code># \u200b\u5168\u90e8\u200b -f\u200b\u5f3a\u5236\u200b\u5220\u9664\u200b\ngit rm -r --cached .\n\n\n# \u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\ngit rm -r --cached .\n</code></pre>"},{"location":"util/dev/jetBrains/","title":"jetBrains","text":""},{"location":"util/dev/jetBrains/#_1","title":"\u5b89\u88c5","text":""},{"location":"util/dev/jetBrains/#_2","title":"\u65b9\u5f0f\u200b\u4e00","text":""},{"location":"util/dev/jetBrains/#_3","title":"\u9002\u7528","text":"<p>&lt;=2021.2</p>"},{"location":"util/dev/jetBrains/#_4","title":"\u5177\u4f53\u6b65\u9aa4","text":"<p>\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b\uff0c\u200b\u5b89\u88c5\u200b\u65f6\u200b\u9009\u62e9\u200b\u8981\u200b\u5b89\u88c5\u200b\u7684\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u6ce8\u610f\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b</p> <p>\u200b\u5728\u200b <code>Settings/Preferences... -&gt; Plugins</code> \u200b\u5185\u200b\u624b\u52a8\u200b\u6dfb\u52a0\u200b\u7b2c\u4e09\u65b9\u200b\u63d2\u4ef6\u200b\u4ed3\u5e93\u200b\u5730\u5740\u200b\uff1a<code>https://plugins.zhile.io</code> \u200b\u641c\u7d22\u200b\uff1aIDE Eval Reset \u200b\u63d2\u4ef6\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\u3002</p> <p></p> <p></p> <p></p>"},{"location":"util/dev/jetBrains/#_5","title":"\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#_6","title":"\u5e38\u89c4\u200b\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#_7","title":"\u89c6\u56fe\u200b\u663e\u793a","text":""},{"location":"util/dev/jetBrains/#_8","title":"\u663e\u793a\u200b\u83dc\u5355\u200b\u5b57\u4f53","text":""},{"location":"util/dev/jetBrains/#_9","title":"\u63a7\u5236\u53f0\u200b\u5b57\u4f53","text":""},{"location":"util/dev/jetBrains/#_10","title":"\u8bbe\u7f6e\u200b\u9f20\u6807\u200b\u6eda\u8f6e\u200b\u4fee\u6539\u200b\u5b57\u4f53\u5927\u5c0f","text":""},{"location":"util/dev/jetBrains/#_11","title":"\u8bbe\u7f6e\u200b\u81ea\u52a8\u200b\u5bfc\u5305","text":"<p>\u200b\u5ffd\u7565\u200b\u5927\u5c0f\u5199\u200b</p> <p></p>"},{"location":"util/dev/jetBrains/#git","title":"Git\u200b\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#maven","title":"maven\u200b\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#_12","title":"\u6ce8\u91ca","text":""},{"location":"util/dev/jetBrains/#_13","title":"\u7c7b\u200b\u7684\u200b\u6ce8\u91ca","text":"<pre><code>/** \n@author matt \n@date ${YEAR}-${MONTH}-${DAY} ${TIME}\n@desc xxx\n*/\n</code></pre>"},{"location":"util/dev/jetBrains/#_14","title":"\u65b9\u6cd5\u200b\u7684\u200b\u6ce8\u91ca","text":"<pre><code>**\n * @desc xxx\n * @author matt\n * @date $date$\n$param$\n * @return $return$\n*/\n</code></pre> <pre><code>groovyScript(\"def result=''; def params=\\\"${_1}\\\".replaceAll('[\\\\\\\\[|\\\\\\\\]|\\\\\\\\s]', '').split(',').toList(); for(i = 0; i &lt; params.size(); i++) {result+=' * @param ' + params[i] + ((i &lt; params.size() - 1) ? '\\\\n':'')}; return result\", methodParameters()) \n</code></pre>"},{"location":"util/dev/jetBrains/#_15","title":"\u6ce8\u91ca\u200b\u9876\u683c","text":""},{"location":"util/dev/jetBrains/#_16","title":"\u53d6\u6d88\u200b\u81ea\u52a8\u66f4\u65b0","text":""},{"location":"util/dev/jetBrains/#_17","title":"\u7ec8\u7aef\u200b\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#_18","title":"\u63d2\u4ef6","text":""},{"location":"util/dev/jetBrains/#_19","title":"\u5173\u95ed\u200b\u62fc\u5199\u200b\u68c0\u67e5","text":"<p>Spelling</p> <p></p>"},{"location":"util/dev/jetBrains/#spring","title":"spring","text":""},{"location":"util/dev/jetBrains/#idea404","title":"\u590d\u5236\u5230\u200bidea\u200b\u4e2d\u200b\u7684\u200b\u6587\u4ef6\u200b\u9700\u8981\u200b\u91cd\u6784\u200b\u9879\u76ee\u200b\u5426\u5219\u200b\u65e0\u6cd5\u8bbf\u95ee\u200b404","text":""},{"location":"util/dev/jetBrains/#junit","title":"junit\u200b\u65e0\u6cd5\u200b\u4ece\u200b\u63a7\u5236\u53f0\u200b\u8f93\u5165","text":"<pre><code>help -&gt;Edit Custom VM Options\n\n-Deditable.java.test.console=true\n</code></pre>"},{"location":"util/dev/jetBrains/#properties","title":"properties\u200b\u6587\u4ef6\u200b\u4e71\u7801","text":"<p>\u200b\u5982\u679c\u200b\u8fd8\u662f\u200b\u4e0d\u8d77\u4f5c\u7528\u200b\u5220\u9664\u200b\u6587\u4ef6\u200b\u91cd\u65b0\u200b\u521b\u5efa\u200b\u5373\u53ef\u200b</p>"},{"location":"util/dev/jetBrains/#pycharm","title":"pycharm\u200b\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#pycharm_1","title":"pycharm\u200b\u53d6\u6d88\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\u63d0\u793a","text":"<p>\u200b\u8fdb\u5165\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\u8bbe\u7f6e\u200b\u754c\u9762\u200b\u770b\u770b\u200b\u5230\u200b\u4e0a\u65b9\u200b\u6709\u200b\u4e09\u4e2a\u200b\u8bbe\u7f6e\u200b\u9879\u200bNone\u3001Syntax\u3001Inspections\uff0c\u200b\u53ef\u4ee5\u200b\u62d6\u52a8\u200b\u7bad\u5934\u200b\u8bbe\u7f6e\u200b\u3002</p> <p>1.None\u200b\u8868\u793a\u200b\u6ca1\u6709\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\uff1b</p> <p>2.Syntax\u200b\u8868\u793a\u200b\u53ea\u6709\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u663e\u793a\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\uff1b</p> <p>3.Inspections\u200b\u8868\u793a\u200b\u8bed\u6cd5\u9519\u8bef\u200b\u548c\u200b\u4e0d\u200b\u7b26\u5408\u200bPEP8\u200b\u89c4\u8303\u200b\u663e\u793a\u200b\u6ce2\u6d6a\u200b\u7ebf\u200b\u3002</p> <p></p> <p></p> <p></p>"},{"location":"util/dev/jetBrains/#_20","title":"\u4f7f\u7528","text":""},{"location":"util/dev/jetBrains/#idea","title":"IDEA","text":""},{"location":"util/dev/jetBrains/#_21","title":"\u6253\u5f00\u200b\u4e00\u4e2a\u200b\u9879\u76ee","text":"<p>\u200b\u5bf9\u4e8e\u200bmaven\u200b\u9879\u76ee\u200b\u6211\u4eec\u200b\u6253\u5f00\u200b\u9009\u62e9\u200bpom.xml\u200b\u5373\u53ef\u200b</p>"},{"location":"util/dev/jetBrains/#_22","title":"\u5982\u4f55\u200b\u91cd\u542f","text":"<p>springboot\u200b\u4e2d\u200b\u7684\u200bpom.xml \u200b\u52a0\u8f7d\u200b\u5931\u8d25\u200b</p> <p></p>"},{"location":"util/dev/jetBrains/#pycharm_2","title":"pycharm","text":""},{"location":"util/dev/jetBrains/#pycharm_3","title":"pycharm\u200b\u5982\u4f55\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u9879\u76ee","text":"<p>1.\u200b\u8bbe\u7f6e\u200b\u65b0\u200b\u9879\u76ee\u540d\u79f0\u200b\u548c\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\uff08untitled\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\uff09\uff1b</p> <p>2.Project Interpreter\u200b\u8bbe\u7f6e\u200b\u65b0\u5efa\u200b\u9879\u76ee\u200b\u6240\u200b\u4f9d\u8d56\u200b\u7684\u200bpython\u200b\u73af\u5883\u200b\uff1b</p> <p>\u200b   2.1 New environment using \u200b\u8bbe\u7f6e\u200b\u65b0\u200b\u7684\u200b\u4f9d\u8d56\u200b\u73af\u5883\u200b\u3002\u200b\u5728\u200b\u9879\u76ee\u200b\u4e2d\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200bvenv\uff08virtualenv\uff09\u200b\u76ee\u5f55\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u653e\u200b\u865a\u62df\u200b\u7684\u200bpython\u200b\u73af\u5883\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u6240\u6709\u200b\u7684\u200b\u7c7b\u5e93\u200b\u4f9d\u8d56\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8131\u79bb\u200b\u7cfb\u7edf\u200b\u5b89\u88c5\u200b\u7684\u200bpython\u200b\u72ec\u7acb\u200b\u8fd0\u884c\u200b\uff1b</p> <p>\u200b       2.1.1 \u200b\u52fe\u9009\u4e0a\u200bInherit global site-packages\u200b\u5219\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bbase interpreter\uff08\u200b\u57fa\u7840\u200b\u89e3\u91ca\u5668\u200b\uff09\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u7684\u200b\u7b2c\u4e09\u65b9\u200b\u5e93\u200b\uff08\u200b\u5373\u200b\u672c\u5730\u200bPython\u200b\u7684\u200bsite-packages\u200b\u76ee\u5f55\u200b\u4e2d\u200b\u7684\u200b\u7c7b\u5e93\u200b\uff09\uff1b\u200b\u4e0d\u9009\u200b\u5c06\u200b\u548c\u200b\u5916\u754c\u200b\u5b8c\u5168\u200b\u9694\u79bb\u200b\uff08\u200b\u4f1a\u200b\u5728\u200bbase interpreter\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u865a\u62df\u200b\u89e3\u91ca\u5668\u200b\uff09\uff1b</p> <p>\u200b       2.1.2 \u200b\u52fe\u9009\u4e0a\u200bMake available to all projects\u200b\u5219\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u6b64\u200b\u9879\u76ee\u200b\u7684\u200b\u865a\u62df\u73af\u5883\u200b\u63d0\u4f9b\u200b\u7ed9\u200b\u5176\u4ed6\u200b\u9879\u76ee\u200b\u4f7f\u7528\u200b\uff1b</p> <p>\u200b   2.2 Existing Interpreter\u200b\u5173\u8054\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u7684\u200bpython\u200b\u89e3\u91ca\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8be5\u200b\u89e3\u91ca\u5668\u200b\u6240\u200b\u5b89\u88c5\u200b\u7684\u200bPython\u200b\u5e93\u200b\uff1b</p> <p>\u200b\u5efa\u8bae\u200b\u9009\u62e9\u200b New environment using \u200b\u53ef\u4ee5\u200b\u5728\u200bBase Interpreter\u200b\u9009\u62e9\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u7684\u200bPython\u200b\u89e3\u91ca\u5668\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u9879\u76ee\u200b\u72ec\u7acb\u200b\u90e8\u7f72\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u4e00\u53f0\u200b\u670d\u52a1\u5668\u200b\u90e8\u7f72\u200b\u591a\u4e2a\u200b\u9879\u76ee\u200b\u4e4b\u95f4\u200b\u5b58\u5728\u200b\u7c7b\u5e93\u200b\u7684\u200b\u7248\u672c\u200b\u4f9d\u8d56\u200b\u95ee\u200b\u3002</p> <p></p> <p></p> <p></p>"},{"location":"util/dev/jetBrains/#clion","title":"clion","text":""},{"location":"util/dev/jetBrains/#_23","title":"\u914d\u7f6e","text":""},{"location":"util/dev/jetBrains/#cpp","title":"\u914d\u7f6e\u200bcpp\u200b\u73af\u5883","text":""},{"location":"util/dev/jetBrains/#1command-line-tools","title":"1.\u200b\u5b89\u88c5\u200bcommand line tools","text":"<pre><code>xcode-select --install \n</code></pre> <p>\u200b\u5378\u8f7d\u200b</p> <pre><code>xcode-select --print-path\n\n\n\nrm -rvf xxx\n</code></pre>"},{"location":"util/dev/jetBrains/#2gcc","title":"2.\u200b\u5b89\u88c5\u200bgcc","text":"<p>\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200bclang \u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200bbits/stdc++.h</p> <pre><code>brew install gcc\n\n\n\n/opt/homebrew/Cellar/gcc/12.2.0/bin/gcc-12\n/opt/homebrew/Cellar/gcc/12.2.0/bin/g++-12\n\n\n-D CMAKE_CXX_COMPILER=/opt/homebrew/Cellar/gcc/12.2.0/bin/g++-12\n</code></pre>"},{"location":"util/dev/jetBrains/#3clang","title":"3.\u200b\u66ff\u6362\u200bclang","text":"<pre><code>alias gcc='gcc-12'\nalias cc='gcc-12'\nalias g++='g++-12'\nalias c++='c++-12'\n</code></pre>"},{"location":"util/dev/jetBrains/#main","title":"\u5982\u4f55\u200b \u200b\u591a\u4e2a\u200bmain\u200b\u51fd\u6570","text":"<p>CMakeLists.txt</p> <pre><code>cmake_minimum_required(VERSION 3.19)\nproject(demo)\n\nset(CMAKE_CXX_STANDARD 14)\n\n# \u200b\u904d\u5386\u200b\u9879\u76ee\u200b\u6839\u76ee\u5f55\u200b\u4e0b\u200b\u6240\u6709\u200b\u7684\u200b .cpp \u200b\u6587\u4ef6\u200b\nfile (GLOB_RECURSE  files *.cpp)\nforeach (file ${files})\n    string(REGEX REPLACE \".+/(.+)/(.+)\\\\..*\" \"\\\\1-\\\\2\" exe ${file})\n    add_executable (${exe} ${file})\n    message (\\ \\ \\ \\ --\\ src/${exe}.cpp\\ will\\ be\\ compiled\\ to\\ bin/${exe})\nendforeach ()\n</code></pre> <p></p>"},{"location":"util/dev/jetBrains_%E5%BF%AB%E6%8D%B7%E9%94%AE/","title":"win","text":"<p>CTRL+ALT+ENTER:\u200b\u4e0a\u8863\u200b\u884c\u200b</p> <p>SHIFT+ENTER:\u200b\u4e0b\u200b\u4e00\u884c\u200b</p> <p>ctrl+d:\u200b\u590d\u5236\u200b\u4e00\u884c\u200b</p> <p>ctrl+x:\u200b\u5220\u9664\u200b\u4e00\u884c\u200b\uff0c\u200b\u672c\u6765\u200b\u662f\u200bctrl+y,\u200b\u4f46\u662f\u200b\u7cfb\u7edf\u200b\u51b2\u7a81\u200b</p> <p>shift+shift\uff1a\u200b\u5168\u5c40\u200b\u641c\u7d22\u200b</p> <p>ctrl+h:\u200b\u67e5\u770b\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b</p> <p>CTRL+ALT+B: \u200b\u67e5\u770b\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u73b0\u200b</p>"},{"location":"util/dev/jetBrains_%E5%BF%AB%E6%8D%B7%E9%94%AE/#mac","title":"mac","text":"<p>\u200b\u53c2\u8003\u200b\uff1amac-idea-keymap</p>"},{"location":"util/dev/jetBrains_%E5%BF%AB%E6%8D%B7%E9%94%AE/#_1","title":"\u5feb\u6377\u952e\u200b\u7ec4\u5408\u200b\uff08\u200b\u7f16\u7801\u200b\u76f8\u5173\u200b\uff09","text":"\u5feb\u6377\u952e\u200b\u7ec4\u5408\u200b\uff08\u200b\u7f16\u7801\u200b\u76f8\u5173\u200b\uff09 \u200b\u5feb\u6377\u952e\u200b\u4f5c\u7528\u200b command+C \u200b\u590d\u5236\u200b command+X \u200b\u5220\u9664\u200b\u4e00\u884c\u200b\uff0f\u200b\u526a\u5207\u200b command+V \u200b\u7c98\u8d34\u200b command+D \u200b\u590d\u5236\u200b\u4e0a\u200b\u4e00\u884c\u200b command+W \u200b\u5173\u95ed\u200b\u5f53\u524d\u200b\u7c7b\u200b\u7a97\u53e3\u200b command+O \u200b\u67e5\u627e\u200b\u6253\u5f00\u200b\u7c7b\u200b\u6587\u4ef6\u200b command+F \u200b\u5f53\u524d\u200b\u6587\u672c\u200b\u67e5\u627e\u200b(\u200b\u53ef\u200b\u4e0a\u4e0b\u200b\u952e\u200b\u5207\u6362\u200b) command+\u21e7+F \u200b\u5168\u5c40\u200b\u67e5\u627e\u200b command+R \u200b\u5f53\u524d\u200b\u6587\u672c\u200b\u66ff\u6362\u200b command+\u21e7+R \u200b\u5168\u5c40\u200b\u66ff\u6362\u200b command+N \u200b\u751f\u4ea7\u200b\u4ee3\u7801\u200b getter\u3001setter\u200b\u7b49\u7b49\u200b command+S \u200b\u4fdd\u5b58\u200b command+Z \u200b\u64a4\u9500\u200b\u4e00\u6b65\u200b command+G \u200b\u5b9a\u4f4d\u200b\uff0c\u200b\u914d\u5408\u200b\u67e5\u627e\u200b\u4f7f\u7528\u200b\u66f4\u200b\u65b9\u4fbf\u200b command+/\uff08\u200b\u6ce8\u610f\u200b\u8f93\u5165\u6cd5\u200b\u8981\u200b\u5728\u200b\u82f1\u6587\u200b\u72b6\u6001\u200b\uff09 \u200b\u6ce8\u91ca\u200b\uff0f\u200b\u89e3\u9664\u200b\u6ce8\u91ca\u200b control+\u21e7+/\uff08\u200b\u6ce8\u610f\u200b\u8f93\u5165\u6cd5\u200b\u8981\u200b\u5728\u200b\u82f1\u6587\u200b\u72b6\u6001\u200b\uff09 \u200b\u6ce8\u91ca\u200b:/**/ command+option+L \u200b\u683c\u5f0f\u5316\u200b\u4ee3\u7801\u200b control+\u200b\u7a7a\u683c\u200b\uff08\u200b\u6ce8\u610f\u200b\u9ed8\u8ba4\u200b\u51b2\u7a81\u200b\uff09 \u200b\u4ee3\u7801\u200b\u8865\u5168\u200b control+option+\u200b\u7a7a\u683c\u200b\uff08\u200b\u6ce8\u610f\u200b\u9ed8\u8ba4\u200b\u51b2\u7a81\u200b\uff09 \u200b\u667a\u80fd\u200b\u4ee3\u7801\u200b\u8865\u5168\u200b control+option+O \u200b\u53bb\u9664\u200b\u65e0\u6548\u200bimport Command+Option+\u200b\u65b9\u5411\u952e\u200b\u5de6\u200b / \u200b\u53f3\u200b \u200b\u9000\u56de\u200b / \u200b\u524d\u8fdb\u200b\u5230\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5730\u65b9\u200b command+\u200b\u9f20\u6807\u60ac\u505c\u200b\uff0c\u200b\u70b9\u51fb\u200b \u200b\u67e5\u770b\u200b\u65b9\u6cd5\u200b\u8bf4\u660e\u200b\uff0c\u200b\u8fdb\u5165\u200b\u65b9\u6cd5\u200b command + shift + +/- \u200b\u5c55\u5f00\u200b/\u200b\u6298\u53e0\u200b \u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b command + option  + +/- \u200b\u6298\u53e0\u200b\u5f53\u524d\u200b\u65b9\u6cd5"},{"location":"util/dev/jetBrains_%E5%BF%AB%E6%8D%B7%E9%94%AE/#_2","title":"\u5feb\u6377\u952e\u200b\u7ec4\u5408\u200b\uff08\u200b\u5de5\u5177\u200b\u76f8\u5173\u200b\uff09","text":"\u5feb\u6377\u952e\u200b\u7ec4\u5408\u200b\uff08\u200b\u5de5\u5177\u200b\u76f8\u5173\u200b\uff09 \u200b\u4f5c\u7528\u200b command+\uff0c \u200b\u6253\u5f00\u200bpreferences command+\u200b\u56de\u8f66\u200b\uff08\u200b\u9009\u62e9\u200b\u5de5\u7a0b\u200b\uff09 \u200b\u6253\u5f00\u200bresource \u21e7+F6 \u200b\u91cd\u547d\u540d\u200b \u21e7+F9 \u200b\u7f16\u8bd1\u200b\u5f53\u524d\u200b\u5de5\u7a0b\u200b Control + R \u200b\u8fd0\u884c\u200b\u5de5\u7a0b\u200b Control + D debug\u200b\u5de5\u7a0b"},{"location":"util/dev/jetBrains_%E5%BF%AB%E6%8D%B7%E9%94%AE/#_3","title":"\u5feb\u6377\u952e\u200b\u7ec4\u5408\u200b\uff08\u200b\u8c03\u8bd5\u200b\u76f8\u5173\u200b\uff09","text":"\u5feb\u6377\u952e\u200b\u7ec4\u5408\u200b\uff08\u200b\u8c03\u8bd5\u200b\u76f8\u5173\u200b\uff09 \u200b\u4f5c\u7528\u200b F8 \u200b\u8fdb\u5165\u200b\u4e0b\u200b\u4e00\u6b65\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u884c\u200b\u65ad\u70b9\u200b\u662f\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u8fdb\u5165\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u4f53\u5185\u200b F7 \u200b\u8fdb\u5165\u200b\u4e0b\u200b\u4e00\u6b65\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u884c\u200b\u65ad\u70b9\u200b\u662f\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5219\u200b\u8fdb\u5165\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u4f53\u5185\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u4f53\u200b\u8fd8\u6709\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u8fdb\u5165\u200b\u8be5\u200b\u5185\u5d4c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u4e2d\u200b Shift + F7 \u200b\u667a\u80fd\u200b\u6b65\u5165\u200b\uff0c\u200b\u65ad\u70b9\u200b\u6240\u5728\u200b\u884c\u4e0a\u200b\u6709\u200b\u591a\u4e2a\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\uff0c\u200b\u4f1a\u5f39\u200b\u51fa\u200b\u8fdb\u5165\u200b\u54ea\u4e2a\u200b\u65b9\u6cd5\u200b Option + F9 \u200b\u8fd0\u884c\u200b\u5230\u200b\u5149\u6807\u200b\u5904\u200b\uff0c\u200b\u5982\u679c\u200b\u5149\u6807\u200b\u524d\u6709\u200b\u5176\u4ed6\u200b\u65ad\u70b9\u200b\u4f1a\u200b\u8fdb\u5165\u200b\u5230\u200b\u8be5\u200b\u65ad\u70b9\u200b Command + Option + R \u200b\u6062\u590d\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u65ad\u70b9\u200b\u4e0b\u9762\u200b\u4ee3\u7801\u200b\u8fd8\u6709\u200b\u65ad\u70b9\u200b\u5219\u200b\u505c\u200b\u5728\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u65ad\u70b9\u200b\u4e0a\u200b Command + F8 \u200b\u5207\u6362\u200b\u65ad\u70b9\u200b\uff08\u200b\u82e5\u200b\u5149\u6807\u200b\u5f53\u524d\u200b\u884c\u6709\u200b\u65ad\u70b9\u200b\u5219\u200b\u53d6\u6d88\u200b\u65ad\u70b9\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5219\u200b\u52a0\u4e0a\u200b\u65ad\u70b9\u200b\uff09 Command + Shift + F8 \u200b\u67e5\u770b\u200b\u65ad\u70b9\u200b\u4fe1"},{"location":"util/dev/main/","title":"Main","text":"<p>\u200b\u4ee3\u7406\u200b\u5bfc\u81f4\u200bcurl\u200b\u5931\u6548\u200b \u200b\u5173\u95ed\u200b\u7ec8\u7aef\u200b\u914d\u7f6e\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u4ee3\u7406\u200b\u5373\u53ef\u200b</p> <pre><code>npm install -g json\n</code></pre> <pre><code>curl xxx -s | json\n</code></pre>"},{"location":"util/dev/node/","title":"Node","text":"<pre><code>npm config ls\n\n\nnpm -g\n</code></pre> <p>\u200b\u53ef\u200b\u901a\u8fc7\u200b\u547d\u4ee4\u200b npm config get prefix \u200b\u67e5\u770b\u200b npm \u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\uff08npm config set prefix \u200b\u53ef\u200b\u8bbe\u7f6e\u200b npm \u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\uff09\uff1b</p> <p>\u200b\u914d\u7f6e\u200b\u5b89\u88c5\u200b\u4f4d\u7f6e\u200b</p> <pre><code>npm config set prefix /Users/matt/workspace/nodeModules\n</code></pre> <pre><code>npm install -g cnpm\n</code></pre> <pre><code>npm config list //\u200b\u67e5\u770b\u200b\u57fa\u672c\u200b\u914d\u7f6e\u200b \nnpm config list -l //\u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u914d\u7f6e\u200b\n\n\nnpm config get prefix\n</code></pre> <pre><code>npm config set registry https://registry.npmmirror.com\n</code></pre>"},{"location":"util/dev/postman/","title":"Postman","text":"<p>postman</p> <p></p> <p></p> <p>\u200b                   </p>"},{"location":"util/dev/vscode/","title":"Vscode","text":"<p>\u200b\u65b0\u5efa\u200b\u6587\u4ef6\u5939\u200b</p> <p></p> <p>vscode\u200b\u6253\u5f00\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200b</p> <p></p> <p></p> <p>\u200b\u6587\u4ef6\u200b-&gt;\u200b\u9996\u9009\u9879\u200b-&gt;\u200b\u8bbe\u7f6e\u200b-&gt;\u200b\u641c\u7d22\u200bauto save</p> <p>off: \u200b\u5173\u95ed\u200b\u81ea\u52a8\u200b\u4fdd\u5b58\u200b afterDelay: XX\u200b\u6beb\u79d2\u200b\u540e\u200b\u81ea\u52a8\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5c31\u662f\u200b\u6211\u200b\u6240\u200b\u8bb2\u200b\u7684\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e0b\u9762\u200b\u4f1a\u200b\u8be6\u7ec6\u200b\u4ecb\u7ecd\u200b onFocusChange: \u200b\u5f53\u200b\u7126\u70b9\u200b\u79fb\u51fa\u200b\u7f16\u8f91\u6846\u200b onWindowChange: \u200b\u5f53\u200b\u7126\u70b9\u200b\u79fb\u51fa\u200bVSCode\u200b\u7a97\u53e3\u200b \u200b\u8fd9\u91cc\u200b\u8bf4\u200b\u7684\u200b\u662f\u200b\u7126\u70b9\u200b\u800c\u200b\u4e0d\u662f\u200b\u9f20\u6807\u200b\uff0c\u200b\u79fb\u200b\u5230\u200b\u5916\u9762\u200b\u53bb\u200b\u540e\u200b\u8fd8\u8981\u200b\u70b9\u200b\u4e00\u4e0b\u200b\u611f\u89c9\u200b\u8fd8\u662f\u200b\u4e0d\u592a\u200b\u65b9\u4fbf\u200b\uff0c\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u7f51\u4e0a\u200b\u641c\u5230\u200b\u7684\u200b\u5927\u591a\u6570\u200b\u7b54\u6848\u200b\u3002\u3002\u3002\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u679c\u65ad\u200b\u9009\u62e9\u200bafterDelay\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u5982\u4e0b\u200b\u56fe\u200b\u8bbe\u7f6e\u200b\u81ea\u52a8\u200b\u4fdd\u5b58\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"util/dev/vscode/#plugin","title":"plugin \u200b\u63d2\u4ef6","text":"<p>vscode \u200b\u53f3\u4e0a\u89d2\u200b\u51fa\u73b0\u200b\u8fd0\u884c\u200b\u6309\u94ae\u200b</p>"},{"location":"util/dev/vscode/#code-runner","title":"code runner","text":""},{"location":"util/dev/vscode/#go","title":"go","text":"<p>\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u540e\u200b  cmd+shift+p \u200b\u8f93\u5165\u200b Go:install/update</p> <p>\u200b\u5b89\u88c5\u200b\u76f8\u5173\u200b\u5de5\u5177\u200b</p>"},{"location":"util/dev/vscode/#intellij-idea-keybindings","title":"IntelliJ IDEA Keybindings","text":"<p>idea \u200b\u5feb\u6377\u952e\u200b</p> <p></p>"},{"location":"util/dev/vscode/#cc-extension-pack","title":"C/C++ Extension Pack","text":"<p>\u200b\u5b89\u88c5\u200b\u8fd9\u4e2a\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5b89\u88c5\u200bc/c++ ,c/c++ Themes, CMake Tools \u200b\u4f5c\u4e3a\u200b\u6269\u5c55\u200b\u5305\u200b\u5b89\u88c5\u200b</p> <p></p> <p>Chinese (Simplified) (\u200b\u7b80\u4f53\u4e2d\u6587\u200b)</p>"},{"location":"util/dev/vscode/#atom-one-dark-theme","title":"Atom One Dark Theme","text":""},{"location":"util/dev/vscode/#_1","title":"\u914d\u7f6e\u200b\u8bed\u8a00\u200b\u73af\u5883","text":""},{"location":"util/dev/vscode/#go_1","title":"go","text":"<p>launch.json</p> <pre><code>{\n    // \u200b\u4f7f\u7528\u200b IntelliSense \u200b\u4e86\u89e3\u200b\u76f8\u5173\u200b\u5c5e\u6027\u200b\u3002 \n    // \u200b\u60ac\u505c\u200b\u4ee5\u200b\u67e5\u770b\u200b\u73b0\u6709\u200b\u5c5e\u6027\u200b\u7684\u200b\u63cf\u8ff0\u200b\u3002\n    // \u200b\u6b32\u4e86\u89e3\u200b\u66f4\u200b\u591a\u200b\u4fe1\u606f\u200b\uff0c\u200b\u8bf7\u200b\u8bbf\u95ee\u200b: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Launch Package\",\n            \"type\": \"go\",\n            \"request\": \"launch\",\n            \"mode\": \"auto\",\n            \"program\": \"${file}\"\n        }\n    ]\n}\n</code></pre> <p>\u200b\u70b9\u51fb\u200b\u8fd0\u884c\u200b\u6309\u94ae\u200b\u63a5\u53e3\u200b</p> <p></p> <p>\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200btasks.json</p> <pre><code>{\n    \"tasks\": [\n        {\n            \"type\": \"cppbuild\",\n            \"label\": \"C/C++: gcc \u200b\u751f\u6210\u200b\u6d3b\u52a8\u200b\u6587\u4ef6\u200b\",\n            \"command\": \"/usr/bin/gcc\",\n            \"args\": [\n                \"-fdiagnostics-color=always\",\n                \"-g\",\n                \"${file}\",\n                \"-o\",\n                \"${fileDirname}/${fileBasenameNoExtension}\"\n            ],\n            \"options\": {\n                \"cwd\": \"${fileDirname}\"\n            },\n            \"problemMatcher\": [\n                \"$gcc\"\n            ],\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            },\n            \"detail\": \"\u200b\u8c03\u8bd5\u5668\u200b\u751f\u6210\u200b\u7684\u200b\u4efb\u52a1\u200b\u3002\"\n        }\n    ],\n    \"version\": \"2.0.0\"\n}\n</code></pre>"},{"location":"util/docker/docker/","title":"Docker","text":""},{"location":"util/docker/docker/#_1","title":"\u6982\u8ff0","text":""},{"location":"util/docker/docker/#_2","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u4e00\u6b21\u200b\u5c01\u88c5\u200b\uff0c \u200b\u5230\u5904\u200b\u8fd0\u884c\u200b</p> <p>\u200b\u901a\u8fc7\u200b\u955c\u50cf\u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5bb9\u5668\u200b\u4f1a\u200b\u63d0\u524d\u200b\u5b89\u88c5\u200b\u4e00\u4e9b\u200b\u8f6f\u4ef6\u200b</p>"},{"location":"util/docker/docker/#_3","title":"\u5b89\u88c5\u200b\u5378\u8f7d","text":""},{"location":"util/docker/docker/#_4","title":"\u5b89\u88c5","text":"<p>\u200b\u8be5\u200b\u6559\u7a0b\u200b\u9002\u7528\u200bcentos7</p>"},{"location":"util/docker/docker/#_5","title":"\u53c2\u8003\u624b\u518c","text":"<p>https://docs.docker.com/install/linux/docker-ce/centos/</p>"},{"location":"util/docker/docker/#_6","title":"\u67e5\u770b\u200b\u7248\u672c\u53f7","text":"<pre><code>cat /etc/redhat-release\n</code></pre>"},{"location":"util/docker/docker/#gcc","title":"\u786e\u4fdd\u200b\u7f51\u7edc\u200b\u6b63\u5e38\u200b\uff0c\u200b\u5b89\u88c5\u200bgcc","text":"<pre><code>yum -y install gcc\n</code></pre>"},{"location":"util/docker/docker/#gcc-c","title":"\u5b89\u88c5\u200bgcc-c++","text":"<pre><code>yum -y install gcc-c++\n</code></pre>"},{"location":"util/docker/docker/#_7","title":"\u5378\u8f7d\u200b\u65e7\u200b\u7684\u200b\u7248\u672c","text":"<pre><code>yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n</code></pre>"},{"location":"util/docker/docker/#_8","title":"\u5b89\u88c5\u200b\u9700\u8981\u200b\u7684\u200b\u8f6f\u4ef6\u5305","text":"<pre><code>yum install -y yum-utils\n</code></pre>"},{"location":"util/docker/docker/#stable","title":"\u8bbe\u7f6e\u200bstable\u200b\u955c\u50cf\u200b\u4ed3\u5e93","text":"<p>\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\u8fd9\u4e2a\u200b</p> <pre><code>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n</code></pre>"},{"location":"util/docker/docker/#yum","title":"\u66f4\u65b0\u200byum\u200b\u8f6f\u4ef6\u5305\u200b\u7d22\u5f15","text":"<pre><code>yum makecache fast\n</code></pre>"},{"location":"util/docker/docker/#docker-ce","title":"\u5b89\u88c5\u200bDOCKER CE","text":"<pre><code>yum install docker-ce docker-ce-cli containerd.io\n</code></pre>"},{"location":"util/docker/docker/#docker","title":"\u542f\u52a8\u200bdocker","text":"<pre><code>systemctl start docker\ndocker version\n</code></pre>"},{"location":"util/docker/docker/#_9","title":"\u6d4b\u8bd5","text":"<pre><code>docker run hello-world\n</code></pre>"},{"location":"util/docker/docker/#_10","title":"\u914d\u7f6e\u200b\u963f\u91cc\u200b\u4e91\u200b\u955c\u50cf","text":"<pre><code>mkdir -p /etc/docker\nvim  /etc/docker/daemon.json\n</code></pre>"},{"location":"util/docker/docker/#_11","title":"\u963f\u91cc\u200b\u4e91","text":"<pre><code>{\n  \"registry-mirrors\": [\"https://l0s7i35d.mirror.aliyuncs.com\"]\n}\n</code></pre> <pre><code>systemctl daemon-reload\nsystemctl restart docker\n</code></pre>"},{"location":"util/docker/docker/#_12","title":"\u5378\u8f7d","text":"<pre><code>systemctl stop docker\n\nyum -y remove docker-ce docker-ce-cli containerd.io\n\nrm -rf /var/lib/docker\nrm -rf /var/lib/containerd\n</code></pre>"},{"location":"util/docker/docker/#_13","title":"\u9519\u8bef","text":"<p>\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200blinux \u200b\u76ee\u5f55\u200b\u4e0b\u200bLinux\u200b\u5b89\u88c5\u200b\u548c\u200b\u57fa\u672c\u200b\u914d\u7f6e\u200b.md\u200b\u4e2d\u200b\u7684\u200b\u78c1\u76d8\u200b\u6269\u5bb9\u200b\uff0c\u200b\u66f4\u597d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u662f\u200b\u5b89\u88c5\u200b\u7684\u200b\u65f6\u5019\u200b\u63a8\u8350\u200b50g\u200b\u7a7a\u95f4\u200b</p> <p>\u200b\u7a7a\u95f4\u200b\u4e0d\u8db3\u200b</p> <p></p>"},{"location":"util/docker/docker/#_14","title":"\u57fa\u672c\u200b\u7ec4\u6210","text":"<p>\u200b\u955c\u50cf\u200b\uff1aDocker \u200b\u955c\u50cf\u200b\uff08Image\uff09\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u53ea\u8bfb\u200b\u7684\u200b\u6a21\u677f\u200b\u3002\u200b\u955c\u50cf\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u521b\u5efa\u200b Docker \u200b\u5bb9\u5668\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u955c\u50cf\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u5f88\u591a\u200b\u5bb9\u5668\u200b\u3002</p> <p>\u200b\u5bb9\u5668\u200b\uff1aDocker \u200b\u5229\u7528\u200b\u5bb9\u5668\u200b\uff08Container\uff09\u200b\u72ec\u7acb\u200b\u8fd0\u884c\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6216\u200b\u4e00\u7ec4\u200b\u5e94\u7528\u200b\u3002\u200b\u5bb9\u5668\u200b\u662f\u200b\u7528\u200b\u955c\u50cf\u200b\u521b\u5efa\u200b\u7684\u200b\u8fd0\u884c\u200b\u5b9e\u4f8b\u200b\u3002</p> <p>\u200b\u4ed3\u5e93\u200b\uff1a\u200b\u4ed3\u5e93\u200b\uff08Repository\uff09\u200b\u662f\u200b\u96c6\u4e2d\u200b\u5b58\u653e\u200b\u955c\u50cf\u6587\u4ef6\u200b\u7684\u200b\u573a\u6240\u200b\u3002</p>"},{"location":"util/docker/docker/#_15","title":"\u539f\u7406","text":""},{"location":"util/docker/docker/#_16","title":"\u5982\u4f55\u200b\u5de5\u4f5c","text":"<p>Docker\u200b\u662f\u200b\u4e00\u4e2a\u200bClient-Server\u200b\u7ed3\u6784\u200b\u7684\u200b\u7cfb\u7edf\u200b\uff0cDocker\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e3b\u673a\u200b\u4e0a\u200b\uff0c \u200b\u7136\u540e\u200b\u901a\u8fc7\u200bSocket\u200b\u8fde\u63a5\u200b\u4ece\u200b\u5ba2\u6237\u7aef\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5b88\u62a4\u200b\u8fdb\u7a0b\u200b\u4ece\u200b\u5ba2\u6237\u7aef\u200b\u63a5\u53d7\u547d\u4ee4\u200b\u5e76\u200b\u7ba1\u7406\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e3b\u673a\u200b\u4e0a\u200b\u7684\u200b\u5bb9\u5668\u200b\u3002 \u200b\u5bb9\u5668\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8fd0\u884c\u200b\u65f6\u200b\u73af\u5883\u200b\uff0c\u200b\u5c31\u662f\u200b\u6211\u4eec\u200b\u524d\u9762\u200b\u8bf4\u200b\u5230\u200b\u7684\u200b\u96c6\u88c5\u7bb1\u200b\u3002</p>"},{"location":"util/docker/docker/#vm","title":"\u4e3a\u4ec0\u4e48\u200b\u6bd4\u200bvm\u200b\u5feb","text":"<p>(1)docker\u200b\u6709\u7740\u200b\u6bd4\u200b\u865a\u62df\u673a\u200b\u66f4\u5c11\u200b\u7684\u200b\u62bd\u8c61\u200b\u5c42\u200b\u3002\u200b\u7531\u200b\u4e8d\u200bdocker\u200b\u4e0d\u200b\u9700\u8981\u200bHypervisor\u200b\u5b9e\u73b0\u200b\u786c\u4ef6\u8d44\u6e90\u200b\u865a\u62df\u5316\u200b,\u200b\u8fd0\u884c\u200b\u5728\u200bdocker\u200b\u5bb9\u5668\u200b\u4e0a\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u5b9e\u9645\u200b\u7269\u7406\u200b\u673a\u200b\u7684\u200b\u786c\u4ef6\u8d44\u6e90\u200b\u3002\u200b\u56e0\u6b64\u200b\u5728\u200bCPU\u3001\u200b\u5185\u5b58\u200b\u5229\u7528\u7387\u200b\u4e0a\u200bdocker\u200b\u5c06\u4f1a\u200b\u5728\u200b\u6548\u7387\u200b\u4e0a\u200b\u6709\u200b\u660e\u663e\u200b\u4f18\u52bf\u200b\u3002</p> <p>(2)docker\u200b\u5229\u7528\u200b\u7684\u200b\u662f\u200b\u5bbf\u4e3b\u673a\u200b\u7684\u200b\u5185\u6838\u200b,\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200bGuest OS\u3002\u200b\u56e0\u6b64\u200b,\u200b\u5f53\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b\u65f6\u200b,docker\u200b\u4e0d\u200b\u9700\u8981\u200b\u548c\u200b\u865a\u62df\u673a\u200b\u4e00\u6837\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u4e00\u4e2a\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u6838\u200b\u3002\u200b\u4ecd\u200b\u800c\u200b\u907f\u514d\u200b\u5f15\u5bfb\u200b\u3001\u200b\u52a0\u8f7d\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u6838\u200b\u8fd4\u4e2a\u200b\u6bd4\u8f83\u200b\u8d39\u65f6\u200b\u8d39\u200b\u8d44\u6e90\u200b\u7684\u200b\u8fc7\u7a0b\u200b,\u200b\u5f53\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u865a\u62df\u673a\u200b\u65f6\u200b,\u200b\u865a\u62df\u673a\u200b\u8f6f\u4ef6\u200b\u9700\u8981\u200b\u52a0\u8f7d\u200bGuest OS,\u200b\u8fd4\u4e2a\u200b\u65b0\u5efa\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u5206\u949f\u200b\u7ea7\u522b\u200b\u7684\u200b\u3002\u200b\u800c\u200bdocker\u200b\u7531\u4e8e\u200b\u76f4\u63a5\u200b\u5229\u7528\u200b\u5bbf\u4e3b\u673a\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b,\u200b\u5219\u200b\u7701\u7565\u200b\u4e86\u200b\u8fd4\u4e2a\u200b\u8fc7\u7a0b\u200b,\u200b\u56e0\u6b64\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200bdocker\u200b\u5bb9\u5668\u200b\u53ea\u200b\u9700\u8981\u200b\u51e0\u79d2\u949f\u200b\u3002</p> <p></p>"},{"location":"util/docker/docker/#_17","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"util/docker/docker/#_18","title":"\u5e2e\u52a9\u200b\u547d\u4ee4","text":"<pre><code>docker version\n\ndocker info\n\ndocker --help\n</code></pre>"},{"location":"util/docker/docker/#_19","title":"\u955c\u50cf\u200b\u547d\u4ee4","text":""},{"location":"util/docker/docker/#docker-images","title":"docker images\u200b\u5217\u51fa\u200b\u672c\u5730\u200b\u4e3b\u673a\u200b\u4e0a\u200b\u7684\u200b\u955c\u50cf","text":"<pre><code>docker images\n</code></pre> <p>REPOSITORY\uff1a\u200b\u8868\u793a\u200b\u955c\u50cf\u200b\u7684\u200b\u4ed3\u5e93\u200b\u6e90\u200b TAG\uff1a\u200b\u955c\u50cf\u200b\u7684\u200b\u6807\u7b7e\u200b IMAGE ID\uff1a\u200b\u955c\u50cf\u200bID CREATED\uff1a\u200b\u955c\u50cf\u200b\u521b\u5efa\u200b\u65f6\u95f4\u200b SIZE\uff1a\u200b\u955c\u50cf\u200b\u5927\u5c0f\u200b</p> <pre><code>[root@iz2zeiw2bqogm8ir3ugpvqz ~]# docker images\nREPOSITORY    TAG       IMAGE ID       CREATED        SIZE\nhello-world   latest    d1165f221234   5 months ago   13.3kB\n</code></pre> <p>\u200b\u540c\u4e00\u200b\u4ed3\u5e93\u200b\u6e90\u200b\u53ef\u4ee5\u200b\u6709\u200b\u591a\u4e2a\u200b TAG\uff0c\u200b\u4ee3\u8868\u200b\u8fd9\u4e2a\u200b\u4ed3\u5e93\u200b\u6e90\u200b\u7684\u200b\u4e0d\u540c\u200b\u4e2a\u200b\u7248\u672c\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b REPOSITORY:TAG \u200b\u6765\u200b\u5b9a\u4e49\u200b\u4e0d\u540c\u200b\u7684\u200b\u955c\u50cf\u200b\u3002 \u200b\u5982\u679c\u200b\u4f60\u200b\u4e0d\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u955c\u50cf\u200b\u7684\u200b\u7248\u672c\u200b\u6807\u7b7e\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4f60\u200b\u53ea\u200b\u4f7f\u7528\u200b ubuntu\uff0cdocker \u200b\u5c06\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b ubuntu:latest \u200b\u955c\u50cf\u200b</p> <p>-a :\u200b\u5217\u51fa\u200b\u672c\u5730\u200b\u6240\u6709\u200b\u7684\u200b\u955c\u50cf\u200b\uff08\u200b\u542b\u200b\u4e2d\u95f4\u200b\u6620\u50cf\u200b\u5c42\u200b\uff09</p> <p>-q :\u200b\u53ea\u200b\u663e\u793a\u200b\u955c\u50cf\u200bID\u3002</p> <p>--digests :\u200b\u663e\u793a\u200b\u955c\u50cf\u200b\u7684\u200b\u6458\u8981\u200b\u4fe1\u606f\u200b</p> <p>--no-trunc :\u200b\u663e\u793a\u200b\u5b8c\u6574\u200b\u7684\u200b\u955c\u50cf\u200b\u4fe1\u606f\u200b</p> <pre><code>docker images --digests\n</code></pre> <p></p>"},{"location":"util/docker/docker/#docker-search","title":"docker search","text":"<p>docker search:\u200b\u4ece\u200bdocker hub\u200b\u4e2d\u200b\u641c\u200b\uff0c\u200b\u4e0b\u8f7d\u200b\u4ece\u200b\u963f\u91cc\u200b\u4e91\u200b\u955c\u50cf\u200b</p> <p>docker search [OPTIONS] \u200b\u955c\u50cf\u200b\u540d\u5b57\u200b</p> <p>https://hub.docker.com</p> <pre><code>docker search tomcat\n</code></pre> <p>--no-trunc : \u200b\u663e\u793a\u200b\u5b8c\u6574\u200b\u7684\u200b\u955c\u50cf\u200b\u63cf\u8ff0\u200b</p>"},{"location":"util/docker/docker/#docker-pull","title":"docker pull","text":"<p>docker pull \u200b\u955c\u50cf\u200b\u540d\u5b57\u200b[:TAG]</p> <pre><code>docker pull tomcat\n</code></pre>"},{"location":"util/docker/docker/#docker-rmi","title":"docker rmi","text":"<p>docker rmi \u200b\u67d0\u4e2a\u200bXXX\u200b\u955c\u50cf\u200b\u540d\u5b57\u200bID</p> <p>\u200b\u5220\u9664\u200b\u5355\u4e2a\u200b</p> <pre><code>docker rmi  -f \u200b\u955c\u50cf\u200bID\n</code></pre> <p>\u200b\u5220\u9664\u200b\u591a\u4e2a\u200b</p> <pre><code>docker rmi -f \u200b\u955c\u50cf\u200b\u540d\u200b1:TAG \u200b\u955c\u50cf\u200b\u540d\u200b2:TAG \n</code></pre> <p>\u200b\u5220\u9664\u200b\u5168\u90e8\u200b</p> <pre><code>docker rmi -f $(docker images -qa)\n</code></pre>"},{"location":"util/docker/docker/#_20","title":"\u5bb9\u5668\u200b\u547d\u4ee4","text":""},{"location":"util/docker/docker/#_21","title":"\u65b0\u5efa\u200b\u5e76\u200b\u542f\u52a8\u200b\u5bb9\u5668","text":"<p>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</p> <p>OPTIONS\u200b\u8bf4\u660e\u200b\uff08\u200b\u5e38\u7528\u200b\uff09\uff1a\u200b\u6709\u4e9b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u51cf\u53f7\u200b\uff0c\u200b\u6709\u4e9b\u200b\u662f\u200b\u4e24\u4e2a\u200b\u51cf\u53f7\u200b</p> <p>--name=\"\u200b\u5bb9\u5668\u200b\u65b0\u200b\u540d\u5b57\u200b\": \u200b\u4e3a\u200b\u5bb9\u5668\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u540d\u79f0\u200b\uff1b -d: \u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b\u5bb9\u5668\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u5bb9\u5668\u200bID\uff0c\u200b\u4e5f\u200b\u5373\u200b\u542f\u52a8\u200b\u5b88\u62a4\u200b\u5f0f\u200b\u5bb9\u5668\u200b\uff1b -i\uff1a\u200b\u4ee5\u200b\u4ea4\u4e92\u200b\u6a21\u5f0f\u200b\u8fd0\u884c\u200b\u5bb9\u5668\u200b\uff0c\u200b\u901a\u5e38\u200b\u4e0e\u200b -t \u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b\uff1b -t\uff1a\u200b\u4e3a\u200b\u5bb9\u5668\u200b\u91cd\u65b0\u5206\u914d\u200b\u4e00\u4e2a\u200b\u4f2a\u200b\u8f93\u5165\u200b\u7ec8\u7aef\u200b\uff0c\u200b\u901a\u5e38\u200b\u4e0e\u200b -i \u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b\uff1b -P: \u200b\u968f\u673a\u200b\u7aef\u53e3\u6620\u5c04\u200b\uff1b -p: \u200b\u6307\u5b9a\u200b\u7aef\u53e3\u6620\u5c04\u200b\uff0c\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u56db\u79cd\u200b\u683c\u5f0f\u200b       ip:hostPort:containerPort       ip::containerPort       hostPort:containerPort       containerPort</p> <pre><code>docker run -it centos /bin/bash\n\n\ndocker run -p 9000:9000 -it centos:centos7 /bin/bash\n</code></pre> <p></p>"},{"location":"util/docker/docker/#_22","title":"\u9000\u51fa\u200b\u5bb9\u5668","text":"<p>\u200b\u5bb9\u5668\u200b\u4e0d\u200b\u505c\u6b62\u200b</p> <pre><code>ctrl+p+q\n</code></pre> <p>\u200b\u5bb9\u5668\u200b\u505c\u6b62\u200b</p> <pre><code>exit\n</code></pre>"},{"location":"util/docker/docker/#_23","title":"\u5217\u51fa\u200b\u5f53\u524d\u200b\u8fd0\u884c\u200b\u7684\u200b\u5bb9\u5668","text":"<p>docker ps [OPTIONS]</p> <pre><code>docker ps\n</code></pre> <p></p> <p>OPTIONS\u200b\u8bf4\u660e\u200b\uff08\u200b\u5e38\u7528\u200b\uff09\uff1a</p> <p>-a :\u200b\u5217\u51fa\u200b\u5f53\u524d\u200b\u6240\u6709\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b\u5bb9\u5668\u200b+\u200b\u5386\u53f2\u200b\u4e0a\u200b\u8fd0\u884c\u200b\u8fc7\u200b\u7684\u200b -l :\u200b\u663e\u793a\u200b\u6700\u8fd1\u200b\u521b\u5efa\u200b\u7684\u200b\u5bb9\u5668\u200b\u3002 -n\uff1a\u200b\u663e\u793a\u200b\u6700\u8fd1\u200bn\u200b\u4e2a\u200b\u521b\u5efa\u200b\u7684\u200b\u5bb9\u5668\u200b\u3002 -q :\u200b\u9759\u9ed8\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u53ea\u200b\u663e\u793a\u200b\u5bb9\u5668\u200b\u7f16\u53f7\u200b\u3002 --no-trunc :\u200b\u4e0d\u200b\u622a\u65ad\u200b\u8f93\u51fa\u200b\u3002</p> <p>\u200b\u5e38\u7528\u200b</p> <pre><code>docker ps -qa\ndocker ps -a\n</code></pre>"},{"location":"util/docker/docker/#_24","title":"\u542f\u52a8\u200b\u5bb9\u5668","text":"<pre><code>//docker start \u200b\u5bb9\u5668\u200bID\u200b\u6216\u8005\u200b\u5bb9\u5668\u200b\u540d\u200b\n\ndocker start centos:centos7\n</code></pre>"},{"location":"util/docker/docker/#_25","title":"\u91cd\u542f\u200b\u5bb9\u5668","text":"<pre><code>docker restart \u200b\u5bb9\u5668\u200bID\u200b\u6216\u8005\u200b\u5bb9\u5668\u200b\u540d\u200b\n</code></pre>"},{"location":"util/docker/docker/#_26","title":"\u505c\u6b62\u200b\u5bb9\u5668","text":"<pre><code>docker stop \u200b\u5bb9\u5668\u200bID\u200b\u6216\u8005\u200b\u5bb9\u5668\u200b\u540d\u200b\n</code></pre>"},{"location":"util/docker/docker/#_27","title":"\u5f3a\u5236\u200b\u505c\u6b62\u200b\u5bb9\u5668","text":"<pre><code>docker kill \u200b\u5bb9\u5668\u200bID\u200b\u6216\u8005\u200b\u5bb9\u5668\u200b\u540d\u200b\n</code></pre>"},{"location":"util/docker/docker/#_28","title":"\u5220\u9664\u200b\u5df2\u200b\u505c\u6b62\u200b\u7684\u200b\u5bb9\u5668","text":"<pre><code>docker rm \u200b\u5bb9\u5668\u200bID\n</code></pre> <p>\u200b\u4e00\u6b21\u200b\u5220\u9664\u200b\u591a\u4e2a\u200b</p> <pre><code>docker rm -f $(docker ps -a -q)\n\n\ndocker ps -a -q | xargs docker rm\n</code></pre>"},{"location":"util/docker/docker/#_29","title":"\u8fdb\u5165\u200b\u5bb9\u5668","text":"<pre><code>docker exec -it \u200b\u5bb9\u5668\u200bid /bin/baah\n\n\ndocker attach \u200b\u5bb9\u5668\u200bi\n</code></pre>"},{"location":"util/docker/docker/#_30","title":"\u91cd\u8981\u200b\u547d\u4ee4","text":""},{"location":"util/docker/docker/#_31","title":"\u4ee5\u540e\u200b\u53f0\u200b\u65b9\u5f0f\u200b\u542f\u52a8","text":"<p>docker run -d \u200b\u5bb9\u5668\u200b\u540d\u200b</p> <pre><code>docker run -d tomcat\n</code></pre>"},{"location":"util/docker/docker/#_32","title":"\u67e5\u770b\u200b\u5bb9\u5668\u200b\u65e5\u5fd7","text":"<pre><code>docker logs -f -t --tail \u200b\u5bb9\u5668\u200bID\n</code></pre> <ul> <li>-t \u200b\u662f\u200b\u52a0\u5165\u200b\u65f6\u95f4\u200b\u6233\u200b</li> <li>-f \u200b\u8ddf\u968f\u200b\u6700\u65b0\u200b\u7684\u200b\u65e5\u5fd7\u200b\u6253\u5370\u200b</li> <li>--tail \u200b\u6570\u5b57\u200b \u200b\u663e\u793a\u200b\u6700\u540e\u200b\u591a\u5c11\u200b\u6761\u200b</li> </ul>"},{"location":"util/docker/docker/#_33","title":"\u67e5\u770b\u200b\u5bb9\u5668\u200b\u5185\u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b","text":"<pre><code>docker top \u200b\u5bb9\u5668\u200bID\n</code></pre>"},{"location":"util/docker/docker/#_34","title":"\u67e5\u770b\u200b\u5bb9\u5668\u200b\u5185\u90e8\u200b\u7ec6\u8282","text":"<p>docker inspect \u200b\u5bb9\u5668\u200bID</p>"},{"location":"util/docker/docker/#_35","title":"\u8fdb\u5165\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b\u5bb9\u5668\u200b\u5e76\u200b\u4ee5\u200b\u547d\u4ee4\u884c\u200b\u4ea4\u4e92","text":"<p>docker exec -it \u200b\u5bb9\u5668\u200bID bashShell</p> <pre><code>docker exec -it xxccc /bin/bash\n</code></pre> <p>docker attach \u200b\u5bb9\u5668\u200bID</p> <p>\u200b\u533a\u522b\u200b</p> <p>attach \u200b\u76f4\u63a5\u200b\u8fdb\u5165\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u547d\u4ee4\u200b\u7684\u200b\u7ec8\u7aef\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u542f\u52a8\u200b\u65b0\u200b\u7684\u200b\u8fdb\u7a0b\u200b</p> <p>exec \u200b\u662f\u200b\u5728\u200b\u5bb9\u5668\u200b\u4e2d\u200b\u6253\u5f00\u200b\u65b0\u200b\u7684\u200b\u7ec8\u7aef\u200b\uff0c\u200b\u5e76\u4e14\u200b\u53ef\u4ee5\u200b\u542f\u52a8\u200b\u65b0\u200b\u7684\u200b\u8fdb\u7a0b\u200b</p>"},{"location":"util/docker/docker/#_36","title":"\u4ece\u200b\u5bb9\u5668\u200b\u5185\u200b\u62f7\u8d1d\u200b\u6587\u4ef6\u200b\u5230\u200b\u4e3b\u673a\u200b\u4e0a","text":"<p>docker cp  \u200b\u5bb9\u5668\u200bID:\u200b\u5bb9\u5668\u200b\u5185\u200b\u8def\u5f84\u200b \u200b\u76ee\u7684\u200b\u4e3b\u673a\u200b\u8def\u5f84\u200b</p> <pre><code>attach    Attach to a running container                 # \u200b\u5f53\u524d\u200b shell \u200b\u4e0b\u200b attach \u200b\u8fde\u63a5\u200b\u6307\u5b9a\u200b\u8fd0\u884c\u200b\u955c\u50cf\u200b\nbuild     Build an image from a Dockerfile              # \u200b\u901a\u8fc7\u200b Dockerfile \u200b\u5b9a\u5236\u200b\u955c\u50cf\u200b\ncommit    Create a new image from a container changes   # \u200b\u63d0\u4ea4\u200b\u5f53\u524d\u200b\u5bb9\u5668\u200b\u4e3a\u200b\u65b0\u200b\u7684\u200b\u955c\u50cf\u200b\ncp        Copy files/folders from the containers filesystem to the host path   #\u200b\u4ece\u200b\u5bb9\u5668\u200b\u4e2d\u200b\u62f7\u8d1d\u200b\u6307\u5b9a\u200b\u6587\u4ef6\u200b\u6216\u8005\u200b\u76ee\u5f55\u200b\u5230\u200b\u5bbf\u4e3b\u673a\u200b\u4e2d\u200b\ncreate    Create a new container                        # \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5bb9\u5668\u200b\uff0c\u200b\u540c\u200b run\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u542f\u52a8\u200b\u5bb9\u5668\u200b\ndiff      Inspect changes on a container's filesystem   # \u200b\u67e5\u770b\u200b docker \u200b\u5bb9\u5668\u200b\u53d8\u5316\u200b\nevents    Get real time events from the server          # \u200b\u4ece\u200b docker \u200b\u670d\u52a1\u200b\u83b7\u53d6\u200b\u5bb9\u5668\u200b\u5b9e\u65f6\u200b\u4e8b\u4ef6\u200b\nexec      Run a command in an existing container        # \u200b\u5728\u200b\u5df2\u200b\u5b58\u5728\u200b\u7684\u200b\u5bb9\u5668\u200b\u4e0a\u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b\nexport    Stream the contents of a container as a tar archive   # \u200b\u5bfc\u51fa\u200b\u5bb9\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b\u6d41\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b tar \u200b\u5f52\u6863\u6587\u4ef6\u200b[\u200b\u5bf9\u5e94\u200b import ]\nhistory   Show the history of an image                  # \u200b\u5c55\u793a\u200b\u4e00\u4e2a\u200b\u955c\u50cf\u200b\u5f62\u6210\u200b\u5386\u53f2\u200b\nimages    List images                                   # \u200b\u5217\u51fa\u200b\u7cfb\u7edf\u200b\u5f53\u524d\u200b\u955c\u50cf\u200b\nimport    Create a new filesystem image from the contents of a tarball # \u200b\u4ece\u200btar\u200b\u5305\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u6620\u50cf\u200b[\u200b\u5bf9\u5e94\u200bexport]\ninfo      Display system-wide information               # \u200b\u663e\u793a\u200b\u7cfb\u7edf\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\ninspect   Return low-level information on a container   # \u200b\u67e5\u770b\u200b\u5bb9\u5668\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\nkill      Kill a running container                      # kill \u200b\u6307\u5b9a\u200b docker \u200b\u5bb9\u5668\u200b\nload      Load an image from a tar archive              # \u200b\u4ece\u200b\u4e00\u4e2a\u200b tar \u200b\u5305\u4e2d\u200b\u52a0\u8f7d\u200b\u4e00\u4e2a\u200b\u955c\u50cf\u200b[\u200b\u5bf9\u5e94\u200b save]\nlogin     Register or Login to the docker registry server    # \u200b\u6ce8\u518c\u200b\u6216\u8005\u200b\u767b\u9646\u200b\u4e00\u4e2a\u200b docker \u200b\u6e90\u200b\u670d\u52a1\u5668\u200b\nlogout    Log out from a Docker registry server          # \u200b\u4ece\u200b\u5f53\u524d\u200b Docker registry \u200b\u9000\u51fa\u200b\nlogs      Fetch the logs of a container                 # \u200b\u8f93\u51fa\u200b\u5f53\u524d\u200b\u5bb9\u5668\u200b\u65e5\u5fd7\u200b\u4fe1\u606f\u200b\nport      Lookup the public-facing port which is NAT-ed to PRIVATE_PORT    # \u200b\u67e5\u770b\u200b\u6620\u5c04\u200b\u7aef\u53e3\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5bb9\u5668\u200b\u5185\u90e8\u200b\u6e90\u200b\u7aef\u53e3\u200b\npause     Pause all processes within a container        # \u200b\u6682\u505c\u200b\u5bb9\u5668\u200b\nps        List containers                               # \u200b\u5217\u51fa\u200b\u5bb9\u5668\u200b\u5217\u8868\u200b\npull      Pull an image or a repository from the docker registry server   # \u200b\u4ece\u200bdocker\u200b\u955c\u50cf\u200b\u6e90\u200b\u670d\u52a1\u5668\u200b\u62c9\u53d6\u200b\u6307\u5b9a\u200b\u955c\u50cf\u200b\u6216\u8005\u200b\u5e93\u200b\u955c\u50cf\u200b\npush      Push an image or a repository to the docker registry server    # \u200b\u63a8\u9001\u200b\u6307\u5b9a\u200b\u955c\u50cf\u200b\u6216\u8005\u200b\u5e93\u200b\u955c\u50cf\u200b\u81f3\u200bdocker\u200b\u6e90\u200b\u670d\u52a1\u5668\u200b\nrestart   Restart a running container                   # \u200b\u91cd\u542f\u200b\u8fd0\u884c\u200b\u7684\u200b\u5bb9\u5668\u200b\nrm        Remove one or more containers                 # \u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b\u6216\u8005\u200b\u591a\u4e2a\u200b\u5bb9\u5668\u200b\nrmi       Remove one or more images             # \u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u955c\u50cf\u200b[\u200b\u65e0\u200b\u5bb9\u5668\u200b\u4f7f\u7528\u200b\u8be5\u200b\u955c\u50cf\u200b\u624d\u200b\u53ef\u200b\u5220\u9664\u200b\uff0c\u200b\u5426\u5219\u200b\u9700\u200b\u5220\u9664\u200b\u76f8\u5173\u200b\u5bb9\u5668\u200b\u624d\u200b\u53ef\u200b\u7ee7\u7eed\u200b\u6216\u200b -f \u200b\u5f3a\u5236\u200b\u5220\u9664\u200b]\nrun       Run a command in a new container              # \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5bb9\u5668\u200b\u5e76\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\nsave      Save an image to a tar archive                # \u200b\u4fdd\u5b58\u200b\u4e00\u4e2a\u200b\u955c\u50cf\u200b\u4e3a\u200b\u4e00\u4e2a\u200b tar \u200b\u5305\u200b[\u200b\u5bf9\u5e94\u200b load]\nsearch    Search for an image on the Docker Hub         # \u200b\u5728\u200b docker hub \u200b\u4e2d\u200b\u641c\u7d22\u200b\u955c\u50cf\u200b\nstart     Start a stopped containers                    # \u200b\u542f\u52a8\u200b\u5bb9\u5668\u200b\nstop      Stop a running containers                     # \u200b\u505c\u6b62\u200b\u5bb9\u5668\u200b\ntag       Tag an image into a repository                # \u200b\u7ed9\u6e90\u200b\u4e2d\u200b\u955c\u50cf\u200b\u6253\u200b\u6807\u7b7e\u200b\ntop       Lookup the running processes of a container   # \u200b\u67e5\u770b\u200b\u5bb9\u5668\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4fe1\u606f\u200b\nunpause   Unpause a paused container                    # \u200b\u53d6\u6d88\u200b\u6682\u505c\u200b\u5bb9\u5668\u200b\nversion   Show the docker version information           # \u200b\u67e5\u770b\u200b docker \u200b\u7248\u672c\u53f7\u200b\nwait      Block until a container stops, then print its exit code   # \u200b\u622a\u53d6\u200b\u5bb9\u5668\u200b\u505c\u6b62\u200b\u65f6\u200b\u7684\u200b\u9000\u51fa\u200b\u72b6\u6001\u503c\u200b\n</code></pre>"},{"location":"util/docker/docker/#_37","title":"\u955c\u50cf","text":""},{"location":"util/docker/docker/#_38","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u4e00\u79cd\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u8fd0\u884c\u200b\u73af\u5883\u200b\u7684\u200b\u8f6f\u4ef6\u200b</p>"},{"location":"util/docker/docker/#_39","title":"\u7279\u70b9","text":"<p>Docker\u200b\u955c\u50cf\u200b\u90fd\u200b\u662f\u200b\u53ea\u8bfb\u200b\u7684\u200b \u200b\u5f53\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u53ef\u200b\u5199\u5c42\u200b\u88ab\u200b\u52a0\u8f7d\u200b\u5230\u200b\u955c\u50cf\u200b\u7684\u200b\u9876\u90e8\u200b\u3002 \u200b\u8fd9\u200b\u4e00\u5c42\u200b\u901a\u5e38\u200b\u88ab\u79f0\u4f5c\u200b\u201c\u200b\u5bb9\u5668\u200b\u5c42\u200b\u201d\uff0c\u201c\u200b\u5bb9\u5668\u200b\u5c42\u200b\u201d\u200b\u4e4b\u4e0b\u200b\u7684\u200b\u90fd\u200b\u53eb\u200b\u201c\u200b\u955c\u50cf\u200b\u5c42\u200b\u201d\u3002</p>"},{"location":"util/docker/docker/#docker-commit","title":"docker commit","text":"<p>docker commit\u200b\u63d0\u4ea4\u200b\u5bb9\u5668\u200b\u526f\u672c\u200b\u4f7f\u200b\u4e4b\u200b\u6210\u4e3a\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u955c\u50cf\u200b</p> <p>docker commit -m=\u201c\u200b\u63d0\u4ea4\u200b\u7684\u200b\u63cf\u8ff0\u200b\u4fe1\u606f\u200b\u201d -a=\u201c\u200b\u4f5c\u8005\u200b\u201d \u200b\u5bb9\u5668\u200bID \u200b\u8981\u200b\u521b\u5efa\u200b\u7684\u200b\u76ee\u6807\u200b\u955c\u50cf\u200b\u540d\u200b:[\u200b\u6807\u7b7e\u200b\u540d\u200b]</p> <pre><code>docker run -it -p 8080:8080 tomcat\n\n\ncd /usr/local/tomcat/webapps\n\ntouch a.txt\n\ndocker commit -m=\"my centos\" -a=\"matt\" xxcc mcentos:1.0\n</code></pre>"},{"location":"util/docker/docker/#_40","title":"\u5bb9\u5668\u200b\u6570\u636e\u200b\u5377","text":""},{"location":"util/docker/docker/#_41","title":"\u53ef\u4ee5\u200b\u5e72\u4ec0\u4e48","text":"<p>\u200b\u5bb9\u5668\u200b\u7684\u200b\u6301\u4e45\u200b\u5316\u200b</p> <p>\u200b\u5bb9\u5668\u200b\u5efa\u200b\u7ee7\u627f\u200b+\u200b\u5171\u4eab\u200b\u6570\u636e\u200b</p>"},{"location":"util/docker/docker/#_42","title":"\u6570\u636e\u200b\u5377","text":""},{"location":"util/docker/docker/#_43","title":"\u547d\u4ee4","text":"<pre><code>docker run -it -v /\u200b\u5bbf\u4e3b\u673a\u200b\u7edd\u5bf9\u8def\u5f84\u200b\u76ee\u5f55\u200b:/\u200b\u5bb9\u5668\u200b\u5185\u200b\u76ee\u5f55\u200b      \u200b\u955c\u50cf\u200b\u540d\u200b\n\n\n# \u200b\u67e5\u770b\u200b\u5bb9\u5668\u200b\u662f\u5426\u200b\u6302\u8f7d\u200b\u6210\u529f\u200b \ndocker inspect \u200b\u5bb9\u5668\u200bID\n\n\n# \u200b\u53ea\u8bfb\u200b\ndocker run -it -v /\u200b\u5bbf\u4e3b\u673a\u200b\u7edd\u5bf9\u8def\u5f84\u200b\u76ee\u5f55\u200b:/\u200b\u5bb9\u5668\u200b\u5185\u200b\u76ee\u5f55\u200b:ro \u200b\u955c\u50cf\u200b\u540d\u200b\n</code></pre> <p>\u200b\u5bb9\u5668\u200b\u505c\u6b62\u200b\uff0c\u200b\u5bf9\u200b\u5bbf\u4e3b\u673a\u200b\u7684\u200b\u4fee\u6539\u200b\u4ecd\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5bb9\u5668\u200b\u53d1\u751f\u200b\u6539\u53d8\u200b</p> <p></p> <pre><code>docker run -it -v /home/matt/dataVolumeContainer:/dataVolumeContainer centos /bin/bash\n</code></pre>"},{"location":"util/docker/docker/#dockerfile","title":"Dockerfile","text":"<pre><code># volume test\nFROM centos\nVOLUME [\"/dataVolumeContainer1\",\"/dataVolumeContainer2\"]\nCMD echo \"finished,--------success1\"\nCMD /bin/bash\n</code></pre> <pre><code> docker build -f /home/matt/docker/Dockerfile -t matt/centos .\n</code></pre> <p>\u200b\u955c\u50cf\u200b\u662f\u200b\u5343\u5c42\u997c\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u955c\u50cf\u200b\u53ef\u80fd\u200b\u591a\u5c42\u200b\u7ec4\u6210\u200b</p> <p></p> <p></p> <p>!&gt; \u200b\u4e00\u6bb5\u200b\u91cd\u8981\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u968f\u673a\u200b\u7aef\u53e3\u53f7\u200b</p> <pre><code>docker run -dit -P 8080 tomcat\n</code></pre> <p>\u200b\u5bbf\u4e3b\u673a\u200b\u7aef\u53e3\u200b\u968f\u673a\u200b\u5206\u914d\u200b</p>"},{"location":"util/docker/docker/#_44","title":"\u95ee\u9898","text":"<p>\u200b\u6ca1\u200b\u9047\u5230\u200b</p> <p>Docker\u200b\u6302\u8f7d\u200b\u4e3b\u673a\u200b\u76ee\u5f55\u200bDocker\u200b\u8bbf\u95ee\u200b\u51fa\u73b0\u200bcannot open directory .: Permission denied \u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a\u200b\u5728\u200b\u6302\u8f7d\u200b\u76ee\u5f55\u200b\u540e\u591a\u52a0\u200b\u4e00\u4e2a\u200b--privileged=true\u200b\u53c2\u6570\u200b\u5373\u53ef\u200b</p>"},{"location":"util/docker/docker/#_45","title":"\u6570\u636e\u200b\u5377\u200b\u5bb9\u5668","text":""},{"location":"util/docker/docker/#_46","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u547d\u540d\u200b\u7684\u200b\u5bb9\u5668\u200b\u6302\u8f7d\u200b\u6570\u636e\u200b\u5377\u200b\uff0c\u200b\u5176\u5b83\u200b\u5bb9\u5668\u200b\u901a\u8fc7\u200b\u6302\u8f7d\u200b\u8fd9\u4e2a\u200b(\u200b\u7236\u200b\u5bb9\u5668\u200b)\u200b\u5b9e\u73b0\u200b\u6570\u636e\u5171\u4eab\u200b\uff0c\u200b\u6302\u8f7d\u200b\u6570\u636e\u200b\u5377\u200b\u7684\u200b\u5bb9\u5668\u200b\uff0c\u200b\u79f0\u4e4b\u4e3a\u200b\u6570\u636e\u200b\u5377\u200b\u5bb9\u5668\u200b</p> <p>c1</p> <pre><code>docker run -it --name c1 matt/centos\n</code></pre> <p>c2\u200b\u7ee7\u627f\u200bc1</p> <pre><code>docker run -it --name c2 --volumes-from c1 matt/centos\n\ndocker run -it --name c3 --volumes-from c1 matt/centos\n</code></pre> <p>c2\uff0cc3\u200b\u6570\u636e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\uff0c\u200b\u5373\u4f7f\u200b\u5220\u9664\u200bc1\uff0c\u200b\u4ecd\u7136\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b</p> <p>\u200b\u5bb9\u5668\u200b\u4e4b\u95f4\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u7684\u200b\u4f20\u9012\u200b\uff0c\u200b\u6570\u636e\u200b\u5377\u200b\u7684\u200b\u751f\u547d\u5468\u671f\u200b\u4e00\u76f4\u200b\u6301\u7eed\u200b\u5230\u200b\u6ca1\u6709\u200b\u5bb9\u5668\u200b\u4f7f\u7528\u200b\u5b83\u200b\u4e3a\u6b62\u200b</p>"},{"location":"util/docker/dockerfile/","title":"Dockerfile","text":""},{"location":"util/docker/dockerfile/#dockerfile","title":"dockerfile","text":""},{"location":"util/docker/dockerfile/#_1","title":"\u662f\u200b\u4ec0\u4e48","text":"<p>Dockerfile\u200b\u662f\u200b\u7528\u6765\u200b\u6784\u5efa\u200bDocker\u200b\u955c\u50cf\u200b\u7684\u200b\u6784\u5efa\u200b\u6587\u4ef6\u200b\uff0c\u200b\u662f\u200b\u7531\u200b\u4e00\u7cfb\u5217\u200b\u547d\u4ee4\u200b\u548c\u200b\u53c2\u6570\u200b\u6784\u6210\u200b\u7684\u200b\u811a\u672c\u200b\u3002</p>"},{"location":"util/docker/dockerfile/#_2","title":"\u6784\u5efa\u200b\u8fc7\u7a0b\u200b\u89e3\u6790","text":""},{"location":"util/docker/dockerfile/#dockerfile_1","title":"Dockerfile\u200b\u5185\u5bb9\u200b\u57fa\u7840\u77e5\u8bc6","text":"<ol> <li>\u200b\u6bcf\u6761\u200b\u4fdd\u7559\u5b57\u200b\u6307\u4ee4\u200b\u90fd\u200b\u5fc5\u987b\u200b\u4e3a\u200b\u5927\u5199\u5b57\u6bcd\u200b\u4e14\u200b\u540e\u9762\u200b\u8981\u200b\u8ddf\u968f\u200b\u81f3\u5c11\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b</li> <li>\u200b\u6307\u4ee4\u200b\u6309\u7167\u200b\u4ece\u4e0a\u5230\u4e0b\u200b\uff0c\u200b\u987a\u5e8f\u200b\u6267\u884c\u200b</li> <li> </li> <li> <p>\u200b\u6bcf\u6761\u200b\u6307\u4ee4\u200b\u90fd\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u955c\u50cf\u200b\u5c42\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u200b\u955c\u50cf\u200b\u8fdb\u884c\u200b\u63d0\u4ea4\u200b</p> </li> <li> <p>Dockerfile\u200b\u662f\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u539f\u6750\u6599\u200b</p> </li> <li>Docker\u200b\u955c\u50cf\u200b\u662f\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u4ea4\u4ed8\u200b\u54c1\u200b</li> <li>Docker\u200b\u5bb9\u5668\u200b\u5219\u200b\u53ef\u4ee5\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u8fd0\u884c\u200b\u6001\u200b\u3002</li> </ol>"},{"location":"util/docker/dockerfile/#_3","title":"\u8868\u793a\u200b\u6ce8\u91ca","text":""},{"location":"util/docker/dockerfile/#_4","title":"\u5927\u81f4\u200b\u6d41\u7a0b","text":"<p>\uff081\uff09docker\u200b\u4ece\u200b\u57fa\u7840\u200b\u955c\u50cf\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b</p> <p>\uff082\uff09\u200b\u6267\u884c\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u5e76\u200b\u5bf9\u200b\u5bb9\u5668\u200b\u4f5c\u51fa\u200b\u4fee\u6539\u200b</p> <p>\uff083\uff09\u200b\u6267\u884c\u200b\u7c7b\u4f3c\u200bdocker commit\u200b\u7684\u200b\u64cd\u4f5c\u200b\u63d0\u4ea4\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u955c\u50cf\u200b\u5c42\u200b</p> <p>\uff084\uff09docker\u200b\u518d\u200b\u57fa\u4e8e\u200b\u521a\u200b\u63d0\u4ea4\u200b\u7684\u200b\u955c\u50cf\u200b\u8fd0\u884c\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u5bb9\u5668\u200b</p> <p>\uff085\uff09\u200b\u6267\u884c\u200bdockerfile\u200b\u4e2d\u200b\u7684\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6307\u4ee4\u200b\u76f4\u5230\u200b\u6240\u6709\u200b\u6307\u4ee4\u200b\u90fd\u200b\u6267\u884c\u200b\u5b8c\u6210\u200b</p>"},{"location":"util/docker/dockerfile/#_5","title":"\u5173\u952e\u5b57","text":"\u5173\u952e\u5b57\u200b \u200b\u63cf\u8ff0\u200b FROM \u200b\u57fa\u7840\u200b\u955c\u50cf\u200b\uff0c\u200b\u5f53\u524d\u200b\u65b0\u200b\u955c\u50cf\u200b\u662f\u200b\u57fa\u4e8e\u200b\u54ea\u4e2a\u200b\u955c\u50cf\u200b\u7684\u200b MAINTAINER \u200b\u955c\u50cf\u200b\u7ef4\u62a4\u8005\u200b\u7684\u200b\u59d3\u540d\u200b\u548c\u200b\u90ae\u7bb1\u5730\u5740\u200b RUN \u200b\u5bb9\u5668\u200b\u6784\u5efa\u200b\u65f6\u200b\u9700\u8981\u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b EXPOSE \u200b\u5f53\u524d\u200b\u5bb9\u5668\u200b\u5bf9\u5916\u200b\u66b4\u9732\u51fa\u200b\u7684\u200b\u7aef\u53e3\u200b WORKDIR \u200b\u6307\u5b9a\u200b\u5728\u200b\u521b\u5efa\u200b\u5bb9\u5668\u200b\u540e\u200b\uff0c\u200b\u7ec8\u7aef\u200b\u9ed8\u8ba4\u200b\u767b\u9646\u200b\u7684\u200b\u8fdb\u6765\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u843d\u811a\u70b9\u200b ENV \u200b\u7528\u6765\u200b\u5728\u200b\u6784\u5efa\u200b\u955c\u50cf\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b ADD \u200b\u5c06\u200b\u5bbf\u4e3b\u673a\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6587\u4ef6\u200b\u62f7\u8d1d\u200b\u8fdb\u200b\u955c\u50cf\u200b\u4e14\u200bADD\u200b\u547d\u4ee4\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5904\u7406\u200bURL\u200b\u548c\u200b\u89e3\u538b\u200btar\u200b\u538b\u7f29\u5305\u200b COPY \u200b\u7c7b\u4f3c\u200bADD\uff0c\u200b\u62f7\u8d1d\u200b\u6587\u4ef6\u200b\u548c\u200b\u76ee\u5f55\u200b\u5230\u200b\u955c\u50cf\u200b\u4e2d\u200b\u3002\u200b\u5c06\u200b\u4ece\u200b\u6784\u5efa\u200b\u4e0a\u4e0b\u6587\u200b\u76ee\u5f55\u200b\u4e2d\u200b &lt;\u200b\u6e90\u200b\u8def\u5f84\u200b&gt; \u200b\u7684\u200b\u6587\u4ef6\u200b/\u200b\u76ee\u5f55\u200b\u590d\u5236\u5230\u200b\u65b0\u200b\u7684\u200b\u4e00\u5c42\u200b\u7684\u200b\u955c\u50cf\u200b\u5185\u200b\u7684\u200b &lt;\u200b\u76ee\u6807\u200b\u8def\u5f84\u200b&gt; \u200b\u4f4d\u7f6e\u200b VOLUME \u200b\u5bb9\u5668\u200b\u6570\u636e\u200b\u5377\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u548c\u200b\u6301\u4e45\u200b\u5316\u200b\u5de5\u4f5c\u200b CMD \u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u8981\u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff08Dockerfile \u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u6709\u200b\u591a\u4e2a\u200b CMD \u200b\u6307\u4ee4\u200b\uff0c\u200b\u4f46\u200b\u53ea\u6709\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u751f\u6548\u200b\uff0cCMD \u200b\u4f1a\u200b\u88ab\u200b docker run \u200b\u4e4b\u540e\u200b\u7684\u200b\u53c2\u6570\u200b\u66ff\u6362\u200b\uff09 ENTRYPOINT \u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u65f6\u8981\u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff08ENTRYPOINT \u200b\u7684\u200b\u76ee\u7684\u200b\u548c\u200b CMD \u200b\u4e00\u6837\u200b\uff0c\u200b\u90fd\u200b\u662f\u200b\u5728\u200b\u6307\u5b9a\u200b\u5bb9\u5668\u200b\u542f\u52a8\u200b\u7a0b\u5e8f\u200b\u53ca\u200b\u53c2\u6570\u200b\uff09 ONBUILD \u200b\u5f53\u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u88ab\u200b\u7ee7\u627f\u200b\u7684\u200bDockerfile\u200b\u65f6\u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7236\u200b\u955c\u50cf\u200b\u5728\u200b\u88ab\u5b50\u200b\u7ee7\u627f\u200b\u540e\u200b\u7236\u200b\u955c\u50cf\u200b\u7684\u200bonbuild\u200b\u88ab\u200b\u89e6\u53d1\u200b <p>ENV MY_PATH /usr/mytest \u200b\u8fd9\u4e2a\u200b\u73af\u5883\u53d8\u91cf\u200b\u53ef\u4ee5\u200b\u5728\u200b\u540e\u7eed\u200b\u7684\u200b\u4efb\u4f55\u200bRUN\u200b\u6307\u4ee4\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u5982\u540c\u200b\u5728\u200b\u547d\u4ee4\u200b\u524d\u9762\u200b\u6307\u5b9a\u200b\u4e86\u200b\u73af\u5883\u53d8\u91cf\u200b\u524d\u7f00\u200b\u4e00\u6837\u200b\uff1b \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5176\u5b83\u200b\u6307\u4ee4\u200b\u4e2d\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u8fd9\u4e9b\u200b\u73af\u5883\u53d8\u91cf\u200b\uff0c</p> <p>\u200b\u6bd4\u5982\u200b\uff1aWORKDIR $MY_PATH</p> <p>ONBUILD  </p> <p></p>"},{"location":"util/docker/dockerfile/#_6","title":"\u6848\u4f8b","text":""},{"location":"util/docker/dockerfile/#dockerfile_2","title":"dockerfile","text":"<pre><code>FROM         centos:centos7\nMAINTAINER    matt&lt;matt@qq.com&gt;\n#\u200b\u628a\u200b\u5bbf\u4e3b\u673a\u200b\u5f53\u524d\u200b\u4e0a\u4e0b\u6587\u200b\u7684\u200bc.txt\u200b\u62f7\u8d1d\u5230\u200b\u5bb9\u5668\u200b/usr/local/\u200b\u8def\u5f84\u200b\u4e0b\u200b\nCOPY c.txt /usr/local/cincontainer.txt\n#\u200b\u628a\u200bjava\u200b\u4e0e\u200btomcat\u200b\u6dfb\u52a0\u200b\u5230\u200b\u5bb9\u5668\u200b\u4e2d\u200b\nADD jdk-8u171-linux-x64.tar.gz /usr/local/\nADD apache-tomcat-9.0.8.tar.gz /usr/local/\n#\u200b\u5b89\u88c5\u200bvim\u200b\u7f16\u8f91\u5668\u200b\nRUN yum -y install vim\n#\u200b\u8bbe\u7f6e\u200b\u5de5\u4f5c\u200b\u8bbf\u95ee\u200b\u65f6\u5019\u200b\u7684\u200bWORKDIR\u200b\u8def\u5f84\u200b\uff0c\u200b\u767b\u5f55\u200b\u843d\u811a\u70b9\u200b\nENV MYPATH /usr/local\nWORKDIR $MYPATH\n#\u200b\u914d\u7f6e\u200bjava\u200b\u4e0e\u200btomcat\u200b\u73af\u5883\u53d8\u91cf\u200b\nENV JAVA_HOME /usr/local/jdk1.8.0_171\nENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\nENV CATALINA_HOME /usr/local/apache-tomcat-9.0.8\nENV CATALINA_BASE /usr/local/apache-tomcat-9.0.8\nENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin\n#\u200b\u5bb9\u5668\u200b\u8fd0\u884c\u200b\u65f6\u200b\u76d1\u542c\u200b\u7684\u200b\u7aef\u53e3\u200b\nEXPOSE  8080\n#\u200b\u542f\u52a8\u200b\u65f6\u200b\u8fd0\u884c\u200btomcat\n# ENTRYPOINT [\"/usr/local/apache-tomcat-9.0.8/bin/startup.sh\" ]\n# CMD [\"/usr/local/apache-tomcat-9.0.8/bin/catalina.sh\",\"run\"]\nCMD /usr/local/apache-tomcat-9.0.8/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.8/bin/logs/catalina.out\n</code></pre>"},{"location":"util/docker/dockerfile/#_7","title":"\u6784\u5efa","text":"<pre><code>docker build -t mcentos:1\n\n# \u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u8be5\u200b\u6587\u4ef6\u5939\u200bDockerfile \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b-f\u200b\u6307\u5b9a\u200b\u5176\u4ed6\u200b\u6587\u4ef6\u5939\u200b\ndocker build -f Dockerfile -t mcentos:1\n</code></pre>"},{"location":"util/docker/dockerfile/#_8","title":"\u5e38\u7528\u8f6f\u4ef6\u200b\u5b89\u88c5","text":""},{"location":"util/docker/dockerfile/#mysql","title":"mysql","text":"<pre><code>docker pull mysql:5.6\n\n\ndocker run -p 12345:3306 --name mysql -v /zzyyuse/mysql/conf:/etc/mysql/conf.d -v /zzyyuse/mysql/logs:/logs -v /zzyyuse/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.6\n\n\n\n\ndocker run -p 12345:3306 --name mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.6\n</code></pre>"},{"location":"util/docker/dockerfile/#redis","title":"redis","text":"<pre><code>docker pull redis:3.2\n\n\n\n# --appendonly yes \u200b\u5f00\u542f\u200b\u6301\u4e45\u200b\u5316\u200b\ndocker run -p 6379:6379 -v /home/matt/myredis/data:/data -v /home/matt/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf  -d redis:3.2 redis-server /usr/local/etc/redis/redis.conf --appendonly yes\n</code></pre> <p>aliyun</p> <p>https://dev.aliyun.com/search.html</p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/","title":"centos\u200b\u5b89\u88c5","text":"<p>centos 7 \u200b\u955c\u50cf\u200b</p> <p></p> <p>\u200b\u955c\u50cf\u200b\u4ecb\u7ecd\u200b \u200b\u5404\u79cd\u200b\u683c\u5f0f\u200b</p> <p>\u200b\u865a\u62df\u673a\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p> <p>\u200b\u865a\u62df\u5316\u200b</p> <p></p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#centos","title":"\u5b89\u88c5\u200bcentos","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_1","title":"\u57fa\u7840","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_2","title":"\u5904\u7406\u5668\u200b \u200b\u5185\u5b58","text":"<p>2\u200b\u4e2a\u200b\u5904\u7406\u5668\u200b\u3001\u200b\u6bcf\u4e2a\u200b\u5904\u7406\u5668\u200b\u4e00\u4e2a\u200b\u6838\u5fc3\u200b\u6570\u91cf\u200b</p> <p>\u200b\u5185\u5b58\u200b2g</p> <p></p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_3","title":"\u7f51\u7edc","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_4","title":"\u78c1\u76d8","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_5","title":"\u865a\u62df\u673a\u200b\u8bbe\u7f6e","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_6","title":"\u5f00\u673a","text":"<p>\u200b\u5f00\u673a\u200b\u56de\u8f66\u200b</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_7","title":"\u5206\u533a","text":"<p>1g    45g    4g</p> <p>\u200b\u6807\u51c6\u200b\u5206\u533a\u200b\uff0c/boot\uff0c1g,\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff0c ext4</p> <p>\u200b\u6839\u200b\u5206\u533a\u200b\u65b0\u5efa\u200b\uff0c\u200b\u8bbe\u5907\u200b\u7c7b\u578b\u200b\u201c\u200b\u6807\u51c6\u200b\u5206\u533a\u200b\u201d\uff0c\u200b\u6302\u8f7d\u200b\u70b9\u4e3a\u200b\u201c/\u201d\uff0c\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u4e3a\u200b\u201cxfs\u201d   </p> <p>swap\u200b\u5206\u533a\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u4e3a\u200b\u201cswap\u201d,Swap:\u200b\u5185\u5b58\u4e0d\u8db3\u200b\u6709\u200b\u786c\u76d8\u200b\u66ff\u6362\u200b</p> <p>\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u8981\u200b\u9009\u62e9\u200b\u5bf9\u200b</p> <p>\u200b\u4e0d\u200b\u542f\u7528\u200bKdump</p> <p>\u200b\u4e0d\u200b\u542f\u7528\u200bdump,kdump\u200b\u7528\u4e8e\u200b\u7cfb\u7edf\u200b\u5d29\u6e83\u200b\u4fdd\u5b58\u200b\u6570\u636e\u200b</p> <p>\u200b\u4fee\u6539\u200b\u4e3b\u673a\u540d\u200b</p> <p>\u200b\u5f00\u59cb\u200b\u5b89\u88c5\u200b\uff0c\u200b\u8bbe\u7f6e\u200bRoot\u200b\u5bc6\u7801\u200b\u5373\u53ef\u200b\u7b49\u5f85\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b</p> <p></p> <p>\u200b\u91cd\u542f\u200b\u540c\u610f\u200b\u8bb8\u53ef\u8bc1\u200b\u5b8c\u6210\u200b\u914d\u7f6e\u200b\u5373\u53ef\u200b</p> <p></p> <p></p> <p>\u200b\u5b8c\u6210\u200b\u914d\u7f6e\u200b\u5728\u7ebf\u200b\u8d26\u53f7\u200b\u8df3\u8fc7\u200b\u3001\u200b\u8bbe\u7f6e\u200b\u8d26\u53f7\u200b\u6ce8\u9500\u200b\u4f7f\u7528\u200broot\u200b\u767b\u5f55\u200b\u5373\u53ef\u200b</p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_8","title":"\u7f51\u7edc","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_9","title":"\u4ecb\u7ecd","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#nat","title":"\u8bbe\u7f6e\u200bNAT","text":"<p>\u200b\u5982\u679c\u200bwin10\u200b\u6ca1\u200b\u51fa\u73b0\u200bv8 \u200b\u90a3\u4e48\u200b\u5728\u200b\u865a\u62df\u673a\u200b\u4e2d\u200b\u66f4\u6539\u200b\u6000\u8fdc\u200b\u914d\u7f6e\u200b</p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#v8","title":"\u8bbe\u7f6e\u200b\u4e3b\u673a\u200b\u865a\u62df\u200b\u7f51\u7edc\u200bv8","text":"<p>\u200b\u8bbe\u7f6e\u200b\u9759\u6001\u200bip</p> <p></p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_10","title":"\u8bbe\u7f6e\u200b\u865a\u62df\u673a\u200b\u7f51\u7edc","text":"<p>\u200b\u5b50\u7f51\u200bip\uff0c\u200b\u4e3b\u673a\u200b\u548c\u200b\u865a\u62df\u673a\u200b \u200b\u9700\u8981\u200b\u5728\u200b\u540c\u4e00\u200b\u7f51\u6bb5\u200b\uff08\u200b\u56e0\u4e3a\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5185\u7f51\u200b\u4e0b\u200b\uff09</p> <p>\u200b\u5173\u95ed\u200bwindows\u200b\u9632\u706b\u5899\u200b</p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#centos_1","title":"\u8bbe\u7f6e\u200bcentos\u200b\u7f51\u7edc","text":"<pre><code>vim /etc/sysconfig/network-scripts/ifcfg-ens33\n</code></pre> <pre><code>TYPE=\"Ethernet\"\nPROXY_METHOD=\"none\"\nBROWSER_ONLY=\"no\"\nBOOTPROTO=\"dhcp\"\nDEFROUTE=\"yes\"\nIPV4_FAILURE_FATAL=\"no\"\nIPV6INIT=\"yes\"\nIPV6_AUTOCONF=\"yes\"\nIPV6_DEFROUTE=\"yes\"\nIPV6_FAILURE_FATAL=\"no\"\nIPV6_ADDR_GEN_MODE=\"stable-privacy\"\nNAME=\"ens33\"\nUUID=\"6b84fa31-a207-4928-9e53-61ad2ec7b485\"\nDEVICE=\"ens33\"\nONBOOT=\"yes\"\n</code></pre> <pre><code>TYPE=\"Ethernet\"\nPROXY_METHOD=\"none\"\nBROWSER_ONLY=\"no\"\nBOOTPROTO=\"static\" // \u200b\u66f4\u6539\u200b\u8be5\u503c\u200b\nDEFROUTE=\"yes\" \nIPV4_FAILURE_FATAL=\"no\"\nIPV6INIT=\"yes\"\nIPV6_AUTOCONF=\"yes\"\nIPV6_DEFROUTE=\"yes\"\nIPV6_FAILURE_FATAL=\"no\"\nIPV6_ADDR_GEN_MODE=\"stable-privacy\"\nNAME=\"ens33\"\nUUID=\"6b84fa31-a207-4928-9e53-61ad2ec7b485\"\nDEVICE=\"ens33\"\nONBOOT=\"yes\"   // \u200b\u6539\u200b\nIPADDR=192.168.96.129   // ip \u200b\u5730\u5740\u200b,\u200b\u524d\u4e09\u4f4d\u200b\u548c\u200b\u5b50\u7f51\u200bip\u200b\u4e00\u81f4\u200b\nGATEWAY=192.168.96.2    // ip.2\nDNS1=192.168.96.2    // \u200b\u9ed8\u8ba4\u200b\n</code></pre> <pre><code>TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=dhcp\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=ens33\nUUID=dba7c9df-22d1-43b7-8291-e28dc76ed1dd\nDEVICE=ens33\nONBOOT=no\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_11","title":"\u91cd\u542f\u200b\u7f51\u7edc\u200b\u6216\u8005\u200b\u91cd\u542f","text":"<p>\u200b\u63a8\u8350\u200b\u91cd\u542f\u200b\u5373\u53ef\u200b</p> <pre><code>service network restart\n</code></pre> <pre><code>systemctl restart network\n</code></pre> <p>\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u4e0a\u7f51\u200b\u70b9\u51fb\u200b\u6709\u7ebf\u200b\u8fde\u63a5\u200b\u5373\u53ef\u200b</p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_12","title":"\u9632\u706b\u5899","text":"<p>\u200b\u67e5\u770b\u200b\u9632\u706b\u5899\u200b\u72b6\u6001\u200b</p> <pre><code>systemctl status firewalld.service\n</code></pre> <p>\u200b\u5173\u95ed\u200b\u9632\u706b\u5899\u200b</p> <pre><code>systemctl stop firewalld.service\n</code></pre> <p>\u200b\u7981\u6b62\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b</p> <pre><code>systemctl disable firewalld.service\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_13","title":"\u8bbe\u7f6e\u200b\u4e3b\u673a\u200b\u540d\u79f0","text":"<pre><code>vim /etc/hostname\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#ip","title":"\u4e3b\u673a\u200bip\u200b\u6620\u5c04","text":"<p>\u200b\u4e3b\u673a\u540d\u200b\u548c\u200bip\u200b\u6620\u5c04\u200b</p> <pre><code>vim /etc/hosts\n</code></pre> <pre><code>192.168.96.128 matt04\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#root","title":"\u521b\u5efa\u200b\u975e\u200broot\u200b\u7528\u6237","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#matt","title":"\u521b\u5efa\u200bmatt\u200b\u7528\u6237","text":"<pre><code>useradd matt\n\npasswd matt\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#mattsudo","title":"\u4e3a\u200bmatt\u200b\u7528\u6237\u200b\u6dfb\u52a0\u200bsudo\u200b\u6743\u9650","text":"<p>\u200b\u4fee\u6539\u200b/etc/sudoers \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5728\u200b%wheel \u200b\u8fd9\u200b\u884c\u200b\u4e0b\u9762\u200b\u6dfb\u52a0\u200b\u4e00\u884c\u200b\uff0c\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> <pre><code>vim /etc/sudoers\n</code></pre> <pre><code>## Allows people in group wheel to run all commands\n%wheel  ALL=(ALL)       ALL\nmatt    ALL=(ALL)       NOPASSWD:ALL\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_14","title":"\u521b\u5efa\u200b\u8f6f\u4ef6\u200b\u5b89\u88c5\u200b\u76ee\u5f55","text":"<pre><code>mkdir /opt/software\n\nmkdir /opt/module\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#matt_1","title":"\u4fee\u6539\u200b\u521b\u5efa\u200b\u7684\u200b\u6587\u4ef6\u200b\u7684\u200b\u7528\u6237\u200b\u548c\u200b\u7528\u6237\u7ec4\u200b\u4e3a\u200bmatt","text":"<pre><code>chown -R matt:matt /opt/software\n\nchown -R matt:matt /opt/module\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_15","title":"\u9a8c\u8bc1","text":"<pre><code>ll\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_16","title":"\u865a\u62df\u673a\u200b\u514b\u9686","text":"<p>\u200b\u5728\u200b\u7f51\u7edc\u200b\u914d\u7f6e\u200b\u597d\u200b\u5728\u200b\u514b\u9686\u200b\u8bb0\u5f97\u200b\u4e00\u5b9a\u200b\u8981\u200b\u5173\u673a\u200b\u4e0b\u200b</p> <p></p> <p></p> <p></p> <p>\u200b\u8bb0\u5f97\u200b\u4fee\u6539\u200bip,\u200b\u670d\u52a1\u5668\u200b\u540d\u200b\uff0c\u200b\u4e3b\u673a\u200bIP\u200b\u6620\u5c04\u200b</p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#ssh","title":"\u5b89\u88c5\u200bssh","text":"<p>\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u5b89\u88c5\u200bssh</p> <pre><code>yum list installed | grep openssh-server\n</code></pre> <p>\u200b\u5b89\u88c5\u200bssh</p> <pre><code>yum install -y openssl openssh-server\n</code></pre> <p>\u200b\u914d\u7f6e\u200b</p> <pre><code>vim /etc/ssh/sshd_config\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u6253\u5f00\u200b</p> <p>port,ListenAddress</p> <p></p> <p>PermitRootLogin,PubkeyAuthentication,Password</p> <p></p> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_17","title":"\u9000\u51fa","text":"<pre><code>logout 123.56.135.43 //\u200b\u9000\u51fa\u200bssh\u200b\u8fde\u63a5\u200b\nexit\n</code></pre> <p>\u200b\u514d\u5bc6\u200b\u767b\u5f55\u200b</p> <pre><code>ssh-keygen\n\ncd /home/matt/.ssh\n\nssh-copy-id -i id_rsa.pub root@192.168.96.128\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_18","title":"\u865a\u62df\u673a\u200b\u6269\u5bb9","text":""},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_19","title":"\u67e5\u770b\u200b\u672c\u200b\u673a\u200b\u78c1\u76d8\u200b\u73af\u5883","text":"<pre><code>df -h\n</code></pre> <pre><code>lsblk\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_20","title":"\u6dfb\u52a0\u200b\u78c1\u76d8\u5206\u533a","text":"<pre><code>fdisk /dev/sda\n</code></pre> <p>\u200b\u8f93\u5165\u200bp\u200b\u4e0d\u662f\u200b\u9ed8\u8ba4\u200be,\u200b\u7b2c\u4e8c\u4e2a\u200b\u9ed8\u8ba4\u200b</p> <p>\u200b\u8bb0\u5f97\u200b\u91cd\u542f\u200b</p> <pre><code>lsblk\n</code></pre> <p></p>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_21","title":"\u5f00\u59cb\u200b\u6269\u5bb9","text":"<p>\u200b\u521b\u5efa\u200b\u7269\u7406\u200b\u5377\u200b</p> <pre><code>[root@localhost ~]# lvm\nlvm&gt; pvcreate /dev/sda4\nWARNING: dos signature detected on /dev/sda4 at offset 510. Wipe it? [y/n]: y\n  Wiping dos signature on /dev/sda4.\n  Physical volume \"/dev/sda4\" successfully created.\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u7269\u7406\u200b\u5377\u200b\u548c\u200b\u5377\u7ec4\u200b\uff1a</p> <pre><code>lvm&gt; pvdisplay\n  --- Physical volume ---\n  PV Name               /dev/sda2\n  VG Name               centos\n  PV Size               11.23 GiB / not usable 4.00 MiB\n  Allocatable           yes (but full)\n  PE Size               4.00 MiB\n  Total PE              2875\n  Free PE               0\n  Allocated PE          2875\n  PV UUID               lTqDdT-6UxW-feyh-V97X-BJEg-zN18-G5kc4Z\n\n  --- Physical volume ---\n  PV Name               /dev/sda3\n  VG Name               centos\n  PV Size               5.00 GiB / not usable 4.00 MiB\n  Allocatable           yes (but full)\n  PE Size               4.00 MiB\n  Total PE              1279\n  Free PE               0\n  Allocated PE          1279\n  PV UUID               kSnxe0-jrzC-UPoT-UZQk-2oda-eZrK-ggQXKp\n\n  \"/dev/sda4\" is a new physical volume of \"2.00 GiB\"\n  --- NEW Physical volume ---\n  PV Name               /dev/sda4\n  VG Name               \n  PV Size               2.00 GiB\n  Allocatable           NO\n  PE Size               0   \n  Total PE              0\n  Free PE               0\n  Allocated PE          0\n  PV UUID               VVW6TL-NF39-NfgU-2oBR-zqkF-RCiN-0I73Zq\n</code></pre> <pre><code>lvm&gt; vgdisplay\n  --- Volume group ---\n  VG Name               centos\n  System ID             \n  Format                lvm2\n  Metadata Areas        2\n  Metadata Sequence No  5\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                0\n  Cur LV                2\n  Open LV               2\n  Max PV                0\n  Cur PV                2\n  Act PV                2\n  VG Size               &lt;16.23 GiB\n  PE Size               4.00 MiB\n  Total PE              4154\n  Alloc PE / Size       4154 / &lt;16.23 GiB\n  Free  PE / Size       0 / 0   \n  VG UUID               1V8J83-cmtx-C8uY-KAQZ-teqj-uGD2-Tmad21\n</code></pre> <p>\u200b\u5c06\u200b\u7269\u7406\u200b\u5377\u200b\u52a0\u5165\u200b\u5230\u200b\u5377\u7ec4\u200b\uff1a</p> <pre><code>lvm&gt; vgextend centos /dev/sda4\n  Volume group \"centos\" successfully extended\nlvm&gt; vgdisplay\n  --- Volume group ---\n  VG Name               centos\n  System ID             \n  Format                lvm2\n  Metadata Areas        3\n  Metadata Sequence No  6\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                0\n  Cur LV                2\n  Open LV               2\n  Max PV                0\n  Cur PV                3\n  Act PV                3\n  VG Size               18.22 GiB\n  PE Size               4.00 MiB\n  Total PE              4665\n  Alloc PE / Size       4154 / &lt;16.23 GiB\n  Free  PE / Size       511 / &lt;2.00 GiB\n  VG UUID               1V8J83-cmtx-C8uY-KAQZ-teqj-uGD2-Tmad21\n</code></pre> <p>\u200b\u5c06\u200b\u5377\u7ec4\u200b\u5269\u4f59\u200b\u7a7a\u95f4\u200b(\u200b\u521a\u200b\u6dfb\u52a0\u200b\u7684\u200b2G)\u200b\u6dfb\u52a0\u200b\u5230\u200b\u903b\u8f91\u200b\u5377\u200b/dev/centos/root :</p> <pre><code>lvm&gt; lvextend -l +100%FREE /dev/centos/root\n  Size of logical volume centos/root changed from &lt;14.32 GiB (3665 extents) to 16.31 GiB (4176 extents).\n  Logical volume centos/root successfully resized.\nlvm&gt; exit\n  Exiting.\n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_22","title":"\u540c\u6b65\u200b\u5230\u200b\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u200b\u4e4b\u524d\u200b\u53ea\u662f\u200b\u5bf9\u200b\u903b\u8f91\u200b\u5377\u200b\u6269\u5bb9\u200b\uff0c\u200b\u8fd8\u8981\u200b\u540c\u6b65\u200b\u5230\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u6839\u76ee\u5f55\u200b\u7684\u200b\u6269\u5bb9\u200b\u3002</p> <pre><code>[root@localhost ~]# xfs_growfs /dev/centos/root\nmeta-data=/dev/mapper/centos-root isize=512    agcount=7, agsize=610304 blks\n         =                       sectsz=512   attr=2, projid32bit=1\n         =                       crc=1        finobt=0 spinodes=0\ndata     =                       bsize=4096   blocks=3752960, imaxpct=25\n         =                       sunit=0      swidth=0 blks\nnaming   =version 2              bsize=4096   ascii-ci=0 ftype=1\nlog      =internal               bsize=4096   blocks=2560, version=2\n         =                       sectsz=512   sunit=0 blks, lazy-count=1\nrealtime =none                   extsz=4096   blocks=0, rtextents=0\ndata blocks changed from 3752960 to 4276224\n</code></pre> <pre><code>[root@localhost ~]# df -h\n\u200b\u6587\u4ef6\u7cfb\u7edf\u200b                 \u200b\u5bb9\u91cf\u200b  \u200b\u5df2\u200b\u7528\u200b  \u200b\u53ef\u7528\u200b \u200b\u5df2\u200b\u7528\u200b% \u200b\u6302\u8f7d\u200b\u70b9\u200b\ndevtmpfs                 894M     0  894M    0% /dev\ntmpfs                    910M     0  910M    0% /dev/shm\ntmpfs                    910M   11M  900M    2% /run\ntmpfs                    910M     0  910M    0% /sys/fs/cgroup\n/dev/mapper/centos-root   17G  9.3G  7.1G   57% /\n/dev/sda1                187M  163M   25M   87% /boot\ntmpfs                    182M     0  182M    0% /run/user/0\ntmpfs                    182M  8.0K  182M    1% /run/user/42\n[root@localhost ~]# \n</code></pre>"},{"location":"util/linux/centos%E5%AE%89%E8%A3%85/#_23","title":"\u5220\u9664\u200b\u5206\u533a","text":"<p>\u200b\u9002\u7528\u200b\u4e8e\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u6302\u8f7d\u200b\uff0c\u200b\u5982\u679c\u200b\u6302\u8f7d\u200b\u5219\u200b\u9700\u8981\u200b\u5378\u8f7d\u200b</p> <pre><code>fdisk /dev/sdc\n\n# \u200b\u8f93\u5165\u200bd,\u200b\u7136\u540e\u200b\u6309\u7167\u200b\u63d0\u793a\u200b\u8f93\u5165\u200b\u5206\u533a\u200b\u53f7\u200b\n</code></pre>"},{"location":"util/linux/cmd/","title":"Cmd","text":""},{"location":"util/linux/cmd/#vim","title":"vim","text":""},{"location":"util/linux/cmd/#_1","title":"\u547d\u4ee4\u200b\u6a21\u5f0f","text":"<pre><code>:set nu\n</code></pre>"},{"location":"util/linux/cmd/#_2","title":"\u9000\u51fa\u200b\u6a21\u5f0f","text":"<pre><code>esc\n\n:wq\n:q!\n</code></pre>"},{"location":"util/linux/cmd/#_3","title":"\u7f16\u8f91\u200b\u6a21\u5f0f","text":"<p>\u200b\u8fdb\u5165\u200b\u7f16\u8f91\u200b\u6a21\u5f0f\u200b</p> <ul> <li>i\uff1a\u200b\u5149\u6807\u200b\u4f4d\u7f6e\u200b\u524d\u200b</li> <li>I\uff1a\u200b\u5f53\u524d\u200b\u884c\u200b\u9996\u4e2a\u200b\u975e\u200b\u7a7a\u5b57\u7b26\u200b\u524d\u200b</li> <li>a\uff1a\u200b\u5149\u6807\u200b\u4f4d\u7f6e\u200b\u540e\u200b</li> <li>A\uff1a\u200b\u5f53\u524d\u200b\u884c\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7a7a\u5b57\u7b26\u200b\u540e\u200b</li> <li>o:\u200b\u4e0b\u200b\u4e00\u884c\u884c\u200b\u9996\u200b</li> <li>O:\u200b\u4e0a\u200b\u4e00\u884c\u884c\u200b\u9996\u200b</li> </ul>"},{"location":"util/linux/cmd/#_4","title":"\u8df3\u200b\u5230\u200b\u6307\u5b9a\u200b\u884c","text":"<pre><code>normal\u200b\u6a21\u5f0f\u200b\n\n# \u200b\u8df3\u5230\u200b\u7b2c\u200bn\u200b\u884c\u200b\n:n\n:4\n\n# \u200b\u5f53\u524d\u200b\u4f4d\u7f6e\u200b\u4e0a\u4e0b\u200b\u8df3\u200bn\u200b\u884c\u200b\n:+/-n\n+1\n\n#\u200b\u67e5\u627e\u200b /abc -&gt; n\u200b\u4ece\u200b\u4e0a\u200b\u5f80\u200b\u4e0b\u200b N\u200b\u4ece\u200b\u4e0b\u200b\u5f80\u200b\u4e0a\u200b\n/abc\n\n\n#\u200b\u8df3\u200b\u5230\u200b\u6587\u4ef6\u200b\u672b\u5c3e\u200b\na.shift + g\nb.:$\n</code></pre>"},{"location":"util/linux/cmd/#_5","title":"\u68c0\u7d22","text":"<pre><code># \u200b\u524d\u5f80\u200b\u540e\u200b\u627e\u200b, n\u200b\u627e\u4e0b\u200b\u4e00\u4e2a\u200b\n/abc\n\n\n# \u200b\u540e\u200b\u5f80\u524d\u200b\u627e\u200b\uff0cN\u200b\u627e\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\n?abc\n\n\n# f\u200b\u4ece\u524d\u200b\u5f80\u540e\u200b F\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\nfx\nFx\n</code></pre>"},{"location":"util/linux/cmd/#awk","title":"awk","text":""},{"location":"util/linux/cmd/#_6","title":"\u57fa\u7840\u200b\u7528\u6cd5","text":"<pre><code># \u200b\u8f93\u51fa\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7b2c\u4e00\u5217\u200b\uff0c\u200b\u7b2c\u4e8c\u5217\u200b\nawk '{print $1,$2}' a.txt\n# \u200b\u683c\u5f0f\u5316\u200b\u8f93\u51fa\u200b\nawk '{printf \"%s,%s\",$1,$2}' a.txt\n\n# \u200b\u6307\u5b9a\u200b\u5206\u9694\u7b26\u200b\nawk -F, '{print $1}' a.txt \n# \u200b\u6307\u5b9a\u200b\u591a\u4e2a\u200b\u5206\u9694\u7b26\u200b\nawk -F '[@,]' '{print $1,$2}' a.txt\n</code></pre> <pre><code>\u200b\u683c\u5f0f\u5316\u200b\u8f93\u51fa\u200b\n%9s \u200b\u524d\u9762\u200b\u8865\u200b\u7a7a\u683c\u200b\n$-9s \u200b\u540e\u9762\u200b\u8865\u200b\u7a7a\u683c\u200b\n%08s \u200b\u524d\u9762\u200b\u8865\u200b0\n</code></pre>"},{"location":"util/linux/cmd/#_7","title":"\u8fd0\u7b97\u7b26","text":"op desc +- */ &amp; \u200b\u52a0\u51cf\u4e58\u9664\u200b\u53d6\u4f59\u200b ==,&gt;=,&lt;=,&gt;,&lt; \u200b\u903b\u8f91\u8fd0\u7b97\u200b &amp;&amp;,|| \u200b\u5173\u7cfb\u200b\u8fd0\u7b97\u200b <pre><code>awk '$1&gt;2 &amp;&amp; $2s==3 {print $0}' a.txt\n</code></pre>"},{"location":"util/linux/cmd/#_8","title":"\u5185\u200b\u5efa\u200b\u53d8\u91cf","text":"var desc $1 \u200b\u7b2c\u51e0\u4e2a\u200b\u5b57\u200b\u6bb5\u200b $0 \u200b\u4e00\u884c\u200b\u6570\u636e\u200b NR, FNR \u200b\u8f93\u51fa\u200b\u5e8f\u53f7\u200b\uff0c\u200b\u6587\u4ef6\u200b\u884c\u200b\u6570\u200b IGNORECASE =1,\u200b\u5ffd\u7565\u200b\u5927\u5c0f\u5199\u200b,\u200b\u4e0d\u200b\u9002\u7528\u200bmac <pre><code>awk '{print NR,FNR,$1}'\n</code></pre>"},{"location":"util/linux/cmd/#_9","title":"\u6b63\u5219","text":"<pre><code>awk '$1 ~ /abc/ {print $0}' a.txt\n\nawk '/abc/ {print 0}' a.txt\n\n\n#\u200b\u53d6\u53cd\u200b\nawk '$1 !~ /abc/ {print $0}' a.txt\nawk '!/abc/' a.txt\n\n#\u200b\u5ffd\u7565\u200b\u5927\u5c0f\u5199\u200b\nawk 'BEGIN {IGNORECASE=1} {print $0}' a.txt\n</code></pre>"},{"location":"util/linux/cmd/#awk_1","title":"awk\u200b\u811a\u672c","text":"<p>\u200b\u4ee3\u7801\u200b\u7ed3\u6784\u200b</p> <pre><code># \u200b\u6267\u884c\u200b\u524d\u200b\nBEFORE {\n\n}\n\n#\u200b\u6267\u884c\u200b\n{\n\n}\n\n\u200b\u6267\u884c\u200b\u540e\u200b\nEND {\n\n}\n</code></pre> <p>\u200b\u5f15\u7528\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b</p> <pre><code>awk -f a.awk a.txt\n</code></pre> <pre><code>awk '{count += gsub(\"abc\", \"\")} END {print count}' \u200b\u6587\u4ef6\u540d\u200b\n\n\nawk '{count += gsub(\"abc\", \"\")} END {print count}' a.txt\n</code></pre>"},{"location":"util/linux/cmd/#wc","title":"wc","text":"<p>\u200b\u7edf\u8ba1\u200b\u6587\u4ef6\u200b\u7684\u200b\u884c\u6570\u200b\u3001\u200b\u5355\u8bcd\u200b\u6570\u200b\u3001\u200b\u5b57\u8282\u200b</p> <pre><code>wc a.txt\n#\u200b\u884c\u200b\u6570\u200b \u200b\u5355\u8bcd\u200b\u6570\u200b \u200b\u5b57\u8282\u200b\n      2       2      10 a.txt\n\n\n# c\u200b\u5b57\u8282\u200b l\u200b\u884c\u200b\u6570\u200b w\u200b\u5355\u8bcd\u200b\u6570\u200b\nwc -l a.txt      \n</code></pre>"},{"location":"util/linux/cmd/#sed","title":"sed","text":""},{"location":"util/linux/cmd/#_10","title":"\u57fa\u7840\u200b\u7528\u6cd5","text":"<pre><code># \u200b\u6dfb\u52a0\u200b\n# \u200b\u884c\u540e\u200b\u6dfb\u52a0\u200b\nnl a.txt | sed '1a abc'\n# \u200b\u884c\u524d\u200b\u6dfb\u52a0\u200b\nnl a.txt | sed '4i abc'\n\n\n# \u200b\u5220\u9664\u200b\u6307\u5b9a\u200b\u884c\u200b\nnl a.txt | sed '4d'\n\nnl a.txt | sed '4,5d'\nnl a.txt | sed '4,$d'\n\n# \u200b\u66ff\u6362\u200b\nnl a.txt | sed '3,4c abc'\n\n\n# \u200b\u8f93\u51fa\u200b\nnl a.txt | sed -n '3,4p'\n</code></pre>"},{"location":"util/linux/cmd/#_11","title":"\u641c\u5bfb\u200b\u5220\u9664","text":"<pre><code>nl a.txt | sed '/abc/d'\n</code></pre>"},{"location":"util/linux/cmd/#_12","title":"\u641c\u5bfb\u200b\u66ff\u6362","text":"<pre><code>nl a.txt | sed 's/abc/ff/g'\n</code></pre>"},{"location":"util/linux/cmd/#_13","title":"\u641c\u5bfb\u200b\u6267\u884c","text":"<pre><code>nl a.txt | sed -n '/abc {s/gg/hh/g;p}'\n</code></pre>"},{"location":"util/linux/cmd/#_14","title":"\u591a\u6b21\u200b\u7f16\u8f91","text":"<pre><code>nl a.txt | sed -e '3,4d' -e '1a ff'\n</code></pre>"},{"location":"util/linux/cmd/#_15","title":"\u6267\u884c\u200b\u6587\u4ef6","text":"<pre><code>sed -i '1,2d' a.txt\n</code></pre>"},{"location":"util/linux/cmd/#_16","title":"\u78c1\u76d8","text":"<pre><code># \u200b\u67e5\u770b\u200b\u5206\u533a\u200b\ndf -h\n\n# \u200b\u67e5\u770b\u200b\u78c1\u76d8\u200b\u5360\u200b\u6bd4\u200b\ndu -h a.txt\n</code></pre> <p>cpu, mem</p> <pre><code>top\n\nmac: o cpu,mem\n\nlinux: P M\n\n\nps -ef\n\n\nlsof -i:8000\n\nlsof -nP -p 9000 | grep LISTEN\n</code></pre>"},{"location":"util/linux/shell/","title":"Shell","text":""},{"location":"util/linux/shell/#shell","title":"shell\u200b\u89e3\u91ca\u5668","text":"<pre><code>sudo cat /etc/shells\n</code></pre> <pre><code>/bin/sh\n/bin/bash\n/usr/bin/sh\n/usr/bin/bash\n/bin/tcsh\n/bin/csh\n</code></pre>"},{"location":"util/linux/shell/#shbash","title":"sh\u200b\u662f\u200bbash \u200b\u7684\u200b\u8f6f\u200b\u94fe\u63a5","text":"<p>/bin</p> <pre><code>[matt@matt05 bin]$ ll | grep bash\n-rwxr-xr-x. 1 root root     964536 4\u200b\u6708\u200b   1 2020 bash\nlrwxrwxrwx. 1 root root         10 8\u200b\u6708\u200b   3 00:12 bashbug -&gt; bashbug-64\n-rwxr-xr-x. 1 root root       6964 4\u200b\u6708\u200b   1 2020 bashbug-64\nlrwxrwxrwx. 1 root root          4 8\u200b\u6708\u200b   3 00:12 sh -&gt; bas\n[matt@matt05 bin]$ ll /bin | grep bash\n[matt@matt05 bin]$ ll /bin/ | grep bash\n-rwxr-xr-x. 1 root root     964536 4\u200b\u6708\u200b   1 2020 bash\nlrwxrwxrwx. 1 root root         10 8\u200b\u6708\u200b   3 00:12 bashbug -&gt; bashbug-64\n-rwxr-xr-x. 1 root root       6964 4\u200b\u6708\u200b   1 2020 bashbug-64\nlrwxrwxrwx. 1 root root          4 8\u200b\u6708\u200b   3 00:12 sh -&gt; bas\n</code></pre>"},{"location":"util/linux/shell/#centosbash","title":"Centos\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u89e3\u6790\u5668\u200b\u662f\u200bbash","text":""},{"location":"util/linux/shell/#demo","title":"demo","text":""},{"location":"util/linux/shell/#hellowordsh","title":"helloword.sh","text":""},{"location":"util/linux/shell/#_1","title":"\u4ee3\u7801","text":"<pre><code>#!/bin/bash\n\n# echo \u200b\u8f93\u51fa\u200b\necho \"helloword\"\n</code></pre>"},{"location":"util/linux/shell/#_2","title":"\u8fd0\u884c","text":"<p>1 </p> <pre><code>sh helloword.sh\n</code></pre> <pre><code>sh /home/matt/stu/helloword.sh\n</code></pre> <p>2 \u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u6267\u884c\u200b\u6743\u9650\u200bx</p> <pre><code>./helloword.sh\n</code></pre> <pre><code>/home/matt/stu/helloword.sh\n</code></pre>"},{"location":"util/linux/shell/#myaddsh","title":"myadd.sh","text":"<pre><code>#!/bin/bash\n\ncd /home/matt/stu\n\ntouch add.txt\n# \u200b\u8ffd\u52a0\u200b\necho \"hello matt\" &gt;&gt; add.txt\n</code></pre>"},{"location":"util/linux/shell/#_3","title":"\u53d8\u91cf","text":""},{"location":"util/linux/shell/#_4","title":"\u7cfb\u7edf\u200b\u53d8\u91cf","text":"<pre><code>$HOME $USER $PWD $SHELL\n</code></pre> <pre><code>[matt@matt05 stu]$ echo $SHELL\n/bin/bash\n[matt@matt05 stu]$ echo $HOME\n/home/matt\n[matt@matt05 stu]$ echo $USER\nmatt\n[matt@matt05 stu]$ echo $PWD\n/home/matt/stu\n[matt@matt05 stu]$ \n</code></pre>"},{"location":"util/linux/shell/#_5","title":"\u81ea\u5b9a\u4e49\u200b\u53d8\u91cf","text":"<pre><code># = \u200b\u4e4b\u95f4\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u6709\u200b\u7a7a\u683c\u200b\na=1\n# \u200b\u64a4\u9500\u200b\u58f0\u660e\u200b\nunset a\n# \u200b\u53ea\u8bfb\u200b\nreadonly a=1\n# \u200b\u63d0\u5347\u200b\u4e3a\u200b\u5168\u5c40\u53d8\u91cf\u200b\nexport a\n</code></pre> <ul> <li>\u200b\u547d\u540d\u200b\u89c4\u8303\u200b\uff1a\u200b\u6570\u5b57\u200b\u5b57\u6bcd\u200b\u4e0b\u5212\u7ebf\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4ee5\u200b\u6570\u5b57\u200b\u5f00\u5934\u200b</li> <li>\u200b\u7b49\u200b\u53f7\u200b\u4fe9\u200b\u4fa7\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u6709\u200b\u7a7a\u683c\u200b</li> <li>\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u7a7a\u683c\u200b\u5219\u200b\u52a0\u200b\u53cc\u5f15\u53f7\u200b\u6216\u8005\u200b\u5355\u5f15\u53f7\u200b</li> </ul>"},{"location":"util/linux/shell/#n","title":"$n","text":"<p>$n  \uff08\u200b\u529f\u80fd\u200b\u63cf\u8ff0\u200b\uff1an\u200b\u4e3a\u200b\u6570\u5b57\u200b\uff0c$0\u200b\u4ee3\u8868\u200b\u8be5\u200b\u811a\u672c\u200b\u540d\u79f0\u200b\uff0c$1-$9\u200b\u4ee3\u8868\u200b\u7b2c\u4e00\u200b\u5230\u200b\u7b2c\u4e5d\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5341\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u5341\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u53c2\u6570\u200b\u9700\u8981\u200b\u7528\u200b\u5927\u62ec\u53f7\u200b\u5305\u542b\u200b\uff0c\u200b\u5982\u200b${10}\uff09</p>"},{"location":"util/linux/shell/#_6","title":"$# \u200b\u8f93\u5165\u200b\u53c2\u6570\u200b\u7684\u200b\u4e2a\u6570","text":""},{"location":"util/linux/shell/#_7","title":"#* #@ \u200b\u6240\u6709\u200b\u7684\u200b\u8f93\u5165\u200b\u53c2\u6570","text":""},{"location":"util/linux/shell/#0-0","title":"#\uff1f \u200b\u4e0a\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u662f\u5426\u200b\u6267\u884c\u200b\u6210\u529f\u200b \u200b\u6210\u529f\u200b\u662f\u200b0 \u200b\u5931\u8d25\u200b\u975e\u200b0","text":""},{"location":"util/linux/shell/#_8","title":"\u8fd0\u7b97\u7b26","text":""},{"location":"util/linux/shell/#_9","title":"$[]    $(())","text":"<pre><code>echo $[2+3*1]\n</code></pre>"},{"location":"util/linux/shell/#expr","title":"expr","text":"<pre><code> + , - , \\*,  /,  % \n</code></pre> <pre><code>expr 1 + 2\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff1aexpr\u200b\u8fd0\u7b97\u7b26\u200b\u95f4\u200b\u8981\u200b\u6709\u200b\u7a7a\u683c\u200b</p>"},{"location":"util/linux/shell/#_10","title":"\u6761\u4ef6\u200b\u5224\u65ad","text":""},{"location":"util/linux/shell/#_11","title":"\u57fa\u672c\u200b\u8bed\u6cd5","text":"<p>[ condition ]\uff08\u200b\u6ce8\u610f\u200bcondition\u200b\u524d\u540e\u200b\u8981\u200b\u6709\u200b\u7a7a\u683c\u200b\uff09</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u6761\u4ef6\u200b\u975e\u7a7a\u200b\u5373\u200b\u4e3a\u200btrue\uff0c[ atguigu ]\u200b\u8fd4\u56de\u200btrue\uff0c[] \u200b\u8fd4\u56de\u200bfalse\u3002</p>"},{"location":"util/linux/shell/#_12","title":"\u7b26\u53f7","text":""},{"location":"util/linux/shell/#_13","title":"\u6bd4\u8f83\u200b\u7b26\u53f7","text":"<pre><code>== \u200b\u5b57\u7b26\u4e32\u200b\u6bd4\u8f83\u200b\n</code></pre>"},{"location":"util/linux/shell/#_14","title":"\u6574\u6570","text":"<pre><code>// &lt;\n-lt \n// &lt;=\n-le\n// &gt;\n-gt\n// &gt;=\n-ge\n// ==\n-eq\n// !=\n-ne\n</code></pre>"},{"location":"util/linux/shell/#_15","title":"\u6587\u4ef6","text":"<pre><code>// \u200b\u8bfb\u200b\u7684\u200b\u6743\u9650\u200b\n-r\n// \u200b\u5199\u200b\u7684\u200b\u6743\u9650\u200b\n-w\n// \u200b\u6267\u884c\u200b\u7684\u200b\u6743\u9650\u200b\n-x\n</code></pre>"},{"location":"util/linux/shell/#_16","title":"\u6587\u4ef6\u7c7b\u578b","text":"<pre><code>-f \u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\u5e76\u4e14\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e38\u89c4\u200b\u7684\u200b\u6587\u4ef6\u200b\uff08file\uff09\n-e \u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\uff08existence\uff09      \n-d \u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\u5e76\u200b\u662f\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\uff08directory\uff09\n</code></pre>"},{"location":"util/linux/shell/#_17","title":"\u6848\u4f8b","text":"<pre><code>[matt@matt05 stu]$ [ 23 -eq 22 ]\n[matt@matt05 stu]$ echo $?\n1\n[matt@matt05 stu]$ [ 23 -eq 23 ]\n[matt@matt05 stu]$ echo $?\n0\n[matt@matt05 stu]$ \n</code></pre>"},{"location":"util/linux/shell/#_18","title":"\u6ce8\u610f","text":"<p>\u200b\u591a\u200b\u6761\u4ef6\u200b\u5224\u65ad\u200b\uff08&amp;&amp; \u200b\u8868\u793a\u200b\u524d\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u6210\u529f\u200b\u65f6\u200b\uff0c\u200b\u624d\u200b\u6267\u884c\u200b\u540e\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\uff0c|| \u200b\u8868\u793a\u200b\u4e0a\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\u540e\u200b\uff0c\u200b\u624d\u200b\u6267\u884c\u200b\u4e0b\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\uff09</p> <pre><code>[matt@matt05 stu]$ [ -e a.txt ] || echo 'matt'\nmatt\n[matt@matt05 stu]$\n</code></pre>"},{"location":"util/linux/shell/#_19","title":"\u6d41\u7a0b\u200b\u63a7\u5236","text":""},{"location":"util/linux/shell/#if","title":"if","text":"<pre><code>#!/bin/bash\n\n# if\u200b\u540e\u9762\u200b\u6709\u200b\u7a7a\u683c\u200b\n# [] \u200b\u91cc\u9762\u200b\u5404\u4e2a\u200b\u7b26\u53f7\u200b\u4e4b\u95f4\u200b\u7684\u200b\u7a7a\u683c\u200b\nif [ 121 -eq 1 ]; then\n    echo 'bb'\nelif [ 1 -le 2 ]; then\n    echo 'aaa'\nfi\n\nif [ 'aaaa' == 'aa' ]; then\n    echo '=='\nelse\n    echo '!='\nfi\n</code></pre>"},{"location":"util/linux/shell/#case","title":"case","text":"<pre><code>#!/bin/bash\n\ncase $1 in\n\"1\")\n    echo \"1\"\n# ;; \u200b\u76f8\u5f53\u4e8e\u200bbreak    \n;;\n\"2\")\n    echo \"2\"\n;;\n# * \u200b\u76f8\u5f53\u4e8e\u200bdefault\n*)\n    echo default\n;;\nesac\n</code></pre>"},{"location":"util/linux/shell/#for","title":"for","text":"<pre><code>#!/bin/bash\n\nsum=0\nfor((i=1;i&lt;10;i++)) do\n    sum=$[$sum+$i]\ndone\necho $sum\n</code></pre> <pre><code>#!/bin/bash\n\nfor i in $*\n# do\u200b\u5199\u200b\u5728\u200b\u4e0b\u200b\u4e00\u884c\u200b\ndo\n    echo \"134343 $i\"\ndone\n\nfor i in $@\ndo\n    echo \"@@ $i\"\ndone\n\n\nfor i in \"$*\"\ndo\n    echo \"$i\"\n\ndone\n\nfor j in \"$@\"\ndo\n    echo \"$j\"\ndone\n</code></pre> <pre><code>[matt@matt05 stu]$ sh for2.sh  2 3\n134343 2\n134343 3\n@@ 2\n@@ 3\n2 3\n2\n3\n</code></pre> <p>$*\u200b\u548c\u200b$@\u200b\u90fd\u200b\u8868\u793a\u200b\u4f20\u9012\u200b\u7ed9\u200b\u51fd\u6570\u200b\u6216\u200b\u811a\u672c\u200b\u7684\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\uff0c\u200b\u4e0d\u200b\u88ab\u200b\u53cc\u5f15\u53f7\u200b\u201c\u201d\u200b\u5305\u542b\u200b\u65f6\u200b\uff0c\u200b\u90fd\u200b\u4ee5\u200b$1 $2 \u2026$n\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8f93\u51fa\u200b\u6240\u6709\u200b\u53c2\u6570\u200b</p> <p>\u200b\u5f53\u200b\u5b83\u4eec\u200b\u88ab\u200b\u53cc\u5f15\u53f7\u200b\u201c\u201d\u200b\u5305\u542b\u200b\u65f6\u200b\uff0c\u201c$*\u201d\u200b\u4f1a\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b\u53c2\u6570\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u6574\u4f53\u200b\uff0c\u200b\u4ee5\u200b\u201c$1 $2 \u2026$n\u201d\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8f93\u51fa\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\uff1b\u201c$@\u201d\u200b\u4f1a\u200b\u5c06\u200b\u5404\u4e2a\u200b\u53c2\u6570\u200b\u5206\u5f00\u200b\uff0c\u200b\u4ee5\u200b\u201c$1\u201d \u201c$2\u201d\u2026\u201d$n\u201d\u200b\u7684\u200b\u5f62\u5f0f\u200b\u8f93\u51fa\u200b\u6240\u6709\u200b\u53c2\u6570\u200b\u3002</p>"},{"location":"util/linux/shell/#while","title":"while","text":"<pre><code>#!/bin/bash\n\n\ni=1\nwhile [ $i -lt 10 ]\ndo\n    echo $i\n    i=$[$i+1]\ndone\n</code></pre>"},{"location":"util/linux/shell/#read","title":"read","text":"<pre><code>#!/bin/bash\n\n# -t \u200b\u5199\u200b\u5728\u200b\u524d\u9762\u200b 3s \u200b\u6ca1\u200b\u8f93\u5165\u200b\u5c31\u200b\u4f1a\u200b\u7ec8\u6b62\u200b\nread -t 3 -p \"3 s\u200b\u5185\u200bplease your name\" name\necho $name\n</code></pre>"},{"location":"util/linux/shell/#_20","title":"\u51fd\u6570","text":""},{"location":"util/linux/shell/#basename","title":"basename","text":"<pre><code># .sh \u200b\u53c2\u6570\u200b\u662f\u200b\u53ef\u9009\u200b\u7684\u200b \u200b\u4ed6\u200b\u662f\u200b\u53bb\u9664\u200b\u540e\u7f00\u200b\nbasename /home/matt/stu/for2.sh .sh\n\n\n\nfor2\n</code></pre>"},{"location":"util/linux/shell/#dirname","title":"dirname","text":"<pre><code>[matt@matt05 stu]$ dirname /home/matt/stu/for2.txt\n/home/matt/stu\n</code></pre>"},{"location":"util/linux/shell/#_21","title":"\u81ea\u5b9a\u4e49\u200b\u51fd\u6570","text":"<pre><code>#!/bin/bash\n\nfunction sum()\n{\n    s=0\n    s=$[$1+$2]\n    echo $s\n    $?\n}\n# \u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u53c2\u6570\u200b\nsum $1 $2\nif [ 0 -eq 0 ]\nthen\n    echo 111\nfi\n</code></pre> <p>\u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u53ea\u80fd\u200b\u901a\u8fc7\u200b$?\u200b\u7cfb\u7edf\u200b\u53d8\u91cf\u200b\u83b7\u5f97\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u663e\u793a\u200b\u52a0\u200b\uff1areturn\u200b\u8fd4\u56de\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u52a0\u200b\uff0c\u200b\u5c06\u200b\u4ee5\u200b\u6700\u540e\u200b\u4e00\u6761\u200b\u547d\u4ee4\u200b\u8fd0\u884c\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4f5c\u4e3a\u200b\u8fd4\u56de\u503c\u200b\u3002return\u200b\u540e\u200b\u8ddf\u200b\u6570\u503c\u200bn(0-255)</p> <pre><code>cut -d \" \" -f 1 cut.txt\n\n\n\ncut -d \" \" -f 2,3 cut.txt \n</code></pre>"},{"location":"util/linux/ubuntu/","title":"Ubuntu","text":"<p>apt = apt-get\u3001apt-cache \u200b\u548c\u200b apt-config \u200b\u4e2d\u200b\u6700\u200b\u5e38\u7528\u547d\u4ee4\u200b\u9009\u9879\u200b\u7684\u200b\u96c6\u5408\u200b\u3002</p> <pre><code># \u200b\u66f4\u65b0\u200b\u8f6f\u4ef6\u200b\u5217\u8868\u200b\napt update\n\n\n\n# \u200b\u66f4\u65b0\u200b\u5df2\u200b\u5b89\u88c5\u200b\u7684\u200b\u8f6f\u4ef6\u5305\u200b\napt upgrade \u200b\u5305\u540d\u200b\n</code></pre> <pre><code>apt list\n\n# \u200b\u663e\u793a\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u7684\u200b\u8f6f\u4ef6\u5305\u200b\napt list --installed\n\n\n# \u200b\u663e\u793a\u200b\u53ef\u200b\u5347\u7ea7\u200b\u7684\u200b\u8f6f\u4ef6\u5305\u200b\napt list --upgradeable\n</code></pre> <pre><code>apt install xxx\n\n\napt remove xxx\n\n# \u200b\u81ea\u52a8\u200b\u6e05\u7406\u200b\u4e0d\u200b\u5728\u200b\u4f7f\u7528\u200b\u7684\u200b\u4f9d\u8d56\u200b\napt autoremove\n\napt show xxx\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","title":"\u5e2e\u52a9\u200b\u547d\u4ee4","text":"<pre><code>man cd\ncd --help\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_2","title":"\u6587\u4ef6\u76ee\u5f55\u200b\u57fa\u7840\u200b\u547d\u4ee4","text":"<p>/tmp:\u200b\u662f\u200b\u4e34\u65f6\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5b9a\u671f\u200b\u4f1a\u200b\u5220\u9664\u200b</p> <p>\u200b\u6309\u200btable\u200b\u5373\u53ef\u200b\u770b\u5230\u200b\u5f53\u524d\u76ee\u5f55\u200b\u6587\u4ef6\u200b</p> <p></p> <pre><code>touch hello.txt\nvim hello.txt\nmkdir -p ./a/b\n\nrmdir ./a\nrm -rvf ./a\n\ncd ./a\n\npwd\n\nls ./\nls -l ./\n// \u200b\u5217\u51fa\u200b\u5f53\u524d\u200b\u6240\u6709\u200b\u6587\u4ef6\u76ee\u5f55\u200b\nls -a ./\n\n// \u200b\u67e5\u770b\u200b\u6587\u4ef6\u200b\u6700\u540e\u200b20\u200b\u884c\u200b\ntail -n 20 a.txt\n// \u200b\u76d1\u89c6\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b -n 10 \u200b\u5faa\u73af\u200b\u663e\u793a\u200b\u6700\u540e\u200b10\u200b\u884c\u200b\u5185\u5bb9\u200b\ntail -f a.txt\n\ncat hello.txt\n# \u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\ncat &gt; hello.txt\n# a.txt b.txt\u200b\u5185\u5bb9\u200b\u8ffd\u52a0\u200b\u5230\u200bhello.txt\ncat a.txt b.txt &gt; hello.txt\n\n\ncp hello.txt copy.txt\n// \u200b\u590d\u5236\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\ncp -r ./a ./b\n\nmv hello.txt a.txt\nmv hello.txt ../\n</code></pre> <pre><code>// s:soft\u200b\u8f6f\u200b\u94fe\u63a5\u200b\nln -s a.txt a\nhistory\necho\n// :\u200b\u4e00\u822c\u200b\u7528\u4e8e\u200b\u914d\u5236\u200b\u6587\u4ef6\u200b\u914d\u5236\u200b\u53d8\u91cf\u200b\nexport\ngrep\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_3","title":"\u6587\u4ef6\u200b\u538b\u7f29","text":"<p>tar -zcvf xx.tar.gz xx.txt</p> <pre><code>tar -zcvf  xxx.tar.gz  xxxx \u200b\u538b\u7f29\u6587\u4ef6\u200b\ntar -zxvf xxx.tar.gz  \u200b\u89e3\u200b\u538b\u7f29\u6587\u4ef6\u200b\ntar -zxvf aa.tar.gz -C ./a\n\nzip a.zip a.txt\nzip -r a.zip ./\nunzip xxx.zip\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_4","title":"\u7528\u6237","text":"<pre><code>groupadd g1\ngroupdel g1\nuseradd -g g1 u1\npasswd u1\nuserdel -r u1\n\nid u1\nwhoami\nsu - u1\n\nsudo:\u200b\u4ee5\u200broot\u200b\u7528\u6237\u200b\u8fd0\u884c\u200b\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_5","title":"\u7528\u6237\u200b\u6587\u4ef6\u200b\u6743\u9650","text":"<p>\u200b\u6587\u4ef6\u7c7b\u578b\u200b-\u200b\u6240\u6709\u8005\u200b-\u200b\u540c\u4e00\u4e2a\u200b\u7ec4\u200b-\u200b\u5176\u4ed6\u200b\u7528\u6237\u200b</p> <p>r\uff1a\u200b\u8bfb\u200b4</p> <p>w\uff1a\u200b\u5199\u200b2</p> <p>x\uff1a\u200b\u6267\u884c\u200b1</p> <p>```] chmod 777 aa.txt</p> <p>chmod u+rwx,g+rwx,o+rwx aa.txt</p> <p>chown u1 aa.txt chown u1:g1 aa.txt</p> <p>chown -R u1:u1 /opt/sofrware</p> <p>chgrp g1 aa.txt <pre><code># \u200b\u5b89\u88c5\u200b\u5378\u8f7d\u200b\n\n### yum rpm\n</code></pre> yum list yum install tomcat yum remove tomcat <pre><code>\n</code></pre> xxx:\u200b\u5305\u540d\u200b rpm -ivh xxx rpm -e xxx rpm -qa <pre><code># \u200b\u8fdb\u7a0b\u200b\n\n\n\n\n\n```go\nkill -9 9000\n// \u200b\u67e5\u770b\u200b\u8fdb\u7a0b\u200b\nps -ef\n// \u200b\u67e5\u770b\u200b\u7f51\u7edc\u200b\u60c5\u51b5\u200b\nnetstat -anp \nnetstat -anp | grep 9000   // \u200b\u67e5\u770b\u200b\u7aef\u53e3\u53f7\u200b\u4e3a\u200b9000\u200b\u7684\u200b\u8fdb\u7a0b\u200b\n\n\nping www.baidu.com\nping 192.168.96.128\n# \u200b\u67e5\u770b\u200bip\nifconfig\n</code></pre></p> <pre><code>netstat -tulnp\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name   \ntcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      1904/sshd           \ntcp        0      0 127.0.0.1:631               0.0.0.0:*                   LISTEN      1750/cupsd          \ntcp        0      0 0.0.0.0:44567               0.0.0.0:*                   LISTEN      1713/rpc.statd      \ntcp        0      0 0.0.0.0:10050               0.0.0.0:*                   LISTEN      1965/zabbix_agentd  \ntcp        0      0 172.172.230.211:3306        0.0.0.0:*                   LISTEN      31849/mysqld        \ntcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      1576/rpcbind        \ntcp        0      0 172.172.230.211:46327       172.172.100.3:80            TIME_WAIT   -                   \ntcp        0      0 172.172.230.211:46329       172.172.100.3:80            TIME_WAIT   -                   \ntcp        0     52 172.172.230.211:22          172.172.173.222:50043       ESTABLISHED 6095/sshd           \ntcp        0      0 172.172.230.211:46326       172.172.100.3:80            TIME_WAIT   -                   \ntcp        0      0 172.172.230.211:5401        172.172.100.3:443           TIME_WAIT   -                   \ntcp        0      0 :::22                       :::*                        LISTEN      1904/sshd           \ntcp        0      0 ::1:631                     :::*                        LISTEN      1750/cupsd          \n</code></pre> <p>ps -ef</p> <pre><code>UID    PID    PPID    C   STIME   TTY    TIME     CMD\nzzw   14124  13991   0   00:38   pts/0   00:00:00  grep --\n</code></pre> <p>UID   \uff1a\u200b\u7a0b\u5e8f\u200b\u88ab\u200b\u8be5\u200b UID \u200b\u6240\u200b\u62e5\u6709\u200b</p> <p>PID   \uff1a\u200b\u5c31\u662f\u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\u7684\u200b ID </p> <p>PPID  \uff1a\u200b\u5219\u200b\u662f\u200b\u5176\u200b\u4e0a\u7ea7\u200b\u7236\u200b\u7a0b\u5e8f\u200b\u7684\u200bID</p> <p>C     \uff1aCPU\u200b\u4f7f\u7528\u200b\u7684\u200b\u8d44\u6e90\u200b\u767e\u5206\u6bd4\u200b</p> <p>STIME \uff1a\u200b\u7cfb\u7edf\u542f\u52a8\u200b\u65f6\u95f4\u200b</p> <p>TTY   \uff1a\u200b\u767b\u5165\u200b\u8005\u200b\u7684\u200b\u7ec8\u7aef\u673a\u200b\u4f4d\u7f6e\u200b</p> <p>TIME  \uff1a\u200b\u4f7f\u7528\u200b\u6389\u200b\u7684\u200bCPU\u200b\u65f6\u95f4\u200b\u3002</p> <p>CMD  \uff1a\u200b\u6240\u200b\u4e0b\u8fbe\u200b\u7684\u200b\u662f\u200b\u4ec0\u4e48\u200b\u6307\u4ee4\u200b</p> <pre><code>// \u200b\u67e5\u770b\u200bjava \u200b\u8fdb\u7a0b\u200b\njps\n// \u200b\u5168\u200b\u683c\u5f0f\u200b\u67e5\u770b\u200b\njps -l\n</code></pre> <p>\u200b\u5982\u4f55\u200b\u67e5\u770b\u200b\u67d0\u4e00\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5360\u7528\u200b\u7aef\u53e3\u53f7\u200b</p> <pre><code>// \u200b\u83b7\u5f97\u200b\u8fdb\u7a0b\u200bid\nps -ef | grep zookeeeper\n// \u200b\u6839\u636e\u200b\u8fdb\u7a0b\u200bid\u200b\u83b7\u53d6\u200b\u7aef\u53e3\u53f7\u200b\nnetstat -anp | grep 4795\n</code></pre> <p></p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_6","title":"\u5173\u673a\u200b\u5f00\u673a","text":"<p>\u200b\u5173\u673a\u200b</p> <pre><code>shutdown -h now // \u200b\u7acb\u5373\u200b\u5173\u673a\u200b\n</code></pre> <p>\u200b\u91cd\u542f\u200b</p> <pre><code>shutdown -r now // \u200b\u7acb\u5373\u200b\u91cd\u542f\u200b\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#top","title":"top","text":"<p>\u200b\u7528\u4e8e\u200b\u67e5\u770b\u200b\u7cfb\u7edf\u8d44\u6e90\u200b\u4f7f\u7528\u200b\u72b6\u51b5\u200b\u548c\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u57fa\u672c\u200b\u4fe1\u606f\u200b</p> <pre><code>top -H\n</code></pre> <p>\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8f93\u5165\u200b<code>top</code>\uff0c\u200b\u56de\u8f66\u200b\u540e\u200b\u4f1a\u200b\u663e\u793a\u200b\u5982\u4e0b\u200b\u5185\u5bb9\u200b\uff1a</p> <p></p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_7","title":"\u4e00\u200b\u3001\u200b\u7cfb\u7edf\u200b\u4fe1\u606f\u200b\u7edf\u8ba1","text":"<p>\u200b\u524d\u200b\u4e94\u884c\u200b\u662f\u200b\u7cfb\u7edf\u200b\u6574\u4f53\u200b\u72b6\u6001\u200b\u7684\u200b\u7edf\u8ba1\u200b\u4fe1\u606f\u200b\u5c55\u793a\u200b\u533a\u57df\u200b\u3002\u200b\u4e0b\u9762\u200b\u5206\u522b\u200b\u4ecb\u7ecd\u200b\u6bcf\u200b\u4e00\u884c\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#1","title":"1\u3001\u200b\u7b2c\u4e00\u884c\u200b\u663e\u793a\u200b\u670d\u52a1\u5668\u200b\u6982\u51b5","text":"<p>\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff0c\u200b\u7b2c\u4e00\u200b\u884c\u5217\u200b\u51fa\u200b\u4e86\u200b\u670d\u52a1\u5668\u200b\u8fd0\u884c\u200b\u4e86\u200b\u591a\u957f\u65f6\u95f4\u200b\uff0c\u200b\u5f53\u524d\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u7528\u6237\u200b\u767b\u5f55\u200b\uff0c\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u8d1f\u8377\u200b\u60c5\u51b5\u200b\u7b49\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>uptime</code>\u200b\u547d\u4ee4\u200b\u80fd\u200b\u83b7\u5f97\u200b\u540c\u6837\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002</p> <pre><code>top - 21:48:39 up  8:57,  2 users,  load average: 0.36, 0.24, 0.14\n       /         /        /                \\\n   \u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b  \u200b\u8fd0\u884c\u200b\u65f6\u200b\u957f\u200b   \u200b\u5f53\u524d\u200b\u767b\u5f55\u200b\u7528\u6237\u6570\u200b  \u200b\u5e73\u5747\u200b\u8d1f\u8f7d\u200b\uff081\u200b\u5206\u949f\u200b\u30015\u200b\u5206\u949f\u200b\u300115\u200b\u5206\u949f\u200b\uff09\n</code></pre> <p>\u200b\u5e73\u5747\u200b\u8d1f\u8f7d\u200b\u7684\u200b\u503c\u200b\u8d8a\u200b\u5c0f\u200b\u4ee3\u8868\u200b\u7cfb\u7edf\u200b\u538b\u529b\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u8d8a\u5927\u5219\u200b\u4ee3\u8868\u200b\u7cfb\u7edf\u200b\u538b\u529b\u200b\u8d8a\u5927\u200b\u3002\u200b\u901a\u5e38\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u4ee5\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u503c\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b15\u200b\u5206\u949f\u200b\u5185\u200b\u7684\u200b\u5e73\u5747\u200b\u8d1f\u8f7d\u200b\u4f5c\u4e3a\u200b\u53c2\u8003\u200b\u6765\u200b\u8bc4\u4f30\u200b\u7cfb\u7edf\u200b\u7684\u200b\u8d1f\u8f7d\u200b\u60c5\u51b5\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u53ea\u6709\u200b\u5355\u6838\u200bcpu\u200b\u7684\u200b\u7cfb\u7edf\u200b\uff0c<code>1.0</code>\u200b\u662f\u200b\u8be5\u200b\u7cfb\u7edf\u200b\u6240\u200b\u80fd\u200b\u627f\u53d7\u200b\u8d1f\u8377\u200b\u7684\u200b\u8fb9\u754c\u503c\u200b\uff0c\u200b\u5927\u4e8e\u200b1.0\u200b\u5219\u200b\u6709\u200b\u5904\u7406\u200b\u9700\u8981\u200b\u7b49\u5f85\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b\u5355\u6838\u200bcpu\u200b\u7684\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5e73\u5747\u200b\u8d1f\u8f7d\u200b\u7684\u200b\u5408\u9002\u200b\u503c\u200b\u662f\u200b<code>0.7</code>\u200b\u4ee5\u4e0b\u200b\u3002\u200b\u5982\u679c\u200b\u8d1f\u8f7d\u200b\u957f\u671f\u200b\u5f98\u5f8a\u200b\u5728\u200b1.0\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u9a6c\u4e0a\u200b\u5904\u7406\u200b\u4e86\u200b\u3002\u200b\u8d85\u8fc7\u200b1.0\u200b\u7684\u200b\u8d1f\u8f7d\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5e26\u6765\u200b\u975e\u5e38\u200b\u4e25\u91cd\u200b\u7684\u200b\u540e\u679c\u200b\u3002</p> <p>\u200b\u5f53\u7136\u200b\uff0c\u200b\u591a\u6838\u200bcpu\u200b\u7684\u200b\u7cfb\u7edf\u200b\u662f\u200b\u5728\u200b\u524d\u8ff0\u200b\u503c\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u4e58\u200b\u4ee5\u200bcpu\u200b\u5185\u6838\u200b\u7684\u200b\u4e2a\u6570\u200b\u3002\u200b\u5982\u200b\u5bf9\u4e8e\u200b\u591a\u6838\u200bcpu\u200b\u7684\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u6709\u200bN\u200b\u4e2a\u200b\u6838\u5219\u200b\u6240\u80fd\u200b\u627f\u53d7\u200b\u7684\u200b\u8fb9\u754c\u503c\u200b\u4e3a\u200b<code>N.0</code>\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b\u6765\u200b\u67e5\u770b\u200b\u6bcf\u4e2a\u200b\u5904\u7406\u5668\u200b\u7684\u200b\u4fe1\u606f\u200b\uff1a</p> <pre><code>cat /proc/cpuinfo\n</code></pre> <p>\u200b\u5982\u679c\u200b\u53ea\u60f3\u200b\u8ba1\u7b97\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200bcpu\u200b\u5185\u6838\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5982\u4e0b\u200b\u547d\u4ee4\u200b\uff1a</p> <pre><code>cat /proc/cpuinfo | grep 'model name' | wc -l\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#2","title":"2\u3001\u200b\u7b2c\u4e8c\u884c\u200b\u662f\u200b\u8fdb\u7a0b\u200b\u4fe1\u606f\u200b\uff1a","text":"<pre><code>Tasks: 322 total,   2 running, 320 sleeping,   0 stopped,   0 zombie\n        /                /            /             /            /\n    \u200b\u8fdb\u7a0b\u200b\u603b\u6570\u200b      \u200b\u6b63\u200b\u8fd0\u884c\u200b\u8fdb\u7a0b\u200b\u6570\u200b    \u200b\u7761\u7720\u200b\u8fdb\u7a0b\u200b\u6570\u200b   \u200b\u505c\u6b62\u200b\u8fdb\u7a0b\u200b\u6570\u200b    \u200b\u50f5\u5c38\u200b\u8fdb\u7a0b\u200b\u6570\u200b\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#3cpu","title":"3\u3001\u200b\u7b2c\u4e09\u884c\u200b\u662f\u200bCPU\u200b\u4fe1\u606f\u200b\uff1a","text":"<pre><code>%Cpu(s):  \n5.0 us      \u200b\u7528\u6237\u200b\u7a7a\u95f4\u200bCPU\u200b\u5360\u200b\u6bd4\u200b\n1.7 sy      \u200b\u5185\u6838\u200b\u7a7a\u95f4\u200bCPU\u200b\u5360\u200b\u6bd4\u200b\n0.0 ni      \u200b\u7528\u6237\u200b\u8fdb\u7a0b\u200b\u7a7a\u95f4\u200b\u6539\u8fc7\u200b\u4f18\u5148\u7ea7\u200b\u7684\u200b\u8fdb\u7a0b\u200bCPU\u200b\u5360\u200b\u6bd4\u200b\n93.0 id     \u200b\u7a7a\u95f2\u200bCPU\u200b\u5360\u200b\u6bd4\u200b\n0.0 wa      \u200b\u5f85\u200b\u8f93\u5165\u8f93\u51fa\u200bCPU\u200b\u5360\u200b\u6bd4\u200b\n0.3 hi      \u200b\u786c\u200b\u4e2d\u65ad\u200b\uff08Hardware IRQ\uff09CPU\u200b\u5360\u200b\u6bd4\u200b\n0.0 si      \u200b\u8f6f\u200b\u4e2d\u65ad\u200b\uff08Software Interrupts\uff09CPU\u200b\u5360\u200b\u6bd4\u200b\n0.0 st      - \n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#ussy","title":"us,sy","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#4","title":"4\u3001\u200b\u7b2c\u56db\u884c\u200b\u662f\u200b\u5185\u5b58\u200b\u4fe1\u606f\u200b\uff1a","text":"<pre><code>KiB Mem:   1010504 total,   937416 used,    73088 free,    23708 buffers\n                /                /                /                /\n            \u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u603b\u91cf\u200b      \u200b\u4f7f\u7528\u200b\u4e2d\u200b\u603b\u91cf\u200b        \u200b\u7a7a\u95f2\u200b\u603b\u91cf\u200b        \u200b\u7f13\u5b58\u200b\u7684\u200b\u5185\u5b58\u200b\u91cf\u200b\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#5swap","title":"5\u3001\u200b\u7b2c\u4e94\u200b\u884c\u662f\u200bswap\u200b\u4ea4\u6362\u200b\u5206\u533a\u200b\u4fe1\u606f\u200b\uff1a","text":"<pre><code>KiB Swap:  1046524 total,   280708 used,   765816 free,   365556 cached Mem\n                /                /                /                /\n            \u200b\u4ea4\u6362\u200b\u533a\u200b\u603b\u91cf\u200b      \u200b\u4f7f\u7528\u200b\u4e2d\u200b\u603b\u91cf\u200b        \u200b\u7a7a\u95f2\u200b\u603b\u91cf\u200b        \u200b\u7f13\u5b58\u200b\u7684\u200b\u5185\u5b58\u200b\u91cf\u200b\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u4e2d\u200b\u7684\u200b\u5185\u5b58\u200b\u603b\u91cf\u200b\uff08used\uff09\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u73b0\u5728\u200b\u7cfb\u7edf\u200b\u5185\u6838\u200b\u63a7\u5236\u200b\u7684\u200b\u5185\u5b58\u200b\u6570\u200b\uff0c\u200b\u7a7a\u95f2\u200b\u5185\u5b58\u200b\u603b\u91cf\u200b\uff08free\uff09\u200b\u662f\u200b\u5185\u6838\u200b\u8fd8\u200b\u672a\u200b\u7eb3\u5165\u200b\u5176\u200b\u7ba1\u63a7\u200b\u8303\u56f4\u200b\u7684\u200b\u6570\u91cf\u200b\u3002\u200b\u7eb3\u5165\u200b\u5185\u6838\u200b\u7ba1\u7406\u200b\u7684\u200b\u5185\u5b58\u200b\u4e0d\u89c1\u5f97\u200b\u90fd\u200b\u5728\u200b\u4f7f\u7528\u200b\u4e2d\u200b\uff0c\u200b\u8fd8\u200b\u5305\u62ec\u200b\u8fc7\u53bb\u200b\u4f7f\u7528\u200b\u8fc7\u200b\u7684\u200b\u73b0\u5728\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u91cd\u590d\u200b\u5229\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\uff0c\u200b\u5185\u6838\u200b\u5e76\u200b\u4e0d\u200b\u628a\u200b\u8fd9\u4e9b\u200b\u53ef\u200b\u88ab\u200b\u91cd\u65b0\u200b\u4f7f\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u4ea4\u8fd8\u200b\u5230\u200bfree\u200b\u4e2d\u200b\u53bb\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200blinux\u200b\u4e0a\u200bfree\u200b\u5185\u5b58\u200b\u4f1a\u200b\u8d8a\u6765\u8d8a\u5c11\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u7528\u200b\u4e3a\u6b64\u200b\u62c5\u5fc3\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u51fa\u4e8e\u200b\u4e60\u60ef\u200b\u53bb\u200b\u8ba1\u7b97\u200b\u53ef\u7528\u5185\u5b58\u200b\u6570\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u6709\u4e2a\u200b\u8fd1\u4f3c\u200b\u7684\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\uff1a\u200b\u7b2c\u56db\u884c\u200b\u7684\u200bfree + \u200b\u7b2c\u56db\u884c\u200b\u7684\u200bbuffers + \u200b\u7b2c\u4e94\u200b\u884c\u200b\u7684\u200bcached\uff0c\u200b\u6309\u200b\u8fd9\u4e2a\u200b\u516c\u5f0f\u200b\u6b64\u53f0\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u53ef\u7528\u5185\u5b58\u200b\uff1a73088+23708+365556 = 451M\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u5185\u5b58\u200b\u76d1\u63a7\u200b\uff0c\u200b\u5728\u200btop\u200b\u91cc\u200b\u6211\u4eec\u200b\u8981\u200b\u65f6\u523b\u200b\u76d1\u63a7\u200b\u7b2c\u4e94\u200b\u884c\u200bswap\u200b\u4ea4\u6362\u200b\u5206\u533a\u200b\u7684\u200bused\uff0c\u200b\u5982\u679c\u200b\u8fd9\u4e2a\u200b\u6570\u503c\u200b\u5728\u200b\u4e0d\u65ad\u200b\u7684\u200b\u53d8\u5316\u200b\uff0c\u200b\u8bf4\u660e\u200b\u5185\u6838\u200b\u5728\u200b\u4e0d\u65ad\u200b\u8fdb\u884c\u200b\u5185\u5b58\u200b\u548c\u200bswap\u200b\u7684\u200b\u6570\u636e\u4ea4\u6362\u200b\uff0c\u200b\u8fd9\u662f\u200b\u771f\u6b63\u200b\u7684\u200b\u5185\u5b58\u200b\u4e0d\u591f\u200b\u7528\u200b\u4e86\u200b\u3002</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_8","title":"\u4e8c\u200b\u3001\u200b\u8fdb\u7a0b\u200b\uff08\u200b\u4efb\u52a1\u200b\uff09\u200b\u72b6\u6001\u200b\u76d1\u63a7","text":"<p>\u200b\u7b2c\u4e03\u200b\u884c\u53ca\u200b\u4ee5\u4e0b\u200b\u663e\u793a\u200b\u4e86\u200b\u5404\u200b\u8fdb\u7a0b\u200b\uff08\u200b\u4efb\u52a1\u200b\uff09\u200b\u7684\u200b\u72b6\u6001\u200b\u76d1\u63a7\u200b\u3002\u200b\u5404\u5217\u200b\u6240\u200b\u4ee3\u8868\u200b\u7684\u200b\u542b\u4e49\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>PID         \u200b\u8fdb\u7a0b\u200bid\nUSER        \u200b\u8fdb\u7a0b\u200b\u6240\u6709\u8005\u200b\nPR          \u200b\u8fdb\u7a0b\u200b\u4f18\u5148\u7ea7\u200b\nNI          nice\u200b\u503c\u200b\u3002\u200b\u8d1f\u503c\u200b\u8868\u793a\u200b\u9ad8\u200b\u4f18\u5148\u7ea7\u200b\uff0c\u200b\u6b63\u503c\u200b\u8868\u793a\u200b\u4f4e\u4f18\u5148\u7ea7\u200b\nVIRT        \u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u603b\u91cf\u200b\uff0c\u200b\u5355\u4f4d\u200bkb\u3002VIRT=SWAP+RES\nRES         \u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b\u7684\u200b\u3001\u200b\u672a\u200b\u88ab\u200b\u6362\u200b\u51fa\u200b\u7684\u200b\u7269\u7406\u200b\u5185\u5b58\u5927\u5c0f\u200b\uff0c\u200b\u5355\u4f4d\u200bkb\u3002RES=CODE+DATA\nSHR         \u200b\u5171\u4eab\u5185\u5b58\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5355\u4f4d\u200bkb\nS           \u200b\u8fdb\u7a0b\u200b\u72b6\u6001\u200b\u3002D=\u200b\u4e0d\u53ef\u200b\u4e2d\u65ad\u200b\u7684\u200b\u7761\u7720\u200b\u72b6\u6001\u200b R=\u200b\u8fd0\u884c\u200b S=\u200b\u7761\u7720\u200b T=\u200b\u8ddf\u8e2a\u200b/\u200b\u505c\u6b62\u200b Z=\u200b\u50f5\u5c38\u200b\u8fdb\u7a0b\u200b\n%CPU        \u200b\u4e0a\u6b21\u200b\u66f4\u65b0\u200b\u5230\u200b\u73b0\u5728\u200b\u7684\u200bCPU\u200b\u65f6\u95f4\u200b\u5360\u7528\u200b\u767e\u5206\u6bd4\u200b\n%MEM        \u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b\u7684\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u767e\u5206\u6bd4\u200b\nTIME+       \u200b\u8fdb\u7a0b\u200b\u4f7f\u7528\u200b\u7684\u200bCPU\u200b\u65f6\u95f4\u200b\u603b\u8ba1\u200b\uff0c\u200b\u5355\u4f4d\u200b1/100\u200b\u79d2\u200b\nCOMMAND     \u200b\u8fdb\u7a0b\u200b\u540d\u79f0\u200b\uff08\u200b\u547d\u4ee4\u200b\u540d\u200b/\u200b\u547d\u4ee4\u884c\u200b\uff09\n</code></pre> <p>Cpu(s)\u200b\u8868\u793a\u200b\u7684\u200b\u662f\u200b \u200b\u6240\u6709\u200b\u7528\u6237\u200b\u8fdb\u7a0b\u200b\u5360\u7528\u200b\u6574\u4e2a\u200bcpu\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\uff0c\u200b\u7531\u4e8e\u200b\u6bcf\u4e2a\u200b\u6838\u5fc3\u200b\u5360\u7528\u200b\u7684\u200b\u767e\u5206\u6bd4\u200b\u4e0d\u540c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6309\u200b\u5e73\u5747\u503c\u200b\u6765\u7b97\u200b\u6bd4\u8f83\u200b\u6709\u200b\u53c2\u8003\u200b\u610f\u4e49\u200b\u3002 %CPU\u200b\u663e\u793a\u200b\u7684\u200b\u662f\u200b\u8fdb\u7a0b\u200b\u5360\u7528\u200b\u4e00\u4e2a\u200b\u6838\u200b\u7684\u200b\u767e\u5206\u6bd4\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6574\u4e2a\u200bcpu\uff0812\u200b\u6838\u200b\uff09\u200b\u7684\u200b\u767e\u5206\u6bd4\u200b\uff0c\u200b\u6709\u65f6\u5019\u200b\u53ef\u80fd\u200b\u5927\u4e8e\u200b100\uff0c\u200b\u90a3\u200b\u662f\u56e0\u4e3a\u200b\u8be5\u200b\u8fdb\u7a0b\u200b\u542f\u7528\u200b\u4e86\u200b\u591a\u7ebf\u7a0b\u200b\u5360\u7528\u200b\u4e86\u200b\u591a\u4e2a\u200b\u6838\u5fc3\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6709\u65f6\u5019\u200b\u6211\u4eec\u200b\u770b\u8be5\u200b\u503c\u5f97\u200b\u65f6\u5019\u200b\u4f1a\u200b\u8d85\u8fc7\u200b100%\uff0c\u200b\u4f46\u200b\u4e0d\u4f1a\u200b\u8d85\u8fc7\u200b\u603b\u6838\u6570\u200b*100\u3002</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#top_1","title":"\u4e09\u200b\u3001\u200b\u4e0e\u200btop\u200b\u4ea4\u4e92","text":"<ul> <li>\u200b\u6309\u952e\u200b<code>b</code>\u200b\u6253\u5f00\u200b\u6216\u200b\u5173\u95ed\u200b \u200b\u8fd0\u884c\u200b\u4e2d\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u9ad8\u4eae\u200b\u6548\u679c\u200b</li> <li>\u200b\u6309\u952e\u200b<code>x</code>\u200b\u6253\u5f00\u200b\u6216\u200b\u5173\u95ed\u200b \u200b\u6392\u200b\u5e8f\u5217\u200b\u7684\u200b\u9ad8\u4eae\u200b\u6548\u679c\u200b</li> <li><code>shift + &gt;</code> \u200b\u6216\u200b <code>shift + &lt;</code> \u200b\u53ef\u4ee5\u200b\u5411\u200b\u53f3\u200b\u6216\u200b\u5de6\u200b\u6539\u53d8\u200b\u6392\u200b\u5e8f\u5217\u200b</li> <li><code>f</code>\u200b\u952e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8fdb\u5165\u200b\u7f16\u8f91\u200b\u8981\u200b\u663e\u793a\u200b\u5b57\u6bb5\u200b\u7684\u200b\u89c6\u56fe\u200b\uff0c\u200b\u6709\u200b * \u200b\u53f7\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u4f1a\u200b\u663e\u793a\u200b\uff0c\u200b\u65e0\u200b * \u200b\u53f7\u200b\u4e0d\u200b\u663e\u793a\u200b\uff0c\u200b\u53ef\u200b\u6839\u636e\u200b\u9875\u9762\u200b\u63d0\u793a\u200b\u9009\u62e9\u200b\u6216\u200b\u53d6\u6d88\u200b\u5b57\u200b\u6bb5\u200b\u3002</li> </ul>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_9","title":"\u95ee\u9898","text":"<p>\u200b\u4e0d\u200b\u77e5\u9053\u200b\u4e3a\u4ec0\u4e48\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u8981\u200b\u91cd\u542f\u200b\u7f51\u5173\u200b</p> <p>win10\u200b\u4e2d\u200b\u7684\u200bv8\u200b\u4e2d\u200bdns\u200b\u5173\u200b\u4e86\u200b</p> <pre><code>curl --request POST '127.0.0.1:8080/test' --header 'Content-Type: application/json;charset=UTF-8' --data '{\"name\":\"matt\"}'\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#curl","title":"curl","text":"<pre><code>curl 'http://127.0.0.1:8080/user?hname=matt&amp;age=11'\n\n\ncurl -G --data-urlencode 'age=12 23' -d 'name=matt' 127.0.0.1:8080\n\ncurl -H 'A: A' -H 'b: B' -G --data-urlencode 'age=12 23' -d 'name=matt' 127.0.0.1:8080\n</code></pre> <pre><code>curl -d '{\"name\": \"matt\", \"age\": 17}' -X POST 'http://127.0.0.1:80/user'\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/#_10","title":"\u78c1\u76d8","text":"<pre><code>lsof -i :8080\n\nlsof -nP -p 39284 | grep LISTEN\n</code></pre> <pre><code># \u200b\u6574\u4e2a\u200b\u78c1\u76d8\u5206\u533a\u200b\ndf -h\n\n# \u200b\u4e0d\u200b\u6307\u5b9a\u200b\u6587\u4ef6\u200b \u200b\u5219\u200b\u603b\u8ba1\u200b \ndu -h\ndu -h xxx.txt\n</code></pre> <p>top \u200b\u547d\u4ee4\u200b</p> <p>\u200b\u6392\u5e8f\u200b</p> <p>linux \u200b\u8f93\u5165\u200b\u5927\u5199\u200bP M</p> <p>mac \u200b\u8f93\u5165\u200bo \u200b\u5728\u200b\u8f93\u5165\u200b cpu mem</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/","title":"\u5e38\u7528\u8f6f\u4ef6\u200b\u5b89\u88c5","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#centos","title":"centos","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#epel-release","title":"\u5b89\u88c5\u200bepel-release","text":"<p>\u200b\u6ce8\u200b\uff1aExtra Packages for Enterprise Linux \u200b\u662f\u200b\u4e3a\u200b\u201c\u200b\u7ea2\u5e3d\u200b\u7cfb\u200b\u201d\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u989d\u5916\u200b\u7684\u200b\u8f6f\u4ef6\u5305\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b RHEL\u3001CentOS \u200b\u548c\u200b Scientific Linux\u3002\u200b\u76f8\u5f53\u4e8e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8f6f\u4ef6\u200b\u4ed3\u5e93\u200b\uff0c\u200b\u5927\u591a\u6570\u200b rpm\u200b\u5305\u200b\u5728\u200b\u5b98\u65b9\u200brepository \u200b\u4e2d\u662f\u200b\u627e\u200b\u4e0d\u5230\u200b\u7684\u200b\uff09</p> <pre><code>yum install -y epel-release\n</code></pre> <p>\u200b\u5982\u679c\u200b\u662f\u200b\u6700\u5c0f\u5316\u200b\u5b89\u88c5\u200b\u5219\u200b\u8fd8\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bifconf vim\u200b\u7b49\u200b</p> <pre><code>yum install -y net-tools\n\nyum install -y vim\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#gcc-gcc","title":"\u5b89\u88c5\u200bgcc gcc++","text":"<pre><code>yum -y install gcc gcc-c++ kernel-devel //\u200b\u5b89\u88c5\u200bgcc\u3001c++\u200b\u7f16\u8bd1\u5668\u200b\u4ee5\u53ca\u200b\u5185\u6838\u200b\u6587\u4ef6\u200b\n</code></pre> <pre><code>gcc --version\n\ng++ --version\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#jdk","title":"JDK","text":"<p>\u200b\u5b98\u7f51\u200b</p> <p>jdk</p> <p></p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_1","title":"\u5378\u8f7d","text":"<p>\u200b\u5378\u8f7d\u200b\u7cfb\u7edf\u200b\u81ea\u5e26\u200b\u7684\u200bjdk</p> <pre><code>rpm -qa | grep -i java | xargs -n1 rpm -e --nodeps\n</code></pre> <ul> <li>rpm-qa:\u200b\u67e5\u8be2\u200b\u6240\u200b\u5b89\u88c5\u200b\u7684\u200b\u6240\u6709\u200brpm\u200b\u8f6f\u4ef6\u5305\u200b </li> <li>grep -i:\u200b\u5ffd\u7565\u200b\u5927\u5c0f\u5199\u200b</li> <li>xargs -n1:\u200b\u8868\u793a\u200b\u6bcf\u6b21\u200b\u53ea\u200b\u4f20\u9012\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b</li> <li>rpm -e \u2013nodeps:\u200b\u5f3a\u5236\u200b\u5378\u8f7d\u200b\u8f6f\u4ef6\u200b</li> </ul>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_2","title":"\u5b89\u88c5","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#jdktar-optsoftware","title":"\u5c06\u200bjdk\u200b\u7684\u200btar\u200b\u5305\u200b\u4f20\u8f93\u200b\u5230\u200b\u670d\u52a1\u5668\u200b, /opt/software","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#optmodule","title":"\u89e3\u538b\u200b\u5230\u200b /opt/module \u200b\u76ee\u5f55\u200b\u4e0b","text":"<pre><code>tar -zxvf jdk-8u212-linux- x64.tar.gz -C /opt/module/\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_3","title":"\u914d\u7f6e","text":"<p>\u200b\u914d\u7f6e\u200b\u73af\u5883\u200b</p> <p></p> <pre><code>sudo vim /etc/profile.d/my_env.sh\n</code></pre> <pre><code>#JAVA_HOME\nexport JAVA_HOME=/opt/module/jdk1.8.0_212\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_4","title":"\u914d\u7f6e\u6587\u4ef6\u200b\u751f\u6548","text":"<pre><code># \u200b\u4e34\u65f6\u200b\u751f\u6548\u200b\uff1a\nsource /etc/profile\n#\u200b\u6c38\u4e45\u200b\u751f\u6548\u200b\uff1a\u200b\u670d\u52a1\u5668\u200b\u91cd\u542f\u200b\nshutdown -r now\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_5","title":"\u9a8c\u8bc1","text":"<pre><code>java -version\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#tomcat","title":"tomcat","text":"<p>tomcat8.5</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_6","title":"\u5b89\u88c5","text":"<p>\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u89e3\u538b\u200b\u5373\u53ef\u200b</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_7","title":"\u542f\u52a8","text":"<pre><code>./startup.sh\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#mysql","title":"MySQL","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_8","title":"\u5b89\u88c5","text":"<pre><code>yum install mysql*\n\nyum install mariadb-server\n</code></pre> <pre><code>systemctl start mariadb.service\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_9","title":"\u914d\u7f6e","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_10","title":"\u6307\u5b9a\u200b\u5bc6\u7801","text":"<pre><code>mysqladmin -u root password root\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_11","title":"\u5f00\u542f\u200b\u8fdc\u7a0b\u200b\u8fde\u63a5\u200b\u7684\u200b\u6743\u9650","text":"<pre><code>update user set host='%' where user = 'root'; \n</code></pre> <pre><code>grant all privileges on *.* to root@'%'  identified by 'root'; \n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#nginx-openresty","title":"nginx-openresty","text":"<p>openresty:\u200b\u5bf9\u200bnginx\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5c01\u88c5\u200b\uff0c\u200b\u9996\u5148\u200b\u5728\u200b\u4e0b\u9762\u200b\u94fe\u63a5\u200b\u4e0b\u8f7d\u200b</p> <p>openresty</p> <p></p> <p>\u200b\u4e4b\u540e\u200b\u53d1\u9001\u5230\u200blinux\u200b\u4e2d\u200b\uff0c\u200b\u89e3\u538b\u200b\u5373\u53ef\u200b</p> <pre><code>tar -zxvf xx.tar.gz\n</code></pre> <p>\u200b\u524d\u63d0\u200b</p> <pre><code>yum -y install gcc gcc-c++ kernel-devel //\u200b\u5b89\u88c5\u200bgcc\u3001c++\u200b\u7f16\u8bd1\u5668\u200b\u4ee5\u53ca\u200b\u5185\u6838\u200b\u6587\u4ef6\u200b\n</code></pre> <pre><code>yum install pcre-devel openssl-devel gcc curl\n</code></pre> <p>\u200b\u5207\u6362\u200b\u5230\u200b\u89e3\u538b\u200b\u76ee\u5f55\u200b</p> <pre><code>cd openresty-VERSION/\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_12","title":"\u7f16\u8bd1","text":"<pre><code>make\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_13","title":"\u5b89\u88c5","text":"<pre><code>sudo make install\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_14","title":"\u542f\u52a8","text":"<pre><code>sbin/nginx -c conf/nginx.conf\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_15","title":"\u91cd\u542f","text":"<pre><code>sbin/nginx -s reload\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#redis","title":"redis","text":"<p>\u200b\u9519\u8bef\u200b</p> <p>server.c:5171:176: \u200b\u9519\u8bef\u200b\uff1a\u2018struct redisServer\u2019\u200b\u6ca1\u6709\u200b\u540d\u4e3a\u200b\u2018maxmemory\u2019\u200b\u7684\u200b\u6210\u5458\u200b</p> <p>1\u3001\u200b\u5b89\u88c5\u200bgcc\u200b\u5957\u88c5\u200b\uff1a</p> <p>yum install cpp yum install binutils yum install glibc yum install glibc-kernheaders yum install glibc-common yum install gl ibc-devel yum install gcc yum install make 2\u3001\u200b\u5347\u7ea7\u200bgcc</p> <p>yum -y install centos-release-scl</p> <p>yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</p> <p>scl enable devtoolset-9 bash</p> <p>3\u3001\u200b\u8bbe\u7f6e\u200b\u6c38\u4e45\u200b\u5347\u7ea7\u200b\uff1a</p> <p>echo \"source /opt/rh/devtoolset-9/enable\" &gt;&gt;/etc/profile</p> <p>4\u3001\u200b\u5b89\u88c5\u200bredis\uff1a</p> <p>redis</p> <pre><code>chmod 777 xxxx\n// \u200b\u8fdb\u5165\u200bredis\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\n// \u200b\u7f16\u8bd1\u200b\nmake\n// \u200b\u5b89\u88c5\u200b\nmake install\n</code></pre> <pre><code>make clean\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#cygwin","title":"cygwin","text":""},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#vim","title":"\u65e0\u6cd5\u200b\u4f7f\u7528\u200bvim","text":"<p>E437: terminal capability \"cm\" required \u200b\u9519\u8bef\u200b\uff1b</p> <pre><code>export TERM=xterm\n</code></pre>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#_16","title":"\u6302\u8f7d","text":"<p>/cygdrive/</p>"},{"location":"util/linux/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#cygwinssh","title":"Cygwin\u200b\u4f7f\u7528\u200bssh","text":"<pre><code>scp a.txt root@192.168.96.128:/home/a/b\n</code></pre> <p>\u200b\u4ee5\u200b\u7ba1\u7406\u200b\u5143\u200b\u6253\u5f00\u200b\u4e00\u76f4\u200byes\u200b\u5373\u53ef\u200b</p> <p>ssh-host-config</p> <p>passwd matt</p> <p>matt</p>"},{"location":"util/linux/%E7%BB%88%E7%AB%AF/","title":"\u7ec8\u7aef","text":"<p>\u200b\u8f93\u5165\u200b\u4e00\u957f\u200b\u6bb5\u200b\u5b57\u7b26\u200b \u200b\u5feb\u901f\u200b\u5220\u9664\u200b</p> <p>ctrl+u</p>"},{"location":"util/mac/0%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/","title":"mac\u200b\u7cfb\u7edf","text":"<p>option+caps lock\uff1a\u200b\u5927\u5c0f\u5199\u200b</p> <p>caps lock:\u200b\u4e2d\u82f1\u6587\u200b</p> <p>pd \u200b\u865a\u62df\u673a\u200b</p> <p>CTRL+\u200b\u4e0a\u200b\u7bad\u5934\u200b</p> <p>CTRL+\u200b\u4e0a\u200b\u7bad\u5934\u200b:\u200b\u67e5\u770b\u200b\u4efb\u52a1\u200b</p> <p>\u200b\u663e\u793a\u200b\u7b80\u4ecb\u200b-\u300b\u200b\u9009\u62e9\u200b\u5e94\u7528\u7a0b\u5e8f\u200b-\u3009\u200b\u66f4\u6362\u200b\u5168\u90e8\u200b</p> <p>\u200b\u4f5c\u8005\u200b\uff1aCloud Strife \u200b\u94fe\u63a5\u200b\uff1ahttps://www.zhihu.com/question/22624898/answer/105234217 \u200b\u6765\u6e90\u200b\uff1a\u200b\u77e5\u4e4e\u200b \u200b\u8457\u4f5c\u6743\u200b\u5f52\u200b\u4f5c\u8005\u200b\u6240\u6709\u200b\u3002\u200b\u5546\u4e1a\u200b\u8f6c\u8f7d\u200b\u8bf7\u200b\u8054\u7cfb\u200b\u4f5c\u8005\u200b\u83b7\u5f97\u200b\u6388\u6743\u200b\uff0c\u200b\u975e\u5546\u4e1a\u200b\u8f6c\u8f7d\u200b\u8bf7\u200b\u6ce8\u660e\u200b\u51fa\u5904\u200b\u3002</p> <p>brew\u200b\u4e3b\u8981\u200b\u7528\u6765\u200b\u4e0b\u8f7d\u200b\u4e00\u4e9b\u200b\u4e0d\u5e26\u200b\u754c\u9762\u200b\u7684\u200b\u547d\u4ee4\u884c\u200b\u4e0b\u200b\u7684\u200b\u5de5\u5177\u200b\u548c\u200b\u7b2c\u4e09\u65b9\u200b\u5e93\u6765\u200b\u8fdb\u884c\u200b\u4e8c\u6b21\u5f00\u53d1\u200b brew cask\u200b\u4e3b\u8981\u200b\u7528\u6765\u200b\u4e0b\u8f7d\u200b\u4e00\u4e9b\u200b\u5e26\u200b\u754c\u9762\u200b\u7684\u200b\u5e94\u7528\u8f6f\u4ef6\u200b\uff0c\u200b\u4e0b\u8f7d\u200b\u597d\u540e\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5b89\u88c5\u200b\uff0c\u200b\u5e76\u200b\u80fd\u200b\u5728\u200bmac\u200b\u4e2d\u200b\u76f4\u63a5\u200b\u8fd0\u884c\u200b\u4f7f\u7528\u200b</p> <p>\u200b\u4e3e\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c brew install curl\u200b\u53ef\u4ee5\u200b\u5b89\u88c5\u200bcurl\u200b\u7b2c\u4e09\u65b9\u200b\u5e93\u200b\uff0c\u200b\u8fd9\u6837\u200b\u4f60\u200b\u5728\u200b\u5f00\u53d1\u200b\u65f6\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5b83\u200b\u7684\u200b\u5e93\u6765\u200b\u8fdb\u884c\u200b\u5f00\u53d1\u200b brew cask install chrome\u200b\u53ef\u4ee5\u200b\u5b89\u88c5\u200b\u8c37\u6b4c\u200b\u6d4f\u89c8\u5668\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\uff0c\u200b\u53ef\u200b\u76f4\u63a5\u200b\u8fd0\u884c\u200b</p> <p>brew\u200b\u504f\u200b\u7ba1\u7406\u200b\u7b2c\u4e09\u65b9\u200b\u5e93\u200b\u548c\u200b\u547d\u4ee4\u884c\u200b\u5de5\u5177\u200b\u65b9\u9762\u200b\u7684\u200b\u4e1c\u4e1c\u200b brew cask\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u662f\u200b\u82f9\u679c\u200b\u5b98\u65b9\u200bapp store\u200b\u7684\u200b\u8865\u5145\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4f17\u591a\u200b\u8d21\u732e\u8005\u200b\u4eec\u200b\u7ef4\u62a4\u200b\u7684\u200b\u975e\u200b\u82f9\u679c\u200b\u5b98\u65b9\u200b\u8f6f\u4ef6\u200b\u5546\u5e97\u200b\uff0c\u200b\u4f60\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fd9\u91cc\u200b\u4e0b\u200bmac\u200b\u8f6f\u4ef6\u200b\u7528\u200b</p> <p>\u200b\u4e00\u4e9b\u200b\u514d\u8d39\u200b\u597d\u7528\u200b\u7684\u200bmac\u200b\u8f6f\u4ef6\u200b\u6ca1\u6709\u200b\u5728\u200b\u82f9\u679c\u200b\u5b98\u65b9\u200bapp store\u200b\u5546\u5e97\u200b\u4e0a\u67b6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200bbrew cask\u200b\u4e2d\u200b\u4e0b\u8f7d\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u8981\u200b\u4e0b\u8f7d\u200b10\u200b\u4e2a\u200b\u514d\u8d39\u200b\u5c0f\u200b\u8f6f\u4ef6\u200b\uff0c\u200b\u800c\u200b\u8fd9\u4e9b\u200b\u8f6f\u4ef6\u200b\u6ca1\u6709\u200b\u5728\u200b\u82f9\u679c\u200b\u5546\u5e97\u200b\u4e0a\u67b6\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u4e00\u4e2a\u200b\u53bb\u200b\u8c37\u6b4c\u200b\u5b83\u4eec\u200b\u7684\u200b\u5b98\u65b9\u7f51\u7ad9\u200b\uff0c\u200b\u518d\u200b\u53bb\u200b\u8fd9\u4e9b\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u5b98\u7f51\u200b\u53bb\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7edf\u4e00\u200b\u5728\u200bbrew cask\u200b\u4e2d\u200b\u4e0b\u8f7d\u200b\u3002\u200b\u4f7f\u7528\u200bbrew cask\u200b\u6765\u200b\u8fdb\u884c\u200b\u5305\u200b\u7ba1\u7406\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u597d\u5904\u200b\uff0c\u200b\u8fd9\u200b10\u200b\u4e2a\u200b\u514d\u8d39\u8f6f\u4ef6\u200b\u5982\u679c\u200b\u81ea\u8eab\u200b\u4e0d\u5e26\u200b\u5347\u7ea7\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f46\u200b\u73b0\u5728\u200b\u5b83\u4eec\u200b\u6709\u200b\u66f4\u65b0\u200b\uff0c\u200b\u6211\u200b\u53ea\u80fd\u200b\u53bb\u200b\u5b98\u7f51\u200b\u91cd\u65b0\u200b\u4e0b\u8f7d\u200b\uff1f\u200b\u4e0d\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5728\u200bbrew cask\u200b\u91cc\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7edf\u4e00\u200b\u5347\u7ea7\u200b\u3002\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u4f60\u200b\u95ee\u200b\u7684\u200b\u90a3\u53e5\u200b\u201c\u200b\u4e3a\u4f55\u200b\u7f51\u8def\u4e0a\u200b\u8ddf\u200b\u63a8\u8350\u200b\u7528\u200bbrew cask\u200b\u5462\u200b\uff1f\u201d\u200b\u7684\u200b\u539f\u56e0\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5b89\u88c5\u200bmac\u200b\u56fe\u5f62\u754c\u9762\u200b\u8f6f\u4ef6\u200b\uff0c\u200b\u63a8\u8350\u200b\u5148\u200b\u5728\u200b\u82f9\u679c\u200b\u5b98\u65b9\u200b\u5546\u5e97\u200b\u91cc\u200b\u641c\u7d22\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u6ca1\u6709\u200b\u7684\u8bdd\u200b\u53bb\u200bbrew cask\u200b\u8bd5\u8bd5\u200b\uff0c\u200b\u5982\u679c\u200b\u8fd8\u200b\u6ca1\u6709\u200b\uff0c\u200b\u53ea\u80fd\u200b\u53bb\u200b\u8fd9\u4e2a\u200b\u8f6f\u4ef6\u200b\u7684\u200b\u5b98\u65b9\u7f51\u7ad9\u200b\u53bb\u200b\u4e0b\u8f7d\u200b\u4e86\u200b\u3002</p> <pre><code>softwareupdate --install-rosetta\n</code></pre> <pre><code>Type A and press return to agree\uff1aA\n</code></pre> <p>Shift + caps lk : \u200b\u5927\u5c0f\u5199\u200b</p> <p>caps lk: \u200b\u4e2d\u82f1\u6587\u200b</p> <p></p> <p>https -&gt; http</p>"},{"location":"util/mac/app/","title":"app","text":""},{"location":"util/mac/app/#dev","title":"dev","text":""},{"location":"util/mac/app/#brew","title":"brew","text":""},{"location":"util/mac/app/#_1","title":"\u5b89\u88c5","text":"<p>\u200b\u65b9\u6cd5\u200b\u4e00\u200b </p> <p>\u200b\u539f\u751f\u200b</p> <p>\u200b\u7b2c\u4e00\u6b21\u200b\u4f7f\u7528\u200b443 \uff0c\u200b\u540e\u9762\u200b\u914d\u7f6e\u200bgit \u200b\u4ee3\u7406\u200b\u5c31\u200b\u89e3\u51b3\u200b\u4e86\u200b \u200b\u4f1a\u200b\u5e2e\u200b\u4f60\u200b\u4e0b\u8f7d\u200bcommad line tool</p> <pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)\"\n</code></pre> <p>\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u4f1a\u200b\u6709\u200b\u5982\u4e0b\u200b\u63d0\u793a\u200b\uff0c\u200b\u6839\u636e\u200b\u63d0\u793a\u200b\u8f93\u5165\u200b\u8fd0\u884c\u200b\u5373\u53ef\u200b</p> <pre><code>echo 'eval \"$(/opt/homebrew/bin/brew shellenv)\"' &gt;&gt; /Users/matt/.zprofile\n\neval \"$(/opt/homebrew/bin/brew shellenv)\"\n</code></pre> <p>\u200b\u65b9\u6cd5\u200b\u4e8c\u200b</p> <p>\u200b\u4f7f\u7528\u200b\u56fd\u5185\u200b\u955c\u50cf\u200b \u200b\u6ca1\u200b\u6d4b\u8bd5\u200b\u8fc7\u200b</p> <pre><code>/bin/zsh -c \"$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\"\n</code></pre>"},{"location":"util/mac/app/#_2","title":"\u5e38\u7528\u547d\u4ee4","text":"<pre><code># \u200b\u5b89\u88c5\u200b\nbrew install git\n\n\n# \u200b\u5378\u8f7d\u200b\nbrew uninstall git\n\n\n#\u200b\u66f4\u65b0\u200b\nbrew update git\n# \u200b\u66f4\u65b0\u200b\u5168\u90e8\u200b\nbrew update\n\n\n# \u200b\u4e00\u822c\u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u6267\u884c\u200b\uff0c\u200b\u73af\u5883\u53d8\u91cf\u200b\u751f\u6548\u200b\nbrew link git\n# \u200b\u5931\u6548\u200b\nbrew unlink git\n</code></pre> <pre><code># \u200b\u641c\u7d22\u200b\u8f6f\u4ef6\u200b \u200b\u5bf9\u200b\u53f7\u200b\u8868\u793a\u200b\u5df2\u200b\u5b89\u88c5\u200b\nbrew search git\n\n# \u200b\u663e\u793a\u200b\u5df2\u200b\u5b89\u88c5\u200b\u7684\u200b\u8f6f\u4ef6\u200b\nbrew list\n\n# \u200b\u663e\u793a\u200b\u8f6f\u4ef6\u200b\u5185\u5bb9\u200b\u4fe1\u606f\u200b\nbrew info git\n</code></pre>"},{"location":"util/mac/app/#dbeaver","title":"dbeaver","text":"<p>\u200b\u7248\u672c\u200b: 22.3.4.202301312050 ue</p> <p>1.\u200b\u6253\u5f00\u200b\u8f6f\u4ef6\u5305\u200b\u5148\u200b\u5b89\u88c5\u200bjdk </p> <p>2.\u200b\u5b89\u88c5\u200bdbeaver, \u200b\u4e0d\u8981\u200b\u5173\u95ed\u200b</p> <p>3.\u200b\u8f93\u5165\u200bkey </p> <p>\u200b\u89e3\u51b3\u200bxxx\u200b\u5df2\u635f\u574f\u200b,\u200b\u65e0\u6cd5\u200b\u6253\u5f00\u200b,\u200b\u4f60\u200b\u5e94\u8be5\u200b\u5c06\u200b\u5b83\u200b\u79fb\u5230\u200b\u5e9f\u200b\u7eb8\u7bd3\u200b</p> <p>\u200b\u65b9\u5f0f\u200b1</p> <pre><code>sudo spctl --master-disable\n</code></pre> <p>\u200b\u5148\u200b\u6253\u5f00\u200b \u200b\u7cfb\u7edf\u200b\u504f\u597d\u200b\u8bbe\u7f6e\u200b -&gt; \u200b\u5b89\u5168\u200b\u4e0e\u200b\u9690\u79c1\u200b -&gt; \u200b\u901a\u7528\u200b \u200b\u9009\u9879\u5361\u200b\uff0c\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u542f\u7528\u200b\u4e86\u200b \u200b\u4efb\u4f55\u200b\u6765\u6e90\u200b \u200b\u9009\u9879\u200b\u3002\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u542f\u7528\u200b\uff0c\u200b\u5148\u200b\u70b9\u51fb\u200b\u5de6\u4e0b\u89d2\u200b\u7684\u200b\u5c0f\u200b\u9ec4\u9501\u200b\u56fe\u6807\u200b\u89e3\u9501\u200b\uff0c\u200b\u7136\u540e\u200b\u9009\u4e2d\u200b\u4efb\u4f55\u200b\u6765\u6e90\u200b\u3002</p> <p>\u200b\u73b0\u5728\u200b\u6253\u5f00\u200b\u8f6f\u4ef6\u200b \u200b\u5982\u679c\u200b\u4e0d\u884c\u200b\u770b\u200b2</p> <p>\u200b\u65b9\u5f0f\u200b2</p> <pre><code>sudo xattr -rd com.apple.quarantine /Applications/DBeaverUltimate.app\n</code></pre> <p>\u200b\u518d\u200b\u6253\u5f00\u200b\u8f6f\u4ef6\u200b\u770b\u200b\u4e00\u4e0b\u200b</p>"},{"location":"util/mac/app/#mysql-navicat-165","title":"mysql-navicat 16.5","text":"<pre><code>sudo xattr -rd com.apple.quarantine /Applications/Navicat\\ Premium.app\n</code></pre>"},{"location":"util/mac/app/#redis-desktop-manager","title":"redis desktop manager","text":"<p>\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p>"},{"location":"util/mac/app/#os","title":"os","text":""},{"location":"util/mac/app/#office","title":"office","text":"<p>\u200b\u5148\u200b\u5b89\u88c5\u200bapp \u200b\u5728\u200b\u5b89\u88c5\u200b\u7834\u89e3\u200b\u5305\u200b</p> <ol> <li>\u200b\u4e0b\u8f7d\u200b\u5b8c\u6210\u200b\u540e\u200b\u6253\u5f00\u200bMicrosoft office 2021\u200b\u955c\u50cf\u200b\u5305\u200b\uff0c\u200b\u53cc\u51fb\u200b\u3010Microsoft Office for mac.pkg\u3011\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b</li> <li>\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u540e\u200b\u56de\u5230\u200boffice2021\u200b\u7834\u89e3\u7248\u200b\u955c\u50cf\u200b\u5305\u200b\uff0c\u200b\u8bf7\u200b\u53cc\u51fb\u200b\u6253\u5f00\u200boffice2021\u200b\u6fc0\u6d3b\u200b\u5de5\u5177\u200b</li> </ol>"},{"location":"util/mac/app/#paste","title":"paste","text":"<p>old</p> <p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <p>\u200b\u526a\u5207\u677f\u200b</p> <p>sudo xattr -rd com.apple.quarantine /Applications/Paste.app</p>"},{"location":"util/mac/app/#rectangle","title":"Rectangle","text":"<p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <p>\u200b\u5206\u5c4f\u200b\u8f6f\u4ef6\u200b\uff0c \u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b, free</p>"},{"location":"util/mac/app/#word","title":"word","text":""},{"location":"util/mac/app/#typora","title":"typora","text":"<p>emacs \u200b\u5b89\u88c5\u200b</p> <pre><code>brew install --cask emacs\n</code></pre>"},{"location":"util/mac/app/#img","title":"img","text":""},{"location":"util/mac/app/#omi","title":"omi\u200b\u5f55\u5c4f\u200b\u4e13\u5bb6","text":""},{"location":"util/mac/app/#-downie-4","title":"\u89c6\u5c4f\u200b\u4e0b\u8f7d\u200b-Downie 4","text":"<p>\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p> <p>V4.6.8</p>"},{"location":"util/mac/app/#file","title":"file","text":""},{"location":"util/mac/app/#xmind","title":"xmind","text":"<pre><code>sudo xattr -rd com.apple.quarantine /Applications/XMind.app\n</code></pre>"},{"location":"util/mac/app/#-the-unarchiver","title":"\u538b\u7f29\u200b-The Unarchiver","text":"<p>free</p>"},{"location":"util/mac/app/#tencent-lemon","title":"tencent lemon","text":"<p>\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <p>\u200b\u6e05\u7406\u200b\u5de5\u5177\u200b\uff0c\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200b\u9ed8\u8ba4\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b, free</p>"},{"location":"util/mac/app/#pdfreaderpro","title":"pdfreaderpro","text":"<p>pdf\u200b\u7f16\u8f91\u200b\u9605\u8bfb\u200b \u200b\u7248\u672c\u200b2.8.22.1 (2.8.22.1)</p> <p>\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p> <p>\u200b\u6253\u5f00\u200b\u4e0b\u8f7d\u200b\u597d\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\uff0c\u200b\u62d6\u52a8\u200b\u3010pdf reader pro\u3011\u200b\u5230\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4e2d\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p>"},{"location":"util/mac/app/#clearview-x","title":"clearview X","text":"<p>\u200b\u9605\u8bfb\u5668\u200b</p> <p>Version 3.0.4</p> <p>\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p> <p></p> <p>\u200b\u62d6\u200b\u5230\u200b\u53f3\u4fa7\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p>"},{"location":"util/mac/file/","title":"File","text":"<p>windows</p> <p>AppData</p> <p>\u2003\u2003xxApp:\u200b\u7cfb\u7edf\u200b\u6570\u636e\u200b</p> <p>\u2003\u2003soft</p> <p>develop</p> <p>\u2003\u2003dev</p> <p> env</p> <p>home</p> <p>\u2003\u2003matt</p> <p> <code>download</code></p> <p> <code>life</code></p> <p>\u2003\u2003\u2003\u2003\u2003\u2003img</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003music</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003video</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003file</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003self</p> <p> <code>study</code></p> <p>\u2003\u2003\u2003\u2003\u2003\u2003api</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003book</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003res</p> <p>\u2003\u2003\u2003\u2003\u2003\u2003note</p> <p> <code>wordkspace</code></p> <p>ProgramFiles</p> <p>var</p> <p>life:img,video,self</p> <p>study</p> <p>work:\u200b\u5165\u804c\u200b\uff0c</p>"},{"location":"util/mac/iterm2/","title":"iterm2","text":""},{"location":"util/mac/iterm2/#_1","title":"\u5b89\u88c5","text":""},{"location":"util/mac/iterm2/#iterm2","title":"\u5b89\u88c5\u200biterm2","text":"<p>\u200b\u5b89\u88c5\u200biterm2\uff0c\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u5373\u53ef\u200b </p> <p>\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200biterm2</p>"},{"location":"util/mac/iterm2/#_2","title":"\u914d\u7f6e\u200b\u4ee3\u7406","text":"<p>git\u3001github\uff08\u200b\u53ef\u200b\u53c2\u8003\u200bgit\u200b\u6587\u7ae0\u200b\uff09\u3001\u200b\u7ec8\u7aef\u200b\u914d\u7f6e\u200b\u4ee3\u7406\u200b</p> <p>\u200b\u7ec8\u7aef\u200b\u914d\u7f6e\u200b\u4ee3\u7406\u200b</p> <pre><code>cd ~\nvim ./.zshrc\n</code></pre> <pre><code>export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890\n</code></pre> <p>\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u751f\u6548\u200b</p> <pre><code>source ./.zshrc\n</code></pre>"},{"location":"util/mac/iterm2/#oh-my-zsh","title":"\u5b89\u88c5\u200boh-my-zsh","text":"<pre><code>sh -c \"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n</code></pre>"},{"location":"util/mac/iterm2/#p10k","title":"\u5b89\u88c5\u200b p10k","text":"<pre><code>cd ./.oh-my-zsh/themes\ngit clone  https://github.com/romkatv/powerlevel10k.git\n</code></pre> <pre><code>vi ~/.zshrc \n</code></pre> <pre><code>ZSH_THEME=\"powerlevel10k/powerlevel10k\"\n</code></pre>"},{"location":"util/mac/iterm2/#_3","title":"\u5b89\u88c5\u200b\u63d2\u4ef6","text":""},{"location":"util/mac/iterm2/#_4","title":"\u8bed\u6cd5\u200b\u9ad8\u4eae\u200b\u3001 \u200b\u81ea\u52a8\u200b\u8865\u5168","text":"<pre><code># \u200b\u8bed\u6cd5\u200b\u9ad8\u4eae\u200b\ncd ~/.oh-my-zsh/custom/plugins/\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git\n\n\n# \u200b\u81ea\u52a8\u200b\u8865\u5168\u200b\n\ncd ~/.oh-my-zsh/custom/plugins/\ngit clone https://github.com/zsh-users/zsh-autosuggestions\n</code></pre> <p>\u200b\u9000\u51fa\u200biterm2</p> <pre><code>exit\n</code></pre> <pre><code>vim ./.zscrc\n</code></pre> <pre><code>plugins=(\n     git\n     zsh-syntax-highlighting\n     zsh-autosuggestions\n)\n\n\nHIST_STAMPS=\"yyyy-mm-dd\"\n\n\n# \u200b\u6587\u672b\u200b\u6dfb\u52a0\u200b\nsource ~/.zshrc.pre-oh-my-zsh\n</code></pre>"},{"location":"util/mac/iterm2/#autojump","title":"\u5b89\u88c5\u200bautojump","text":"<pre><code>brew install autojump\n</code></pre> <p>\u200b\u6253\u5f00\u200b <code>~/.zshrc</code> \u200b\u52a0\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\uff1a</p> <pre><code>[[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] &amp;&amp; . $(brew --prefix)/etc/profile.d/autojump.sh\n</code></pre> <p>\u200b\u4f7f\u7528\u200b</p> <pre><code>j test\n</code></pre>"},{"location":"util/mac/iterm2/#sublime","title":"\u5f00\u542f\u200bsublime\u200b\u63d2\u4ef6","text":"<pre><code>vim ~/.zshrc\n</code></pre> <p>plugins\u200b\u6dfb\u52a0\u200bsublime</p> <pre><code>plugins=(\n     git\n     git-open\n     sublime\n     zsh-syntax-highlighting\n     zsh-autosuggestions\n)\n</code></pre> <pre><code>alias subl=\"/Users/matt/Downloads/Sublime\\ Text.app/Contents/SharedSupport/bin/subl\"\n</code></pre>"},{"location":"util/mac/iterm2/#git-open","title":"git-open","text":"<pre><code>git clone https://github.com/paulirish/git-open.git\n</code></pre> <pre><code>plugins=(\u200b\u5176\u4ed6\u200b\u7684\u200b\u63d2\u4ef6\u200b git-open)\n</code></pre> <pre><code>alias go=\"git-open\"\n</code></pre>"},{"location":"util/mac/iterm2/#rm","title":"rm","text":"<p>trash\u200b\u4ee3\u66ff\u200brm,\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5220\u9664\u200b\u7684\u200b\u6587\u4ef6\u200b\u653e\u5165\u200b\u56de\u6536\u7ad9\u200b</p> <pre><code>npm install --global trash-cli\n</code></pre> <pre><code>alias rm=\"trash\"\n</code></pre>"},{"location":"util/mac/iterm2/#_5","title":"\u914d\u7f6e","text":""},{"location":"util/mac/iterm2/#p10k_1","title":"p10k \u200b\u914d\u7f6e","text":"<p>\u200b\u524d\u63d0\u200b\uff1a\u200b\u914d\u7f6e\u200b\u597d\u200b\u4ee3\u7406\u200b</p> <pre><code>p10k configure\n</code></pre> <p>\u200b\u95ee\u9898\u200b\u5927\u81f4\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li>\u200b\u8fd9\u4e2a\u200b\u7b26\u53f7\u200b\u770b\u8d77\u6765\u200b\u50cf\u200b\u94bb\u77f3\u200b\uff08\u200b\u65cb\u8f6c\u200b\u7684\u200b\u6b63\u65b9\u5f62\u200b\uff09\u200b\u5417\u200b\uff1f</li> <li>\u200b\u8fd9\u4e2a\u200b\u7b26\u53f7\u200b\u770b\u8d77\u6765\u200b\u50cf\u200b\u9501\u200b\u5417\u200b\uff1f</li> <li>\u200b\u8fd9\u4e2a\u200b\u7b26\u53f7\u200b\u770b\u8d77\u6765\u200b\u50cf\u200b Debian logo \u200b\u5417\u200b\uff1f</li> <li>\u200b\u8fd9\u4e9b\u200b\u56fe\u6807\u200b\u90fd\u200b\u4ea4\u53c9\u200b\u5206\u5e03\u200b\u5728\u200b X \u200b\u4e4b\u95f4\u200b\u5417\u200b\uff1f</li> <li>\u200b\u98ce\u683c\u200b</li> <li>\u200b\u7f16\u7801\u200b</li> <li>\u200b\u662f\u5426\u200b\u663e\u793a\u200b\u65f6\u95f4\u200b</li> <li>\u200b\u76ee\u5f55\u200b\u5c42\u7ea7\u200b\u5206\u9694\u7b26\u200b</li> <li>\u200b\u5934\u90e8\u200b\uff08\u200b\u5de6\u8fb9\u200b\uff09</li> <li>\u200b\u5c3e\u90e8\u200b\uff08\u200b\u53f3\u8fb9\u200b\uff09</li> <li>\u200b\u662f\u5426\u200b\u6362\u884c\u200b</li> <li>\u200b\u5de6\u8fb9\u200b\u548c\u200b\u53f3\u8fb9\u200b\u662f\u5426\u200b\u6709\u200b\u8fde\u63a5\u7ebf\u200b</li> <li>\u200b\u547d\u4ee4\u884c\u200b\u548c\u200b\u63d0\u793a\u200b\u662f\u5426\u200b\u8fde\u63a5\u200b</li> <li>\u200b\u4e24\u884c\u200b\u547d\u4ee4\u200b\u4e4b\u95f4\u200b\u5206\u5e03\u200b\u7a00\u758f\u200b\u8fd8\u662f\u200b\u677e\u6563\u200b</li> <li>\u200b\u662f\u5426\u200b\u9700\u8981\u200b\u56fe\u6807\u200b</li> </ol>"},{"location":"util/mac/iterm2/#_6","title":"\u5b57\u4f53","text":"<p>\u200b\u7b2c\u4e00\u6b65\u200b\u4f1a\u200b\u4e0b\u8f7d\u200b\u5b57\u4f53\u200b\uff0c\u200b\u5982\u679c\u200b\u5931\u8d25\u200b\u8bb0\u5f97\u200b\u914d\u7f6e\u200b\u4ee3\u7406\u200b</p> <p>https://github.com/ryanoasis/nerd-fonts/releases</p> <p></p> <p></p>"},{"location":"util/mac/iterm2/#color","title":"color","text":"<p>https://github.com/QuentinWatt/dark-flat-iterm-colors</p> <p></p> <p>https://gist.github.com/kevin-smets/8568070</p> <p>0, 40, 51</p>"},{"location":"util/mac/office/","title":"Office","text":"<p>office</p> <p>cr:https://mp.weixin.qq.com/s/6aILoJnU0WcK-gfFGAEWUQ,\u200b\u5982\u200b\u6709\u200b\u4fb5\u6743\u200b\u8bf7\u200b\u8054\u7cfb\u200b\u6211\u200b\u5220\u9664\u200b\uff0c\u200b\u6ca1\u6709\u200b\u4f5c\u200b\u5546\u7528\u200b</p> <p>\u200b\u53c2\u8003\u200b\u4f19\u4f34\u200b\u795e\u200b</p>"},{"location":"util/mac/office/#_1","title":"\u8f6f\u4ef6\u200b\u7b80\u4ecb\u200b\uff1a","text":"<p>Office 2021 v16.55 For Mac\u200b\u7248\u200b\u662f\u200b\u4e00\u6b3e\u200b\u529f\u80fd\u5f3a\u5927\u200b\u7684\u200b\u529e\u516c\u200b\u5957\u4ef6\u200b\uff0c\u200b\u5185\u542b\u200bWord\u200b\u6587\u672c\u5904\u7406\u200b\u8f6f\u4ef6\u200b\u3001Excel\u200b\u8868\u683c\u200b\u5904\u7406\u8f6f\u4ef6\u200b \u3001PowerPoint\u200b\u5e7b\u706f\u7247\u200b\u5236\u4f5c\u200b\u8f6f\u4ef6\u200b\u3001Outlook\u200b\u90ae\u4ef6\u200b\u6536\u53d1\u200b\u7ba1\u7406\u200b\u5ba2\u6237\u7aef\u200b\u3001OneNote\u200b\u6570\u5b57\u200b\u7b14\u8bb0\u200b\u5e94\u7528\u200b\u7b49\u200b\u51e0\u4e2a\u200b\u7ec4\u4ef6\u200b\u3002Office 2021\u200b\u4f5c\u4e3a\u200b\u5fae\u8f6f\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5e9e\u5927\u200b\u7684\u200b\u529e\u516c\u200b\u8f6f\u4ef6\u200b\u96c6\u5408\u200b\uff0c\u200b\u662f\u200b\u4e00\u6b3e\u200b\u6700\u597d\u200b\u7528\u200b\uff0c\u200b\u529f\u80fd\u200b\u6700\u200b\u5168\u9762\u200b\u7684\u200b\u529e\u516c\u200b\u8f6f\u4ef6\u200b\u3002\u200b\u65b0\u7248\u200bOffice 2021 Mac\u200b\u7248\u200b\u5e26\u6765\u200b\u5168\u65b0\u200b\u754c\u9762\u200b\uff0c\u200b\u529f\u80fd\u200b\u66f4\u52a0\u200b\u5f3a\u5927\u200b\u3002</p>"},{"location":"util/mac/office/#_2","title":"\u5b89\u88c5\u200b\u6b65\u9aa4\u200b\uff1a","text":""},{"location":"util/mac/office/#1","title":"1.\u200b\u9009\u62e9\u200b\u6211\u4eec\u200b\u4e0b\u8f7d\u200b\u7684\u200b\u5b89\u88c5\u5305\u200b\uff0c\u200b\u53cc\u51fb\u200b\u81ea\u52a8\u200b\u89e3\u538b\u200b\u955c\u50cf\u6587\u4ef6\u200b\u3002","text":""},{"location":"util/mac/office/#2office","title":"2.\u200b\u89e3\u538b\u200b\u540e\u200b\u5f97\u5230\u200b\u4ee5\u4e0b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u53cc\u51fb\u200b\u8fd0\u884c\u200boffice\u200b\u5b89\u88c5\u7a0b\u5e8f\u200b\u3002","text":""},{"location":"util/mac/office/#3","title":"3.\u200b\u70b9\u51fb\u200b\u7ee7\u7eed\u200b\u3002","text":"<p>\u200b\u4e00\u76f4\u200b\u9009\u62e9\u200b\u9ed8\u8ba4\u200b\u5373\u53ef\u200b \u200b\u7ee7\u7eed\u200b.....</p>"},{"location":"util/mac/office/#4","title":"4.\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b\uff0c\u200b\u70b9\u51fb\u200b\u5173\u95ed\u200b\u3002","text":""},{"location":"util/mac/office/#5","title":"5.\u200b\u82e5\u6709\u200b\u63d0\u793a\u200b\u66f4\u65b0\u200b\uff0c\u200b\u53bb\u6389\u200b\u52fe\u9009\u540e\u200b\uff0c\u200b\u70b9\u51fb\u200b\u5173\u95ed\u200b\u3002","text":""},{"location":"util/mac/office/#6license","title":"6.\u200b\u53cc\u51fb\u200b\u6253\u5f00\u200bLicense\u200b\u8bb8\u53ef\u200b\u6fc0\u6d3b\u200b\u7a0b\u5e8f\u200b\u3002","text":""},{"location":"util/mac/office/#7","title":"7\u200b\u90fd\u200b\u9009\u62e9\u200b\u9ed8\u8ba4\u200b\u5373\u53ef","text":""},{"location":"util/mac/office/#8","title":"8\u200b\u70b9\u51fb\u200b\u8df3\u8fc7\u200b\u767b\u9646\u200b\u3002\u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u767b\u9646\u200b\uff0c\u200b\u9632\u6b62\u200b\u6fc0\u6d3b\u200b\u5931\u6548\u200b\u3002","text":""},{"location":"util/mac/terminal/","title":"Terminal","text":"<p>ctrl+a \u200b\u884c\u9996\u200b cltr+e \u200b\u884c\u5c3e\u200b ctrl+u \u200b\u5168\u90e8\u200b ctrl k \u200b\u540e\u200b</p> <p>ctrl+y \u200b\u64a4\u9500\u200b</p> <p>ctrl+w \u200b\u5220\u9664\u200b\u5355\u8bcd\u200b</p> <p>Ctrl \u2013 c \uff1a\u200b\u7ec8\u6b62\u200b\u547d\u4ee4\u200b Ctrl \u2013 z \uff1a\u200b\u6302\u200b\u8d77\u200b\u547d\u4ee4\u200b</p>"},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/","title":"Vm\u200b\u5b89\u88c5\u200bcentos","text":""},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#_1","title":"\u5b89\u88c5","text":""},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#_2","title":"\u57fa\u7840\u200b\u5b89\u88c5","text":""},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#_3","title":"\u9009\u62e9\u200b\u955c\u50cf","text":"<p>\u200b\u5904\u7406\u5668\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b2\u200b\u4e2a\u200b</p> <p>\u200b\u5185\u5b58\u200b4096</p> <p></p> <p>\u200b\u78c1\u76d8\u200b 50g</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>\u200b\u8bbe\u7f6e\u200broot \u200b\u5bc6\u7801\u200b</p> <p></p> <p></p>"},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#_4","title":"\u914d\u7f6e","text":""},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#_5","title":"\u914d\u7f6e\u200b\u7f51\u7edc","text":""},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#vmnat","title":"vm\u200b\u5f00\u542f\u200bnat","text":"<p>\u200b\u504f\u597d\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u7f51\u7edc\u200b nat</p> <p></p> <pre><code>cd /Library/Preferences/VMware\\ Fusion/vmnet8\n</code></pre>"},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#natconf","title":"\u67e5\u770b\u200bnat.conf","text":"<p>\u200b\u7f51\u5173\u200b\u5730\u5740\u200b \u200b\u5b50\u7f51\u63a9\u7801\u200b</p> <pre><code>cat nat.conf\n</code></pre> <p></p>"},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#dhcpdconf","title":"\u67e5\u770b\u200bdhcpd.conf","text":"<pre><code>cat dhcpd.conf\n</code></pre>"},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#dns","title":"\u67e5\u770b\u200bdns","text":"<p>\u200b\u7cfb\u7edf\u200b\u504f\u597d\u200b\u8bbe\u7f6e\u200b -&gt; \u200b\u7f51\u7edc\u200b</p> <p></p>"},{"location":"util/mac/vm%E5%AE%89%E8%A3%85centos/#centos","title":"\u914d\u7f6e\u200bcentos","text":"<pre><code>cd /etc/sysconfig/network-scripts\n\n\n\nvim ifcfg-ens160\n</code></pre> <pre><code>TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\n# \u200b\u6539\u200b\nBOOTPROTO=static\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nNAME=ens160\nUUID=2c174a85-8cdc-4543-9e95-84bcf36e9d8d\nDEVICE=ens160\n# \u200b\u4e0b\u9762\u200b\u90fd\u200b\u6539\u200b\nONBOOT=yes\n# \u200b\u81ea\u5b9a\u4e49\u200b\u9759\u6001\u200bip \u200b\u9700\u8981\u200b\u5728\u200brange\u200b\u8303\u56f4\u200b\nIPADDR=172.16.110.129\n# \u200b\u7f51\u5173\u200b\u5730\u5740\u200b\nGATEWAY=172.16.110.2\n# \u200b\u5b50\u7f51\u63a9\u7801\u200b\nNETMASK=255.255.255.0\n# dns\u200b\u5730\u5740\u200b\nDNS1=192.168.199.1\n</code></pre> <pre><code>systemctl restart network\n</code></pre> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u6362\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5730\u65b9\u200b\u4e0a\u7f51\u200b\u7684\u8bdd\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d1\u73b0\u200b\u4f60\u200b\u7684\u200b\u865a\u62df\u673a\u200b\u6709\u200b\u4e0d\u901a\u200b\u4e86\u200b\uff0c\u200b\u90a3\u200b\u662f\u56e0\u4e3a\u200bDNS\u200b\u5730\u5740\u200b\u53d1\u751f\u200b\u4e86\u200b\u53d8\u5316\u200b\uff0c\u200b\u6b64\u65f6\u200b\u53ea\u200b\u9700\u8981\u200b\u518d\u6b21\u200b\u7f16\u8f91\u200bifcfg-enxxx\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7136\u540e\u200b\u52a0\u4e0a\u200b\u4f60\u200b\u73b0\u5728\u200b\u7f51\u7edc\u200b\u7684\u200bDNS\u200b\u5730\u5740\u200b\u5373\u53ef\u200b</p> <p>\u200b\u53c2\u8003\u200b</p> <p>https://www.cnblogs.com/itbsl/p/10998696.html#%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81ip</p>"},{"location":"util/win/windows/","title":"Windows","text":"<p>font-family: JetBrains Mono; </p>"},{"location":"util/win/windows/#word","title":"word","text":""},{"location":"util/win/windows/#word_1","title":"word","text":"<p>\u200b\u5220\u9664\u200bWord\u200b\u5206\u9875\u200b\u7b26\u200b</p> <p>\u200b\u5982\u679c\u200b\u7a7a\u767d\u9875\u200b\u5b58\u5728\u200b\u5206\u9875\u200b\u7b26\u200b\uff0c\u200b\u70b9\u51fb\u200b\u6587\u4e2d\u200b\u300c\u200b\u5c0f\u53cc\u200b\u7bad\u5934\u200b\u300d\uff0c\u200b\u6587\u6863\u200b\u5e95\u90e8\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u300c\u200b\u5206\u9875\u200b\u7b26\u200b\u300d\uff0c\u200b\u9009\u4e2d\u200b\u5b83\u200b\u6309\u200b\u300cDelete\u300d\u200b\u952e\u200b\u5373\u53ef\u200b\u5220\u9664\u200b\u3002</p> <p></p>"},{"location":"util/win/windows/#typora","title":"Typora","text":"<p>Mo Dark</p>"},{"location":"util/win/windows/#sublime","title":"sublime","text":""},{"location":"util/win/windows/#pac","title":"\u5b89\u88c5\u200bpac","text":""},{"location":"util/win/windows/#_1","title":"\u63d2\u4ef6","text":"<p>convert to utf-8</p> <p>chinese :\u200b\u4e2d\u6587\u200b</p> <p>pac</p> <p></p> <p>\u2460\u200b\u5b89\u88c5\u200bpackage controll</p> <p>\u2461\u200b\u8f93\u5165\u200bpac,\u200b\u9009\u62e9\u200binstall package controll\u200b\u56de\u8f66\u200b\u5373\u53ef\u200b</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"util/win/windows/#_2","title":"\u66f4\u6539\u200b\u63d2\u4ef6\u200b\u76ee\u5f55\u200b\u7684\u200b\u4f4d\u7f6e","text":"<p>\u200b\u539f\u200b\u76ee\u5f55\u200b\u5220\u9664\u200b\uff0c\u200b\u5728\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u5efa\u7acb\u200bData\u200b\u6587\u4ef6\u5939\u200b\u5373\u53ef\u200b\u3002</p> <pre><code>Member J2TeaM\nSingle User License\nEA7E-1011316\nD7DA350E 1B8B0760 972F8B60 F3E64036\nB9B4E234 F356F38F 0AD1E3B7 0E9C5FAD\nFA0A2ABE 25F65BD8 D51458E5 3923CE80\n87428428 79079A01 AA69F319 A1AF29A4\nA684C2DC 0B1583D4 19CBD290 217618CD\n5653E0A0 BACE3948 BB2EE45E 422D2C87\nDD9AF44B 99C49590 D2DBDEE1 75860FD2\n8C8BB2AD B2ECE5A4 EFC08AF2 25A9B864\n</code></pre>"},{"location":"util/win/windows/#img","title":"img","text":""},{"location":"util/win/windows/#fscapture","title":"fscapture","text":"<pre><code>FastStone Capture(FSCapture) \u200b\u6ce8\u518c\u7801\u200b\n2018\u200b\u5e74\u200b07\u200b\u6708\u200b18\u200b\u65e5\u200b 15:19:08 \u200b\u6b87\u200b\u83ab\u5fc6\u200b \u200b\u9605\u8bfb\u6570\u200b\uff1a12509\n\u200b\u4f01\u4e1a\u200b\u7248\u200b\u5e8f\u5217\u53f7\u200b\uff1a \nname\uff1abluman \nserial/\u200b\u5e8f\u5217\u53f7\u200b/\u200b\u6ce8\u518c\u7801\u200b\uff1aVPISCJULXUFGDDXYAUYF \n\nFastStone Capture \u200b\u6ce8\u518c\u7801\u200b \u200b\u5e8f\u5217\u53f7\u200b\uff1a \nname/\u200b\u7528\u6237\u540d\u200b\uff1aTEAM JiOO \nkey/\u200b\u6ce8\u518c\u7801\u200b\uff1aCPCWXRVCZW30HMKE8KQQUXW \n\nUSER NAME:TEAM_BRAiGHTLiNG_2007 \nCODE:XPNMF-ISDYF-LCSED-BPATU \n</code></pre> <p>\u200b\u63a8\u8350\u200b\u9009\u62e9\u200b\u7b2c\u4e00\u4e2a\u200b</p> <p>\u200b\u5b98\u7f51\u200b</p> <p>[\u200b\u4e2d\u200b\u6587\u5b98\u200b\u7f51\u200b](</p>"},{"location":"util/win/windows/#_3","title":"\u56fe\u5e8a","text":"<p>\u200b\u63a8\u8350\u200bpicgo</p> <p></p> <p></p>"},{"location":"util/win/windows/#_4","title":"\u89c6\u9891","text":""},{"location":"util/win/windows/#obs-studio","title":"OBS-STUDIO","text":""},{"location":"util/win/windows/#_5","title":"\u5b89\u88c5","text":"<p>\u200b\u5b98\u7f51\u200b</p> <p>\u200b\u4ece\u200b\u5b98\u7f51\u200b\u4e0b\u8f7d\u200b\uff0c next \u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b</p>"},{"location":"util/win/windows/#_6","title":"\u914d\u7f6e","text":""},{"location":"util/win/windows/#_7","title":"\u663e\u793a\u200b\u952e\u76d8\u200b\u9f20\u6807","text":"<p>\u200b\u63d2\u4ef6\u200b\u5b98\u7f51\u200b</p> <p>\u200b\u63d2\u4ef6\u200b\u4ed3\u5e93\u200b</p> <p></p> <p></p> <p>\u200b\u9009\u62e9\u200b\u5982\u56fe\u6240\u793a\u200b\u4e0b\u8f7d\u200b\u5373\u53ef\u200b</p> <p>\u200b\u4e0b\u8f7d\u200b\u89e3\u538b\u200b\uff0c\u200b\u89e3\u538b\u200b\u5f97\u5230\u200b\u5982\u4e0b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5c06\u200bplugin\u200b\u4e0b\u200b\u7684\u200b\u4fe9\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u653e\u5230\u200bobs\u200b\u7684\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u5373\u53ef\u200b\uff0c\u200b\u4e0d\u662f\u200bpulugin\u200b\u6587\u4ef6\u5939\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200bobs\u200b\u4e2d\u200b\u5982\u4e0b\u200b\u64cd\u4f5c\u200b</p> <p></p> <p>\u200b\u914d\u7f6e\u200b\uff0c presets\u200b\u6587\u4ef6\u5939\u200b\u4e2d\u200b\uff0c\u200b\u9009\u62e9\u200b\u56fe\u6807\u200b\u3001\u200b\u9009\u62e9\u200b\u914d\u7f6e\u200b</p> <p></p> <p></p> <p></p>"},{"location":"util/win/windows/#_8","title":"\u5173\u95ed\u200b\u9ea6\u514b\u98ce","text":""},{"location":"util/win/windows/#_9","title":"\u4f7f\u7528","text":""},{"location":"util/win/windows/#file","title":"file","text":""},{"location":"util/win/windows/#idm","title":"IDM","text":"<p>idm 6.38</p> <p>\u200b\u4e0b\u8f7d\u200b\u89e3\u538b\u200b\u7eff\u5316\u200b\u5373\u53ef\u200b</p> <p></p> <p></p>"},{"location":"util/win/windows/#iqbit","title":"iqbit","text":"<p>\u200b\u6267\u884c\u200b\u56fe\u4e2d\u200bxx.exe\u200b\u5b89\u88c5\u200b\uff0c\uff08\u200b\u8df3\u8fc7\u200b\uff09\u200b\u5b89\u88c5\u200b\u5b8c\u6210\u200b\u540e\u200b\u5173\u95ed\u200b\uff0c\u200b\u5c06\u200bcrack\u200b\u4e2d\u200b\u6240\u6709\u200b\u5f97\u200b\u6587\u4ef6\u200b\uff08\u200b\u4e0d\u662f\u200bcrack\u200b\u6587\u4ef6\u5939\u200b\uff09\u200b\u590d\u5236\u5230\u200biqbit\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b\u4e0b\u200b</p>"},{"location":"util/win/windows/#7zip","title":"7zip","text":"<p>\u200b\u89e3\u538b\u200b\u538b\u7f29\u200b</p>"},{"location":"util/win/windows/#pdf","title":"pdf","text":"<p>adobe edge \u200b\u9605\u8bfb\u200bpdf \u200b\u90fd\u200b\u4f1a\u200b\u90e8\u5206\u200b\u89e3\u6790\u200b\u5931\u8d25\u200b </p> <p>xodo\u200b\u590d\u5236\u200b\u5185\u5bb9\u200b\u65f6\u4f1a\u200b\u591a\u9009\u200b</p> <p>\u200b\u8c37\u6b4c\u200b\u6d4f\u89c8\u5668\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b</p>"},{"location":"util/win/windows/#utools","title":"utools","text":"<p>\u200b\u5185\u200b\u7f51\u200b\u7a7f\u900f\u200b</p> <p></p>"},{"location":"util/win/windows/#net","title":"net","text":""},{"location":"util/win/windows/#switchhost","title":"switchhost","text":"<p>\u200b\u5b98\u7f51\u200b</p>"},{"location":"util/win/windows/#bash","title":"bash","text":""},{"location":"util/win/windows/#cygwin-64","title":"cygwin 64","text":""},{"location":"util/win/windows/#_10","title":"\u5b89\u88c5","text":"<p>http://www.cygwin.com/</p> <p>1.\u200b\u70b9\u51fb\u200b\u4e0b\u56fe\u200b\u94fe\u63a5\u200b\uff0c\u200b\u4e0b\u8f7d\u5b89\u88c5\u200b\u5305\u200b\uff0c\u200b\u70b9\u51fb\u200b\u5b89\u88c5\u5305\u200b\u5373\u53ef\u200b</p> <p></p> <p></p> <p>2\u3001\u200b\u4e09\u79cd\u200b\u5b89\u88c5\u200b\u6a21\u5f0f\u200b \u2460Install from Internet\uff0c\u200b\u8fd9\u79cd\u200b\u6a21\u5f0f\u200b\u76f4\u63a5\u200b\u4ece\u200bInternet\u200b\u5b89\u88c5\u200b\uff0c\u200b\u9002\u5408\u200b\u7f51\u901f\u200b\u8f83\u200b\u5feb\u200b\u7684\u200b\u60c5\u51b5\u200b\uff1b \u2461Download Without Installing\uff0c\u200b\u8fd9\u79cd\u200b\u6a21\u5f0f\u200b\u53ea\u200b\u4ece\u200b\u7f51\u4e0a\u200b\u4e0b\u8f7d\u200bCygwin\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u5305\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u5b89\u88c5\u200b\uff1b \u2462Install from Local Directory\uff0c\u200b\u8fd9\u79cd\u200b\u6a21\u5f0f\u200b\u4e0e\u200b\u4e0a\u9762\u200b\u7b2c\u4e8c\u79cd\u200b\u6a21\u5f0f\u200b\u5bf9\u5e94\u200b\uff0c\u200b\u5f53\u200b\u4f60\u200b\u7684\u200bCygwin\u200b\u7ec4\u4ef6\u200b\u5305\u200b\u5df2\u7ecf\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6b64\u200b\u6a21\u5f0f\u200b\u4ece\u200b\u672c\u5730\u200b\u5b89\u88c5\u200bCygwin</p> <p>\u200b\u6211\u4eec\u200b\u9009\u62e9\u200b\u7b2c\u4e00\u79cd\u200b</p> <p></p> <p>3\u3001\u200b\u9009\u62e9\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b</p> <p>\u200b\u8f6f\u4ef6\u200b\u5b89\u88c5\u200b\u7684\u200b\u4f4d\u7f6e\u200b</p> <p></p> <p>\u200b\u7ec4\u4ef6\u200b\u5b89\u88c5\u200b\u7684\u200b\u4f4d\u7f6e\u200b</p> <p></p> <p>4.\u200b\u4ee3\u7406\u200b</p> <p>\u2460Use System Proxy Settings \u200b\u4f7f\u7528\u200b\u7cfb\u7edf\u200b\u7684\u200b\u4ee3\u7406\u200b\u8bbe\u7f6e\u200b \u2461Direct Connection \u200b\u4e00\u822c\u200b\u591a\u6570\u200b\u7528\u6237\u200b\u90fd\u200b\u662f\u200b\u8fd9\u79cd\u200b\u76f4\u63a5\u200b\u8fde\u63a5\u200b\u7684\u200b\u7f51\u7edc\u200b\uff0c\u200b\u6240\u4ee5\u200b\u90fd\u200b\u662f\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u8bbe\u7f6e\u200b\u5373\u53ef\u200b \u2462Use HTTP/FTP Proxy \u200b\u4f7f\u7528\u200bHTTP\u200b\u6216\u200bFTP\u200b\u7c7b\u578b\u200b\u7684\u200b\u4ee3\u7406\u200b\u3002\u200b\u5982\u679c\u200b\u6709\u200b\u9700\u8981\u200b\uff0c\u200b\u81ea\u5df1\u200b\u9009\u62e9\u200b\u6b64\u9879\u200b\u540e\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4ee3\u7406\u200b\u5730\u5740\u200b\u548c\u200b\u7aef\u53e3\u200b\uff0c\u200b\u5373\u53ef\u200b</p> <p></p> <p>5\u3001\u200b\u9009\u62e9\u200b\u4e0b\u8f7d\u200b\u7ad9\u70b9\u200b \u200b\u4e0d\u540c\u200b\u7684\u200b\u955c\u50cf\u200b\u5b58\u653e\u200b\u4e86\u200b\u4e0d\u540c\u200b\u7684\u200b\u5305\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u83b7\u5f97\u200b\u6700\u5feb\u200b\u7684\u200b\u4e0b\u8f7d\u901f\u5ea6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b\u7f51\u6613\u200b\u5f00\u6e90\u200b\u955c\u50cf\u200bhttp://mirrors.163.com/cygwin/ \u200b\u6216\u8005\u200b \u200b\u963f\u91cc\u200b\u4e91\u200b\u955c\u50cf\u200bhttp://mirrors.aliyun.com/cygwin/</p> <p></p> <p>6.\u200b\u7ec4\u4ef6\u200b\u7684\u200b\u9009\u62e9\u200b</p> <p>\u200b\u6b64\u5904\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u5b89\u88c5\u200bCygwin\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5c31\u662f\u200b\u5b89\u88c5\u200b\u5404\u79cd\u5404\u6837\u200b\u7684\u200b\u6a21\u5757\u200b\u800c\u5df2\u200b\u3002\u200b\u6700\u200b\u6838\u5fc3\u200b\u7684\u200b\uff0c\u200b\u8bb0\u4f4f\u200b\u4e00\u5b9a\u200b\u8981\u200b\u5b89\u88c5\u200bDevel\u200b\u8fd9\u4e2a\u200b\u90e8\u5206\u200b\u7684\u200b\u6a21\u5757\u200b\uff0c\u200b\u5176\u4e2d\u200b\u5305\u542b\u200b\u4e86\u200b\u5404\u79cd\u200b\u5f00\u53d1\u200b\u6240\u7528\u200b\u5230\u200b\u7684\u200b\u5de5\u5177\u200b\u6216\u200b\u6a21\u5757\u200b</p> <p>\u200b\u5c55\u5f00\u200bdevel</p> <p>\u200b\u4ece\u4e2d\u200b\u9009\u62e9\u200bbinutils\u3001 gcc \u3001mingw \u3001gdb ,make\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff0c\u200b\u627e\u5230\u200b\u4ee5\u4e0b\u200b\u9009\u9879\u200b\uff0c\u200b\u70b9\u51fb\u200b\u540e\u8fb9\u200b\u7684\u200bskip\uff0c\u200b\u4f7f\u200b\u5176\u200b\u53d8\u4e3a\u200b\u7248\u672c\u53f7\u200b\u5373\u53ef\u200b</p> <p>gcc-core\u3001gcc-g++\u3001make\u3001gdb\u3001binutils</p> <p></p> <p></p> <p></p> <p></p> <p>\u200b\u70b9\u51fb\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u5b89\u88c5\u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"util/win/windows/#_11","title":"\u68c0\u9a8c","text":"<p>\u200b\u68c0\u67e5\u200b\u662f\u5426\u200b\u5b89\u88c5\u200b\u6210\u529f\u200b</p> <pre><code>cygcheck -c cygwin\n</code></pre>"},{"location":"util/win/windows/#_12","title":"\u6dfb\u52a0\u200b\u53f3\u952e","text":"<p>Step 2 \u200b\u51c6\u5907\u200b\u542f\u52a8\u200b\u811a\u672c\u200b</p> <ul> <li>\u200b\u4ee5\u200b\u6211\u200b\u7684\u200b\u5b89\u88c5\u200b\u76ee\u5f55\u200b(d:\\cygwin)\u200b\u4e3a\u4f8b\u200b</li> <li>\u200b\u5728\u200bd:\\cygwin\\bin\\\u200b\u4e0b\u200b\u51c6\u5907\u200b\u4e00\u4e2a\u200b\u542f\u52a8\u200b\u811a\u672c\u200b\uff0c\u200b\u547d\u540d\u200b\u4e3a\u200bcygwin.bat</li> <li>\u200b\u5185\u5bb9\u200b\u4e3a\u200b\uff1a</li> </ul> <pre><code>@echo off\nset _WindowsDIR=%*\nD:\\cygwin\\bin\\mintty.exe -i /Cygwin-Terminal.ico -\n</code></pre> <p>\u200b\u5982\u679c\u200b\u51fa\u73b0\u200b\u6700\u540e\u200b\u51fa\u73b0\u200b\u95ea\u9000\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u628a\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u6539\u4e3a\u200b\"D:\\cygwin\\bin\\mintty.exe\" -i /Cygwin-Terminal.ico -</p> <p>Step 3 \u200b\u6dfb\u52a0\u200b\u53f3\u952e\u200b\u83dc\u5355\u200b</p> <p>\u200b\u6253\u5f00\u200b\u6ce8\u518c\u8868\u200b\u7f16\u8f91\u5668\u200b\uff0c\u200b\u5728\u200b\u8ba1\u7b97\u673a\u200b\\HKEY_CLASSES_ROOT\\Directory\\Background\\shell\u200b\u4e0b\u200b\u65b0\u5efa\u200b\u9879\u200bCygWin\uff0c\u200b\u5c06\u200b\u5176\u200b\u9ed8\u8ba4\u200b\u5b57\u7b26\u4e32\u200b\u503c\u200b\u6539\u4e3a\u200bCygWin Here(\u200b\u53f3\u952e\u200b\u83dc\u5355\u200b\u663e\u793a\u200b\u7684\u200b\u5185\u5bb9\u200b) \u200b\u7136\u540e\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u503c\u200b\uff0c\u200b\u540d\u79f0\u200b\u6539\u4e3a\u200bIcon\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u503c\u200b\u6539\u4e3a\u200bD:\\ProgramFiles\\cygwin64\\Cygwin.ico \u200b\u4e4b\u540e\u200b\u4e3a\u200bCygWin\u200b\u6dfb\u52a0\u200b\u5b50\u9879\u200bcommand\uff0c\u200b\u5c06\u200b\u9ed8\u8ba4\u200b\u5b57\u7b26\u4e32\u200b\u503c\u200b\u6539\u4e3a\u200bD:\\ProgramFiles\\cygwin64\\bin\\cygwin.bat %V \u200b\u5982\u56fe\u200b</p> <p></p> <ul> <li>Step 4 Cygwin\u200b\u83b7\u53d6\u200b\u73af\u5883\u53d8\u91cf\u200b</li> <li>\u200b\u7f16\u8f91\u200bbash_profile\uff1avim ~/.bash_profile</li> <li>\u200b\u5728\u200b\u6700\u540e\u200b\u6dfb\u52a0\u200b\u5185\u5bb9\u200b:</li> </ul> <pre><code>if [[ $_WindowsDIR != \"\" ]]\nthen\n    TMPDIR=${_WindowsDIR//\\\\//}\n    unset _WindowsDIR\n    cd \"$TMPDIR\"\nfi\n</code></pre>"},{"location":"util/win/windows/#jetbrainscygwin","title":"jetBrains\u200b\u4f7f\u7528\u200bcygwin","text":""},{"location":"util/win/windows/#_13","title":"\u7a97\u53e3\u200b\u6700\u5927\u5316","text":"<p>\u200b\u5e94\u7528\u200b\u5c5e\u6027\u200b\u4e2d\u200b\u9009\u62e9\u200b</p>"},{"location":"util/win/windows/#_14","title":"\u6570\u636e\u5e93","text":""},{"location":"util/win/windows/#pdman","title":"pdman","text":"<p>\u200b\u6570\u636e\u5e93\u200b\u5efa\u6a21\u200b\u5de5\u5177\u200b</p> <p>pdman</p>"},{"location":"util/win/windows/#_15","title":"\u9f20\u6807","text":""},{"location":"util/win/windows/#master2s","title":"master2s","text":"<p>\u200b\u957f\u200b\u6309\u200b\u5207\u6362\u200b\u6309\u94ae\u200b\u7b49\u200b\u770b\u5230\u200b\u5b83\u200b\u95ea\u70c1\u200b\u5373\u53ef\u200b\u91cd\u7f6e\u200b\u8fde\u63a5\u200b</p>"},{"location":"web/gin/base/","title":"base","text":"<ol> <li> <p>form-data \u200b\u5c31\u662f\u200b http \u200b\u8bf7\u6c42\u200b\u4e2d\u200b\u7684\u200b multipart/form-data, \u200b\u5b83\u4f1a\u200b\u5c06\u200b\u8868\u5355\u200b\u7684\u200b\u6570\u636e\u5904\u7406\u200b\u4e3a\u200b\u4e00\u6761\u200b\u6d88\u606f\u200b\uff0c\u200b\u4ee5\u200b\u6807\u7b7e\u200b\u4e3a\u200b\u5355\u5143\u200b\uff0c\u200b\u7528\u200b\u5206\u9694\u7b26\u200b\u5206\u5f00\u200b\u3002\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u3002\u200b\u5f53\u200b\u4e0a\u4f20\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u662f\u200b\u6587\u4ef6\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u6709\u200b Content-Type \u200b\u6765\u200b\u8bf4\u660e\u200b\u6587\u4ef6\u7c7b\u578b\u200b\uff1bcontent-disposition\uff0c\u200b\u7528\u6765\u200b\u8bf4\u660e\u200b\u5b57\u6bb5\u200b\u7684\u200b\u4e00\u4e9b\u200b\u4fe1\u606f\u200b\uff1b \u200b\u7531\u4e8e\u200b\u6709\u200b boundary \u200b\u9694\u79bb\u200b\uff0c\u200b\u6240\u4ee5\u200b multipart/form-data \u200b\u65e2\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u5b83\u200b\u91c7\u7528\u200b\u4e86\u200b\u952e\u503c\u200b\u5bf9\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u591a\u4e2a\u200b\u6587\u4ef6\u200b\u3002</p> </li> <li> <p>x-www-form-urlencoded \u200b\u5c31\u662f\u200b application/x-www-from-urlencoded, \u200b\u4f1a\u200b\u5c06\u200b\u8868\u5355\u200b\u5185\u200b\u7684\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff0cname=java&amp;age = 23</p> </li> <li> <p>raw \u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u4efb\u610f\u200b\u683c\u5f0f\u200b\u7684\u200b\u6587\u672c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b text\u3001json\u3001xml\u3001html \u200b\u7b49\u200b</p> </li> <li> <p>binary \u200b\u76f8\u5f53\u4e8e\u200b Content-Type:application/octet-stream, \u200b\u4ece\u200b\u5b57\u9762\u200b\u610f\u601d\u200b\u5f97\u77e5\u200b\uff0c\u200b\u53ea\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\uff0c\u200b\u901a\u5e38\u200b\u7528\u6765\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7531\u4e8e\u200b\u6ca1\u6709\u200b\u952e\u503c\u200b\uff0c\u200b\u6240\u4ee5\u200b\uff0c\u200b\u4e00\u6b21\u200b\u53ea\u80fd\u200b\u4e0a\u4f20\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u3002</p> </li> </ol> <p>multipart/form-data \u200b\u4e0e\u200b x-www-form-urlencoded \u200b\u533a\u522b\u200b    multipart/form-data\uff1a\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u7b49\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e0a\u4f20\u200b\u8868\u5355\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u53ea\u662f\u200b\u6700\u540e\u200b\u4f1a\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u4e00\u6761\u200b\u4fe1\u606f\u200b\uff1b    x-www-form-urlencoded\uff1a\u200b\u53ea\u80fd\u200b\u4e0a\u4f20\u200b\u952e\u503c\u200b\u5bf9\u200b\uff0c\u200b\u5e76\u4e14\u200b\u952e\u503c\u200b\u5bf9\u200b\u90fd\u200b\u662f\u200b\u95f4\u9694\u200b\u5206\u5f00\u200b\u7684\u200b\u3002</p>"}]}